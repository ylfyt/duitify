var o_=Object.defineProperty;var a_=(t,e,n)=>e in t?o_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var W=(t,e,n)=>a_(t,typeof e!="symbol"?e+"":e,n);function j0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function E0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function l_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var C0={exports:{}},Pc={},P0={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var la=Symbol.for("react.element"),c_=Symbol.for("react.portal"),u_=Symbol.for("react.fragment"),d_=Symbol.for("react.strict_mode"),h_=Symbol.for("react.profiler"),f_=Symbol.for("react.provider"),p_=Symbol.for("react.context"),g_=Symbol.for("react.forward_ref"),m_=Symbol.for("react.suspense"),y_=Symbol.for("react.memo"),v_=Symbol.for("react.lazy"),mp=Symbol.iterator;function x_(t){return t===null||typeof t!="object"?null:(t=mp&&t[mp]||t["@@iterator"],typeof t=="function"?t:null)}var M0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T0=Object.assign,R0={};function Ss(t,e,n){this.props=t,this.context=e,this.refs=R0,this.updater=n||M0}Ss.prototype.isReactComponent={};Ss.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ss.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function L0(){}L0.prototype=Ss.prototype;function Mh(t,e,n){this.props=t,this.context=e,this.refs=R0,this.updater=n||M0}var Th=Mh.prototype=new L0;Th.constructor=Mh;T0(Th,Ss.prototype);Th.isPureReactComponent=!0;var yp=Array.isArray,O0=Object.prototype.hasOwnProperty,Rh={current:null},D0={key:!0,ref:!0,__self:!0,__source:!0};function N0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)O0.call(e,r)&&!D0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:la,type:t,key:s,ref:o,props:i,_owner:Rh.current}}function __(t,e){return{$$typeof:la,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Lh(t){return typeof t=="object"&&t!==null&&t.$$typeof===la}function w_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vp=/\/+/g;function du(t,e){return typeof t=="object"&&t!==null&&t.key!=null?w_(""+t.key):e.toString(36)}function xl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case la:case c_:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+du(o,0):r,yp(i)?(n="",t!=null&&(n=t.replace(vp,"$&/")+"/"),xl(i,e,n,"",function(c){return c})):i!=null&&(Lh(i)&&(i=__(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(vp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",yp(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+du(s,a);o+=xl(s,e,n,l,i)}else if(l=x_(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+du(s,a++),o+=xl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function La(t,e,n){if(t==null)return t;var r=[],i=0;return xl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function b_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vt={current:null},_l={transition:null},k_={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:_l,ReactCurrentOwner:Rh};function A0(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:La,forEach:function(t,e,n){La(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return La(t,function(){e++}),e},toArray:function(t){return La(t,function(e){return e})||[]},only:function(t){if(!Lh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=Ss;ae.Fragment=u_;ae.Profiler=h_;ae.PureComponent=Mh;ae.StrictMode=d_;ae.Suspense=m_;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k_;ae.act=A0;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=T0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Rh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)O0.call(e,l)&&!D0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:la,type:t.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:p_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:f_,_context:t},t.Consumer=t};ae.createElement=N0;ae.createFactory=function(t){var e=N0.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:g_,render:t}};ae.isValidElement=Lh;ae.lazy=function(t){return{$$typeof:v_,_payload:{_status:-1,_result:t},_init:b_}};ae.memo=function(t,e){return{$$typeof:y_,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=_l.transition;_l.transition={};try{t()}finally{_l.transition=e}};ae.unstable_act=A0;ae.useCallback=function(t,e){return vt.current.useCallback(t,e)};ae.useContext=function(t){return vt.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return vt.current.useDeferredValue(t)};ae.useEffect=function(t,e){return vt.current.useEffect(t,e)};ae.useId=function(){return vt.current.useId()};ae.useImperativeHandle=function(t,e,n){return vt.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return vt.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return vt.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return vt.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return vt.current.useReducer(t,e,n)};ae.useRef=function(t){return vt.current.useRef(t)};ae.useState=function(t){return vt.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return vt.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return vt.current.useTransition()};ae.version="18.3.1";P0.exports=ae;var k=P0.exports;const ge=E0(k),S_=j0({__proto__:null,default:ge},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_=k,E_=Symbol.for("react.element"),C_=Symbol.for("react.fragment"),P_=Object.prototype.hasOwnProperty,M_=j_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T_={key:!0,ref:!0,__self:!0,__source:!0};function I0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)P_.call(e,r)&&!T_.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:E_,type:t,key:s,ref:o,props:i,_owner:M_.current}}Pc.Fragment=C_;Pc.jsx=I0;Pc.jsxs=I0;C0.exports=Pc;var h=C0.exports,cd={},F0={exports:{}},Ut={},z0={exports:{}},$0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,O){var F=A.length;A.push(O);e:for(;0<F;){var Q=F-1>>>1,X=A[Q];if(0<i(X,O))A[Q]=O,A[F]=X,F=Q;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var O=A[0],F=A.pop();if(F!==O){A[0]=F;e:for(var Q=0,X=A.length,oe=X>>>1;Q<oe;){var ce=2*(Q+1)-1,ke=A[ce],ue=ce+1,Je=A[ue];if(0>i(ke,F))ue<X&&0>i(Je,ke)?(A[Q]=Je,A[ue]=F,Q=ue):(A[Q]=ke,A[ce]=F,Q=ce);else if(ue<X&&0>i(Je,F))A[Q]=Je,A[ue]=F,Q=ue;else break e}}return O}function i(A,O){var F=A.sortIndex-O.sortIndex;return F!==0?F:A.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(A){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=A)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function w(A){if(y=!1,_(A),!v)if(n(l)!==null)v=!0,ee(S);else{var O=n(c);O!==null&&ne(w,O.startTime-A)}}function S(A,O){v=!1,y&&(y=!1,p(b),b=-1),m=!0;var F=f;try{for(_(O),d=n(l);d!==null&&(!(d.expirationTime>O)||A&&!N());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,f=d.priorityLevel;var X=Q(d.expirationTime<=O);O=t.unstable_now(),typeof X=="function"?d.callback=X:d===n(l)&&r(l),_(O)}else r(l);d=n(l)}if(d!==null)var oe=!0;else{var ce=n(c);ce!==null&&ne(w,ce.startTime-O),oe=!1}return oe}finally{d=null,f=F,m=!1}}var E=!1,P=null,b=-1,M=5,L=-1;function N(){return!(t.unstable_now()-L<M)}function R(){if(P!==null){var A=t.unstable_now();L=A;var O=!0;try{O=P(!0,A)}finally{O?Y():(E=!1,P=null)}}else E=!1}var Y;if(typeof g=="function")Y=function(){g(R)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,J=q.port2;q.port1.onmessage=R,Y=function(){J.postMessage(null)}}else Y=function(){x(R,0)};function ee(A){P=A,E||(E=!0,Y())}function ne(A,O){b=x(function(){A(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ee(S))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var F=f;f=O;try{return A()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,O){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var F=f;f=A;try{return O()}finally{f=F}},t.unstable_scheduleCallback=function(A,O,F){var Q=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Q+F:Q):F=Q,A){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=F+X,A={id:u++,callback:O,priorityLevel:A,startTime:F,expirationTime:X,sortIndex:-1},F>Q?(A.sortIndex=F,e(c,A),n(l)===null&&A===n(c)&&(y?(p(b),b=-1):y=!0,ne(w,F-Q))):(A.sortIndex=X,e(l,A),v||m||(v=!0,ee(S))),A},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(A){var O=f;return function(){var F=f;f=O;try{return A.apply(this,arguments)}finally{f=F}}}})($0);z0.exports=$0;var R_=z0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_=k,Bt=R_;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B0=new Set,Mo={};function xi(t,e){ds(t,e),ds(t+"Capture",e)}function ds(t,e){for(Mo[t]=e,t=0;t<e.length;t++)B0.add(e[t])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ud=Object.prototype.hasOwnProperty,O_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xp={},_p={};function D_(t){return ud.call(_p,t)?!0:ud.call(xp,t)?!1:O_.test(t)?_p[t]=!0:(xp[t]=!0,!1)}function N_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function A_(t,e,n,r){if(e===null||typeof e>"u"||N_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){st[t]=new xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){st[t]=new xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){st[t]=new xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){st[t]=new xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Oh=/[\-:]([a-z])/g;function Dh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Oh,Dh);st[e]=new xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Oh,Dh);st[e]=new xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Oh,Dh);st[e]=new xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){st[t]=new xt(t,1,!1,t.toLowerCase(),null,!1,!1)});st.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){st[t]=new xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nh(t,e,n,r){var i=st.hasOwnProperty(e)?st[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(A_(e,n,i,r)&&(n=null),r||i===null?D_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kn=L_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oa=Symbol.for("react.element"),Ii=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),Ah=Symbol.for("react.strict_mode"),dd=Symbol.for("react.profiler"),U0=Symbol.for("react.provider"),H0=Symbol.for("react.context"),Ih=Symbol.for("react.forward_ref"),hd=Symbol.for("react.suspense"),fd=Symbol.for("react.suspense_list"),Fh=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),W0=Symbol.for("react.offscreen"),wp=Symbol.iterator;function Ls(t){return t===null||typeof t!="object"?null:(t=wp&&t[wp]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,hu;function Gs(t){if(hu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hu=e&&e[1]||""}return`
`+hu+t}var fu=!1;function pu(t,e){if(!t||fu)return"";fu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{fu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gs(t):""}function I_(t){switch(t.tag){case 5:return Gs(t.type);case 16:return Gs("Lazy");case 13:return Gs("Suspense");case 19:return Gs("SuspenseList");case 0:case 2:case 15:return t=pu(t.type,!1),t;case 11:return t=pu(t.type.render,!1),t;case 1:return t=pu(t.type,!0),t;default:return""}}function pd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fi:return"Fragment";case Ii:return"Portal";case dd:return"Profiler";case Ah:return"StrictMode";case hd:return"Suspense";case fd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case H0:return(t.displayName||"Context")+".Consumer";case U0:return(t._context.displayName||"Context")+".Provider";case Ih:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fh:return e=t.displayName||null,e!==null?e:pd(t.type)||"Memo";case sr:e=t._payload,t=t._init;try{return pd(t(e))}catch{}}return null}function F_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pd(e);case 8:return e===Ah?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function V0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function z_(t){var e=V0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Da(t){t._valueTracker||(t._valueTracker=z_(t))}function Y0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=V0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Il(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gd(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function K0(t,e){e=e.checked,e!=null&&Nh(t,"checked",e,!1)}function md(t,e){K0(t,e);var n=Cr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yd(t,e.type,n):e.hasOwnProperty("defaultValue")&&yd(t,e.type,Cr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yd(t,e,n){(e!=="number"||Il(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Js=Array.isArray;function Zi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(Js(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cr(n)}}function q0(t,e){var n=Cr(e.value),r=Cr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function X0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?X0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Na,G0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Na.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function To(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$_=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(t){$_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ao[e]=ao[t]})});function J0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ao.hasOwnProperty(t)&&ao[t]?(""+e).trim():e+"px"}function Q0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=J0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var B_=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _d(t,e){if(e){if(B_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function wd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bd=null;function zh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kd=null,es=null,ts=null;function Ep(t){if(t=da(t)){if(typeof kd!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Oc(e),kd(t.stateNode,t.type,e))}}function Z0(t){es?ts?ts.push(t):ts=[t]:es=t}function ey(){if(es){var t=es,e=ts;if(ts=es=null,Ep(t),e)for(t=0;t<e.length;t++)Ep(e[t])}}function ty(t,e){return t(e)}function ny(){}var gu=!1;function ry(t,e,n){if(gu)return t(e,n);gu=!0;try{return ty(t,e,n)}finally{gu=!1,(es!==null||ts!==null)&&(ny(),ey())}}function Ro(t,e){var n=t.stateNode;if(n===null)return null;var r=Oc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var Sd=!1;if(Bn)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){Sd=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{Sd=!1}function U_(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var lo=!1,Fl=null,zl=!1,jd=null,H_={onError:function(t){lo=!0,Fl=t}};function W_(t,e,n,r,i,s,o,a,l){lo=!1,Fl=null,U_.apply(H_,arguments)}function V_(t,e,n,r,i,s,o,a,l){if(W_.apply(this,arguments),lo){if(lo){var c=Fl;lo=!1,Fl=null}else throw Error(I(198));zl||(zl=!0,jd=c)}}function _i(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cp(t){if(_i(t)!==t)throw Error(I(188))}function Y_(t){var e=t.alternate;if(!e){if(e=_i(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Cp(i),t;if(s===r)return Cp(i),e;s=s.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function sy(t){return t=Y_(t),t!==null?oy(t):null}function oy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oy(t);if(e!==null)return e;t=t.sibling}return null}var ay=Bt.unstable_scheduleCallback,Pp=Bt.unstable_cancelCallback,K_=Bt.unstable_shouldYield,q_=Bt.unstable_requestPaint,He=Bt.unstable_now,X_=Bt.unstable_getCurrentPriorityLevel,$h=Bt.unstable_ImmediatePriority,ly=Bt.unstable_UserBlockingPriority,$l=Bt.unstable_NormalPriority,G_=Bt.unstable_LowPriority,cy=Bt.unstable_IdlePriority,Mc=null,_n=null;function J_(t){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Mc,t,void 0,(t.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:ew,Q_=Math.log,Z_=Math.LN2;function ew(t){return t>>>=0,t===0?32:31-(Q_(t)/Z_|0)|0}var Aa=64,Ia=4194304;function Qs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Qs(a):(s&=o,s!==0&&(r=Qs(s)))}else o=n&~i,o!==0?r=Qs(o):s!==0&&(r=Qs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ln(e),i=1<<n,r|=t[n],e&=~i;return r}function tw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ln(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=tw(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ed(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uy(){var t=Aa;return Aa<<=1,!(Aa&4194240)&&(Aa=64),t}function mu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ca(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ln(e),t[e]=n}function rw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ln(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Bh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ln(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function dy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hy,Uh,fy,py,gy,Cd=!1,Fa=[],vr=null,xr=null,_r=null,Lo=new Map,Oo=new Map,lr=[],iw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mp(t,e){switch(t){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Lo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(e.pointerId)}}function Ds(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=da(e),e!==null&&Uh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sw(t,e,n,r,i){switch(e){case"focusin":return vr=Ds(vr,t,e,n,r,i),!0;case"dragenter":return xr=Ds(xr,t,e,n,r,i),!0;case"mouseover":return _r=Ds(_r,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Lo.set(s,Ds(Lo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Oo.set(s,Ds(Oo.get(s)||null,t,e,n,r,i)),!0}return!1}function my(t){var e=ti(t.target);if(e!==null){var n=_i(e);if(n!==null){if(e=n.tag,e===13){if(e=iy(n),e!==null){t.blockedOn=e,gy(t.priority,function(){fy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bd=r,n.target.dispatchEvent(r),bd=null}else return e=da(n),e!==null&&Uh(e),t.blockedOn=n,!1;e.shift()}return!0}function Tp(t,e,n){wl(t)&&n.delete(e)}function ow(){Cd=!1,vr!==null&&wl(vr)&&(vr=null),xr!==null&&wl(xr)&&(xr=null),_r!==null&&wl(_r)&&(_r=null),Lo.forEach(Tp),Oo.forEach(Tp)}function Ns(t,e){t.blockedOn===e&&(t.blockedOn=null,Cd||(Cd=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,ow)))}function Do(t){function e(i){return Ns(i,t)}if(0<Fa.length){Ns(Fa[0],t);for(var n=1;n<Fa.length;n++){var r=Fa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vr!==null&&Ns(vr,t),xr!==null&&Ns(xr,t),_r!==null&&Ns(_r,t),Lo.forEach(e),Oo.forEach(e),n=0;n<lr.length;n++)r=lr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<lr.length&&(n=lr[0],n.blockedOn===null);)my(n),n.blockedOn===null&&lr.shift()}var ns=Kn.ReactCurrentBatchConfig,Ul=!0;function aw(t,e,n,r){var i=_e,s=ns.transition;ns.transition=null;try{_e=1,Hh(t,e,n,r)}finally{_e=i,ns.transition=s}}function lw(t,e,n,r){var i=_e,s=ns.transition;ns.transition=null;try{_e=4,Hh(t,e,n,r)}finally{_e=i,ns.transition=s}}function Hh(t,e,n,r){if(Ul){var i=Pd(t,e,n,r);if(i===null)Eu(t,e,r,Hl,n),Mp(t,r);else if(sw(i,t,e,n,r))r.stopPropagation();else if(Mp(t,r),e&4&&-1<iw.indexOf(t)){for(;i!==null;){var s=da(i);if(s!==null&&hy(s),s=Pd(t,e,n,r),s===null&&Eu(t,e,r,Hl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Eu(t,e,r,null,n)}}var Hl=null;function Pd(t,e,n,r){if(Hl=null,t=zh(r),t=ti(t),t!==null)if(e=_i(t),e===null)t=null;else if(n=e.tag,n===13){if(t=iy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hl=t,null}function yy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X_()){case $h:return 1;case ly:return 4;case $l:case G_:return 16;case cy:return 536870912;default:return 16}default:return 16}}var dr=null,Wh=null,bl=null;function vy(){if(bl)return bl;var t,e=Wh,n=e.length,r,i="value"in dr?dr.value:dr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return bl=i.slice(t,1<r?1-r:void 0)}function kl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function za(){return!0}function Rp(){return!1}function Ht(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?za:Rp,this.isPropagationStopped=Rp,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),e}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vh=Ht(js),ua=Oe({},js,{view:0,detail:0}),cw=Ht(ua),yu,vu,As,Tc=Oe({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==As&&(As&&t.type==="mousemove"?(yu=t.screenX-As.screenX,vu=t.screenY-As.screenY):vu=yu=0,As=t),yu)},movementY:function(t){return"movementY"in t?t.movementY:vu}}),Lp=Ht(Tc),uw=Oe({},Tc,{dataTransfer:0}),dw=Ht(uw),hw=Oe({},ua,{relatedTarget:0}),xu=Ht(hw),fw=Oe({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),pw=Ht(fw),gw=Oe({},js,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mw=Ht(gw),yw=Oe({},js,{data:0}),Op=Ht(yw),vw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_w={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ww(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_w[t])?!!e[t]:!1}function Yh(){return ww}var bw=Oe({},ua,{key:function(t){if(t.key){var e=vw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yh,charCode:function(t){return t.type==="keypress"?kl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kw=Ht(bw),Sw=Oe({},Tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dp=Ht(Sw),jw=Oe({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yh}),Ew=Ht(jw),Cw=Oe({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pw=Ht(Cw),Mw=Oe({},Tc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Tw=Ht(Mw),Rw=[9,13,27,32],Kh=Bn&&"CompositionEvent"in window,co=null;Bn&&"documentMode"in document&&(co=document.documentMode);var Lw=Bn&&"TextEvent"in window&&!co,xy=Bn&&(!Kh||co&&8<co&&11>=co),Np=" ",Ap=!1;function _y(t,e){switch(t){case"keyup":return Rw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zi=!1;function Ow(t,e){switch(t){case"compositionend":return wy(e);case"keypress":return e.which!==32?null:(Ap=!0,Np);case"textInput":return t=e.data,t===Np&&Ap?null:t;default:return null}}function Dw(t,e){if(zi)return t==="compositionend"||!Kh&&_y(t,e)?(t=vy(),bl=Wh=dr=null,zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xy&&e.locale!=="ko"?null:e.data;default:return null}}var Nw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ip(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Nw[t.type]:e==="textarea"}function by(t,e,n,r){Z0(r),e=Wl(e,"onChange"),0<e.length&&(n=new Vh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uo=null,No=null;function Aw(t){Oy(t,0)}function Rc(t){var e=Ui(t);if(Y0(e))return t}function Iw(t,e){if(t==="change")return e}var ky=!1;if(Bn){var _u;if(Bn){var wu="oninput"in document;if(!wu){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),wu=typeof Fp.oninput=="function"}_u=wu}else _u=!1;ky=_u&&(!document.documentMode||9<document.documentMode)}function zp(){uo&&(uo.detachEvent("onpropertychange",Sy),No=uo=null)}function Sy(t){if(t.propertyName==="value"&&Rc(No)){var e=[];by(e,No,t,zh(t)),ry(Aw,e)}}function Fw(t,e,n){t==="focusin"?(zp(),uo=e,No=n,uo.attachEvent("onpropertychange",Sy)):t==="focusout"&&zp()}function zw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rc(No)}function $w(t,e){if(t==="click")return Rc(e)}function Bw(t,e){if(t==="input"||t==="change")return Rc(e)}function Uw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hn=typeof Object.is=="function"?Object.is:Uw;function Ao(t,e){if(hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ud.call(e,i)||!hn(t[i],e[i]))return!1}return!0}function $p(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bp(t,e){var n=$p(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$p(n)}}function jy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ey(){for(var t=window,e=Il();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Il(t.document)}return e}function qh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Hw(t){var e=Ey(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jy(n.ownerDocument.documentElement,n)){if(r!==null&&qh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Bp(n,s);var o=Bp(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ww=Bn&&"documentMode"in document&&11>=document.documentMode,$i=null,Md=null,ho=null,Td=!1;function Up(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Td||$i==null||$i!==Il(r)||(r=$i,"selectionStart"in r&&qh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ho&&Ao(ho,r)||(ho=r,r=Wl(Md,"onSelect"),0<r.length&&(e=new Vh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$i)))}function $a(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bi={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionend:$a("Transition","TransitionEnd")},bu={},Cy={};Bn&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Lc(t){if(bu[t])return bu[t];if(!Bi[t])return t;var e=Bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Cy)return bu[t]=e[n];return t}var Py=Lc("animationend"),My=Lc("animationiteration"),Ty=Lc("animationstart"),Ry=Lc("transitionend"),Ly=new Map,Hp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(t,e){Ly.set(t,e),xi(e,[t])}for(var ku=0;ku<Hp.length;ku++){var Su=Hp[ku],Vw=Su.toLowerCase(),Yw=Su[0].toUpperCase()+Su.slice(1);Lr(Vw,"on"+Yw)}Lr(Py,"onAnimationEnd");Lr(My,"onAnimationIteration");Lr(Ty,"onAnimationStart");Lr("dblclick","onDoubleClick");Lr("focusin","onFocus");Lr("focusout","onBlur");Lr(Ry,"onTransitionEnd");ds("onMouseEnter",["mouseout","mouseover"]);ds("onMouseLeave",["mouseout","mouseover"]);ds("onPointerEnter",["pointerout","pointerover"]);ds("onPointerLeave",["pointerout","pointerover"]);xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zs));function Wp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,V_(r,e,void 0,t),t.currentTarget=null}function Oy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Wp(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Wp(i,a,c),s=l}}}if(zl)throw t=jd,zl=!1,jd=null,t}function Ce(t,e){var n=e[Nd];n===void 0&&(n=e[Nd]=new Set);var r=t+"__bubble";n.has(r)||(Dy(e,t,2,!1),n.add(r))}function ju(t,e,n){var r=0;e&&(r|=4),Dy(n,t,r,e)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function Io(t){if(!t[Ba]){t[Ba]=!0,B0.forEach(function(n){n!=="selectionchange"&&(Kw.has(n)||ju(n,!1,t),ju(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ba]||(e[Ba]=!0,ju("selectionchange",!1,e))}}function Dy(t,e,n,r){switch(yy(e)){case 1:var i=aw;break;case 4:i=lw;break;default:i=Hh}n=i.bind(null,e,n,t),i=void 0,!Sd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Eu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ti(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ry(function(){var c=s,u=zh(n),d=[];e:{var f=Ly.get(t);if(f!==void 0){var m=Vh,v=t;switch(t){case"keypress":if(kl(n)===0)break e;case"keydown":case"keyup":m=kw;break;case"focusin":v="focus",m=xu;break;case"focusout":v="blur",m=xu;break;case"beforeblur":case"afterblur":m=xu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=dw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Ew;break;case Py:case My:case Ty:m=pw;break;case Ry:m=Pw;break;case"scroll":m=cw;break;case"wheel":m=Tw;break;case"copy":case"cut":case"paste":m=mw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Dp}var y=(e&4)!==0,x=!y&&t==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var g=c,_;g!==null;){_=g;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,p!==null&&(w=Ro(g,p),w!=null&&y.push(Fo(g,w,_)))),x)break;g=g.return}0<y.length&&(f=new m(f,v,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==bd&&(v=n.relatedTarget||n.fromElement)&&(ti(v)||v[Un]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?ti(v):null,v!==null&&(x=_i(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=Lp,w="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=Dp,w="onPointerLeave",p="onPointerEnter",g="pointer"),x=m==null?f:Ui(m),_=v==null?f:Ui(v),f=new y(w,g+"leave",m,n,u),f.target=x,f.relatedTarget=_,w=null,ti(u)===c&&(y=new y(p,g+"enter",v,n,u),y.target=_,y.relatedTarget=x,w=y),x=w,m&&v)t:{for(y=m,p=v,g=0,_=y;_;_=Pi(_))g++;for(_=0,w=p;w;w=Pi(w))_++;for(;0<g-_;)y=Pi(y),g--;for(;0<_-g;)p=Pi(p),_--;for(;g--;){if(y===p||p!==null&&y===p.alternate)break t;y=Pi(y),p=Pi(p)}y=null}else y=null;m!==null&&Vp(d,f,m,y,!1),v!==null&&x!==null&&Vp(d,x,v,y,!0)}}e:{if(f=c?Ui(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=Iw;else if(Ip(f))if(ky)S=Bw;else{S=zw;var E=Fw}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=$w);if(S&&(S=S(t,c))){by(d,S,n,u);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&yd(f,"number",f.value)}switch(E=c?Ui(c):window,t){case"focusin":(Ip(E)||E.contentEditable==="true")&&($i=E,Md=c,ho=null);break;case"focusout":ho=Md=$i=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,Up(d,n,u);break;case"selectionchange":if(Ww)break;case"keydown":case"keyup":Up(d,n,u)}var P;if(Kh)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zi?_y(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(xy&&n.locale!=="ko"&&(zi||b!=="onCompositionStart"?b==="onCompositionEnd"&&zi&&(P=vy()):(dr=u,Wh="value"in dr?dr.value:dr.textContent,zi=!0)),E=Wl(c,b),0<E.length&&(b=new Op(b,t,null,n,u),d.push({event:b,listeners:E}),P?b.data=P:(P=wy(n),P!==null&&(b.data=P)))),(P=Lw?Ow(t,n):Dw(t,n))&&(c=Wl(c,"onBeforeInput"),0<c.length&&(u=new Op("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=P))}Oy(d,e)})}function Fo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ro(t,n),s!=null&&r.unshift(Fo(t,s,i)),s=Ro(t,e),s!=null&&r.push(Fo(t,s,i))),t=t.return}return r}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vp(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ro(n,s),l!=null&&o.unshift(Fo(n,l,a))):i||(l=Ro(n,s),l!=null&&o.push(Fo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var qw=/\r\n?/g,Xw=/\u0000|\uFFFD/g;function Yp(t){return(typeof t=="string"?t:""+t).replace(qw,`
`).replace(Xw,"")}function Ua(t,e,n){if(e=Yp(e),Yp(t)!==e&&n)throw Error(I(425))}function Vl(){}var Rd=null,Ld=null;function Od(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dd=typeof setTimeout=="function"?setTimeout:void 0,Gw=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,Jw=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(t){return Kp.resolve(null).then(t).catch(Qw)}:Dd;function Qw(t){setTimeout(function(){throw t})}function Cu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Do(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Do(e)}function wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Es=Math.random().toString(36).slice(2),xn="__reactFiber$"+Es,zo="__reactProps$"+Es,Un="__reactContainer$"+Es,Nd="__reactEvents$"+Es,Zw="__reactListeners$"+Es,eb="__reactHandles$"+Es;function ti(t){var e=t[xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Un]||n[xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qp(t);t!==null;){if(n=t[xn])return n;t=qp(t)}return e}t=n,n=t.parentNode}return null}function da(t){return t=t[xn]||t[Un],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ui(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Oc(t){return t[zo]||null}var Ad=[],Hi=-1;function Or(t){return{current:t}}function Pe(t){0>Hi||(t.current=Ad[Hi],Ad[Hi]=null,Hi--)}function je(t,e){Hi++,Ad[Hi]=t.current,t.current=e}var Pr={},ut=Or(Pr),Et=Or(!1),ui=Pr;function hs(t,e){var n=t.type.contextTypes;if(!n)return Pr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ct(t){return t=t.childContextTypes,t!=null}function Yl(){Pe(Et),Pe(ut)}function Xp(t,e,n){if(ut.current!==Pr)throw Error(I(168));je(ut,e),je(Et,n)}function Ny(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(I(108,F_(t)||"Unknown",i));return Oe({},n,r)}function Kl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pr,ui=ut.current,je(ut,t),je(Et,Et.current),!0}function Gp(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=Ny(t,e,ui),r.__reactInternalMemoizedMergedChildContext=t,Pe(Et),Pe(ut),je(ut,t)):Pe(Et),je(Et,n)}var On=null,Dc=!1,Pu=!1;function Ay(t){On===null?On=[t]:On.push(t)}function tb(t){Dc=!0,Ay(t)}function Dr(){if(!Pu&&On!==null){Pu=!0;var t=0,e=_e;try{var n=On;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}On=null,Dc=!1}catch(i){throw On!==null&&(On=On.slice(t+1)),ay($h,Dr),i}finally{_e=e,Pu=!1}}return null}var Wi=[],Vi=0,ql=null,Xl=0,Vt=[],Yt=0,di=null,Nn=1,An="";function Kr(t,e){Wi[Vi++]=Xl,Wi[Vi++]=ql,ql=t,Xl=e}function Iy(t,e,n){Vt[Yt++]=Nn,Vt[Yt++]=An,Vt[Yt++]=di,di=t;var r=Nn;t=An;var i=32-ln(r)-1;r&=~(1<<i),n+=1;var s=32-ln(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Nn=1<<32-ln(e)+i|n<<i|r,An=s+t}else Nn=1<<s|n<<i|r,An=t}function Xh(t){t.return!==null&&(Kr(t,1),Iy(t,1,0))}function Gh(t){for(;t===ql;)ql=Wi[--Vi],Wi[Vi]=null,Xl=Wi[--Vi],Wi[Vi]=null;for(;t===di;)di=Vt[--Yt],Vt[Yt]=null,An=Vt[--Yt],Vt[Yt]=null,Nn=Vt[--Yt],Vt[Yt]=null}var zt=null,At=null,Me=!1,on=null;function Fy(t,e){var n=Kt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zt=t,At=wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zt=t,At=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=di!==null?{id:Nn,overflow:An}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zt=t,At=null,!0):!1;default:return!1}}function Id(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fd(t){if(Me){var e=At;if(e){var n=e;if(!Jp(t,e)){if(Id(t))throw Error(I(418));e=wr(n.nextSibling);var r=zt;e&&Jp(t,e)?Fy(r,n):(t.flags=t.flags&-4097|2,Me=!1,zt=t)}}else{if(Id(t))throw Error(I(418));t.flags=t.flags&-4097|2,Me=!1,zt=t}}}function Qp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zt=t}function Ha(t){if(t!==zt)return!1;if(!Me)return Qp(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Od(t.type,t.memoizedProps)),e&&(e=At)){if(Id(t))throw zy(),Error(I(418));for(;e;)Fy(t,e),e=wr(e.nextSibling)}if(Qp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){At=wr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}At=null}}else At=zt?wr(t.stateNode.nextSibling):null;return!0}function zy(){for(var t=At;t;)t=wr(t.nextSibling)}function fs(){At=zt=null,Me=!1}function Jh(t){on===null?on=[t]:on.push(t)}var nb=Kn.ReactCurrentBatchConfig;function Is(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function Wa(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zp(t){var e=t._init;return e(t._payload)}function $y(t){function e(p,g){if(t){var _=p.deletions;_===null?(p.deletions=[g],p.flags|=16):_.push(g)}}function n(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(p,g){return p=jr(p,g),p.index=0,p.sibling=null,p}function s(p,g,_){return p.index=_,t?(_=p.alternate,_!==null?(_=_.index,_<g?(p.flags|=2,g):_):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,g,_,w){return g===null||g.tag!==6?(g=Nu(_,p.mode,w),g.return=p,g):(g=i(g,_),g.return=p,g)}function l(p,g,_,w){var S=_.type;return S===Fi?u(p,g,_.props.children,w,_.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===sr&&Zp(S)===g.type)?(w=i(g,_.props),w.ref=Is(p,g,_),w.return=p,w):(w=Tl(_.type,_.key,_.props,null,p.mode,w),w.ref=Is(p,g,_),w.return=p,w)}function c(p,g,_,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=Au(_,p.mode,w),g.return=p,g):(g=i(g,_.children||[]),g.return=p,g)}function u(p,g,_,w,S){return g===null||g.tag!==7?(g=ai(_,p.mode,w,S),g.return=p,g):(g=i(g,_),g.return=p,g)}function d(p,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Nu(""+g,p.mode,_),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Oa:return _=Tl(g.type,g.key,g.props,null,p.mode,_),_.ref=Is(p,null,g),_.return=p,_;case Ii:return g=Au(g,p.mode,_),g.return=p,g;case sr:var w=g._init;return d(p,w(g._payload),_)}if(Js(g)||Ls(g))return g=ai(g,p.mode,_,null),g.return=p,g;Wa(p,g)}return null}function f(p,g,_,w){var S=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(p,g,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Oa:return _.key===S?l(p,g,_,w):null;case Ii:return _.key===S?c(p,g,_,w):null;case sr:return S=_._init,f(p,g,S(_._payload),w)}if(Js(_)||Ls(_))return S!==null?null:u(p,g,_,w,null);Wa(p,_)}return null}function m(p,g,_,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(_)||null,a(g,p,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Oa:return p=p.get(w.key===null?_:w.key)||null,l(g,p,w,S);case Ii:return p=p.get(w.key===null?_:w.key)||null,c(g,p,w,S);case sr:var E=w._init;return m(p,g,_,E(w._payload),S)}if(Js(w)||Ls(w))return p=p.get(_)||null,u(g,p,w,S,null);Wa(g,w)}return null}function v(p,g,_,w){for(var S=null,E=null,P=g,b=g=0,M=null;P!==null&&b<_.length;b++){P.index>b?(M=P,P=null):M=P.sibling;var L=f(p,P,_[b],w);if(L===null){P===null&&(P=M);break}t&&P&&L.alternate===null&&e(p,P),g=s(L,g,b),E===null?S=L:E.sibling=L,E=L,P=M}if(b===_.length)return n(p,P),Me&&Kr(p,b),S;if(P===null){for(;b<_.length;b++)P=d(p,_[b],w),P!==null&&(g=s(P,g,b),E===null?S=P:E.sibling=P,E=P);return Me&&Kr(p,b),S}for(P=r(p,P);b<_.length;b++)M=m(P,p,b,_[b],w),M!==null&&(t&&M.alternate!==null&&P.delete(M.key===null?b:M.key),g=s(M,g,b),E===null?S=M:E.sibling=M,E=M);return t&&P.forEach(function(N){return e(p,N)}),Me&&Kr(p,b),S}function y(p,g,_,w){var S=Ls(_);if(typeof S!="function")throw Error(I(150));if(_=S.call(_),_==null)throw Error(I(151));for(var E=S=null,P=g,b=g=0,M=null,L=_.next();P!==null&&!L.done;b++,L=_.next()){P.index>b?(M=P,P=null):M=P.sibling;var N=f(p,P,L.value,w);if(N===null){P===null&&(P=M);break}t&&P&&N.alternate===null&&e(p,P),g=s(N,g,b),E===null?S=N:E.sibling=N,E=N,P=M}if(L.done)return n(p,P),Me&&Kr(p,b),S;if(P===null){for(;!L.done;b++,L=_.next())L=d(p,L.value,w),L!==null&&(g=s(L,g,b),E===null?S=L:E.sibling=L,E=L);return Me&&Kr(p,b),S}for(P=r(p,P);!L.done;b++,L=_.next())L=m(P,p,b,L.value,w),L!==null&&(t&&L.alternate!==null&&P.delete(L.key===null?b:L.key),g=s(L,g,b),E===null?S=L:E.sibling=L,E=L);return t&&P.forEach(function(R){return e(p,R)}),Me&&Kr(p,b),S}function x(p,g,_,w){if(typeof _=="object"&&_!==null&&_.type===Fi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Oa:e:{for(var S=_.key,E=g;E!==null;){if(E.key===S){if(S=_.type,S===Fi){if(E.tag===7){n(p,E.sibling),g=i(E,_.props.children),g.return=p,p=g;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===sr&&Zp(S)===E.type){n(p,E.sibling),g=i(E,_.props),g.ref=Is(p,E,_),g.return=p,p=g;break e}n(p,E);break}else e(p,E);E=E.sibling}_.type===Fi?(g=ai(_.props.children,p.mode,w,_.key),g.return=p,p=g):(w=Tl(_.type,_.key,_.props,null,p.mode,w),w.ref=Is(p,g,_),w.return=p,p=w)}return o(p);case Ii:e:{for(E=_.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(p,g.sibling),g=i(g,_.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else e(p,g);g=g.sibling}g=Au(_,p.mode,w),g.return=p,p=g}return o(p);case sr:return E=_._init,x(p,g,E(_._payload),w)}if(Js(_))return v(p,g,_,w);if(Ls(_))return y(p,g,_,w);Wa(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(p,g.sibling),g=i(g,_),g.return=p,p=g):(n(p,g),g=Nu(_,p.mode,w),g.return=p,p=g),o(p)):n(p,g)}return x}var ps=$y(!0),By=$y(!1),Gl=Or(null),Jl=null,Yi=null,Qh=null;function Zh(){Qh=Yi=Jl=null}function ef(t){var e=Gl.current;Pe(Gl),t._currentValue=e}function zd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function rs(t,e){Jl=t,Qh=Yi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function Jt(t){var e=t._currentValue;if(Qh!==t)if(t={context:t,memoizedValue:e,next:null},Yi===null){if(Jl===null)throw Error(I(308));Yi=t,Jl.dependencies={lanes:0,firstContext:t}}else Yi=Yi.next=t;return e}var ni=null;function tf(t){ni===null?ni=[t]:ni.push(t)}function Uy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,tf(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hn(t,r)}function Hn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var or=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function br(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hn(t,n)}return i=r.interleaved,i===null?(e.next=e,tf(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hn(t,n)}function Sl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bh(t,n)}}function eg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ql(t,e,n,r){var i=t.updateQueue;or=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(f=e,m=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(m,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(m,d,f):v,f==null)break e;d=Oe({},d,f);break e;case 2:or=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fi|=o,t.lanes=o,t.memoizedState=d}}function tg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var ha={},wn=Or(ha),$o=Or(ha),Bo=Or(ha);function ri(t){if(t===ha)throw Error(I(174));return t}function rf(t,e){switch(je(Bo,e),je($o,t),je(wn,ha),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xd(e,t)}Pe(wn),je(wn,e)}function gs(){Pe(wn),Pe($o),Pe(Bo)}function Wy(t){ri(Bo.current);var e=ri(wn.current),n=xd(e,t.type);e!==n&&(je($o,t),je(wn,n))}function sf(t){$o.current===t&&(Pe(wn),Pe($o))}var Re=Or(0);function Zl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mu=[];function of(){for(var t=0;t<Mu.length;t++)Mu[t]._workInProgressVersionPrimary=null;Mu.length=0}var jl=Kn.ReactCurrentDispatcher,Tu=Kn.ReactCurrentBatchConfig,hi=0,Le=null,qe=null,et=null,ec=!1,fo=!1,Uo=0,rb=0;function ot(){throw Error(I(321))}function af(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hn(t[n],e[n]))return!1;return!0}function lf(t,e,n,r,i,s){if(hi=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jl.current=t===null||t.memoizedState===null?ab:lb,t=n(r,i),fo){s=0;do{if(fo=!1,Uo=0,25<=s)throw Error(I(301));s+=1,et=qe=null,e.updateQueue=null,jl.current=cb,t=n(r,i)}while(fo)}if(jl.current=tc,e=qe!==null&&qe.next!==null,hi=0,et=qe=Le=null,ec=!1,e)throw Error(I(300));return t}function cf(){var t=Uo!==0;return Uo=0,t}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Le.memoizedState=et=t:et=et.next=t,et}function Qt(){if(qe===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var e=et===null?Le.memoizedState:et.next;if(e!==null)et=e,qe=t;else{if(t===null)throw Error(I(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},et===null?Le.memoizedState=et=t:et=et.next=t}return et}function Ho(t,e){return typeof e=="function"?e(t):e}function Ru(t){var e=Qt(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=qe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((hi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Le.lanes|=u,fi|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,hn(r,e.memoizedState)||(jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Le.lanes|=s,fi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lu(t){var e=Qt(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);hn(s,e.memoizedState)||(jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Vy(){}function Yy(t,e){var n=Le,r=Qt(),i=e(),s=!hn(r.memoizedState,i);if(s&&(r.memoizedState=i,jt=!0),r=r.queue,uf(Xy.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Wo(9,qy.bind(null,n,r,i,e),void 0,null),nt===null)throw Error(I(349));hi&30||Ky(n,e,i)}return i}function Ky(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qy(t,e,n,r){e.value=n,e.getSnapshot=r,Gy(e)&&Jy(t)}function Xy(t,e,n){return n(function(){Gy(e)&&Jy(t)})}function Gy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hn(t,n)}catch{return!0}}function Jy(t){var e=Hn(t,1);e!==null&&cn(e,t,1,-1)}function ng(t){var e=yn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:t},e.queue=t,t=t.dispatch=ob.bind(null,Le,t),[e.memoizedState,t]}function Wo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Qy(){return Qt().memoizedState}function El(t,e,n,r){var i=yn();Le.flags|=t,i.memoizedState=Wo(1|e,n,void 0,r===void 0?null:r)}function Nc(t,e,n,r){var i=Qt();r=r===void 0?null:r;var s=void 0;if(qe!==null){var o=qe.memoizedState;if(s=o.destroy,r!==null&&af(r,o.deps)){i.memoizedState=Wo(e,n,s,r);return}}Le.flags|=t,i.memoizedState=Wo(1|e,n,s,r)}function rg(t,e){return El(8390656,8,t,e)}function uf(t,e){return Nc(2048,8,t,e)}function Zy(t,e){return Nc(4,2,t,e)}function ev(t,e){return Nc(4,4,t,e)}function tv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nv(t,e,n){return n=n!=null?n.concat([t]):null,Nc(4,4,tv.bind(null,e,t),n)}function df(){}function rv(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&af(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iv(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&af(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sv(t,e,n){return hi&21?(hn(n,e)||(n=uy(),Le.lanes|=n,fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function ib(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=Tu.transition;Tu.transition={};try{t(!1),e()}finally{_e=n,Tu.transition=r}}function ov(){return Qt().memoizedState}function sb(t,e,n){var r=Sr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},av(t))lv(e,n);else if(n=Uy(t,e,n,r),n!==null){var i=yt();cn(n,t,r,i),cv(n,e,r)}}function ob(t,e,n){var r=Sr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(av(t))lv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,hn(a,o)){var l=e.interleaved;l===null?(i.next=i,tf(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Uy(t,e,i,r),n!==null&&(i=yt(),cn(n,t,r,i),cv(n,e,r))}}function av(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function lv(t,e){fo=ec=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bh(t,n)}}var tc={readContext:Jt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},ab={readContext:Jt,useCallback:function(t,e){return yn().memoizedState=[t,e===void 0?null:e],t},useContext:Jt,useEffect:rg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,El(4194308,4,tv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return El(4194308,4,t,e)},useInsertionEffect:function(t,e){return El(4,2,t,e)},useMemo:function(t,e){var n=yn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sb.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=yn();return t={current:t},e.memoizedState=t},useState:ng,useDebugValue:df,useDeferredValue:function(t){return yn().memoizedState=t},useTransition:function(){var t=ng(!1),e=t[0];return t=ib.bind(null,t[1]),yn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,i=yn();if(Me){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),nt===null)throw Error(I(349));hi&30||Ky(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,rg(Xy.bind(null,r,s,t),[t]),r.flags|=2048,Wo(9,qy.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=yn(),e=nt.identifierPrefix;if(Me){var n=An,r=Nn;n=(r&~(1<<32-ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lb={readContext:Jt,useCallback:rv,useContext:Jt,useEffect:uf,useImperativeHandle:nv,useInsertionEffect:Zy,useLayoutEffect:ev,useMemo:iv,useReducer:Ru,useRef:Qy,useState:function(){return Ru(Ho)},useDebugValue:df,useDeferredValue:function(t){var e=Qt();return sv(e,qe.memoizedState,t)},useTransition:function(){var t=Ru(Ho)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:Vy,useSyncExternalStore:Yy,useId:ov,unstable_isNewReconciler:!1},cb={readContext:Jt,useCallback:rv,useContext:Jt,useEffect:uf,useImperativeHandle:nv,useInsertionEffect:Zy,useLayoutEffect:ev,useMemo:iv,useReducer:Lu,useRef:Qy,useState:function(){return Lu(Ho)},useDebugValue:df,useDeferredValue:function(t){var e=Qt();return qe===null?e.memoizedState=t:sv(e,qe.memoizedState,t)},useTransition:function(){var t=Lu(Ho)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:Vy,useSyncExternalStore:Yy,useId:ov,unstable_isNewReconciler:!1};function tn(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $d(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ac={isMounted:function(t){return(t=t._reactInternals)?_i(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yt(),i=Sr(t),s=zn(r,i);s.payload=e,n!=null&&(s.callback=n),e=br(t,s,i),e!==null&&(cn(e,t,i,r),Sl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yt(),i=Sr(t),s=zn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=br(t,s,i),e!==null&&(cn(e,t,i,r),Sl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yt(),r=Sr(t),i=zn(n,r);i.tag=2,e!=null&&(i.callback=e),e=br(t,i,r),e!==null&&(cn(e,t,r,n),Sl(e,t,r))}};function ig(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ao(n,r)||!Ao(i,s):!0}function uv(t,e,n){var r=!1,i=Pr,s=e.contextType;return typeof s=="object"&&s!==null?s=Jt(s):(i=Ct(e)?ui:ut.current,r=e.contextTypes,s=(r=r!=null)?hs(t,i):Pr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ac,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function sg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ac.enqueueReplaceState(e,e.state,null)}function Bd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},nf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Jt(s):(s=Ct(e)?ui:ut.current,i.context=hs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($d(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ac.enqueueReplaceState(i,i.state,null),Ql(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ms(t,e){try{var n="",r=e;do n+=I_(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ou(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ud(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ub=typeof WeakMap=="function"?WeakMap:Map;function dv(t,e,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rc||(rc=!0,Qd=r),Ud(t,e)},n}function hv(t,e,n){n=zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ud(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ud(t,e),typeof r!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function og(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ub;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Sb.bind(null,t,e,n),e.then(t,t))}function ag(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zn(-1,1),e.tag=2,br(n,e,1))),n.lanes|=1),t)}var db=Kn.ReactCurrentOwner,jt=!1;function ft(t,e,n,r){e.child=t===null?By(e,null,n,r):ps(e,t.child,n,r)}function cg(t,e,n,r,i){n=n.render;var s=e.ref;return rs(e,i),r=lf(t,e,n,r,s,i),n=cf(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wn(t,e,i)):(Me&&n&&Xh(e),e.flags|=1,ft(t,e,r,i),e.child)}function ug(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!xf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,fv(t,e,s,r,i)):(t=Tl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ao,n(o,r)&&t.ref===e.ref)return Wn(t,e,i)}return e.flags|=1,t=jr(s,r),t.ref=e.ref,t.return=e,e.child=t}function fv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ao(s,r)&&t.ref===e.ref)if(jt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,Wn(t,e,i)}return Hd(t,e,n,r,i)}function pv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(qi,Dt),Dt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(qi,Dt),Dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,je(qi,Dt),Dt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,je(qi,Dt),Dt|=r;return ft(t,e,i,n),e.child}function gv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hd(t,e,n,r,i){var s=Ct(n)?ui:ut.current;return s=hs(e,s),rs(e,i),n=lf(t,e,n,r,s,i),r=cf(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wn(t,e,i)):(Me&&r&&Xh(e),e.flags|=1,ft(t,e,n,i),e.child)}function dg(t,e,n,r,i){if(Ct(n)){var s=!0;Kl(e)}else s=!1;if(rs(e,i),e.stateNode===null)Cl(t,e),uv(e,n,r),Bd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Jt(c):(c=Ct(n)?ui:ut.current,c=hs(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&sg(e,o,r,c),or=!1;var f=e.memoizedState;o.state=f,Ql(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Et.current||or?(typeof u=="function"&&($d(e,n,u,r),l=e.memoizedState),(a=or||ig(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Hy(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:tn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jt(l):(l=Ct(n)?ui:ut.current,l=hs(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&sg(e,o,r,l),or=!1,f=e.memoizedState,o.state=f,Ql(e,r,o,i);var v=e.memoizedState;a!==d||f!==v||Et.current||or?(typeof m=="function"&&($d(e,n,m,r),v=e.memoizedState),(c=or||ig(e,n,c,r,f,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Wd(t,e,n,r,s,i)}function Wd(t,e,n,r,i,s){gv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Gp(e,n,!1),Wn(t,e,s);r=e.stateNode,db.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ps(e,t.child,null,s),e.child=ps(e,null,a,s)):ft(t,e,a,s),e.memoizedState=r.state,i&&Gp(e,n,!0),e.child}function mv(t){var e=t.stateNode;e.pendingContext?Xp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xp(t,e.context,!1),rf(t,e.containerInfo)}function hg(t,e,n,r,i){return fs(),Jh(i),e.flags|=256,ft(t,e,n,r),e.child}var Vd={dehydrated:null,treeContext:null,retryLane:0};function Yd(t){return{baseLanes:t,cachePool:null,transitions:null}}function yv(t,e,n){var r=e.pendingProps,i=Re.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(Re,i&1),t===null)return Fd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=zc(o,r,0,null),t=ai(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Yd(n),e.memoizedState=Vd,t):hf(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hb(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=jr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=jr(a,s):(s=ai(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Yd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Vd,r}return s=t.child,t=s.sibling,r=jr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hf(t,e){return e=zc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Va(t,e,n,r){return r!==null&&Jh(r),ps(e,t.child,null,n),t=hf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hb(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ou(Error(I(422))),Va(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=zc({mode:"visible",children:r.children},i,0,null),s=ai(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ps(e,t.child,null,o),e.child.memoizedState=Yd(o),e.memoizedState=Vd,s);if(!(e.mode&1))return Va(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(I(419)),r=Ou(s,r,void 0),Va(t,e,o,r)}if(a=(o&t.childLanes)!==0,jt||a){if(r=nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Hn(t,i),cn(r,t,i,-1))}return vf(),r=Ou(Error(I(421))),Va(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,At=wr(i.nextSibling),zt=e,Me=!0,on=null,t!==null&&(Vt[Yt++]=Nn,Vt[Yt++]=An,Vt[Yt++]=di,Nn=t.id,An=t.overflow,di=e),e=hf(e,r.children),e.flags|=4096,e)}function fg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zd(t.return,e,n)}function Du(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function vv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ft(t,e,r.children,n),r=Re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fg(t,n,e);else if(t.tag===19)fg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Re,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Du(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Du(e,!0,n,null,s);break;case"together":Du(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=jr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fb(t,e,n){switch(e.tag){case 3:mv(e),fs();break;case 5:Wy(e);break;case 1:Ct(e.type)&&Kl(e);break;case 4:rf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;je(Gl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Re,Re.current&1),e.flags|=128,null):n&e.child.childLanes?yv(t,e,n):(je(Re,Re.current&1),t=Wn(t,e,n),t!==null?t.sibling:null);je(Re,Re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Re,Re.current),r)break;return null;case 22:case 23:return e.lanes=0,pv(t,e,n)}return Wn(t,e,n)}var xv,Kd,_v,wv;xv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kd=function(){};_v=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ri(wn.current);var s=null;switch(n){case"input":i=gd(t,i),r=gd(t,r),s=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),s=[];break;case"textarea":i=vd(t,i),r=vd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vl)}_d(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Mo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Mo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ce("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};wv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fs(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pb(t,e,n){var r=e.pendingProps;switch(Gh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return Ct(e.type)&&Yl(),at(e),null;case 3:return r=e.stateNode,gs(),Pe(Et),Pe(ut),of(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ha(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,on!==null&&(th(on),on=null))),Kd(t,e),at(e),null;case 5:sf(e);var i=ri(Bo.current);if(n=e.type,t!==null&&e.stateNode!=null)_v(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(I(166));return at(e),null}if(t=ri(wn.current),Ha(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[xn]=e,r[zo]=s,t=(e.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(i=0;i<Zs.length;i++)Ce(Zs[i],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":bp(r,s),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ce("invalid",r);break;case"textarea":Sp(r,s),Ce("invalid",r)}_d(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ua(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ua(r.textContent,a,t),i=["children",""+a]):Mo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ce("scroll",r)}switch(n){case"input":Da(r),kp(r,s,!0);break;case"textarea":Da(r),jp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=X0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xn]=e,t[zo]=r,xv(t,e,!1,!1),e.stateNode=t;e:{switch(o=wd(n,r),n){case"dialog":Ce("cancel",t),Ce("close",t),i=r;break;case"iframe":case"object":case"embed":Ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<Zs.length;i++)Ce(Zs[i],t);i=r;break;case"source":Ce("error",t),i=r;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),i=r;break;case"details":Ce("toggle",t),i=r;break;case"input":bp(t,r),i=gd(t,r),Ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),Ce("invalid",t);break;case"textarea":Sp(t,r),i=vd(t,r),Ce("invalid",t);break;default:i=r}_d(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Q0(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&G0(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&To(t,l):typeof l=="number"&&To(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Mo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ce("scroll",t):l!=null&&Nh(t,s,l,o))}switch(n){case"input":Da(t),kp(t,r,!1);break;case"textarea":Da(t),jp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Zi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Zi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(t&&e.stateNode!=null)wv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=ri(Bo.current),ri(wn.current),Ha(e)){if(r=e.stateNode,n=e.memoizedProps,r[xn]=e,(s=r.nodeValue!==n)&&(t=zt,t!==null))switch(t.tag){case 3:Ua(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ua(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=e,e.stateNode=r}return at(e),null;case 13:if(Pe(Re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&At!==null&&e.mode&1&&!(e.flags&128))zy(),fs(),e.flags|=98560,s=!1;else if(s=Ha(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(I(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[xn]=e}else fs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),s=!1}else on!==null&&(th(on),on=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?Xe===0&&(Xe=3):vf())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return gs(),Kd(t,e),t===null&&Io(e.stateNode.containerInfo),at(e),null;case 10:return ef(e.type._context),at(e),null;case 17:return Ct(e.type)&&Yl(),at(e),null;case 19:if(Pe(Re),s=e.memoizedState,s===null)return at(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Fs(s,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zl(t),o!==null){for(e.flags|=128,Fs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Re,Re.current&1|2),e.child}t=t.sibling}s.tail!==null&&He()>ys&&(e.flags|=128,r=!0,Fs(s,!1),e.lanes=4194304)}else{if(!r)if(t=Zl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Me)return at(e),null}else 2*He()-s.renderingStartTime>ys&&n!==1073741824&&(e.flags|=128,r=!0,Fs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=He(),e.sibling=null,n=Re.current,je(Re,r?n&1|2:n&1),e):(at(e),null);case 22:case 23:return yf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dt&1073741824&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function gb(t,e){switch(Gh(e),e.tag){case 1:return Ct(e.type)&&Yl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gs(),Pe(Et),Pe(ut),of(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sf(e),null;case 13:if(Pe(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));fs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(Re),null;case 4:return gs(),null;case 10:return ef(e.type._context),null;case 22:case 23:return yf(),null;case 24:return null;default:return null}}var Ya=!1,lt=!1,mb=typeof WeakSet=="function"?WeakSet:Set,B=null;function Ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function qd(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var pg=!1;function yb(t,e){if(Rd=Ul,t=Ey(),qh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ld={focusedElem:t,selectionRange:n},Ul=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:tn(e.type,y),x);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(w){Fe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return v=pg,pg=!1,v}function po(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&qd(e,n,s)}i=i.next}while(i!==r)}}function Ic(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bv(t){var e=t.alternate;e!==null&&(t.alternate=null,bv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xn],delete e[zo],delete e[Nd],delete e[Zw],delete e[eb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kv(t){return t.tag===5||t.tag===3||t.tag===4}function gg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vl));else if(r!==4&&(t=t.child,t!==null))for(Gd(t,e,n),t=t.sibling;t!==null;)Gd(t,e,n),t=t.sibling}function Jd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jd(t,e,n),t=t.sibling;t!==null;)Jd(t,e,n),t=t.sibling}var rt=null,nn=!1;function Zn(t,e,n){for(n=n.child;n!==null;)Sv(t,e,n),n=n.sibling}function Sv(t,e,n){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Mc,n)}catch{}switch(n.tag){case 5:lt||Ki(n,e);case 6:var r=rt,i=nn;rt=null,Zn(t,e,n),rt=r,nn=i,rt!==null&&(nn?(t=rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(nn?(t=rt,n=n.stateNode,t.nodeType===8?Cu(t.parentNode,n):t.nodeType===1&&Cu(t,n),Do(t)):Cu(rt,n.stateNode));break;case 4:r=rt,i=nn,rt=n.stateNode.containerInfo,nn=!0,Zn(t,e,n),rt=r,nn=i;break;case 0:case 11:case 14:case 15:if(!lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qd(n,e,o),i=i.next}while(i!==r)}Zn(t,e,n);break;case 1:if(!lt&&(Ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}Zn(t,e,n);break;case 21:Zn(t,e,n);break;case 22:n.mode&1?(lt=(r=lt)||n.memoizedState!==null,Zn(t,e,n),lt=r):Zn(t,e,n);break;default:Zn(t,e,n)}}function mg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new mb),e.forEach(function(r){var i=Eb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rt=a.stateNode,nn=!1;break e;case 3:rt=a.stateNode.containerInfo,nn=!0;break e;case 4:rt=a.stateNode.containerInfo,nn=!0;break e}a=a.return}if(rt===null)throw Error(I(160));Sv(s,o,i),rt=null,nn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Fe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jv(e,t),e=e.sibling}function jv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zt(e,t),gn(t),r&4){try{po(3,t,t.return),Ic(3,t)}catch(y){Fe(t,t.return,y)}try{po(5,t,t.return)}catch(y){Fe(t,t.return,y)}}break;case 1:Zt(e,t),gn(t),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(Zt(e,t),gn(t),r&512&&n!==null&&Ki(n,n.return),t.flags&32){var i=t.stateNode;try{To(i,"")}catch(y){Fe(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&K0(i,s),wd(a,o);var c=wd(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Q0(i,d):u==="dangerouslySetInnerHTML"?G0(i,d):u==="children"?To(i,d):Nh(i,u,d,c)}switch(a){case"input":md(i,s);break;case"textarea":q0(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Zi(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Zi(i,!!s.multiple,s.defaultValue,!0):Zi(i,!!s.multiple,s.multiple?[]:"",!1))}i[zo]=s}catch(y){Fe(t,t.return,y)}}break;case 6:if(Zt(e,t),gn(t),r&4){if(t.stateNode===null)throw Error(I(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Fe(t,t.return,y)}}break;case 3:if(Zt(e,t),gn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Do(e.containerInfo)}catch(y){Fe(t,t.return,y)}break;case 4:Zt(e,t),gn(t);break;case 13:Zt(e,t),gn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gf=He())),r&4&&mg(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(lt=(c=lt)||u,Zt(e,t),lt=c):Zt(e,t),gn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(B=t,u=t.child;u!==null;){for(d=B=u;B!==null;){switch(f=B,m=f.child,f.tag){case 0:case 11:case 14:case 15:po(4,f,f.return);break;case 1:Ki(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Fe(r,n,y)}}break;case 5:Ki(f,f.return);break;case 22:if(f.memoizedState!==null){vg(d);continue}}m!==null?(m.return=f,B=m):vg(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=J0("display",o))}catch(y){Fe(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Fe(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zt(e,t),gn(t),r&4&&mg(t);break;case 21:break;default:Zt(e,t),gn(t)}}function gn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(kv(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(To(i,""),r.flags&=-33);var s=gg(t);Jd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gg(t);Gd(t,a,o);break;default:throw Error(I(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vb(t,e,n){B=t,Ev(t)}function Ev(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ya;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||lt;a=Ya;var c=lt;if(Ya=o,(lt=l)&&!c)for(B=i;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?xg(i):l!==null?(l.return=o,B=l):xg(i);for(;s!==null;)B=s,Ev(s),s=s.sibling;B=i,Ya=a,lt=c}yg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,B=s):yg(t)}}function yg(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:lt||Ic(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Do(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}lt||e.flags&512&&Xd(e)}catch(f){Fe(e,e.return,f)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function vg(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function xg(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ic(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Fe(e,i,l)}}var s=e.return;try{Xd(e)}catch(l){Fe(e,s,l)}break;case 5:var o=e.return;try{Xd(e)}catch(l){Fe(e,o,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var xb=Math.ceil,nc=Kn.ReactCurrentDispatcher,ff=Kn.ReactCurrentOwner,Xt=Kn.ReactCurrentBatchConfig,he=0,nt=null,Ye=null,it=0,Dt=0,qi=Or(0),Xe=0,Vo=null,fi=0,Fc=0,pf=0,go=null,bt=null,gf=0,ys=1/0,Ln=null,rc=!1,Qd=null,kr=null,Ka=!1,hr=null,ic=0,mo=0,Zd=null,Pl=-1,Ml=0;function yt(){return he&6?He():Pl!==-1?Pl:Pl=He()}function Sr(t){return t.mode&1?he&2&&it!==0?it&-it:nb.transition!==null?(Ml===0&&(Ml=uy()),Ml):(t=_e,t!==0||(t=window.event,t=t===void 0?16:yy(t.type)),t):1}function cn(t,e,n,r){if(50<mo)throw mo=0,Zd=null,Error(I(185));ca(t,n,r),(!(he&2)||t!==nt)&&(t===nt&&(!(he&2)&&(Fc|=n),Xe===4&&cr(t,it)),Pt(t,r),n===1&&he===0&&!(e.mode&1)&&(ys=He()+500,Dc&&Dr()))}function Pt(t,e){var n=t.callbackNode;nw(t,e);var r=Bl(t,t===nt?it:0);if(r===0)n!==null&&Pp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pp(n),e===1)t.tag===0?tb(_g.bind(null,t)):Ay(_g.bind(null,t)),Jw(function(){!(he&6)&&Dr()}),n=null;else{switch(dy(r)){case 1:n=$h;break;case 4:n=ly;break;case 16:n=$l;break;case 536870912:n=cy;break;default:n=$l}n=Dv(n,Cv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Cv(t,e){if(Pl=-1,Ml=0,he&6)throw Error(I(327));var n=t.callbackNode;if(is()&&t.callbackNode!==n)return null;var r=Bl(t,t===nt?it:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sc(t,r);else{e=r;var i=he;he|=2;var s=Mv();(nt!==t||it!==e)&&(Ln=null,ys=He()+500,oi(t,e));do try{bb();break}catch(a){Pv(t,a)}while(!0);Zh(),nc.current=s,he=i,Ye!==null?e=0:(nt=null,it=0,e=Xe)}if(e!==0){if(e===2&&(i=Ed(t),i!==0&&(r=i,e=eh(t,i))),e===1)throw n=Vo,oi(t,0),cr(t,r),Pt(t,He()),n;if(e===6)cr(t,r);else{if(i=t.current.alternate,!(r&30)&&!_b(i)&&(e=sc(t,r),e===2&&(s=Ed(t),s!==0&&(r=s,e=eh(t,s))),e===1))throw n=Vo,oi(t,0),cr(t,r),Pt(t,He()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(I(345));case 2:qr(t,bt,Ln);break;case 3:if(cr(t,r),(r&130023424)===r&&(e=gf+500-He(),10<e)){if(Bl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Dd(qr.bind(null,t,bt,Ln),e);break}qr(t,bt,Ln);break;case 4:if(cr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ln(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xb(r/1960))-r,10<r){t.timeoutHandle=Dd(qr.bind(null,t,bt,Ln),r);break}qr(t,bt,Ln);break;case 5:qr(t,bt,Ln);break;default:throw Error(I(329))}}}return Pt(t,He()),t.callbackNode===n?Cv.bind(null,t):null}function eh(t,e){var n=go;return t.current.memoizedState.isDehydrated&&(oi(t,e).flags|=256),t=sc(t,e),t!==2&&(e=bt,bt=n,e!==null&&th(e)),t}function th(t){bt===null?bt=t:bt.push.apply(bt,t)}function _b(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cr(t,e){for(e&=~pf,e&=~Fc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ln(e),r=1<<n;t[n]=-1,e&=~r}}function _g(t){if(he&6)throw Error(I(327));is();var e=Bl(t,0);if(!(e&1))return Pt(t,He()),null;var n=sc(t,e);if(t.tag!==0&&n===2){var r=Ed(t);r!==0&&(e=r,n=eh(t,r))}if(n===1)throw n=Vo,oi(t,0),cr(t,e),Pt(t,He()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qr(t,bt,Ln),Pt(t,He()),null}function mf(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(ys=He()+500,Dc&&Dr())}}function pi(t){hr!==null&&hr.tag===0&&!(he&6)&&is();var e=he;he|=1;var n=Xt.transition,r=_e;try{if(Xt.transition=null,_e=1,t)return t()}finally{_e=r,Xt.transition=n,he=e,!(he&6)&&Dr()}}function yf(){Dt=qi.current,Pe(qi)}function oi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Gw(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(Gh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yl();break;case 3:gs(),Pe(Et),Pe(ut),of();break;case 5:sf(r);break;case 4:gs();break;case 13:Pe(Re);break;case 19:Pe(Re);break;case 10:ef(r.type._context);break;case 22:case 23:yf()}n=n.return}if(nt=t,Ye=t=jr(t.current,null),it=Dt=e,Xe=0,Vo=null,pf=Fc=fi=0,bt=go=null,ni!==null){for(e=0;e<ni.length;e++)if(n=ni[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ni=null}return t}function Pv(t,e){do{var n=Ye;try{if(Zh(),jl.current=tc,ec){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ec=!1}if(hi=0,et=qe=Le=null,fo=!1,Uo=0,ff.current=null,n===null||n.return===null){Xe=1,Vo=e,Ye=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=it,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=ag(o);if(m!==null){m.flags&=-257,lg(m,o,a,s,e),m.mode&1&&og(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){og(s,c,e),vf();break e}l=Error(I(426))}}else if(Me&&a.mode&1){var x=ag(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),lg(x,o,a,s,e),Jh(ms(l,a));break e}}s=l=ms(l,a),Xe!==4&&(Xe=2),go===null?go=[s]:go.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=dv(s,l,e);eg(s,p);break e;case 1:a=l;var g=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(kr===null||!kr.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=hv(s,a,e);eg(s,w);break e}}s=s.return}while(s!==null)}Rv(n)}catch(S){e=S,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function Mv(){var t=nc.current;return nc.current=tc,t===null?tc:t}function vf(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),nt===null||!(fi&268435455)&&!(Fc&268435455)||cr(nt,it)}function sc(t,e){var n=he;he|=2;var r=Mv();(nt!==t||it!==e)&&(Ln=null,oi(t,e));do try{wb();break}catch(i){Pv(t,i)}while(!0);if(Zh(),he=n,nc.current=r,Ye!==null)throw Error(I(261));return nt=null,it=0,Xe}function wb(){for(;Ye!==null;)Tv(Ye)}function bb(){for(;Ye!==null&&!K_();)Tv(Ye)}function Tv(t){var e=Ov(t.alternate,t,Dt);t.memoizedProps=t.pendingProps,e===null?Rv(t):Ye=e,ff.current=null}function Rv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gb(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,Ye=null;return}}else if(n=pb(n,e,Dt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);Xe===0&&(Xe=5)}function qr(t,e,n){var r=_e,i=Xt.transition;try{Xt.transition=null,_e=1,kb(t,e,n,r)}finally{Xt.transition=i,_e=r}return null}function kb(t,e,n,r){do is();while(hr!==null);if(he&6)throw Error(I(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(rw(t,s),t===nt&&(Ye=nt=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ka||(Ka=!0,Dv($l,function(){return is(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xt.transition,Xt.transition=null;var o=_e;_e=1;var a=he;he|=4,ff.current=null,yb(t,n),jv(n,t),Hw(Ld),Ul=!!Rd,Ld=Rd=null,t.current=n,vb(n),q_(),he=a,_e=o,Xt.transition=s}else t.current=n;if(Ka&&(Ka=!1,hr=t,ic=i),s=t.pendingLanes,s===0&&(kr=null),J_(n.stateNode),Pt(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rc)throw rc=!1,t=Qd,Qd=null,t;return ic&1&&t.tag!==0&&is(),s=t.pendingLanes,s&1?t===Zd?mo++:(mo=0,Zd=t):mo=0,Dr(),null}function is(){if(hr!==null){var t=dy(ic),e=Xt.transition,n=_e;try{if(Xt.transition=null,_e=16>t?16:t,hr===null)var r=!1;else{if(t=hr,hr=null,ic=0,he&6)throw Error(I(331));var i=he;for(he|=4,B=t.current;B!==null;){var s=B,o=s.child;if(B.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(B=c;B!==null;){var u=B;switch(u.tag){case 0:case 11:case 15:po(8,u,s)}var d=u.child;if(d!==null)d.return=u,B=d;else for(;B!==null;){u=B;var f=u.sibling,m=u.return;if(bv(u),u===c){B=null;break}if(f!==null){f.return=m,B=f;break}B=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}B=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,s.flags&2048)switch(s.tag){case 0:case 11:case 15:po(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,B=p;break e}B=s.return}}var g=t.current;for(B=g;B!==null;){o=B;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,B=_;else e:for(o=g;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ic(9,a)}}catch(S){Fe(a,a.return,S)}if(a===o){B=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,B=w;break e}B=a.return}}if(he=i,Dr(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Mc,t)}catch{}r=!0}return r}finally{_e=n,Xt.transition=e}}return!1}function wg(t,e,n){e=ms(n,e),e=dv(t,e,1),t=br(t,e,1),e=yt(),t!==null&&(ca(t,1,e),Pt(t,e))}function Fe(t,e,n){if(t.tag===3)wg(t,t,n);else for(;e!==null;){if(e.tag===3){wg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kr===null||!kr.has(r))){t=ms(n,t),t=hv(e,t,1),e=br(e,t,1),t=yt(),e!==null&&(ca(e,1,t),Pt(e,t));break}}e=e.return}}function Sb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yt(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(it&n)===n&&(Xe===4||Xe===3&&(it&130023424)===it&&500>He()-gf?oi(t,0):pf|=n),Pt(t,e)}function Lv(t,e){e===0&&(t.mode&1?(e=Ia,Ia<<=1,!(Ia&130023424)&&(Ia=4194304)):e=1);var n=yt();t=Hn(t,e),t!==null&&(ca(t,e,n),Pt(t,n))}function jb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Lv(t,n)}function Eb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(e),Lv(t,n)}var Ov;Ov=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Et.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,fb(t,e,n);jt=!!(t.flags&131072)}else jt=!1,Me&&e.flags&1048576&&Iy(e,Xl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cl(t,e),t=e.pendingProps;var i=hs(e,ut.current);rs(e,n),i=lf(null,e,r,t,i,n);var s=cf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(r)?(s=!0,Kl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nf(e),i.updater=Ac,e.stateNode=i,i._reactInternals=e,Bd(e,r,t,n),e=Wd(null,e,r,!0,s,n)):(e.tag=0,Me&&s&&Xh(e),ft(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Pb(r),t=tn(r,t),i){case 0:e=Hd(null,e,r,t,n);break e;case 1:e=dg(null,e,r,t,n);break e;case 11:e=cg(null,e,r,t,n);break e;case 14:e=ug(null,e,r,tn(r.type,t),n);break e}throw Error(I(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),Hd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),dg(t,e,r,i,n);case 3:e:{if(mv(e),t===null)throw Error(I(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Hy(t,e),Ql(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ms(Error(I(423)),e),e=hg(t,e,r,n,i);break e}else if(r!==i){i=ms(Error(I(424)),e),e=hg(t,e,r,n,i);break e}else for(At=wr(e.stateNode.containerInfo.firstChild),zt=e,Me=!0,on=null,n=By(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fs(),r===i){e=Wn(t,e,n);break e}ft(t,e,r,n)}e=e.child}return e;case 5:return Wy(e),t===null&&Fd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Od(r,i)?o=null:s!==null&&Od(r,s)&&(e.flags|=32),gv(t,e),ft(t,e,o,n),e.child;case 6:return t===null&&Fd(e),null;case 13:return yv(t,e,n);case 4:return rf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ps(e,null,r,n):ft(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),cg(t,e,r,i,n);case 7:return ft(t,e,e.pendingProps,n),e.child;case 8:return ft(t,e,e.pendingProps.children,n),e.child;case 12:return ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,je(Gl,r._currentValue),r._currentValue=o,s!==null)if(hn(s.value,o)){if(s.children===i.children&&!Et.current){e=Wn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=zn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),zd(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ft(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,rs(e,n),i=Jt(i),r=r(i),e.flags|=1,ft(t,e,r,n),e.child;case 14:return r=e.type,i=tn(r,e.pendingProps),i=tn(r.type,i),ug(t,e,r,i,n);case 15:return fv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),Cl(t,e),e.tag=1,Ct(r)?(t=!0,Kl(e)):t=!1,rs(e,n),uv(e,r,i),Bd(e,r,i,n),Wd(null,e,r,!0,t,n);case 19:return vv(t,e,n);case 22:return pv(t,e,n)}throw Error(I(156,e.tag))};function Dv(t,e){return ay(t,e)}function Cb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,n,r){return new Cb(t,e,n,r)}function xf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pb(t){if(typeof t=="function")return xf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ih)return 11;if(t===Fh)return 14}return 2}function jr(t,e){var n=t.alternate;return n===null?(n=Kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")xf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fi:return ai(n.children,i,s,e);case Ah:o=8,i|=8;break;case dd:return t=Kt(12,n,e,i|2),t.elementType=dd,t.lanes=s,t;case hd:return t=Kt(13,n,e,i),t.elementType=hd,t.lanes=s,t;case fd:return t=Kt(19,n,e,i),t.elementType=fd,t.lanes=s,t;case W0:return zc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U0:o=10;break e;case H0:o=9;break e;case Ih:o=11;break e;case Fh:o=14;break e;case sr:o=16,r=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=Kt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ai(t,e,n,r){return t=Kt(7,t,r,e),t.lanes=n,t}function zc(t,e,n,r){return t=Kt(22,t,r,e),t.elementType=W0,t.lanes=n,t.stateNode={isHidden:!1},t}function Nu(t,e,n){return t=Kt(6,t,null,e),t.lanes=n,t}function Au(t,e,n){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Mb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mu(0),this.expirationTimes=mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _f(t,e,n,r,i,s,o,a,l){return t=new Mb(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nf(s),t}function Tb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ii,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Nv(t){if(!t)return Pr;t=t._reactInternals;e:{if(_i(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(Ct(n))return Ny(t,n,e)}return e}function Av(t,e,n,r,i,s,o,a,l){return t=_f(n,r,!0,t,i,s,o,a,l),t.context=Nv(null),n=t.current,r=yt(),i=Sr(n),s=zn(r,i),s.callback=e??null,br(n,s,i),t.current.lanes=i,ca(t,i,r),Pt(t,r),t}function $c(t,e,n,r){var i=e.current,s=yt(),o=Sr(i);return n=Nv(n),e.context===null?e.context=n:e.pendingContext=n,e=zn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=br(i,e,o),t!==null&&(cn(t,i,o,s),Sl(t,i,o)),o}function oc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wf(t,e){bg(t,e),(t=t.alternate)&&bg(t,e)}function Rb(){return null}var Iv=typeof reportError=="function"?reportError:function(t){console.error(t)};function bf(t){this._internalRoot=t}Bc.prototype.render=bf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));$c(t,e,null,null)};Bc.prototype.unmount=bf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pi(function(){$c(null,t,null,null)}),e[Un]=null}};function Bc(t){this._internalRoot=t}Bc.prototype.unstable_scheduleHydration=function(t){if(t){var e=py();t={blockedOn:null,target:t,priority:e};for(var n=0;n<lr.length&&e!==0&&e<lr[n].priority;n++);lr.splice(n,0,t),n===0&&my(t)}};function kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Uc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kg(){}function Lb(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=oc(o);s.call(c)}}var o=Av(e,r,t,0,null,!1,!1,"",kg);return t._reactRootContainer=o,t[Un]=o.current,Io(t.nodeType===8?t.parentNode:t),pi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=oc(l);a.call(c)}}var l=_f(t,0,!1,null,null,!1,!1,"",kg);return t._reactRootContainer=l,t[Un]=l.current,Io(t.nodeType===8?t.parentNode:t),pi(function(){$c(e,l,n,r)}),l}function Hc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=oc(o);a.call(l)}}$c(e,o,t,i)}else o=Lb(n,e,t,i,r);return oc(o)}hy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qs(e.pendingLanes);n!==0&&(Bh(e,n|1),Pt(e,He()),!(he&6)&&(ys=He()+500,Dr()))}break;case 13:pi(function(){var r=Hn(t,1);if(r!==null){var i=yt();cn(r,t,1,i)}}),wf(t,1)}};Uh=function(t){if(t.tag===13){var e=Hn(t,134217728);if(e!==null){var n=yt();cn(e,t,134217728,n)}wf(t,134217728)}};fy=function(t){if(t.tag===13){var e=Sr(t),n=Hn(t,e);if(n!==null){var r=yt();cn(n,t,e,r)}wf(t,e)}};py=function(){return _e};gy=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};kd=function(t,e,n){switch(e){case"input":if(md(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Oc(r);if(!i)throw Error(I(90));Y0(r),md(r,i)}}}break;case"textarea":q0(t,n);break;case"select":e=n.value,e!=null&&Zi(t,!!n.multiple,e,!1)}};ty=mf;ny=pi;var Ob={usingClientEntryPoint:!1,Events:[da,Ui,Oc,Z0,ey,mf]},zs={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Db={bundleType:zs.bundleType,version:zs.version,rendererPackageName:zs.rendererPackageName,rendererConfig:zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sy(t),t===null?null:t.stateNode},findFiberByHostInstance:zs.findFiberByHostInstance||Rb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qa.isDisabled&&qa.supportsFiber)try{Mc=qa.inject(Db),_n=qa}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ob;Ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kf(e))throw Error(I(200));return Tb(t,e,null,n)};Ut.createRoot=function(t,e){if(!kf(t))throw Error(I(299));var n=!1,r="",i=Iv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_f(t,1,!1,null,null,n,!1,r,i),t[Un]=e.current,Io(t.nodeType===8?t.parentNode:t),new bf(e)};Ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=sy(e),t=t===null?null:t.stateNode,t};Ut.flushSync=function(t){return pi(t)};Ut.hydrate=function(t,e,n){if(!Uc(e))throw Error(I(200));return Hc(null,t,e,!0,n)};Ut.hydrateRoot=function(t,e,n){if(!kf(t))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Iv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Av(e,null,t,1,n??null,i,!1,s,o),t[Un]=e.current,Io(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bc(e)};Ut.render=function(t,e,n){if(!Uc(e))throw Error(I(200));return Hc(null,t,e,!1,n)};Ut.unmountComponentAtNode=function(t){if(!Uc(t))throw Error(I(40));return t._reactRootContainer?(pi(function(){Hc(null,null,t,!1,function(){t._reactRootContainer=null,t[Un]=null})}),!0):!1};Ut.unstable_batchedUpdates=mf;Ut.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Uc(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return Hc(t,e,n,!1,r)};Ut.version="18.3.1-next-f1338f8080-20240426";function Fv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fv)}catch(t){console.error(t)}}Fv(),F0.exports=Ut;var Sf=F0.exports;const Nb=E0(Sf),Ab=j0({__proto__:null,default:Nb},[Sf]);var Sg=Sf;cd.createRoot=Sg.createRoot,cd.hydrateRoot=Sg.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Te(){return Te=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Te.apply(this,arguments)}var Be;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Be||(Be={}));const jg="popstate";function Ib(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Yo("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gi(i)}return zb(e,n,null,t)}function re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fb(){return Math.random().toString(36).substr(2,8)}function Eg(t,e){return{usr:t.state,key:t.key,idx:e}}function Yo(t,e,n,r){return n===void 0&&(n=null),Te({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qn(e):e,{state:n,key:e&&e.key||r||Fb()})}function gi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function zb(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Be.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Te({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Be.Pop;let x=u(),p=x==null?null:x-c;c=x,l&&l({action:a,location:y.location,delta:p})}function f(x,p){a=Be.Push;let g=Yo(y.location,x,p);c=u()+1;let _=Eg(g,c),w=y.createHref(g);try{o.pushState(_,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(w)}s&&l&&l({action:a,location:y.location,delta:1})}function m(x,p){a=Be.Replace;let g=Yo(y.location,x,p);c=u();let _=Eg(g,c),w=y.createHref(g);o.replaceState(_,"",w),s&&l&&l({action:a,location:y.location,delta:0})}function v(x){let p=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof x=="string"?x:gi(x);return g=g.replace(/ $/,"%20"),re(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let y={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(jg,d),l=x,()=>{i.removeEventListener(jg,d),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let p=v(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(x){return o.go(x)}};return y}var be;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(be||(be={}));const $b=new Set(["lazy","caseSensitive","path","id","index","children"]);function Bb(t){return t.index===!0}function Ko(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(re(i.index!==!0||!i.children,"Cannot specify children on an index route"),re(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Bb(i)){let l=Te({},i,e(i),{id:a});return r[a]=l,l}else{let l=Te({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Ko(i.children,e,o,r)),l}})}function Zr(t,e,n){return n===void 0&&(n="/"),Rl(t,e,n,!1)}function Rl(t,e,n,r){let i=typeof e=="string"?qn(e):e,s=fn(i.pathname||"/",n);if(s==null)return null;let o=zv(t);Hb(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=ek(s);a=Qb(o[l],c,r)}return a}function Ub(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function zv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(re(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=$n([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(re(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),zv(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Gb(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of $v(s.path))i(s,o,l)}),e}function $v(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=$v(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Hb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Jb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Wb=/^:[\w-]+$/,Vb=3,Yb=2,Kb=1,qb=10,Xb=-2,Cg=t=>t==="*";function Gb(t,e){let n=t.split("/"),r=n.length;return n.some(Cg)&&(r+=Xb),e&&(r+=Yb),n.filter(i=>!Cg(i)).reduce((i,s)=>i+(Wb.test(s)?Vb:s===""?Kb:qb),r)}function Jb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Qb(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=ac({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=ac({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:$n([s,d.pathname]),pathnameBase:rk($n([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=$n([s,d.pathnameBase]))}return o}function ac(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Zb(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[d];return m&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Zb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ek(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vs(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function tk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qn(t):t;return{pathname:n?n.startsWith("/")?n:nk(n,e):e,search:ik(r),hash:sk(i)}}function nk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Iu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jf(t,e){let n=Bv(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ef(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=qn(t):(i=Te({},t),re(!i.pathname||!i.pathname.includes("?"),Iu("?","pathname","search",i)),re(!i.pathname||!i.pathname.includes("#"),Iu("#","pathname","hash",i)),re(!i.search||!i.search.includes("#"),Iu("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=tk(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const $n=t=>t.join("/").replace(/\/\/+/g,"/"),rk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ik=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class lc{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Wc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Uv=["post","put","patch","delete"],ok=new Set(Uv),ak=["get",...Uv],lk=new Set(ak),ck=new Set([301,302,303,307,308]),uk=new Set([307,308]),Fu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},dk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ai={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Cf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hk=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Hv="remix-router-transitions";function fk(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;re(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;i=C=>({hasErrorBoundary:j(C)})}else i=hk;let s={},o=Ko(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.unstable_dataStrategy||xk,u=t.unstable_patchRoutesOnNavigation,d=Te({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,m=new Set,v=1e3,y=new Set,x=null,p=null,g=null,_=t.hydrationData!=null,w=Zr(o,t.history.location,l),S=null;if(w==null&&!u){let j=ht(404,{pathname:t.history.location.pathname}),{matches:C,route:T}=Ag(o);w=C,S={[T.id]:j}}w&&!t.hydrationData&&Ea(w,o,t.history.location.pathname).active&&(w=null);let E;if(w)if(w.some(j=>j.route.lazy))E=!1;else if(!w.some(j=>j.route.loader))E=!0;else if(d.v7_partialHydration){let j=t.hydrationData?t.hydrationData.loaderData:null,C=t.hydrationData?t.hydrationData.errors:null,T=D=>D.route.loader?typeof D.route.loader=="function"&&D.route.loader.hydrate===!0?!1:j&&j[D.route.id]!==void 0||C&&C[D.route.id]!==void 0:!0;if(C){let D=w.findIndex($=>C[$.route.id]!==void 0);E=w.slice(0,D+1).every(T)}else E=w.every(T)}else E=t.hydrationData!=null;else if(E=!1,w=[],d.v7_partialHydration){let j=Ea(null,o,t.history.location.pathname);j.active&&j.matches&&(w=j.matches)}let P,b={historyAction:t.history.action,location:t.history.location,matches:w,initialized:E,navigation:Fu,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},M=Be.Pop,L=!1,N,R=!1,Y=new Map,q=null,J=!1,ee=!1,ne=[],A=new Set,O=new Map,F=0,Q=-1,X=new Map,oe=new Set,ce=new Map,ke=new Map,ue=new Set,Je=new Map,kn=new Map,U1=new Map,ba;function H1(){if(f=t.history.listen(j=>{let{action:C,location:T,delta:D}=j;if(ba){ba(),ba=void 0;return}vs(kn.size===0||D!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let $=dp({currentLocation:b.location,nextLocation:T,historyAction:C});if($&&D!=null){let K=new Promise(Z=>{ba=Z});t.history.go(D*-1),Sa($,{state:"blocked",location:T,proceed(){Sa($,{state:"proceeding",proceed:void 0,reset:void 0,location:T}),K.then(()=>t.history.go(D))},reset(){let Z=new Map(b.blockers);Z.set($,Ai),dt({blockers:Z})}});return}return zr(C,T)}),n){Dk(e,Y);let j=()=>Nk(e,Y);e.addEventListener("pagehide",j),q=()=>e.removeEventListener("pagehide",j)}return b.initialized||zr(Be.Pop,b.location,{initialHydration:!0}),P}function W1(){f&&f(),q&&q(),m.clear(),N&&N.abort(),b.fetchers.forEach((j,C)=>ka(C)),b.blockers.forEach((j,C)=>up(C))}function V1(j){return m.add(j),()=>m.delete(j)}function dt(j,C){C===void 0&&(C={}),b=Te({},b,j);let T=[],D=[];d.v7_fetcherPersist&&b.fetchers.forEach(($,K)=>{$.state==="idle"&&(ue.has(K)?D.push(K):T.push(K))}),[...m].forEach($=>$(b,{deletedFetchers:D,unstable_viewTransitionOpts:C.viewTransitionOpts,unstable_flushSync:C.flushSync===!0})),d.v7_fetcherPersist&&(T.forEach($=>b.fetchers.delete($)),D.forEach($=>ka($)))}function Ei(j,C,T){var D,$;let{flushSync:K}=T===void 0?{}:T,Z=b.actionData!=null&&b.navigation.formMethod!=null&&rn(b.navigation.formMethod)&&b.navigation.state==="loading"&&((D=j.state)==null?void 0:D._isRedirect)!==!0,z;C.actionData?Object.keys(C.actionData).length>0?z=C.actionData:z=null:Z?z=b.actionData:z=null;let G=C.loaderData?Dg(b.loaderData,C.loaderData,C.matches||[],C.errors):b.loaderData,U=b.blockers;U.size>0&&(U=new Map(U),U.forEach((me,Ee)=>U.set(Ee,Ai)));let H=L===!0||b.navigation.formMethod!=null&&rn(b.navigation.formMethod)&&(($=j.state)==null?void 0:$._isRedirect)!==!0;a&&(o=a,a=void 0),J||M===Be.Pop||(M===Be.Push?t.history.push(j,j.state):M===Be.Replace&&t.history.replace(j,j.state));let pe;if(M===Be.Pop){let me=Y.get(b.location.pathname);me&&me.has(j.pathname)?pe={currentLocation:b.location,nextLocation:j}:Y.has(j.pathname)&&(pe={currentLocation:j,nextLocation:b.location})}else if(R){let me=Y.get(b.location.pathname);me?me.add(j.pathname):(me=new Set([j.pathname]),Y.set(b.location.pathname,me)),pe={currentLocation:b.location,nextLocation:j}}dt(Te({},C,{actionData:z,loaderData:G,historyAction:M,location:j,initialized:!0,navigation:Fu,revalidation:"idle",restoreScrollPosition:fp(j,C.matches||b.matches),preventScrollReset:H,blockers:U}),{viewTransitionOpts:pe,flushSync:K===!0}),M=Be.Pop,L=!1,R=!1,J=!1,ee=!1,ne=[]}async function rp(j,C){if(typeof j=="number"){t.history.go(j);return}let T=nh(b.location,b.matches,l,d.v7_prependBasename,j,d.v7_relativeSplatPath,C==null?void 0:C.fromRouteId,C==null?void 0:C.relative),{path:D,submission:$,error:K}=Pg(d.v7_normalizeFormMethod,!1,T,C),Z=b.location,z=Yo(b.location,D,C&&C.state);z=Te({},z,t.history.encodeLocation(z));let G=C&&C.replace!=null?C.replace:void 0,U=Be.Push;G===!0?U=Be.Replace:G===!1||$!=null&&rn($.formMethod)&&$.formAction===b.location.pathname+b.location.search&&(U=Be.Replace);let H=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,pe=(C&&C.unstable_flushSync)===!0,me=dp({currentLocation:Z,nextLocation:z,historyAction:U});if(me){Sa(me,{state:"blocked",location:z,proceed(){Sa(me,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),rp(j,C)},reset(){let Ee=new Map(b.blockers);Ee.set(me,Ai),dt({blockers:Ee})}});return}return await zr(U,z,{submission:$,pendingError:K,preventScrollReset:H,replace:C&&C.replace,enableViewTransition:C&&C.unstable_viewTransition,flushSync:pe})}function Y1(){if(lu(),dt({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){zr(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}zr(M||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation,enableViewTransition:R===!0})}}async function zr(j,C,T){N&&N.abort(),N=null,M=j,J=(T&&T.startUninterruptedRevalidation)===!0,n_(b.location,b.matches),L=(T&&T.preventScrollReset)===!0,R=(T&&T.enableViewTransition)===!0;let D=a||o,$=T&&T.overrideNavigation,K=Zr(D,C,l),Z=(T&&T.flushSync)===!0,z=Ea(K,D,C.pathname);if(z.active&&z.matches&&(K=z.matches),!K){let{error:de,notFoundMatches:Qe,route:Ve}=cu(C.pathname);Ei(C,{matches:Qe,loaderData:{},errors:{[Ve.id]:de}},{flushSync:Z});return}if(b.initialized&&!ee&&jk(b.location,C)&&!(T&&T.submission&&rn(T.submission.formMethod))){Ei(C,{matches:K},{flushSync:Z});return}N=new AbortController;let G=Mi(t.history,C,N.signal,T&&T.submission),U;if(T&&T.pendingError)U=[Xi(K).route.id,{type:be.error,error:T.pendingError}];else if(T&&T.submission&&rn(T.submission.formMethod)){let de=await K1(G,C,T.submission,K,z.active,{replace:T.replace,flushSync:Z});if(de.shortCircuited)return;if(de.pendingActionResult){let[Qe,Ve]=de.pendingActionResult;if(Nt(Ve)&&Wc(Ve.error)&&Ve.error.status===404){N=null,Ei(C,{matches:de.matches,loaderData:{},errors:{[Qe]:Ve.error}});return}}K=de.matches||K,U=de.pendingActionResult,$=zu(C,T.submission),Z=!1,z.active=!1,G=Mi(t.history,G.url,G.signal)}let{shortCircuited:H,matches:pe,loaderData:me,errors:Ee}=await q1(G,C,K,z.active,$,T&&T.submission,T&&T.fetcherSubmission,T&&T.replace,T&&T.initialHydration===!0,Z,U);H||(N=null,Ei(C,Te({matches:pe||K},Ng(U),{loaderData:me,errors:Ee})))}async function K1(j,C,T,D,$,K){K===void 0&&(K={}),lu();let Z=Lk(C,T);if(dt({navigation:Z},{flushSync:K.flushSync===!0}),$){let U=await Ca(D,C.pathname,j.signal);if(U.type==="aborted")return{shortCircuited:!0};if(U.type==="error"){let{boundaryId:H,error:pe}=ja(C.pathname,U);return{matches:U.partialMatches,pendingActionResult:[H,{type:be.error,error:pe}]}}else if(U.matches)D=U.matches;else{let{notFoundMatches:H,error:pe,route:me}=cu(C.pathname);return{matches:H,pendingActionResult:[me.id,{type:be.error,error:pe}]}}}let z,G=eo(D,C);if(!G.route.action&&!G.route.lazy)z={type:be.error,error:ht(405,{method:j.method,pathname:C.pathname,routeId:G.route.id})};else if(z=(await Ts("action",b,j,[G],D,null))[G.route.id],j.signal.aborted)return{shortCircuited:!0};if(ii(z)){let U;return K&&K.replace!=null?U=K.replace:U=Rg(z.response.headers.get("Location"),new URL(j.url),l)===b.location.pathname+b.location.search,await $r(j,z,!0,{submission:T,replace:U}),{shortCircuited:!0}}if(fr(z))throw ht(400,{type:"defer-action"});if(Nt(z)){let U=Xi(D,G.route.id);return(K&&K.replace)!==!0&&(M=Be.Push),{matches:D,pendingActionResult:[U.route.id,z]}}return{matches:D,pendingActionResult:[G.route.id,z]}}async function q1(j,C,T,D,$,K,Z,z,G,U,H){let pe=$||zu(C,K),me=K||Z||Fg(pe),Ee=!J&&(!d.v7_partialHydration||!G);if(D){if(Ee){let Ne=ip(H);dt(Te({navigation:pe},Ne!==void 0?{actionData:Ne}:{}),{flushSync:U})}let ie=await Ca(T,C.pathname,j.signal);if(ie.type==="aborted")return{shortCircuited:!0};if(ie.type==="error"){let{boundaryId:Ne,error:Rt}=ja(C.pathname,ie);return{matches:ie.partialMatches,loaderData:{},errors:{[Ne]:Rt}}}else if(ie.matches)T=ie.matches;else{let{error:Ne,notFoundMatches:Rt,route:Ae}=cu(C.pathname);return{matches:Rt,loaderData:{},errors:{[Ae.id]:Ne}}}}let de=a||o,[Qe,Ve]=Mg(t.history,b,T,me,C,d.v7_partialHydration&&G===!0,d.v7_skipActionErrorRevalidation,ee,ne,A,ue,ce,oe,de,l,H);if(uu(ie=>!(T&&T.some(Ne=>Ne.route.id===ie))||Qe&&Qe.some(Ne=>Ne.route.id===ie)),Q=++F,Qe.length===0&&Ve.length===0){let ie=lp();return Ei(C,Te({matches:T,loaderData:{},errors:H&&Nt(H[1])?{[H[0]]:H[1].error}:null},Ng(H),ie?{fetchers:new Map(b.fetchers)}:{}),{flushSync:U}),{shortCircuited:!0}}if(Ee){let ie={};if(!D){ie.navigation=pe;let Ne=ip(H);Ne!==void 0&&(ie.actionData=Ne)}Ve.length>0&&(ie.fetchers=X1(Ve)),dt(ie,{flushSync:U})}Ve.forEach(ie=>{O.has(ie.key)&&Jn(ie.key),ie.controller&&O.set(ie.key,ie.controller)});let Rs=()=>Ve.forEach(ie=>Jn(ie.key));N&&N.signal.addEventListener("abort",Rs);let{loaderResults:jn,fetcherResults:Ci}=await sp(b,T,Qe,Ve,j);if(j.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",Rs),Ve.forEach(ie=>O.delete(ie.key));let Qn=Xa(jn);if(Qn)return await $r(j,Qn.result,!0,{replace:z}),{shortCircuited:!0};if(Qn=Xa(Ci),Qn)return oe.add(Qn.key),await $r(j,Qn.result,!0,{replace:z}),{shortCircuited:!0};let{loaderData:Pa,errors:En}=Og(b,T,Qe,jn,H,Ve,Ci,Je);Je.forEach((ie,Ne)=>{ie.subscribe(Rt=>{(Rt||ie.done)&&Je.delete(Ne)})}),d.v7_partialHydration&&G&&b.errors&&Object.entries(b.errors).filter(ie=>{let[Ne]=ie;return!Qe.some(Rt=>Rt.route.id===Ne)}).forEach(ie=>{let[Ne,Rt]=ie;En=Object.assign(En||{},{[Ne]:Rt})});let Ma=lp(),Ta=cp(Q),Ra=Ma||Ta||Ve.length>0;return Te({matches:T,loaderData:Pa,errors:En},Ra?{fetchers:new Map(b.fetchers)}:{})}function ip(j){if(j&&!Nt(j[1]))return{[j[0]]:j[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function X1(j){return j.forEach(C=>{let T=b.fetchers.get(C.key),D=$s(void 0,T?T.data:void 0);b.fetchers.set(C.key,D)}),new Map(b.fetchers)}function G1(j,C,T,D){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");O.has(j)&&Jn(j);let $=(D&&D.unstable_flushSync)===!0,K=a||o,Z=nh(b.location,b.matches,l,d.v7_prependBasename,T,d.v7_relativeSplatPath,C,D==null?void 0:D.relative),z=Zr(K,Z,l),G=Ea(z,K,Z);if(G.active&&G.matches&&(z=G.matches),!z){Sn(j,C,ht(404,{pathname:Z}),{flushSync:$});return}let{path:U,submission:H,error:pe}=Pg(d.v7_normalizeFormMethod,!0,Z,D);if(pe){Sn(j,C,pe,{flushSync:$});return}let me=eo(z,U);if(L=(D&&D.preventScrollReset)===!0,H&&rn(H.formMethod)){J1(j,C,U,me,z,G.active,$,H);return}ce.set(j,{routeId:C,path:U}),Q1(j,C,U,me,z,G.active,$,H)}async function J1(j,C,T,D,$,K,Z,z){lu(),ce.delete(j);function G(Ae){if(!Ae.route.action&&!Ae.route.lazy){let Cn=ht(405,{method:z.formMethod,pathname:T,routeId:C});return Sn(j,C,Cn,{flushSync:Z}),!0}return!1}if(!K&&G(D))return;let U=b.fetchers.get(j);Gn(j,Ok(z,U),{flushSync:Z});let H=new AbortController,pe=Mi(t.history,T,H.signal,z);if(K){let Ae=await Ca($,T,pe.signal);if(Ae.type==="aborted")return;if(Ae.type==="error"){let{error:Cn}=ja(T,Ae);Sn(j,C,Cn,{flushSync:Z});return}else if(Ae.matches){if($=Ae.matches,D=eo($,T),G(D))return}else{Sn(j,C,ht(404,{pathname:T}),{flushSync:Z});return}}O.set(j,H);let me=F,de=(await Ts("action",b,pe,[D],$,j))[D.route.id];if(pe.signal.aborted){O.get(j)===H&&O.delete(j);return}if(d.v7_fetcherPersist&&ue.has(j)){if(ii(de)||Nt(de)){Gn(j,tr(void 0));return}}else{if(ii(de))if(O.delete(j),Q>me){Gn(j,tr(void 0));return}else return oe.add(j),Gn(j,$s(z)),$r(pe,de,!1,{fetcherSubmission:z});if(Nt(de)){Sn(j,C,de.error);return}}if(fr(de))throw ht(400,{type:"defer-action"});let Qe=b.navigation.location||b.location,Ve=Mi(t.history,Qe,H.signal),Rs=a||o,jn=b.navigation.state!=="idle"?Zr(Rs,b.navigation.location,l):b.matches;re(jn,"Didn't find any matches after fetcher action");let Ci=++F;X.set(j,Ci);let Qn=$s(z,de.data);b.fetchers.set(j,Qn);let[Pa,En]=Mg(t.history,b,jn,z,Qe,!1,d.v7_skipActionErrorRevalidation,ee,ne,A,ue,ce,oe,Rs,l,[D.route.id,de]);En.filter(Ae=>Ae.key!==j).forEach(Ae=>{let Cn=Ae.key,gp=b.fetchers.get(Cn),s_=$s(void 0,gp?gp.data:void 0);b.fetchers.set(Cn,s_),O.has(Cn)&&Jn(Cn),Ae.controller&&O.set(Cn,Ae.controller)}),dt({fetchers:new Map(b.fetchers)});let Ma=()=>En.forEach(Ae=>Jn(Ae.key));H.signal.addEventListener("abort",Ma);let{loaderResults:Ta,fetcherResults:Ra}=await sp(b,jn,Pa,En,Ve);if(H.signal.aborted)return;H.signal.removeEventListener("abort",Ma),X.delete(j),O.delete(j),En.forEach(Ae=>O.delete(Ae.key));let ie=Xa(Ta);if(ie)return $r(Ve,ie.result,!1);if(ie=Xa(Ra),ie)return oe.add(ie.key),$r(Ve,ie.result,!1);let{loaderData:Ne,errors:Rt}=Og(b,jn,Pa,Ta,void 0,En,Ra,Je);if(b.fetchers.has(j)){let Ae=tr(de.data);b.fetchers.set(j,Ae)}cp(Ci),b.navigation.state==="loading"&&Ci>Q?(re(M,"Expected pending action"),N&&N.abort(),Ei(b.navigation.location,{matches:jn,loaderData:Ne,errors:Rt,fetchers:new Map(b.fetchers)})):(dt({errors:Rt,loaderData:Dg(b.loaderData,Ne,jn,Rt),fetchers:new Map(b.fetchers)}),ee=!1)}async function Q1(j,C,T,D,$,K,Z,z){let G=b.fetchers.get(j);Gn(j,$s(z,G?G.data:void 0),{flushSync:Z});let U=new AbortController,H=Mi(t.history,T,U.signal);if(K){let de=await Ca($,T,H.signal);if(de.type==="aborted")return;if(de.type==="error"){let{error:Qe}=ja(T,de);Sn(j,C,Qe,{flushSync:Z});return}else if(de.matches)$=de.matches,D=eo($,T);else{Sn(j,C,ht(404,{pathname:T}),{flushSync:Z});return}}O.set(j,U);let pe=F,Ee=(await Ts("loader",b,H,[D],$,j))[D.route.id];if(fr(Ee)&&(Ee=await Pf(Ee,H.signal,!0)||Ee),O.get(j)===U&&O.delete(j),!H.signal.aborted){if(ue.has(j)){Gn(j,tr(void 0));return}if(ii(Ee))if(Q>pe){Gn(j,tr(void 0));return}else{oe.add(j),await $r(H,Ee,!1);return}if(Nt(Ee)){Sn(j,C,Ee.error);return}re(!fr(Ee),"Unhandled fetcher deferred data"),Gn(j,tr(Ee.data))}}async function $r(j,C,T,D){let{submission:$,fetcherSubmission:K,replace:Z}=D===void 0?{}:D;C.response.headers.has("X-Remix-Revalidate")&&(ee=!0);let z=C.response.headers.get("Location");re(z,"Expected a Location header on the redirect Response"),z=Rg(z,new URL(j.url),l);let G=Yo(b.location,z,{_isRedirect:!0});if(n){let de=!1;if(C.response.headers.has("X-Remix-Reload-Document"))de=!0;else if(Cf.test(z)){const Qe=t.history.createURL(z);de=Qe.origin!==e.location.origin||fn(Qe.pathname,l)==null}if(de){Z?e.location.replace(z):e.location.assign(z);return}}N=null;let U=Z===!0||C.response.headers.has("X-Remix-Replace")?Be.Replace:Be.Push,{formMethod:H,formAction:pe,formEncType:me}=b.navigation;!$&&!K&&H&&pe&&me&&($=Fg(b.navigation));let Ee=$||K;if(uk.has(C.response.status)&&Ee&&rn(Ee.formMethod))await zr(U,G,{submission:Te({},Ee,{formAction:z}),preventScrollReset:L,enableViewTransition:T?R:void 0});else{let de=zu(G,$);await zr(U,G,{overrideNavigation:de,fetcherSubmission:K,preventScrollReset:L,enableViewTransition:T?R:void 0})}}async function Ts(j,C,T,D,$,K){let Z,z={};try{Z=await _k(c,j,C,T,D,$,K,s,i)}catch(G){return D.forEach(U=>{z[U.route.id]={type:be.error,error:G}}),z}for(let[G,U]of Object.entries(Z))if(Ck(U)){let H=U.result;z[G]={type:be.redirect,response:kk(H,T,G,$,l,d.v7_relativeSplatPath)}}else z[G]=await bk(U);return z}async function sp(j,C,T,D,$){let K=j.matches,Z=Ts("loader",j,$,T,C,null),z=Promise.all(D.map(async H=>{if(H.matches&&H.match&&H.controller){let me=(await Ts("loader",j,Mi(t.history,H.path,H.controller.signal),[H.match],H.matches,H.key))[H.match.route.id];return{[H.key]:me}}else return Promise.resolve({[H.key]:{type:be.error,error:ht(404,{pathname:H.path})}})})),G=await Z,U=(await z).reduce((H,pe)=>Object.assign(H,pe),{});return await Promise.all([Tk(C,G,$.signal,K,j.loaderData),Rk(C,U,D)]),{loaderResults:G,fetcherResults:U}}function lu(){ee=!0,ne.push(...uu()),ce.forEach((j,C)=>{O.has(C)&&(A.add(C),Jn(C))})}function Gn(j,C,T){T===void 0&&(T={}),b.fetchers.set(j,C),dt({fetchers:new Map(b.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function Sn(j,C,T,D){D===void 0&&(D={});let $=Xi(b.matches,C);ka(j),dt({errors:{[$.route.id]:T},fetchers:new Map(b.fetchers)},{flushSync:(D&&D.flushSync)===!0})}function op(j){return d.v7_fetcherPersist&&(ke.set(j,(ke.get(j)||0)+1),ue.has(j)&&ue.delete(j)),b.fetchers.get(j)||dk}function ka(j){let C=b.fetchers.get(j);O.has(j)&&!(C&&C.state==="loading"&&X.has(j))&&Jn(j),ce.delete(j),X.delete(j),oe.delete(j),ue.delete(j),A.delete(j),b.fetchers.delete(j)}function Z1(j){if(d.v7_fetcherPersist){let C=(ke.get(j)||0)-1;C<=0?(ke.delete(j),ue.add(j)):ke.set(j,C)}else ka(j);dt({fetchers:new Map(b.fetchers)})}function Jn(j){let C=O.get(j);re(C,"Expected fetch controller: "+j),C.abort(),O.delete(j)}function ap(j){for(let C of j){let T=op(C),D=tr(T.data);b.fetchers.set(C,D)}}function lp(){let j=[],C=!1;for(let T of oe){let D=b.fetchers.get(T);re(D,"Expected fetcher: "+T),D.state==="loading"&&(oe.delete(T),j.push(T),C=!0)}return ap(j),C}function cp(j){let C=[];for(let[T,D]of X)if(D<j){let $=b.fetchers.get(T);re($,"Expected fetcher: "+T),$.state==="loading"&&(Jn(T),X.delete(T),C.push(T))}return ap(C),C.length>0}function e_(j,C){let T=b.blockers.get(j)||Ai;return kn.get(j)!==C&&kn.set(j,C),T}function up(j){b.blockers.delete(j),kn.delete(j)}function Sa(j,C){let T=b.blockers.get(j)||Ai;re(T.state==="unblocked"&&C.state==="blocked"||T.state==="blocked"&&C.state==="blocked"||T.state==="blocked"&&C.state==="proceeding"||T.state==="blocked"&&C.state==="unblocked"||T.state==="proceeding"&&C.state==="unblocked","Invalid blocker state transition: "+T.state+" -> "+C.state);let D=new Map(b.blockers);D.set(j,C),dt({blockers:D})}function dp(j){let{currentLocation:C,nextLocation:T,historyAction:D}=j;if(kn.size===0)return;kn.size>1&&vs(!1,"A router only supports one blocker at a time");let $=Array.from(kn.entries()),[K,Z]=$[$.length-1],z=b.blockers.get(K);if(!(z&&z.state==="proceeding")&&Z({currentLocation:C,nextLocation:T,historyAction:D}))return K}function cu(j){let C=ht(404,{pathname:j}),T=a||o,{matches:D,route:$}=Ag(T);return uu(),{notFoundMatches:D,route:$,error:C}}function ja(j,C){return{boundaryId:Xi(C.partialMatches).route.id,error:ht(400,{type:"route-discovery",pathname:j,message:C.error!=null&&"message"in C.error?C.error:String(C.error)})}}function uu(j){let C=[];return Je.forEach((T,D)=>{(!j||j(D))&&(T.cancel(),C.push(D),Je.delete(D))}),C}function t_(j,C,T){if(x=j,g=C,p=T||null,!_&&b.navigation===Fu){_=!0;let D=fp(b.location,b.matches);D!=null&&dt({restoreScrollPosition:D})}return()=>{x=null,g=null,p=null}}function hp(j,C){return p&&p(j,C.map(D=>Ub(D,b.loaderData)))||j.key}function n_(j,C){if(x&&g){let T=hp(j,C);x[T]=g()}}function fp(j,C){if(x){let T=hp(j,C),D=x[T];if(typeof D=="number")return D}return null}function Ea(j,C,T){if(u){if(y.has(T))return{active:!1,matches:j};if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:Rl(C,T,l,!0)}}else return{active:!0,matches:Rl(C,T,l,!0)||[]}}return{active:!1,matches:null}}async function Ca(j,C,T){let D=j;for(;;){let $=a==null,K=a||o;try{await yk(u,C,D,K,s,i,U1,T)}catch(G){return{type:"error",error:G,partialMatches:D}}finally{$&&(o=[...o])}if(T.aborted)return{type:"aborted"};let Z=Zr(K,C,l);if(Z)return pp(C,y),{type:"success",matches:Z};let z=Rl(K,C,l,!0);if(!z||D.length===z.length&&D.every((G,U)=>G.route.id===z[U].route.id))return pp(C,y),{type:"success",matches:null};D=z}}function pp(j,C){if(C.size>=v){let T=C.values().next().value;C.delete(T)}C.add(j)}function r_(j){s={},a=Ko(j,i,void 0,s)}function i_(j,C){let T=a==null;Vv(j,C,a||o,s,i),T&&(o=[...o],dt({}))}return P={get basename(){return l},get future(){return d},get state(){return b},get routes(){return o},get window(){return e},initialize:H1,subscribe:V1,enableScrollRestoration:t_,navigate:rp,fetch:G1,revalidate:Y1,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:op,deleteFetcher:Z1,dispose:W1,getBlocker:e_,deleteBlocker:up,patchRoutes:i_,_internalFetchControllers:O,_internalActiveDeferreds:Je,_internalSetRoutes:r_},P}function pk(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function nh(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=Ef(i||".",jf(l,s),fn(t.pathname,n)||t.pathname,a==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Mf(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:$n([n,u.pathname])),gi(u)}function Pg(t,e,n,r){if(!r||!pk(r))return{path:n};if(r.formMethod&&!Mk(r.formMethod))return{path:n,error:ht(405,{method:r.formMethod})};let i=()=>({path:n,error:ht(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=Yv(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!rn(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,v)=>{let[y,x]=v;return""+m+y+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!rn(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}re(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=rh(r.formData),c=r.formData;else if(r.body instanceof FormData)l=rh(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Lg(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Lg(l)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(rn(u.formMethod))return{path:n,submission:u};let d=qn(n);return e&&d.search&&Mf(d.search)&&l.append("index",""),d.search="?"+l,{path:gi(d),submission:u}}function gk(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Mg(t,e,n,r,i,s,o,a,l,c,u,d,f,m,v,y){let x=y?Nt(y[1])?y[1].error:y[1].data:void 0,p=t.createURL(e.location),g=t.createURL(i),_=y&&Nt(y[1])?y[0]:void 0,w=_?gk(n,_):n,S=y?y[1].statusCode:void 0,E=o&&S&&S>=400,P=w.filter((M,L)=>{let{route:N}=M;if(N.lazy)return!0;if(N.loader==null)return!1;if(s)return typeof N.loader!="function"||N.loader.hydrate?!0:e.loaderData[N.id]===void 0&&(!e.errors||e.errors[N.id]===void 0);if(mk(e.loaderData,e.matches[L],M)||l.some(q=>q===M.route.id))return!0;let R=e.matches[L],Y=M;return Tg(M,Te({currentUrl:p,currentParams:R.params,nextUrl:g,nextParams:Y.params},r,{actionResult:x,actionStatus:S,defaultShouldRevalidate:E?!1:a||p.pathname+p.search===g.pathname+g.search||p.search!==g.search||Wv(R,Y)}))}),b=[];return d.forEach((M,L)=>{if(s||!n.some(J=>J.route.id===M.routeId)||u.has(L))return;let N=Zr(m,M.path,v);if(!N){b.push({key:L,routeId:M.routeId,path:M.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(L),Y=eo(N,M.path),q=!1;f.has(L)?q=!1:c.has(L)?(c.delete(L),q=!0):R&&R.state!=="idle"&&R.data===void 0?q=a:q=Tg(Y,Te({currentUrl:p,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:S,defaultShouldRevalidate:E?!1:a})),q&&b.push({key:L,routeId:M.routeId,path:M.path,matches:N,match:Y,controller:new AbortController})}),[P,b]}function mk(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Wv(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Tg(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function yk(t,e,n,r,i,s,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(u,d)=>{a.aborted||Vv(u,d,r,i,s)}}),o.set(l,c)),c&&Ek(c)&&await c}finally{o.delete(l)}}function Vv(t,e,n,r,i){if(t){var s;let o=r[t];re(o,"No route found to patch children into: routeId = "+t);let a=Ko(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Ko(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function vk(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];re(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";vs(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!$b.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Te({},e(i),{lazy:void 0}))}async function xk(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function _k(t,e,n,r,i,s,o,a,l,c){let u=s.map(m=>m.route.lazy?vk(m.route,l,a):void 0),d=s.map((m,v)=>{let y=u[v],x=i.some(g=>g.route.id===m.route.id);return Te({},m,{shouldLoad:x,resolve:async g=>(g&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(x=!0),x?wk(e,r,m,y,g,c):Promise.resolve({type:be.data,result:void 0}))})}),f=await t({matches:d,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return f}async function wk(t,e,n,r,i,s){let o,a,l=c=>{let u,d=new Promise((v,y)=>u=y);a=()=>u(),e.signal.addEventListener("abort",a);let f=v=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...v!==void 0?[v]:[]),m=(async()=>{try{return{type:"data",result:await(i?i(y=>f(y)):f())}}catch(v){return{type:"error",result:v}}})();return Promise.race([m,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw ht(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:be.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw ht(404,{pathname:d})}re(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:be.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function bk(t){let{result:e,type:n}=t;if(Kv(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:be.error,error:u}}return n===be.error?{type:be.error,error:new lc(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:be.data,data:c,statusCode:e.status,headers:e.headers}}if(n===be.error){if(Ig(e)){var r;if(e.data instanceof Error){var i;return{type:be.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new lc(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:be.error,error:e,statusCode:Wc(e)?e.status:void 0}}if(Pk(e)){var s,o;return{type:be.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Ig(e)){var a,l;return{type:be.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:be.data,data:e}}function kk(t,e,n,r,i,s){let o=t.headers.get("Location");if(re(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Cf.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=nh(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function Rg(t,e,n){if(Cf.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=fn(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Mi(t,e,n,r){let i=t.createURL(Yv(e)).toString(),s={signal:n};if(r&&rn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=rh(r.formData):s.body=r.formData}return new Request(i,s)}function rh(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Lg(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Sk(t,e,n,r,i){let s={},o=null,a,l=!1,c={},u=n&&Nt(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,m=e[f];if(re(!ii(m),"Cannot handle redirect results in processLoaderData"),Nt(m)){let v=m.error;u!==void 0&&(v=u,u=void 0),o=o||{};{let y=Xi(t,f);o[y.route.id]==null&&(o[y.route.id]=v)}s[f]=void 0,l||(l=!0,a=Wc(m.error)?m.error.status:500),m.headers&&(c[f]=m.headers)}else fr(m)?(r.set(f,m.deferredData),s[f]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[f]=m.headers)):(s[f]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[f]=m.headers))}),u!==void 0&&n&&(o={[n[0]]:u},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function Og(t,e,n,r,i,s,o,a){let{loaderData:l,errors:c}=Sk(e,r,i,a);return s.forEach(u=>{let{key:d,match:f,controller:m}=u,v=o[d];if(re(v,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(Nt(v)){let y=Xi(t.matches,f==null?void 0:f.route.id);c&&c[y.route.id]||(c=Te({},c,{[y.route.id]:v.error})),t.fetchers.delete(d)}else if(ii(v))re(!1,"Unhandled fetcher revalidation redirect");else if(fr(v))re(!1,"Unhandled fetcher deferred data");else{let y=tr(v.data);t.fetchers.set(d,y)}}),{loaderData:l,errors:c}}function Dg(t,e,n,r){let i=Te({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Ng(t){return t?Nt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Xi(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Ag(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ht(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new lc(t||500,a,new Error(l),!0)}function Xa(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(ii(i))return{key:r,result:i}}}function Yv(t){let e=typeof t=="string"?qn(t):t;return gi(Te({},e,{hash:""}))}function jk(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Ek(t){return typeof t=="object"&&t!=null&&"then"in t}function Ck(t){return Kv(t.result)&&ck.has(t.result.status)}function fr(t){return t.type===be.deferred}function Nt(t){return t.type===be.error}function ii(t){return(t&&t.type)===be.redirect}function Ig(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Pk(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Kv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Mk(t){return lk.has(t.toLowerCase())}function rn(t){return ok.has(t.toLowerCase())}async function Tk(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!Wv(u,c)&&(i&&i[c.route.id])!==void 0;fr(l)&&d&&await Pf(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function Rk(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&fr(a)&&(re(o,"Expected an AbortController for revalidating fetcher deferred result"),await Pf(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function Pf(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:be.data,data:t.deferredData.unwrappedData}}catch(i){return{type:be.error,error:i}}return{type:be.data,data:t.deferredData.data}}}function Mf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function eo(t,e){let n=typeof e=="string"?qn(e).search:e.search;if(t[t.length-1].route.index&&Mf(n||""))return t[t.length-1];let r=Bv(t);return r[r.length-1]}function Fg(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function zu(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Lk(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function $s(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ok(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function tr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Dk(t,e){try{let n=t.sessionStorage.getItem(Hv);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function Nk(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Hv,JSON.stringify(n))}catch(r){vs(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mi(){return mi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mi.apply(this,arguments)}const fa=k.createContext(null),Tf=k.createContext(null),Nr=k.createContext(null),Vc=k.createContext(null),wi=k.createContext({outlet:null,matches:[],isDataRoute:!1}),qv=k.createContext(null);function Ak(t,e){let{relative:n}=e===void 0?{}:e;pa()||re(!1);let{basename:r,navigator:i}=k.useContext(Nr),{hash:s,pathname:o,search:a}=Yc(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:$n([r,o])),i.createHref({pathname:l,search:a,hash:s})}function pa(){return k.useContext(Vc)!=null}function Ar(){return pa()||re(!1),k.useContext(Vc).location}function Xv(t){k.useContext(Nr).static||k.useLayoutEffect(t)}function bn(){let{isDataRoute:t}=k.useContext(wi);return t?Kk():Ik()}function Ik(){pa()||re(!1);let t=k.useContext(fa),{basename:e,future:n,navigator:r}=k.useContext(Nr),{matches:i}=k.useContext(wi),{pathname:s}=Ar(),o=JSON.stringify(jf(i,n.v7_relativeSplatPath)),a=k.useRef(!1);return Xv(()=>{a.current=!0}),k.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Ef(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:$n([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function Yc(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(Nr),{matches:i}=k.useContext(wi),{pathname:s}=Ar(),o=JSON.stringify(jf(i,r.v7_relativeSplatPath));return k.useMemo(()=>Ef(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Fk(t,e){return Gv(t,e)}function Gv(t,e,n,r){pa()||re(!1);let{navigator:i}=k.useContext(Nr),{matches:s}=k.useContext(wi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ar(),u;if(e){var d;let x=typeof e=="string"?qn(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||re(!1),u=x}else u=c;let f=u.pathname||"/",m=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=Zr(t,{pathname:m}),y=Hk(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:$n([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:$n([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&y?k.createElement(Vc.Provider,{value:{location:mi({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Be.Pop}},y):y}function zk(){let t=Vk(),e=Wc(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const $k=k.createElement(zk,null);class Bk extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(wi.Provider,{value:this.props.routeContext},k.createElement(qv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Uk(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(fa);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(wi.Provider,{value:e},r)}function Hk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||re(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:m}=n,v=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let m,v=!1,y=null,x=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||$k,l&&(c<0&&f===0?(v=!0,x=null):c===f&&(v=!0,x=d.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,f+1)),g=()=>{let _;return m?_=y:v?_=x:d.route.Component?_=k.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,k.createElement(Uk,{match:d,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?k.createElement(Bk,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var Rf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Rf||{}),qo=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qo||{});function Jv(t){let e=k.useContext(fa);return e||re(!1),e}function Qv(t){let e=k.useContext(Tf);return e||re(!1),e}function Wk(t){let e=k.useContext(wi);return e||re(!1),e}function Zv(t){let e=Wk(),n=e.matches[e.matches.length-1];return n.route.id||re(!1),n.route.id}function Vk(){var t;let e=k.useContext(qv),n=Qv(qo.UseRouteError),r=Zv(qo.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}let Yk=0;function ex(t){let{router:e,basename:n}=Jv(Rf.UseBlocker),r=Qv(qo.UseBlocker),[i,s]=k.useState(""),o=k.useCallback(a=>{if(typeof t!="function")return!!t;if(n==="/")return t(a);let{currentLocation:l,nextLocation:c,historyAction:u}=a;return t({currentLocation:mi({},l,{pathname:fn(l.pathname,n)||l.pathname}),nextLocation:mi({},c,{pathname:fn(c.pathname,n)||c.pathname}),historyAction:u})},[n,t]);return k.useEffect(()=>{let a=String(++Yk);return s(a),()=>e.deleteBlocker(a)},[e]),k.useEffect(()=>{i!==""&&e.getBlocker(i,o)},[e,i,o]),i&&r.blockers.has(i)?r.blockers.get(i):Ai}function Kk(){let{router:t}=Jv(Rf.UseNavigateStable),e=Zv(qo.UseNavigateStable),n=k.useRef(!1);return Xv(()=>{n.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,mi({fromRouteId:e},s)))},[t,e])}function Mt(t){re(!1)}function qk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Be.Pop,navigator:s,static:o=!1,future:a}=t;pa()&&re(!1);let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:s,static:o,future:mi({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=qn(r));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:v="default"}=r,y=k.useMemo(()=>{let x=fn(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:m,key:v},navigationType:i}},[l,u,d,f,m,v,i]);return y==null?null:k.createElement(Nr.Provider,{value:c},k.createElement(Vc.Provider,{children:n,value:y}))}function ga(t){let{children:e,location:n}=t;return Fk(cc(e),n)}new Promise(()=>{});function cc(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let s=[...e,i];if(r.type===k.Fragment){n.push.apply(n,cc(r.props.children,s));return}r.type!==Mt&&re(!1),!r.props.index||!r.props.children||re(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=cc(r.props.children,s)),n.push(o)}),n}function Xk(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:k.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xs.apply(this,arguments)}function tx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Gk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Jk(t,e){return t.button===0&&(!e||e==="_self")&&!Gk(t)}function ih(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Qk(t,e){let n=ih(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const Zk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],e2=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],t2="6";try{window.__reactRouterVersion=t2}catch{}function n2(t,e){return fk({basename:e==null?void 0:e.basename,future:xs({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Ib({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||r2(),routes:t,mapRouteProperties:Xk,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function r2(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=xs({},e,{errors:i2(e.errors)})),e}function i2(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new lc(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const nx=k.createContext({isTransitioning:!1}),s2=k.createContext(new Map),o2="startTransition",zg=S_[o2],a2="flushSync",$g=Ab[a2];function l2(t){zg?zg(t):t()}function Bs(t){$g?$g(t):t()}let c2=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function u2(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=k.useState(n.state),[o,a]=k.useState(),[l,c]=k.useState({isTransitioning:!1}),[u,d]=k.useState(),[f,m]=k.useState(),[v,y]=k.useState(),x=k.useRef(new Map),{v7_startTransition:p}=r||{},g=k.useCallback(b=>{p?l2(b):b()},[p]),_=k.useCallback((b,M)=>{let{deletedFetchers:L,unstable_flushSync:N,unstable_viewTransitionOpts:R}=M;L.forEach(q=>x.current.delete(q)),b.fetchers.forEach((q,J)=>{q.data!==void 0&&x.current.set(J,q.data)});let Y=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!R||Y){N?Bs(()=>s(b)):g(()=>s(b));return}if(N){Bs(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let q=n.window.document.startViewTransition(()=>{Bs(()=>s(b))});q.finished.finally(()=>{Bs(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})})}),Bs(()=>m(q));return}f?(u&&u.resolve(),f.skipTransition(),y({state:b,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(a(b),c({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[n.window,f,u,x,g]);k.useLayoutEffect(()=>n.subscribe(_),[n,_]),k.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new c2)},[l]),k.useEffect(()=>{if(u&&o&&n.window){let b=o,M=u.promise,L=n.window.document.startViewTransition(async()=>{g(()=>s(b)),await M});L.finished.finally(()=>{d(void 0),m(void 0),a(void 0),c({isTransitioning:!1})}),m(L)}},[g,o,u,n.window]),k.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,f,i.location,o]),k.useEffect(()=>{!l.isTransitioning&&v&&(a(v.state),c({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),y(void 0))},[l.isTransitioning,v]),k.useEffect(()=>{},[]);let w=k.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:b=>n.navigate(b),push:(b,M,L)=>n.navigate(b,{state:M,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(b,M,L)=>n.navigate(b,{replace:!0,state:M,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[n]),S=n.basename||"/",E=k.useMemo(()=>({router:n,navigator:w,static:!1,basename:S}),[n,w,S]),P=k.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return k.createElement(k.Fragment,null,k.createElement(fa.Provider,{value:E},k.createElement(Tf.Provider,{value:i},k.createElement(s2.Provider,{value:x.current},k.createElement(nx.Provider,{value:l},k.createElement(qk,{basename:S,location:i.location,navigationType:i.historyAction,navigator:w,future:P},i.initialized||n.future.v7_partialHydration?k.createElement(d2,{routes:n.routes,future:n.future,state:i}):e))))),null)}const d2=k.memo(h2);function h2(t){let{routes:e,future:n,state:r}=t;return Gv(e,void 0,r,n)}const f2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lf=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=tx(e,Zk),{basename:m}=k.useContext(Nr),v,y=!1;if(typeof c=="string"&&p2.test(c)&&(v=c,f2))try{let _=new URL(window.location.href),w=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=fn(w.pathname,m);w.origin===_.origin&&S!=null?c=S+w.search+w.hash:y=!0}catch{}let x=Ak(c,{relative:i}),p=y2(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function g(_){r&&r(_),_.defaultPrevented||p(_)}return k.createElement("a",xs({},f,{href:v||x,onClick:y||s?r:g,ref:n,target:l}))}),g2=k.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,d=tx(e,e2),f=Yc(l,{relative:d.relative}),m=Ar(),v=k.useContext(Tf),{navigator:y,basename:x}=k.useContext(Nr),p=v!=null&&x2(f)&&c===!0,g=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,_=m.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(_=_.toLowerCase(),w=w?w.toLowerCase():null,g=g.toLowerCase()),w&&x&&(w=fn(w,x)||w);const S=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=_===g||!o&&_.startsWith(g)&&_.charAt(S)==="/",P=w!=null&&(w===g||!o&&w.startsWith(g)&&w.charAt(g.length)==="/"),b={isActive:E,isPending:P,isTransitioning:p},M=E?r:void 0,L;typeof s=="function"?L=s(b):L=[s,E?"active":null,P?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(b):a;return k.createElement(Lf,xs({},d,{"aria-current":M,className:L,ref:n,style:N,to:l,unstable_viewTransition:c}),typeof u=="function"?u(b):u)});var sh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sh||(sh={}));var Bg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Bg||(Bg={}));function m2(t){let e=k.useContext(fa);return e||re(!1),e}function y2(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=bn(),c=Ar(),u=Yc(t,{relative:o});return k.useCallback(d=>{if(Jk(d,n)){d.preventDefault();let f=r!==void 0?r:gi(c)===gi(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function v2(t){let e=k.useRef(ih(t)),n=k.useRef(!1),r=Ar(),i=k.useMemo(()=>Qk(r.search,n.current?null:e.current),[r.search]),s=bn(),o=k.useCallback((a,l)=>{const c=ih(typeof a=="function"?a(i):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}function x2(t,e){e===void 0&&(e={});let n=k.useContext(nx);n==null&&re(!1);let{basename:r}=m2(sh.useViewTransitionState),i=Yc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=fn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=fn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ac(i.pathname,o)!=null||ac(i.pathname,s)!=null}const an={BASE_URL:"/duitify",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobGxzdmxxZHpncmhqamZnZXdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI2MDI1MjcsImV4cCI6MjA0ODE3ODUyN30.sgz9zSOQRqOzjWojV2acr6f3OQNNZ88D5zT-TSmYEIM",VITE_SUPABASE_PROJECT_URL:"https://xhllsvlqdzgrhjjfgewk.supabase.co"};let _2=0;function De(t,e){const n=`atom${++_2}`,r={toString(){return(an?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=w2,r.write=b2),e&&(r.write=e),r}function w2(t){return t(this)}function b2(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}const Ug=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,$u=t=>"init"in t,Bu=t=>!!t.write,uc=new WeakMap,oh=t=>{var e;return ah(t)&&!((e=uc.get(t))!=null&&e[1])},k2=(t,e)=>{const n=uc.get(t);if(n)n[1]=!0,n[0].forEach(r=>r(e));else if((an?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},S2=t=>{if(uc.has(t))return;const e=[new Set,!1];uc.set(t,e);const n=()=>{e[1]=!0};t.then(n,n),t.onCancel=r=>{e[0].add(r)}},ah=t=>typeof(t==null?void 0:t.then)=="function",Hg=t=>"v"in t||"e"in t,Ga=t=>{if("e"in t)throw t.e;if((an?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},rx=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},Wg=(t,e,n,r,i)=>{var s;if((an?"production":void 0)!=="production"&&r===e)throw new Error("[Bug] atom cannot depend on itself");n.d.set(r,i.n),oh(n.v)&&rx(e,n.v,i),(s=i.m)==null||s.t.add(e),t&&j2(t,r,e)},Ti=()=>[new Map,new Map,new Set],Uu=(t,e,n)=>{t[0].has(e)||t[0].set(e,new Set),t[1].set(e,n)},j2=(t,e,n)=>{const r=t[0].get(e);r&&r.add(n)},E2=(t,e)=>t[0].get(e),Vg=(t,e)=>{t[2].add(e)},Br=t=>{for(;t[1].size||t[2].size;){t[0].clear();const e=new Set(t[1].values());t[1].clear();const n=new Set(t[2]);t[2].clear(),e.forEach(r=>{var i;return(i=r.m)==null?void 0:i.l.forEach(s=>s())}),n.forEach(r=>r())}},ix=t=>{let e;(an?"production":void 0)!=="production"&&(e=new Set);const n=(y,x,p)=>{const g="v"in x,_=x.v,w=oh(x.v)?x.v:null;if(ah(p)){S2(p);for(const S of x.d.keys())rx(y,p,t(S,x));x.v=p,delete x.e}else x.v=p,delete x.e;(!g||!Object.is(_,x.v))&&(++x.n,w&&k2(w,p))},r=(y,x,p,g)=>{var _;if(!(g!=null&&g(x))&&Hg(p)&&(p.m||Array.from(p.d).every(([M,L])=>r(y,M,t(M,p),g).n===L)))return p;p.d.clear();let w=!0;const S=M=>{if(Ug(x,M)){const N=t(M,p);if(!Hg(N))if($u(M))n(M,N,M.init);else throw new Error("no atom init");return Ga(N)}const L=r(y,M,t(M,p),g);if(w)Wg(y,x,p,M,L);else{const N=Ti();Wg(N,x,p,M,L),c(N,x,p),Br(N)}return Ga(L)};let E,P;const b={get signal(){return E||(E=new AbortController),E.signal},get setSelf(){return(an?"production":void 0)!=="production"&&!Bu(x)&&console.warn("setSelf function cannot be used with read-only atom"),!P&&Bu(x)&&(P=(...M)=>{if((an?"production":void 0)!=="production"&&w&&console.warn("setSelf function cannot be called in sync"),!w)return l(x,...M)}),P}};try{const M=x.read(S,b);if(n(x,p,M),ah(M)){(_=M.onCancel)==null||_.call(M,()=>E==null?void 0:E.abort());const L=()=>{if(p.m){const N=Ti();c(N,x,p),Br(N)}};M.then(L,L)}return p}catch(M){return delete p.v,p.e=M,++p.n,p}finally{w=!1}},i=y=>Ga(r(void 0,y,t(y))),s=(y,x,p)=>{var g,_;const w=new Map;for(const S of((g=p.m)==null?void 0:g.t)||[])w.set(S,t(S,p));for(const S of p.p)w.set(S,t(S,p));return(_=E2(y,x))==null||_.forEach(S=>{w.set(S,t(S,p))}),w},o=(y,x,p)=>{const g=[],_=new Set,w=(P,b)=>{if(!_.has(P)){_.add(P);for(const[M,L]of s(y,P,b))P!==M&&w(M,L);g.push([P,b,b.n])}};w(x,p);const S=new Set([x]),E=P=>_.has(P);for(let P=g.length-1;P>=0;--P){const[b,M,L]=g[P];let N=!1;for(const R of M.d.keys())if(R!==b&&S.has(R)){N=!0;break}N&&(r(y,b,M,E),c(y,b,M),L!==M.n&&(Uu(y,b,M),S.add(b))),_.delete(b)}},a=(y,x,p,...g)=>{const _=E=>Ga(r(y,E,t(E,p))),w=(E,...P)=>{const b=t(E,p);let M;if(Ug(x,E)){if(!$u(E))throw new Error("atom not writable");const L="v"in b,N=b.v,R=P[0];n(E,b,R),c(y,E,b),(!L||!Object.is(N,b.v))&&(Uu(y,E,b),o(y,E,b))}else M=a(y,E,b,...P);return Br(y),M};return x.write(_,w,...g)},l=(y,...x)=>{const p=Ti(),g=a(p,y,t(y),...x);return Br(p),g},c=(y,x,p)=>{if(p.m&&!oh(p.v)){for(const g of p.d.keys())p.m.d.has(g)||(u(y,g,t(g,p)).t.add(x),p.m.d.add(g));for(const g of p.m.d||[])if(!p.d.has(g)){p.m.d.delete(g);const _=d(y,g,t(g,p));_==null||_.t.delete(x)}}},u=(y,x,p)=>{if(!p.m){r(y,x,p);for(const g of p.d.keys())u(y,g,t(g,p)).t.add(x);if(p.m={l:new Set,d:new Set(p.d.keys()),t:new Set},(an?"production":void 0)!=="production"&&e.add(x),Bu(x)&&x.onMount){const g=p.m,{onMount:_}=x;Vg(y,()=>{const w=_((...S)=>a(y,x,p,...S));w&&(g.u=w)})}}return p.m},d=(y,x,p)=>{if(p.m&&!p.m.l.size&&!Array.from(p.m.t).some(g=>{var _;return(_=t(g,p).m)==null?void 0:_.d.has(x)})){const g=p.m.u;g&&Vg(y,g),delete p.m,(an?"production":void 0)!=="production"&&e.delete(x);for(const _ of p.d.keys()){const w=d(y,_,t(_,p));w==null||w.t.delete(x)}return}return p.m},v={get:i,set:l,sub:(y,x)=>{const p=Ti(),g=t(y),_=u(p,y,g);Br(p);const w=_.l;return w.add(x),()=>{w.delete(x);const S=Ti();d(S,y,g),Br(S)}},unstable_derive:y=>ix(...y(t))};return(an?"production":void 0)!=="production"&&Object.assign(v,{dev4_get_internal_weak_map:()=>({get:x=>{const p=t(x);if(p.n!==0)return p}}),dev4_get_mounted_atoms:()=>e,dev4_restore_atoms:x=>{const p=Ti();for(const[g,_]of x)if($u(g)){const w=t(g),S="v"in w,E=w.v;n(g,w,_),c(p,g,w),(!S||!Object.is(E,w.v))&&(Uu(p,g,w),o(p,g,w))}Br(p)}}),v},C2=()=>{const t=new WeakMap;return ix(n=>{let r=t.get(n);return r||(r={d:new Map,p:new Set,n:0},t.set(n,r)),r})};let Us;const pn=()=>(Us||(Us=C2(),(an?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Us),globalThis.__JOTAI_DEFAULT_STORE__!==Us&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Us),sx={BASE_URL:"/duitify",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobGxzdmxxZHpncmhqamZnZXdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI2MDI1MjcsImV4cCI6MjA0ODE3ODUyN30.sgz9zSOQRqOzjWojV2acr6f3OQNNZ88D5zT-TSmYEIM",VITE_SUPABASE_PROJECT_URL:"https://xhllsvlqdzgrhjjfgewk.supabase.co"},P2=k.createContext(void 0),ox=t=>k.useContext(P2)||pn(),ax=t=>typeof(t==null?void 0:t.then)=="function",M2=t=>{t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e})},T2=ge.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(M2(t),t)}),Hu=new WeakMap,R2=t=>{let e=Hu.get(t);return e||(e=new Promise((n,r)=>{let i=t;const s=l=>c=>{i===l&&n(c)},o=l=>c=>{i===l&&r(c)},a=l=>{"onCancel"in l&&typeof l.onCancel=="function"&&l.onCancel(c=>{if((sx?"production":void 0)!=="production"&&c===l)throw new Error("[Bug] p is not updated even after cancelation");ax(c)?(Hu.set(c,e),i=c,c.then(s(c),o(c)),a(c)):n(c)})};t.then(s(t),o(t)),a(t)}),Hu.set(t,e)),e};function L2(t,e){const n=ox(),[[r,i,s],o]=k.useReducer(c=>{const u=n.get(t);return Object.is(c[0],u)&&c[1]===n&&c[2]===t?c:[u,n,t]},void 0,()=>[n.get(t),n,t]);let a=r;if((i!==n||s!==t)&&(o(),a=n.get(t)),k.useEffect(()=>{const c=n.sub(t,()=>{o()});return o(),c},[n,t,void 0]),k.useDebugValue(a),ax(a)){const c=R2(a);return T2(c)}return a}function O2(t,e){const n=ox();return k.useCallback((...i)=>{if((sx?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...i)},[n,t])}function te(t,e){return[L2(t),O2(t)]}const D2=pn(),lx=De(!1);function Ie(t){return D2.set(lx,t),t}De(!0);De(!1);const Ir=De({title:"Duitify",actions:[]}),lh=pn();let N2=0;const dc=De([]),cx=De(t=>t(dc));function Fr(t,{dismissible:e=!0,...n}){return n.modalId&&lh.get(dc).find(i=>i.modalId===n.modalId)?-1:(n.modalId||(n.modalId=++N2),lh.set(dc,r=>[...r,{Element:t,props:n,dismissible:e,modalId:n.modalId}]),n.modalId??0)}function Mr(t){lh.set(dc,e=>(e.pop(),[...e]))}function ux(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ux(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ux(t))&&(r&&(r+=" "),r+=e);return r}const Xo=t=>typeof t=="number"&&!isNaN(t),li=t=>typeof t=="string",It=t=>typeof t=="function",Ll=t=>li(t)||It(t)?t:null,ch=t=>k.isValidElement(t)||li(t)||It(t)||Xo(t);function A2(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Kc(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:f,playToast:m}=o;const v=r?`${e}--${l}`:e,y=r?`${n}--${l}`:n,x=k.useRef(0);return k.useLayoutEffect(()=>{const p=d.current,g=v.split(" "),_=w=>{w.target===d.current&&(m(),p.removeEventListener("animationend",_),p.removeEventListener("animationcancel",_),x.current===0&&w.type!=="animationcancel"&&p.classList.remove(...g))};p.classList.add(...g),p.addEventListener("animationend",_),p.addEventListener("animationcancel",_)},[]),k.useEffect(()=>{const p=d.current,g=()=>{p.removeEventListener("animationend",g),i?A2(p,u,s):u()};f||(c?g():(x.current=1,p.className+=` ${y}`,p.addEventListener("animationend",g)))},[f]),ge.createElement(ge.Fragment,null,a)}}function Yg(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const gt=new Map;let Go=[];const uh=new Set,I2=t=>uh.forEach(e=>e(t)),dx=()=>gt.size>0;function hx(t,e){var n;if(e)return!((n=gt.get(e))==null||!n.isToastActive(t));let r=!1;return gt.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function fx(t,e){ch(t)&&(dx()||Go.push({content:t,options:e}),gt.forEach(n=>{n.buildToast(t,e)}))}function Kg(t,e){gt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function F2(t){const{subscribe:e,getSnapshot:n,setProps:r}=k.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(u,d,f){let m=1,v=0,y=[],x=[],p=[],g=d;const _=new Map,w=new Set,S=()=>{p=Array.from(_.values()),w.forEach(b=>b())},E=b=>{x=b==null?[]:x.filter(M=>M!==b),S()},P=b=>{const{toastId:M,onOpen:L,updateId:N,children:R}=b.props,Y=N==null;b.staleId&&_.delete(b.staleId),_.set(M,b),x=[...x,b.props.toastId].filter(q=>q!==b.staleId),S(),f(Yg(b,Y?"added":"updated")),Y&&It(L)&&L(k.isValidElement(R)&&R.props)};return{id:u,props:g,observe:b=>(w.add(b),()=>w.delete(b)),toggle:(b,M)=>{_.forEach(L=>{M!=null&&M!==L.props.toastId||It(L.toggle)&&L.toggle(b)})},removeToast:E,toasts:_,clearQueue:()=>{v-=y.length,y=[]},buildToast:(b,M)=>{if((X=>{let{containerId:oe,toastId:ce,updateId:ke}=X;const ue=oe?oe!==u:u!==1,Je=_.has(ce)&&ke==null;return ue||Je})(M))return;const{toastId:L,updateId:N,data:R,staleId:Y,delay:q}=M,J=()=>{E(L)},ee=N==null;ee&&v++;const ne={...g,style:g.toastStyle,key:m++,...Object.fromEntries(Object.entries(M).filter(X=>{let[oe,ce]=X;return ce!=null})),toastId:L,updateId:N,data:R,closeToast:J,isIn:!1,className:Ll(M.className||g.toastClassName),bodyClassName:Ll(M.bodyClassName||g.bodyClassName),progressClassName:Ll(M.progressClassName||g.progressClassName),autoClose:!M.isLoading&&(A=M.autoClose,O=g.autoClose,A===!1||Xo(A)&&A>0?A:O),deleteToast(){const X=_.get(L),{onClose:oe,children:ce}=X.props;It(oe)&&oe(k.isValidElement(ce)&&ce.props),f(Yg(X,"removed")),_.delete(L),v--,v<0&&(v=0),y.length>0?P(y.shift()):S()}};var A,O;ne.closeButton=g.closeButton,M.closeButton===!1||ch(M.closeButton)?ne.closeButton=M.closeButton:M.closeButton===!0&&(ne.closeButton=!ch(g.closeButton)||g.closeButton);let F=b;k.isValidElement(b)&&!li(b.type)?F=k.cloneElement(b,{closeToast:J,toastProps:ne,data:R}):It(b)&&(F=b({closeToast:J,toastProps:ne,data:R}));const Q={content:F,props:ne,staleId:Y};g.limit&&g.limit>0&&v>g.limit&&ee?y.push(Q):Xo(q)?setTimeout(()=>{P(Q)},q):P(Q)},setProps(b){g=b},setToggle:(b,M)=>{_.get(b).toggle=M},isToastActive:b=>x.some(M=>M===b),getSnapshot:()=>g.newestOnTop?p.reverse():p}}(o,s,I2);gt.set(o,l);const c=l.observe(a);return Go.forEach(u=>fx(u.content,u.options)),Go=[],()=>{c(),gt.delete(o)}},setProps(a){var l;(l=gt.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=gt.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=k.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:hx,count:i==null?void 0:i.length}}function z2(t){const[e,n]=k.useState(!1),[r,i]=k.useState(!1),s=k.useRef(null),o=k.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:d}=t;var f,m;function v(){n(!0)}function y(){n(!1)}function x(_){const w=s.current;o.canDrag&&w&&(o.didMove=!0,e&&y(),o.delta=t.draggableDirection==="x"?_.clientX-o.start:_.clientY-o.start,o.start!==_.clientX&&(o.canCloseOnClick=!1),w.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,w.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function p(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",p);const _=s.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}(m=gt.get((f={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||m.setToggle(f.id,f.fn),k.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||y(),window.addEventListener("focus",v),window.addEventListener("blur",y),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",y)}},[t.pauseOnFocusLoss]);const g={onPointerDown:function(_){if(t.draggable===!0||t.draggable===_.pointerType){o.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",p);const w=s.current;o.canCloseOnClick=!0,o.canDrag=!0,w.style.transition="none",t.draggableDirection==="x"?(o.start=_.clientX,o.removalDistance=w.offsetWidth*(t.draggablePercent/100)):(o.start=_.clientY,o.removalDistance=w.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(_){const{top:w,bottom:S,left:E,right:P}=s.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&_.clientX>=E&&_.clientX<=P&&_.clientY>=w&&_.clientY<=S?y():v()}};return a&&l&&(g.onMouseEnter=y,t.stacked||(g.onMouseLeave=v)),d&&(g.onClick=_=>{u&&u(_),o.canCloseOnClick&&c()}),{playToast:v,pauseToast:y,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:g}}function $2(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:f}=t;const m=s||l&&c===0,v={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(v.transform=`scaleX(${c})`);const y=pr("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),x=It(o)?o({rtl:u,type:i,defaultClassName:y}):pr(y,o),p={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}};return ge.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},ge.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),ge.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:x,style:v,...p}))}let B2=1;const px=()=>""+B2++;function U2(t){return t&&(li(t.toastId)||Xo(t.toastId))?t.toastId:px()}function yo(t,e){return fx(t,e),e.toastId}function hc(t,e){return{...e,type:e&&e.type||t,toastId:U2(e)}}function Ja(t){return(e,n)=>yo(e,hc(t,n))}function V(t,e){return yo(t,hc("default",e))}V.loading=(t,e)=>yo(t,hc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),V.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=li(i)?V.loading(i,n):V.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null)return void V.dismiss(r);const m={type:u,...a,...n,data:f},v=li(d)?{render:d}:d;return r?V.update(r,{...m,...v}):V(v.render,{...m,...v}),f},c=It(t)?t():t;return c.then(u=>l("success",o,u)).catch(u=>l("error",s,u)),c},V.success=Ja("success"),V.info=Ja("info"),V.error=Ja("error"),V.warning=Ja("warning"),V.warn=V.warning,V.dark=(t,e)=>yo(t,hc("default",{theme:"dark",...e})),V.dismiss=function(t){(function(e){var n;if(dx()){if(e==null||li(n=e)||Xo(n))gt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=gt.get(e.containerId);r?r.removeToast(e.id):gt.forEach(i=>{i.removeToast(e.id)})}}else Go=Go.filter(r=>e!=null&&r.options.toastId!==e)})(t)},V.clearWaitingQueue=function(t){t===void 0&&(t={}),gt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},V.isActive=hx,V.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=gt.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:px()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,yo(o,s)}},V.done=t=>{V.update(t,{progress:1})},V.onChange=function(t){return uh.add(t),()=>{uh.delete(t)}},V.play=t=>Kg(!0,t),V.pause=t=>Kg(!1,t);const H2=typeof window<"u"?k.useLayoutEffect:k.useEffect,Qa=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return ge.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Wu={info:function(t){return ge.createElement(Qa,{...t},ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ge.createElement(Qa,{...t},ge.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ge.createElement(Qa,{...t},ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ge.createElement(Qa,{...t},ge.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ge.createElement("div",{className:"Toastify__spinner"})}},W2=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=z2(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:f,transition:m,position:v,className:y,style:x,bodyClassName:p,bodyStyle:g,progressClassName:_,progressStyle:w,updateId:S,role:E,progress:P,rtl:b,toastId:M,deleteToast:L,isIn:N,isLoading:R,closeOnClick:Y,theme:q}=t,J=pr("Toastify__toast",`Toastify__toast-theme--${q}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":b},{"Toastify__toast--close-on-click":Y}),ee=It(y)?y({rtl:b,position:v,type:u,defaultClassName:J}):pr(J,y),ne=function(Q){let{theme:X,type:oe,isLoading:ce,icon:ke}=Q,ue=null;const Je={theme:X,type:oe};return ke===!1||(It(ke)?ue=ke({...Je,isLoading:ce}):k.isValidElement(ke)?ue=k.cloneElement(ke,Je):ce?ue=Wu.spinner():(kn=>kn in Wu)(oe)&&(ue=Wu[oe](Je))),ue}(t),A=!!P||!l,O={closeToast:f,type:u,theme:q};let F=null;return o===!1||(F=It(o)?o(O):k.isValidElement(o)?k.cloneElement(o,O):function(Q){let{closeToast:X,theme:oe,ariaLabel:ce="close"}=Q;return ge.createElement("button",{className:`Toastify__close-button Toastify__close-button--${oe}`,type:"button",onClick:ke=>{ke.stopPropagation(),X(ke)},"aria-label":ce},ge.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ge.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(O)),ge.createElement(m,{isIn:N,done:L,position:v,preventExitTransition:n,nodeRef:r,playToast:s},ge.createElement("div",{id:M,onClick:c,"data-in":N,className:ee,...i,style:x,ref:r},ge.createElement("div",{...N&&{role:E},className:It(p)?p({type:u}):pr("Toastify__toast-body",p),style:g},ne!=null&&ge.createElement("div",{className:pr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ne),ge.createElement("div",null,a)),F,ge.createElement($2,{...S&&!A?{key:`pb-${S}`}:{},rtl:b,theme:q,delay:l,isRunning:e,isIn:N,closeToast:f,hide:d,type:u,style:w,className:_,controlledProgress:A,progress:P||0})))},qc=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},V2=Kc(qc("bounce",!0));Kc(qc("slide",!0));Kc(qc("zoom"));Kc(qc("flip"));const Y2={position:"top-right",transition:V2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function K2(t){let e={...Y2,...t};const n=t.stacked,[r,i]=k.useState(!0),s=k.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=F2(e),{className:c,style:u,rtl:d,containerId:f}=e;function m(y){const x=pr("Toastify__toast-container",`Toastify__toast-container--${y}`,{"Toastify__toast-container--rtl":d});return It(c)?c({position:y,rtl:d,defaultClassName:x}):pr(x,Ll(c))}function v(){n&&(i(!0),V.play())}return H2(()=>{if(n){var y;const x=s.current.querySelectorAll('[data-in="true"]'),p=12,g=(y=e.position)==null?void 0:y.includes("top");let _=0,w=0;Array.from(x).reverse().forEach((S,E)=>{const P=S;P.classList.add("Toastify__toast--stacked"),E>0&&(P.dataset.collapsed=`${r}`),P.dataset.pos||(P.dataset.pos=g?"top":"bot");const b=_*(r?.2:1)+(r?0:p*E);P.style.setProperty("--y",`${g?b:-1*b}px`),P.style.setProperty("--g",`${p}`),P.style.setProperty("--s",""+(1-(r?w:0))),_+=P.offsetHeight,w+=.025})}},[r,l,n]),ge.createElement("div",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{n&&(i(!1),V.pause())},onMouseLeave:v},o((y,x)=>{const p=x.length?{...u}:{...u,pointerEvents:"none"};return ge.createElement("div",{className:m(y),style:p,key:`container-${y}`},x.map(g=>{let{content:_,props:w}=g;return ge.createElement(W2,{...w,stacked:n,collapseAll:v,isIn:a(w.toastId,w.containerId),style:w.style,key:`toast-${w.key}`},_)}))}))}const q2={xs:"dai-btn-xs",sm:"dai-btn-sm",md:"dai-btn-md",lg:"dai-btn-lg",wide:"dai-btn-wide",block:"dai-btn-block"},X2={xs:"dai-loading-xs",sm:"dai-loading-sm",md:"dai-loading-md",lg:"dai-loading-lg",wide:"dai-loading-md",block:"dai-loading-md"},Xc=({children:t,loading:e,className:n,disabled:r,size:i="md",disableWhileLoading:s=!0,...o})=>{const a=k.useMemo(()=>q2[i],[i]),l=k.useMemo(()=>X2[i],[i]);return h.jsxs("button",{disabled:r||s&&e,className:`dai-btn relative grid place-items-center ${n} ${a}`,...o,children:[h.jsx("span",{className:`${e?"opacity-0":""}`,children:t}),e&&h.jsx("span",{className:`dai-loading dai-loading-spinner absolute ${l}`})]})},qg=["input","textarea","button","a","select","label"];function G2(){const t=k.useRef(null);return k.useEffect(()=>{if(!t.current)return;const e=t.current.tagName.toLowerCase();if(qg.includes(e)){t.current.focus();return}for(const n of qg){const r=t.current.querySelectorAll(n);if(r.length!==0){r[0].focus();return}}},[t]),t}const J2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}),h.jsx("path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"})]})}),Q2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z"}),h.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"})]})}),Z2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M3 12a9 9 0 1 0 9-9a9.75 9.75 0 0 0-6.74 2.74L3 8"}),h.jsx("path",{d:"M3 3v5h5m4-1v5l4 2"})]})}),eS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,children:[h.jsx("path",{d:"M10.11 3.9a1 1 0 0 1 .995-.9h1.79a1 1 0 0 1 .995.9l.033.333a8 8 0 0 1 2.209.915l.259-.212a1 1 0 0 1 1.34.067l1.266 1.266a1 1 0 0 1 .067 1.34l-.212.26c.409.676.72 1.419.915 2.208l.332.033a1 1 0 0 1 .901.995v1.79a1 1 0 0 1-.9.995l-.333.033a8 8 0 0 1-.915 2.209l.212.259a1 1 0 0 1-.067 1.34l-1.266 1.266a1 1 0 0 1-1.34.067l-.26-.212a8 8 0 0 1-2.208.915l-.033.332a1 1 0 0 1-.995.901h-1.79a1 1 0 0 1-.995-.9l-.033-.333a8 8 0 0 1-2.209-.915l-.259.212a1 1 0 0 1-1.34-.067L5.003 17.73a1 1 0 0 1-.067-1.34l.212-.26a8 8 0 0 1-.915-2.208L3.9 13.89a1 1 0 0 1-.9-.995v-1.79a1 1 0 0 1 .9-.995l.333-.033a8 8 0 0 1 .915-2.209l-.212-.259a1 1 0 0 1 .067-1.34L6.27 5.003a1 1 0 0 1 1.34-.067l.26.212a8 8 0 0 1 2.208-.915z"}),h.jsx("path",{d:"M14.5 12a2.5 2.5 0 1 0-5 0a2.5 2.5 0 0 0 5 0"})]})}),tS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"M12 8v4m0 4h.01"})]})}),nS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"m13 21l2-1l2 1v-7h-4m4-5V7l-2 1l-2-1v2l-2 1l2 1v2l2-1l2 1v-2l2-1m1-7H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7v-2H4V5h16v10h-1v2h1a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 5H5V6h6m-2 5H5V9h4m2 5H5v-2h6Z"})}),rS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),h.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]})}),iS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M12 8a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4m0 2a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2m-2 12c-.25 0-.46-.18-.5-.42l-.37-2.65c-.63-.25-1.17-.59-1.69-.99l-2.49 1.01c-.22.08-.49 0-.61-.22l-2-3.46a.493.493 0 0 1 .12-.64l2.11-1.66L4.5 12l.07-1l-2.11-1.63a.493.493 0 0 1-.12-.64l2-3.46c.12-.22.39-.31.61-.22l2.49 1c.52-.39 1.06-.73 1.69-.98l.37-2.65c.04-.24.25-.42.5-.42h4c.25 0 .46.18.5.42l.37 2.65c.63.25 1.17.59 1.69.98l2.49-1c.22-.09.49 0 .61.22l2 3.46c.13.22.07.49-.12.64L19.43 11l.07 1l-.07 1l2.11 1.63c.19.15.25.42.12.64l-2 3.46c-.12.22-.39.31-.61.22l-2.49-1c-.52.39-1.06.73-1.69.98l-.37 2.65c-.04.24-.25.42-.5.42zm1.25-18l-.37 2.61c-1.2.25-2.26.89-3.03 1.78L5.44 7.35l-.75 1.3L6.8 10.2a5.55 5.55 0 0 0 0 3.6l-2.12 1.56l.75 1.3l2.43-1.04c.77.88 1.82 1.52 3.01 1.76l.37 2.62h1.52l.37-2.61c1.19-.25 2.24-.89 3.01-1.77l2.43 1.04l.75-1.3l-2.12-1.55c.4-1.17.4-2.44 0-3.61l2.11-1.55l-.75-1.3l-2.41 1.04a5.42 5.42 0 0 0-3.03-1.77L12.75 4z"})}),sS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M20 11v2H8l5.5 5.5l-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5L8 11z"})}),oS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M14.94 19.5L12 17.77L9.06 19.5l.78-3.34l-2.59-2.24l3.41-.29L12 10.5l1.34 3.13l3.41.29l-2.59 2.24M20 2H4v2l4.86 3.64a8 8 0 1 0 6.28 0L20 4m-2 11a6 6 0 1 1-7.18-5.88a5.9 5.9 0 0 1 2.36 0A6 6 0 0 1 18 15m-5.37-8h-1.26l-4-3h9.34Z"})}),aS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M12 5c3.87 0 7 3.13 7 7s-3.13 7-7 7s-7-3.13-7-7s3.13-7 7-7m0-3c5.5 0 10 4.5 10 10s-4.5 10-10 10S2 17.5 2 12S6.5 2 12 2m0 2c-4.42 0-8 3.58-8 8s3.58 8 8 8s8-3.58 8-8s-3.58-8-8-8"})}),lS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4m7 14l5-5l-5-5m5 5H9"})}),cS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:11,cy:11,r:8}),h.jsx("path",{d:"m21 21l-4.3-4.3"})]})}),uS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M20 7h-9m3 10H5"}),h.jsx("circle",{cx:17,cy:17,r:3}),h.jsx("circle",{cx:7,cy:7,r:3})]})}),dS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M5 20h14v-2H5m14-9h-4V3H9v6H5l7 7z"})}),hS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M2.062 12.348a1 1 0 0 1 0-.696a10.75 10.75 0 0 1 19.876 0a1 1 0 0 1 0 .696a10.75 10.75 0 0 1-19.876 0"}),h.jsx("circle",{cx:12,cy:12,r:3})]})}),fS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575a1 1 0 0 1 0 .696a10.8 10.8 0 0 1-1.444 2.49m-6.41-.679a3 3 0 0 1-4.242-4.242"}),h.jsx("path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151a1 1 0 0 1 0-.696a10.75 10.75 0 0 1 4.446-5.143M2 2l20 20"})]})}),pS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),h.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"})]})}),gS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}),h.jsx("path",{d:"m9 11l3 3L22 4"})]})}),mS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"m15 9l-6 6m0-6l6 6"})]})}),yS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"m9 12l2 2l4-4"})]})}),vS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 16h.01M12 8v4m3.312-10a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z"})}),xS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m21.73 18l-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3M12 9v4m0 4h.01"})}),_S=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"M12 16v-4m0-4h.01"})]})}),wS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"}),h.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"})]})}),bS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:1}),h.jsx("circle",{cx:12,cy:5,r:1}),h.jsx("circle",{cx:12,cy:19,r:1})]})}),kS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497zM15 5l4 4"})}),SS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m-7-7v14"})}),jS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:4}),h.jsx("path",{d:"M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"})]})}),ES=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3a6 6 0 0 0 9 9a9 9 0 1 1-9-9"})}),CS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6h18m-2 0v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6m3 0V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})}),PS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M3 7V5c0-1.1.9-2 2-2h2m10 0h2c1.1 0 2 .9 2 2v2m0 10v2c0 1.1-.9 2-2 2h-2M7 21H5c-1.1 0-2-.9-2-2v-2"}),h.jsx("rect",{width:7,height:5,x:7,y:7,rx:1}),h.jsx("rect",{width:7,height:5,x:10,y:12,rx:1})]})}),MS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m-7-7l7 7l-7 7"})}),TS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 6L6 18M6 6l12 12"})}),RS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2"}),h.jsx("circle",{cx:12,cy:12,r:3})]})}),LS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4m4-5l5 5l5-5m-5 5V3"})}),OS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m9 18l6-6l-6-6"})}),DS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m15 18l-6-6l6-6"})}),NS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v20m5-17H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),AS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M10 8h.01M12 12h.01M14 8h.01M16 12h.01M18 8h.01M6 8h.01M7 16h10m-9-4h.01"}),h.jsx("rect",{width:20,height:16,x:2,y:4,rx:2})]})}),IS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 6L9 17l-5-5"})}),FS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M8 2v4m8-4v4"}),h.jsx("rect",{width:18,height:18,x:3,y:4,rx:2}),h.jsx("path",{d:"M3 10h18M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01M16 18h.01"})]})}),zS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 12h16M4 6h16M4 18h16"})}),$S=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"M8 12h8m-4-4v8"})]})}),BS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"M8 12h8"})]})}),US=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("rect",{width:20,height:16,x:2,y:4,rx:2}),h.jsx("path",{d:"M10 4v4M2 8h20M6 4v4"})]})}),HS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4m0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4"})}),WS={"lucide:house":J2,"lucide:chart-pie":Q2,"lucide:history":Z2,"mynaui:cog":eS,"lucide:circle-alert":tS,"mdi:certificate-outline":nS,"lucide:pie-chart":rS,"mdi:gear-outline":iS,"mdi:arrow-left":sS,"mdi:medal-outline":oS,"mdi:circle-slice-8":aS,"lucide:log-out":lS,"lucide:search":cS,"lucide:settings-2":uS,"mdi:download":dS,"lucide:eye":hS,"lucide:eye-off":fS,"lucide:file":pS,"lucide:check-circle":gS,"lucide:x-circle":mS,"lucide:circle-check":yS,"lucide:octagon-alert":vS,"lucide:triangle-alert":xS,"lucide:info":_S,"lucide:wallet":wS,"lucide:more-vertical":bS,"lucide:pencil":kS,"lucide:plus":SS,"lucide:sun":jS,"lucide:moon":ES,"lucide:trash":CS,"lucide:group":PS,"lucide:arrow-right":MS,"lucide:x":TS,"lucide:settings":RS,"lucide:download":LS,"lucide:chevron-right":OS,"lucide:dollar-sign":NS,"lucide:keyboard":AS,"lucide:check":IS,"lucide:chevron-left":DS,"lucide:calendar-days":FS,"lucide:menu":zS,"lucide:circle-plus":$S,"lucide:circle-minus":BS,"lucide:app-window":US,"lucide:infinity":HS},we=({icon:t,...e})=>{const n=k.useMemo(()=>WS[t],[t]);return h.jsx(n,{...e})},Gc=({children:t,title:e,useFocus:n=!0,className:r})=>{const i=G2();return h.jsxs("div",{ref:n?i:void 0,className:"flex flex-col gap-1 rounded-2xl bg-base-100 p-6 shadow-xl sm:min-w-[30rem] sm:rounded-2xl "+r,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[e&&h.jsx("h3",{className:"text-lg font-bold",children:e}),h.jsx("button",{type:"button",onClick:()=>Mr(),children:h.jsx(we,{icon:"lucide:x"})})]}),t]})},VS="modulepreload",YS=function(t){return"/duitify/"+t},Xg={},yi=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=YS(l),l in Xg)return;Xg[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":VS,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},KS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yi(async()=>{const{default:r}=await Promise.resolve().then(()=>Cs);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Of extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class qS extends Of{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class XS extends Of{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class GS extends Of{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(dh||(dh={}));var JS=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class QS{constructor(e,{headers:n={},customFetch:r,region:i=dh.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=KS(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return JS(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(v=>{throw new qS(v)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new XS(u);if(!u.ok)throw new GS(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield u.json():f==="application/octet-stream"?m=yield u.blob():f==="text/event-stream"?m=u:f==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(i){return{data:null,error:i}}})}}var kt={},Df={},Jc={},ma={},Qc={},Zc={},ZS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_s=ZS();const ej=_s.fetch,gx=_s.fetch.bind(_s),mx=_s.Headers,tj=_s.Request,nj=_s.Response,Cs=Object.freeze(Object.defineProperty({__proto__:null,Headers:mx,Request:tj,Response:nj,default:gx,fetch:ej},Symbol.toStringTag,{value:"Module"})),rj=l_(Cs);var eu={};Object.defineProperty(eu,"__esModule",{value:!0});class ij extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}eu.default=ij;var yx=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zc,"__esModule",{value:!0});const sj=yx(rj),oj=yx(eu);let aj=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=sj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,d=null,f=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const p=await s.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=p:u=JSON.parse(p))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await s.text();try{c=JSON.parse(y),Array.isArray(c)&&s.status===404&&(u=[],c=null,f=200,m="OK")}catch{s.status===404&&y===""?(f=204,m="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,m="OK"),c&&this.shouldThrowOnError)throw new oj.default(c)}return{error:c,data:u,count:d,status:f,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}};Zc.default=aj;var lj=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qc,"__esModule",{value:!0});const cj=lj(Zc);let uj=class extends cj.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Qc.default=uj;var dj=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ma,"__esModule",{value:!0});const hj=dj(Qc);let fj=class extends hj.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ma.default=fj;var pj=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jc,"__esModule",{value:!0});const Hs=pj(ma);let gj=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Hs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Hs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Hs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Hs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Hs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Jc.default=gj;var tu={},nu={};Object.defineProperty(nu,"__esModule",{value:!0});nu.version=void 0;nu.version="0.0.0-automated";Object.defineProperty(tu,"__esModule",{value:!0});tu.DEFAULT_HEADERS=void 0;const mj=nu;tu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${mj.version}`};var vx=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Df,"__esModule",{value:!0});const yj=vx(Jc),vj=vx(ma),xj=tu;let _j=class xx{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},xj.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new yj.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new xx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new vj.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Df.default=_j;var Ps=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kt,"__esModule",{value:!0});kt.PostgrestError=kt.PostgrestBuilder=kt.PostgrestTransformBuilder=kt.PostgrestFilterBuilder=kt.PostgrestQueryBuilder=kt.PostgrestClient=void 0;const _x=Ps(Df);kt.PostgrestClient=_x.default;const wx=Ps(Jc);kt.PostgrestQueryBuilder=wx.default;const bx=Ps(ma);kt.PostgrestFilterBuilder=bx.default;const kx=Ps(Qc);kt.PostgrestTransformBuilder=kx.default;const Sx=Ps(Zc);kt.PostgrestBuilder=Sx.default;const jx=Ps(eu);kt.PostgrestError=jx.default;var wj=kt.default={PostgrestClient:_x.default,PostgrestQueryBuilder:wx.default,PostgrestFilterBuilder:bx.default,PostgrestTransformBuilder:kx.default,PostgrestBuilder:Sx.default,PostgrestError:jx.default};const{PostgrestClient:bj,PostgrestQueryBuilder:mL,PostgrestFilterBuilder:yL,PostgrestTransformBuilder:vL,PostgrestBuilder:xL}=wj,kj="2.10.7",Sj={"X-Client-Info":`realtime-js/${kj}`},jj="1.0.0",Ex=1e4,Ej=1e3;var ss;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ss||(ss={}));var Lt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Lt||(Lt={}));var sn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(sn||(sn={}));var hh;(function(t){t.websocket="websocket"})(hh||(hh={}));var ei;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ei||(ei={}));class Cj{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Cx{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Se||(Se={}));const Gg=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=Pj(o,t,e,i),s),{})},Pj=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?Px(s,o):fh(o)},Px=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Lj(e,n)}switch(t){case Se.bool:return Mj(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return Tj(e);case Se.json:case Se.jsonb:return Rj(e);case Se.timestamp:return Oj(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return fh(e);default:return fh(e)}},fh=t=>t,Mj=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Tj=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Rj=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Lj=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Px(e,a))}return t},Oj=t=>typeof t=="string"?t.replace(" ","T"):t,Mx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Vu{constructor(e,n,r={},i=Ex){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Jg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Jg||(Jg={}));class vo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vo.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=vo.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=vo.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=s[c];if(d){const f=u.map(x=>x.presence_ref),m=d.map(x=>x.presence_ref),v=u.filter(x=>m.indexOf(x.presence_ref)<0),y=d.filter(x=>f.indexOf(x.presence_ref)<0);v.length>0&&(a[c]=v),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(m=>m.presence_ref),f=u.filter(m=>d.indexOf(m.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Qg||(Qg={}));var Zg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Zg||(Zg={}));var em;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(em||(em={}));class Nf{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Vu(this,sn.join,this.params,this.timeout),this.rejoinTimer=new Cx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new vo(this),this.broadcastEndpointURL=Mx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,m=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,v=[];for(let y=0;y<m;y++){const x=f[y],{filter:{event:p,schema:g,table:_,filter:w}}=x,S=u&&u[y];if(S&&S.event===p&&S.schema===g&&S.table===_&&S.filter===w)v.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Lt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Vu(this,sn.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Vu(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=sn;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var v,y,x;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(y=m.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var v,y,x,p,g,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const w=m.id,S=(v=m.filter)===null||v===void 0?void 0:v.event;return w&&((y=n.ids)===null||y===void 0?void 0:y.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(g=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:y,table:x,commit_timestamp:p,type:g,errors:_}=v;f=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:p,eventType:g,new:{},old:{},errors:_}),this._getPayloadRecords(v))}m.callback(f,r)})}_isClosed(){return this.state===Lt.closed}_isJoined(){return this.state===Lt.joined}_isJoining(){return this.state===Lt.joining}_isLeaving(){return this.state===Lt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Nf.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(sn.close,{},e)}_onError(e){this._on(sn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Gg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Gg(e.columns,e.old_record)),n}}const Dj=()=>{},Nj=typeof WebSocket<"u",Aj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ij{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Sj,this.params={},this.timeout=Ex,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Dj,this.conn=null,this.sendBuffer=[],this.serializer=new Cj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>yi(async()=>{const{default:l}=await Promise.resolve().then(()=>Cs);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${hh.websocket}`,this.httpEndpoint=Mx(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Cx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Nj){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Fj(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),yi(async()=>{const{default:e}=await import("./browser-BLLxhW4N.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ss.connecting:return ei.Connecting;case ss.open:return ei.Open;case ss.closing:return ei.Closing;default:return ei.Closed}}isConnected(){return this.connectionState()===ei.Open}channel(e,n={config:{}}){const r=new Nf(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(sn.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jj}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(sn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ej,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Aj],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Fj{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ss.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Af extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ze(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class zj extends Af{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ph extends Af{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var $j=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Tx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yi(async()=>{const{default:r}=await Promise.resolve().then(()=>Cs);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Bj=()=>$j(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yi(()=>Promise.resolve().then(()=>Cs),void 0)).Response:Response}),gh=t=>{if(Array.isArray(t))return t.map(n=>gh(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=gh(r)}),e};var bi=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Yu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Uj=(t,e,n)=>bi(void 0,void 0,void 0,function*(){const r=yield Bj();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new zj(Yu(i),t.status||500))}).catch(i=>{e(new ph(Yu(i),i))}):e(new ph(Yu(t),t))}),Hj=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function ya(t,e,n,r,i,s){return bi(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Hj(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Uj(l,a,r))})})}function fc(t,e,n,r){return bi(this,void 0,void 0,function*(){return ya(t,"GET",e,n,r)})}function ar(t,e,n,r,i){return bi(this,void 0,void 0,function*(){return ya(t,"POST",e,r,i,n)})}function Wj(t,e,n,r,i){return bi(this,void 0,void 0,function*(){return ya(t,"PUT",e,r,i,n)})}function Vj(t,e,n,r){return bi(this,void 0,void 0,function*(){return ya(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Rx(t,e,n,r,i){return bi(this,void 0,void 0,function*(){return ya(t,"DELETE",e,r,i,n)})}var _t=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Yj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kj{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Tx(i)}uploadOrUpdate(e,n,r,i){return _t(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},tm),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}upload(e,n,r){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return _t(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:tm.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ze(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return _t(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield ar(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Af("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}update(e,n,r){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return _t(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ze(i))return{data:null,error:i};throw i}})}copy(e,n,r){return _t(this,void 0,void 0,function*(){try{return{data:{path:(yield ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ze(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return _t(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield ar(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Ze(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return _t(this,void 0,void 0,function*(){try{const i=yield ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Ze(i))return{data:null,error:i};throw i}})}download(e,n){return _t(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield fc(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ze(a))return{data:null,error:a};throw a}})}info(e){return _t(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield fc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gh(r),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}exists(e){return _t(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Vj(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ze(r)&&r instanceof ph){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Rx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}list(e,n,r){return _t(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Yj),n),{prefix:e||""});return{data:yield ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ze(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const qj="2.7.1",Xj={"X-Client-Info":`storage-js/${qj}`};var Ri=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Gj{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Xj),n),this.fetch=Tx(r)}listBuckets(){return Ri(this,void 0,void 0,function*(){try{return{data:yield fc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ze(e))return{data:null,error:e};throw e}})}getBucket(e){return Ri(this,void 0,void 0,function*(){try{return{data:yield fc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ri(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Ri(this,void 0,void 0,function*(){try{return{data:yield Wj(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ri(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ri(this,void 0,void 0,function*(){try{return{data:yield Rx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}}class Jj extends Gj{constructor(e,n={},r){super(e,n,r)}from(e){return new Kj(this.url,this.headers,e,this.fetch)}}const Qj="2.46.1";let to="";typeof Deno<"u"?to="deno":typeof document<"u"?to="web":typeof navigator<"u"&&navigator.product==="ReactNative"?to="react-native":to="node";const Zj={"X-Client-Info":`supabase-js-${to}/${Qj}`},eE={headers:Zj},tE={schema:"public"},nE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rE={};var iE=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const sE=t=>{let e;return t?e=t:typeof fetch>"u"?e=gx:e=fetch,(...n)=>e(...n)},oE=()=>typeof Headers>"u"?mx:Headers,aE=(t,e,n)=>{const r=sE(n),i=oE();return(s,o)=>iE(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var lE=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function cE(t){return t.replace(/\/$/,"")}function uE(t,e){const{db:n,auth:r,realtime:i,global:s}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>lE(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Lx="2.65.1",dE="http://localhost:9999",hE="supabase.auth.token",fE={"X-Client-Info":`gotrue-js/${Lx}`},nm=10,mh="X-Supabase-Api-Version",Ox={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function pE(t){return Math.round(Date.now()/1e3)+t}function gE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const en=()=>typeof document<"u",Ur={tested:!1,writable:!1},xo=()=>{if(!en())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ur.tested)return Ur.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ur.tested=!0,Ur.writable=!0}catch{Ur.tested=!0,Ur.writable=!1}return Ur.writable};function Ku(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Dx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yi(async()=>{const{default:r}=await Promise.resolve().then(()=>Cs);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},mE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Nx=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Za=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},el=async(t,e)=>{await t.removeItem(e)};function yE(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,s,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&i!=0&&(n=n+String.fromCharCode(i)),c!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}class ru{constructor(){this.promise=new ru.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ru.promiseConstructor=Promise;function rm(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(yE(r))}async function vE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function xE(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function _E(t){return("0"+t.toString(16)).substr(-2)}function wE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,_E).join("")}async function bE(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function kE(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function SE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await bE(t);return kE(n)}async function Li(t,e,n=!1){const r=wE();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Nx(t,`${e}-code-verifier`,i);const s=await SE(r);return[s,r===s?"plain":"s256"]}const jE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function EE(t){const e=t.headers.get(mh);if(!e||!e.match(jE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class If extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class CE extends If{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function PE(t){return se(t)&&t.name==="AuthApiError"}class Ax extends If{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ki extends If{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class nr extends ki{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ME(t){return se(t)&&t.name==="AuthSessionMissingError"}class qu extends ki{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tl extends ki{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class nl extends ki{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class im extends ki{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yh extends ki{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Xu(t){return se(t)&&t.name==="AuthRetryableFetchError"}class sm extends ki{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var TE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Xr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RE=[502,503,504];async function om(t){var e;if(!mE(t))throw new yh(Xr(t),0);if(RE.includes(t.status))throw new yh(Xr(t),t.status);let n;try{n=await t.json()}catch(s){throw new Ax(Xr(s),s)}let r;const i=EE(t);if(i&&i.getTime()>=Ox["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new sm(Xr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new nr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new sm(Xr(n),t.status,n.weak_password.reasons);throw new CE(Xr(n),t.status||500,r)}const LE=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function le(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[mh]||(s[mh]=Ox["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await OE(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function OE(t,e,n,r,i,s){const o=LE(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new yh(Xr(l),0)}if(a.ok||await om(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await om(l)}}function rr(t){var e;let n=null;IE(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=pE(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function am(t){const e=rr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ur(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function DE(t){return{data:t,error:null}}function NE(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=TE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function AE(t){return t}function IE(t){return t.access_token&&t.refresh_token&&t.expires_in}var FE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class zE{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Dx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ur})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=FE(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:NE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ur})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:AE});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=y}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(se(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ur})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ur})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ur})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}}const $E={getItem:t=>xo()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{xo()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{xo()&&globalThis.localStorage.removeItem(t)}};function lm(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function BE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Oi={debug:!!(globalThis&&xo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ix extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class UE extends Ix{}async function HE(t,e,n){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new UE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Oi.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}BE();const WE={url:dE,storageKey:hE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ws=30*1e3,cm=3;async function um(t,e,n){return await n()}class Jo{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jo.nextInstanceID,Jo.nextInstanceID+=1,this.instanceID>0&&en()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},WE),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new zE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Dx(i.fetch),this.lock=i.lock||um,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:en()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=HE:this.lock=um,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:xo()?this.storage=$E:(this.memoryStorage={},this.storage=lm(this.memoryStorage)):(this.memoryStorage={},this.storage=lm(this.memoryStorage)),en()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=en()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:i,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return se(e)?{error:e}:{error:new Ax("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:rr}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:u,password:d,options:f}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Li(this.storage,this.storageKey)),s=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:rr})}else if("phone"in e){const{phone:u,password:d,options:f}=e;s=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:rr})}else throw new tl("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:am})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:am})}else throw new tl("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new qu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Za(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:rr});if(await el(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new qu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(se(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:rr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new qu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Li(this.storage,this.storageKey));const{error:d}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new tl("You must provide either an email or phone number.")}catch(a){if(se(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:rr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(se(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Li(this.storage,this.storageKey)),await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:DE})}catch(s){if(se(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new nr;const{error:i}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(se(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await le(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await le(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new tl("You must provide either an email or phone number and a type")}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Za(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ur}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nr}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ur})})}catch(n){if(se(n))return ME(n)&&(await this._removeSession(),await el(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new nr;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Li(this.storage,this.storageKey));const{data:c,error:u}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ur});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return rm(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nr;const n=Date.now()/1e3;let r=n,i=!0,s=null;const o=rm(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(se(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new nr;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!en())throw new nl("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new nl("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new im("Not a valid PKCE flow url.");const n=Ku(window.location.href);if(e){if(!n.code)throw new im("No code detected.");const{data:g,error:_}=await this._exchangeCodeForSession(n.code);if(_)throw _;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new nl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=n;if(!s||!a||!o||!c)throw new nl("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const m=f-u;m*1e3<=Ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const v=f-d;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,u);const{data:y,error:x}=await this._getUser(s);if(x)throw x;const p={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:n.type},error:null}}catch(n){if(se(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=Ku(window.location.href);return!!(en()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Ku(window.location.href),n=await Za(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(PE(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await el(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=gE(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Li(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(se(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:d,error:f}=s;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return en()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(se(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await xE(async i=>(i>0&&await vE(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rr})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Xu(s)&&Date.now()+o-r<Ws})}catch(r){if(this._debug(n,"error",r),se(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),en()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Za(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+nm;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${nm}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Xu(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new nr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ru;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new nr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),se(s)){const o={session:null,error:s};return Xu(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Nx(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await el(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&en()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ws);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ws}ms, refresh threshold is ${cm} ticks`),i<=cm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ix)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!en()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Li(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await le(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(se(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(se(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Jo.nextInstanceID=0;const VE=Jo;class YE extends VE{constructor(e){super(e)}}var KE=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class qE{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=cE(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:tE,realtime:rE,auth:Object.assign(Object.assign({},nE),{storageKey:l}),global:eE},u=uE(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=aE(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new bj(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new QS(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Jj(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return KE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,u){var d;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YE({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new Ij(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const XE=(t,e,n)=>new qE(t,e,n);function Fx(t,e){return e===""?t:t.startsWith(e)?t.slice(e.length):t}function zx(t,e){return t.endsWith(e)?t.slice(0,-e.length):t}const Tr={SUPABASE_PROJECT_URL:"https://xhllsvlqdzgrhjjfgewk.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobGxzdmxxZHpncmhqamZnZXdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI2MDI1MjcsImV4cCI6MjA0ODE3ODUyN30.sgz9zSOQRqOzjWojV2acr6f3OQNNZ88D5zT-TSmYEIM",BASE_URL:zx("/duitify","/")},$t=XE(Tr.SUPABASE_PROJECT_URL,Tr.SUPABASE_ANON_KEY);$t.storage.from("images").getPublicUrl("accounts").data.publicUrl;const pc=$t.storage.from("images").getPublicUrl("accounts").data.publicUrl,iu=$t.storage.from("images").getPublicUrl("categories").data.publicUrl;class va{static get db(){return $t.schema("public")}}class gc extends va{static async getCategories(e){return this.db.from("category").select("*").eq("user_id",e).order("name",{ascending:!0})}static async createCategory(e){return this.db.from("category").insert(e).select().single()}static async updateCategory(e,n){return this.db.from("category").update(n).eq("id",e).select().single()}static async deleteCategory(e){return await this.db.from("category").delete().eq("id",e)}}const Tt=De(null),_o=pn(),os=De({loading:!1,fetched:!1,data:[]});async function GE(){_o.set(os,e=>({...e,loading:!0,fetched:!1}));const t=await $t.storage.from("images").list("categories");if(t.error)return _o.set(os,e=>({...e,loading:!1})),t.error.message;_o.set(os,{loading:!1,fetched:!0,data:(t.data??[]).map(e=>e.name)})}function JE(t){const e=_o.get(os);e.fetched&&_o.set(os,{...e,data:typeof t=="function"?t(e.data):t})}const QE=De(t=>({refresh:GE,setData:JE,...t(os)})),ZE=()=>{const[t]=te(QE);return t},$x=({onSuccess:t,category:e,categoryType:n})=>{const[r]=te(Tt),{data:i,refresh:s,fetched:o,loading:a}=ZE(),[l,c]=k.useState(!1),[u,d]=k.useState((e==null?void 0:e.name)??""),[f,m]=k.useState(0),v=k.useMemo(()=>!u,[u]);k.useEffect(()=>{o||(async()=>{const x=await s();if(x)return V.error(x)})()},[]),k.useEffect(()=>{o&&m(e!=null&&e.logo?i.indexOf(e.logo):0)},[o,i,e]);const y=async()=>{c(!0);let x;if(e?x=await gc.updateCategory(e.id,{name:u,logo:i[f],type:n}):x=await gc.createCategory({name:u,logo:i[f],type:n,user_id:r.user.id}),c(!1),x.error){V.error(x.error.message);return}if(!x.data){V.error("Something went wrong");return}t(x.data),Mr()};return h.jsx(Gc,{title:e?"Update Category":"Create Category",className:"w-[90vw] max-w-[30rem]",children:h.jsxs("form",{onSubmit:x=>{x.preventDefault(),y()},className:"grid grid-cols-1 gap-2",children:[h.jsxs("label",{className:"dai-form-control w-full",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Name"})}),h.jsx("input",{value:u,onChange:x=>d(x.target.value),type:"text",placeholder:"Category Name",className:"dai-input dai-input-bordered"})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Logo"})}),h.jsx("div",{className:"flex items-center gap-3 overflow-x-scroll px-2 py-2",children:a?Array.from({length:10}).map((x,p)=>h.jsx("button",{type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 outline-transparent",children:h.jsx("img",{className:"dai-skeleton size-12 rounded-lg",alt:""})},p)):i.length===0?h.jsx("div",{}):i.map((x,p)=>h.jsx("button",{onClick:()=>m(p),type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 "+(p===f?"outline-primary":"outline-transparent"),children:h.jsx("img",{className:"size-12 rounded-lg",src:`${iu}/${x}`,alt:""},p)},p))})]}),h.jsx("div",{className:"flex justify-end pt-2",children:h.jsx(Xc,{disabled:v,loading:l,type:"submit",className:"dai-btn-primary",children:"Submit"})})]})})},eC=(t,e,n)=>{k.useEffect(()=>{const r=i=>{!t.current||t.current.contains(i.target)||n!=null&&n.some(s=>{var o;return(o=s.current)==null?void 0:o.contains(i.target)})||e(i)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[t,e,n])},dm=160,Xn=({icon:t,disabled:e,options:n,position:r="bottom"})=>{const[i,s]=k.useState(!1),o=k.useRef(null),a=k.useRef(null),[l,c]=k.useState();return eC(o,()=>{i&&s(!1)},[a]),k.useEffect(()=>{if(!i||!o.current){c(void 0);return}const u=o.current.getBoundingClientRect(),d=u.top<=dm?"bottom":window.innerHeight-u.top<=dm?"top":r,f=d==="bottom"?u.top+u.height:u.top;c({top:f,offset:d,left:u.left+u.width})},[i,o.current,r]),h.jsxs("div",{children:[h.jsx("button",{ref:o,type:"button",disabled:e||!n.length,className:"dai-btn dai-btn-ghost dai-btn-sm text-base",onClick:u=>{s(d=>!d),u.stopPropagation()},children:h.jsx(we,{icon:t??"lucide:more-vertical"})}),l&&h.jsx("ul",{ref:a,style:{top:l.top,left:l.left,position:"fixed"},className:"dai-menu z-[29] w-56 -translate-x-full rounded-box border-[2px] border-base-200 bg-base-100 shadow-all-lg "+(l.offset==="top"?"-translate-y-full":""),children:n.map((u,d)=>h.jsx("li",{children:h.jsxs("button",{className:"font-semibold "+u.style,onClick:f=>{var m;f.stopPropagation(),(m=u.onClick)==null||m.call(u),s(!1)},children:[h.jsx(we,{className:"text-lg",icon:u.icon}),u.label]})},d))})]})},ve=({children:t,className:e})=>h.jsx("div",{className:"dai-skeleton w-fit "+e,children:h.jsx("div",{className:"invisible",children:t})}),tC=({title:t,body:e,okText:n,noText:r,onNo:i,onOk:s,onClose:o,hideNo:a})=>(k.useEffect(()=>()=>{o==null||o()},[]),h.jsxs(Gc,{title:t??"Konfirmasi",children:[e&&h.jsx("p",{className:"py-2",children:e}),h.jsxs("div",{className:"mt-2 flex w-full justify-end gap-2",children:[!a&&h.jsx("button",{onClick:i,className:"dai-btn dai-btn-ghost",children:r??"Cancel"}),h.jsx("button",{onClick:s,className:"dai-btn dai-btn-primary min-w-16",children:n??"OK"})]})]}));function xa(t={}){return new Promise(e=>{Fr(tC,{onClose:()=>e(!1),onOk:()=>{e(!0),Mr()},onNo:()=>{e(!1),Mr()},...t})===-1&&e(!1)})}const nC=({category:t,categoryType:e,onUpdated:n,onDeleted:r})=>{const i=bn(),s=async()=>{if(!await xa({title:"Delete category",body:"Are you sure you want to delete this category?"}))return;Ie(!0);const a=await gc.deleteCategory(t.id);if(Ie(!1),a.error){V.error(a.error.message);return}r(t.id)};return h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md hover:cursor-pointer",children:[h.jsx("img",{onClick:()=>i(`/accounts/transaction?category=${t.id}`),src:`${iu}/${t.logo}`,className:"size-9 xs:size-12"}),h.jsx("div",{className:"flex flex-1 flex-col gap-0.5",children:h.jsx("p",{className:"text-sm xs:text-base",children:t.name})}),h.jsx(Xn,{options:[{icon:"lucide:pencil",label:"Edit",onClick:()=>Fr($x,{category:t,onSuccess:n,categoryType:e})},{icon:"lucide:trash",label:"Delete",onClick:s}]})]})},rC=()=>h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md",children:[h.jsx(ve,{children:h.jsx("div",{className:"size-9 xs:size-12"})}),h.jsx("div",{className:"flex flex-1 flex-col gap-0.5",children:h.jsx(ve,{children:h.jsx("p",{className:"text-sm xs:text-base",children:"Transportation"})})}),h.jsx(ve,{children:h.jsx(Xn,{options:[]})})]}),Gi=pn(),as=De({loading:!1,fetched:!1,data:[]});async function iC(){var e;Gi.set(as,n=>({...n,loading:!0,fetched:!1}));const t=await gc.getCategories(((e=Gi.get(Tt))==null?void 0:e.user.id)??"");if(t.error)return Gi.set(as,n=>({...n,loading:!1})),t.error.message;Gi.set(as,{loading:!1,fetched:!0,data:t.data??[]})}function sC(t){const e=Gi.get(as);e.fetched&&Gi.set(as,{...e,data:typeof t=="function"?t(e.data):t})}const oC=De(t=>({refresh:iC,setData:sC,...t(as)})),Ff=()=>{const[t]=te(oC);return t},aC=()=>{const[,t]=te(Ir),{data:e,loading:n,refresh:r,fetched:i,setData:s}=Ff(),[o,a]=k.useState("expense"),l=k.useMemo(()=>e.filter(c=>c.type===o),[e,o]);return k.useEffect(()=>{t({title:"Categories",actions:[h.jsx("button",{onClick:()=>Fr($x,{onSuccess:c=>s(u=>[c,...u]),categoryType:o}),className:"dai-btn dai-btn-success dai-btn-xs xs:dai-btn-sm",children:"Create"})]})},[o]),k.useEffect(()=>{i||(async()=>{const c=await r();c&&V.error(c)})()},[]),h.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-2",children:[h.jsx("div",{role:"tablist",className:"dai-tabs-boxed dai-tabs bg-base-100",children:["expense","income"].map((c,u)=>h.jsx("button",{role:"tab",onClick:()=>a(c),className:"dai-tab capitalize "+(c===o?"dai-tab-active":""),children:c},u))}),h.jsx("div",{className:"grid grid-cols-1 gap-2",children:n?Array.from({length:14}).map((c,u)=>h.jsx(rC,{},u)):l.length===0?h.jsx("p",{className:"text-center",children:"No categories found"}):l.map((c,u)=>h.jsx(nC,{category:c,categoryType:o,onDeleted:d=>s(f=>f.filter(m=>m.id!==d)),onUpdated:d=>{s(f=>f.map(m=>m.id===d.id?d:m))}},u))})]})},wo=Intl.DateTimeFormat().resolvedOptions().timeZone;function pt(t,{placeholder:e="-",lang:n,format:r="yyyy-MM-dd",timeZone:i}={}){if(!t||(typeof t=="string"&&(t=new Date(t)),typeof t=="number"&&(t=new Date(t)),!(t instanceof Date)))return e;if(i||(i=wo),n)return new Intl.DateTimeFormat(n,{day:"2-digit",month:"short",year:"numeric",weekday:"short",timeZone:i}).format(t);i!==wo&&(t=new Date(t.toLocaleString("en-US",{timeZone:i})));const s=t.getFullYear(),o=t.getMonth()+1,a=t.getDate(),l=t.getHours(),c=t.getMinutes(),u=t.getSeconds();return r.replace("yyyy",s.toString()).replace("MM",o.toString().padStart(2,"0")).replace("dd",a.toString().padStart(2,"0")).replace("HH",l.toString().padStart(2,"0")).replace("mm",c.toString().padStart(2,"0")).replace("ss",u.toString().padStart(2,"0"))}function un(t,{currency:e="IDR"}={}){return new Intl.NumberFormat("id-ID",{style:"currency",currency:e}).format(t)}const Bx=[15,25,50];class mc extends va{static async getTransactions(e,{cursor:n,account:r,category:i}){const s=new Date;s.setMonth(s.getMonth()+1);const o=this.db.from("transaction").select(`*, 
                category(id, name, logo),
                account:account!transaction_account_id_fkey(id, name, logo),
                to_account:account!transaction_to_account_id_fkey(id, name, logo)`).eq("user_id",e);return i&&o.eq("category_id",i),r&&o.or(`account_id.eq.${r}, to_account_id.eq.${r}`),o.order("occurred_at",{ascending:!1}).lt("occurred_at",n||pt(s,{format:"yyyy-MM-dd HH:mm:ss"})).limit(Bx[0])}static async update(e,n){return this.db.from("transaction").update(n).eq("id",e).select().single()}static async create(e){return this.db.from("transaction").insert(e).select().single()}static async delete(e){return await this.db.from("transaction").delete().eq("id",e)}}class yc extends va{static async getAccounts(e){return this.db.from("account").select("*").eq("user_id",e).order("name",{ascending:!0})}static async createAccount(e){return this.db.from("account").upsert(e).select().single()}static async updateAccount(e,n){return this.db.from("account").update(n).eq("id",e).select().single()}static async deleteAccount(e){return await this.db.from("account").delete().eq("id",e)}}const Ji=pn(),ls=De({loading:!1,fetched:!1,data:[]});async function lC(){var e;Ji.set(ls,n=>({...n,loading:!0,fetched:!1}));const t=await yc.getAccounts(((e=Ji.get(Tt))==null?void 0:e.user.id)??"");if(t.error)return Ji.set(ls,n=>({...n,loading:!1})),t.error.message;Ji.set(ls,{loading:!1,fetched:!0,data:t.data??[]})}function cC(t){const e=Ji.get(ls);e.fetched&&Ji.set(ls,{...e,data:typeof t=="function"?t(e.data):t})}const uC=De(t=>({refresh:lC,setData:cC,...t(ls)})),vc=()=>{const[t]=te(uC);return t},Ux=De(!1),Ft=De(),zf=De(!1),dn=({amount:t,count:e})=>{const[n]=te(Ft),[r]=te(Ux),i=k.useMemo(()=>Math.abs(t),[t]);return!(n!=null&&n.hide_amount)||r||i<=(n.max_visible_amount??0)?un(t):e?h.jsx(Gu,{num:e}):i>=1e6?h.jsx(Gu,{num:9}):h.jsx(Gu,{num:7})},Gu=({num:t})=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:t}).map((e,n)=>h.jsx("span",{className:"size-2 rounded-full bg-current"},n))}),h.jsx("p",{className:"invisible w-[0px]",children:"r"})]}),dC=({date:t,transactions:e,onDeleted:n})=>{const r=k.useMemo(()=>e.reduce((i,s)=>i+(s.type==="transfer"?0:s.type==="expense"?-1*s.amount:s.amount),0),[e]);return h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between border-b-2 border-b-primary",children:[h.jsx("span",{className:"text-sm xs:text-base",children:pt(t,{lang:"en-US"})}),h.jsx("span",{className:"dai-badge dai-badge-sm "+(r>0?"dai-badge-success":"dai-badge-error"),children:h.jsx(dn,{amount:r})})]}),h.jsx("div",{className:"flex flex-col gap-1",children:e.map((i,s)=>h.jsx(hC,{el:i,onDeleted:n},s))})]})},hC=({el:t,onDeleted:e})=>{var a,l,c,u,d,f;const[,n]=te(Wx),r=bn(),{setData:i}=vc(),s=k.useMemo(()=>t.type==="expense"?-1*t.amount:t.amount,[t]),o=async()=>{if(!await xa({title:"Delete transaction",body:"Are you sure you want to delete this transaction?"}))return;Ie(!0);const{error:v}=await mc.delete(t.id);if(Ie(!1),v){V.error(v.message);return}i(y=>{const x=y.find(p=>p.id===t.account_id);if(!x)return y;if((t.type==="expense"||t.type==="transfer")&&(x.balance+=t.amount),t.type==="income"&&(x.balance-=t.amount),t.type==="transfer"){const p=y.find(g=>g.id===t.to_account_id);if(!p)return y;p.balance-=t.amount}return[...y]}),e(t.id)};return h.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-base-100 px-3 py-2 shadow",children:[h.jsx("img",{className:"size-9 xs:size-12",src:iu+"/"+(t.type==="transfer"?"transfer.webp":(a=t.category)==null?void 0:a.logo),loading:"lazy",alt:""}),h.jsxs("div",{className:"flex w-full items-center justify-between",children:[h.jsxs("div",{className:"flex w-full flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium xs:text-base",children:t.type==="transfer"?"Transfer":(l=t.category)==null?void 0:l.name}),h.jsx("span",{className:"text-nowrap text-sm font-medium xs:text-base "+(t.type==="transfer"?"text-secondary":s>0?"text-success":"text-error"),children:h.jsx(dn,{amount:s})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-wrap items-center gap-0.5",children:[h.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[h.jsx("img",{loading:"lazy",className:"size-3 xs:size-4",src:pc+"/"+((c=t.account)==null?void 0:c.logo),alt:""}),h.jsx("span",{children:(u=t.account)==null?void 0:u.name})]}),t.type==="transfer"&&t.to_account&&h.jsxs(h.Fragment,{children:[h.jsx("span",{children:h.jsx(we,{className:"text-xs",icon:"lucide:arrow-right"})}),h.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[h.jsx("img",{loading:"lazy",className:"size-3 xs:size-4",src:pc+"/"+((d=t.to_account)==null?void 0:d.logo),alt:""}),h.jsx("span",{children:(f=t.to_account)==null?void 0:f.name})]})]})]}),h.jsx("span",{className:"line-clamp-1 text-xs",children:t.description})]})]}),h.jsx(Xn,{options:[{icon:"lucide:pencil",label:"Edit",onClick:()=>{n(t),r("/transaction/create")}},{icon:"lucide:trash",label:"Delete",onClick:o}]})]})]})},fC=()=>h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between border-b-2 border-b-primary",children:[h.jsx("span",{className:"text-sm xs:text-base",children:h.jsx(ve,{children:"Wed, Sep 20, 2022"})}),h.jsx("span",{className:"dai-badge dai-badge-error dai-skeleton dai-badge-sm text-transparent",children:un(1e4)})]}),h.jsx("div",{className:"flex flex-col gap-1",children:Array.from({length:3}).map((t,e)=>h.jsx(pC,{},e))})]}),pC=()=>h.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-base-100 px-3 py-2 shadow",children:[h.jsx(ve,{children:h.jsx("div",{className:"size-9 xs:size-12"})}),h.jsxs("div",{className:"flex w-full items-center justify-between",children:[h.jsxs("div",{className:"flex w-full flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(ve,{children:h.jsx("span",{className:"text-sm font-medium xs:text-base",children:"Transportation"})}),h.jsx(ve,{children:h.jsx("span",{className:"text-nowrap text-sm font-medium xs:text-base",children:un(1e5)})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"flex flex-wrap items-center gap-0.5",children:h.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[h.jsx(ve,{children:h.jsx("div",{className:"size-3 xs:size-4"})}),h.jsx(ve,{children:h.jsx("span",{children:"Shopee Pay"})})]})}),h.jsx(ve,{children:h.jsx("span",{className:"line-clamp-1 text-xs",children:"Lorem, ipsum."})})]})]}),h.jsx(ve,{children:h.jsx(Xn,{options:[]})})]})]}),gC=({children:t,onInvisible:e,onVisible:n,offset:r=0})=>{const i=k.useRef(null),[s,o]=k.useState(!1);return k.useEffect(()=>{if(s){n==null||n();return}e==null||e()},[s]),k.useEffect(()=>{if(!i.current)return;let a;function l(){const c=i.current;if(!c)return;const u=c.getBoundingClientRect(),d=Math.max(document.documentElement.clientHeight,window.innerHeight)-r,f=!(u.bottom<0||u.top-d>=0);f!==a&&o(f),a=f}return l(),window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[i,r]),h.jsx("div",{ref:i,children:t})},Hx=()=>{const[,t]=te(Ir),[e]=te(Tt),[n]=v2(),[r,i]=k.useState(n.get("account")),[s,o]=k.useState(n.get("category")),[a,l]=k.useState(void 0),[c,u]=k.useState([]),[d,f]=k.useState(!1),[m,v]=k.useState(!1),[y,x]=k.useState(!0),p=k.useMemo(()=>{var w;return r?(w=c.find(S=>S.account_id===r))==null?void 0:w.account:null},[r,c]),g=k.useMemo(()=>{var w;return s?(w=c.find(S=>S.category_id===s))==null?void 0:w.category:null},[s,c]),_=k.useMemo(()=>c.reduce((w,S)=>{const E=pt(S.occurred_at,{format:"yyyy-MM-dd"});return w[E]||(w[E]=[]),w[E].push(S),w},{}),[c]);return k.useEffect(()=>{x(!0),v(!1),u([]),l(void 0),i(n.get("account")),o(n.get("category"))},[n]),k.useEffect(()=>{var w;t({revealer:!0,back:!!p||!!g,title:((w=p||g)==null?void 0:w.name)??h.jsx("img",{className:"size-8",src:Tr.BASE_URL+"/icons/icon-192x192.png"}),actions:[h.jsx(Lf,{to:"/transaction/create",className:"dai-btn dai-btn-success dai-btn-xs ml-2 xs:dai-btn-sm",children:"Create"})]})},[p,g]),k.useEffect(()=>{e!=null&&e.user.id&&(async()=>{f(!0);const{data:w,error:S}=await mc.getTransactions(e.user.id,{cursor:a,account:r,category:s});if(f(!1),S){v(!1),V.error(S.message);return}u([...c,...w??[]]),x(!1),v(((w==null?void 0:w.length)??0)>=Bx[0])})()},[a,r,e,s]),h.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-2",children:[h.jsx("div",{className:"flex flex-col gap-4",children:d&&y?Array.from({length:4}).map((w,S)=>h.jsx(fC,{},S)):c.length===0?h.jsx("p",{className:"text-center text-xl",children:"No transactions found"}):Object.keys(_).sort((w,S)=>w>S?-1:1).map((w,S)=>h.jsx(dC,{date:w,transactions:_[w],onDeleted:E=>{u(P=>P.filter(b=>b.id!==E))}},S))}),!y&&m&&!d?h.jsx(gC,{onVisible:()=>{var w;return l((w=c[c.length-1])==null?void 0:w.occurred_at)},children:h.jsx("span",{className:"invisible flex justify-center",children:h.jsx("span",{className:"dai-loading dai-loading-dots dai-loading-sm text-primary"})})}):h.jsx("span",{className:"flex justify-center "+(d&&!y?"visible":"invisible"),children:h.jsx("span",{className:"dai-loading dai-loading-dots dai-loading-sm text-primary"})})]})},mC=()=>{var ee,ne,A;const[,t]=te(Ir),[e]=te(Tt),n=bn(),{setData:r}=vc(),[i,s]=te(Wx),{fetched:o,refresh:a,data:l}=vc(),{fetched:c,refresh:u,data:d}=Ff(),[f,m]=k.useState((i==null?void 0:i.type)??"expense"),[v,y]=k.useState((i==null?void 0:i.amount.toString())??""),[x,p]=k.useState((i==null?void 0:i.description)??""),[g,_]=k.useState(pt((i==null?void 0:i.occurred_at)??new Date,{format:"yyyy-MM-dd HH:mm"})),[w,S]=k.useState(((ee=i==null?void 0:i.category)==null?void 0:ee.id)??""),[E,P]=k.useState(((ne=i==null?void 0:i.account)==null?void 0:ne.id)??""),[b,M]=k.useState(((A=i==null?void 0:i.to_account)==null?void 0:A.id)??""),[L,N]=k.useState(!1),R=k.useMemo(()=>{var O;return!v||!E||isNaN(parseFloat(v))||f==="transfer"&&!b||f!=="transfer"&&!w||f!=="transfer"&&((O=d.find(F=>F.id===w))==null?void 0:O.type)!==f},[v,E,w,b,f,d]),Y=k.useMemo(()=>l.map(O=>({label:O.name,value:O.id})),[l]),q=k.useMemo(()=>d.filter(O=>O.type===f).map(O=>({label:O.name,value:O.id})),[d,f]);k.useEffect(()=>(t({title:i?"Edit Transaction":"Create Transaction",back:!0}),()=>{s(void 0)}),[i]),k.useEffect(()=>{o||(async()=>{const O=await a();O&&V.error(O)})()},[]),k.useEffect(()=>{c||(async()=>{const O=await u();O&&V.error(O)})()},[]);const J=async()=>{N(!0);let O;if(i?O=await mc.update(i.id,{type:f,occurred_at:pt(g,{format:"yyyy-MM-dd HH:mm",timeZone:"UTC"}),description:x,amount:parseFloat(v),account_id:E,category_id:w||null,to_account_id:b||null}):O=await mc.create({type:f,occurred_at:pt(g,{format:"yyyy-MM-dd HH:mm",timeZone:"UTC"}),description:x,amount:parseFloat(v),account_id:E,category_id:w||null,to_account_id:b||null,user_id:e.user.id}),N(!1),O.error){V.error(O.error.message);return}r(F=>{const Q=F.find(X=>X.id===E);if(!Q)return F;if(i){if(parseFloat(v)===i.amount)return F;if((f==="expense"||f==="transfer")&&(Q.balance-=parseFloat(v)-i.amount),f==="income"&&(Q.balance+=parseFloat(v)-i.amount),f==="transfer"){const X=F.find(oe=>oe.id===b);if(!X)return F;X.balance+=parseFloat(v)-i.amount}return[...F]}if((f==="expense"||f==="transfer")&&(Q.balance-=parseFloat(v)),f==="income"&&(Q.balance+=parseFloat(v)),f==="transfer"){const X=F.find(oe=>oe.id===b);if(!X)return F;X.balance+=parseFloat(v)}return[...F]}),n(-1)};return h.jsx("div",{className:"flex flex-1 flex-col gap-4 p-2",children:h.jsxs("form",{onSubmit:O=>{O.preventDefault(),J()},className:"grid grid-cols-2 gap-2",children:[h.jsx("div",{role:"tablist",className:"dai-tabs-boxed dai-tabs col-span-full bg-base-100",children:["expense","income","transfer"].map((O,F)=>h.jsx("button",{type:"button",role:"tab",disabled:!!i&&O!==i.type,onClick:()=>{S(""),m(O)},className:"dai-tab capitalize "+(O===f?"dai-tab-active":""),children:O},F))}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Amount"})}),h.jsx("input",{value:v,onChange:O=>y(O.target.value),type:"number",placeholder:"Amount",className:"dai-input dai-input-bordered"})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Date"})}),h.jsx("input",{value:g,onChange:O=>_(O.target.value),type:"datetime-local",placeholder:"Date",className:"dai-input dai-input-bordered w-full"})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Account"})}),h.jsxs("select",{value:E,disabled:!!i,onChange:O=>P(O.target.value),className:"dai-select dai-select-bordered w-full "+(E?"":"text-base-content/40"),children:[h.jsx("option",{value:"",children:"Select account"}),Y.map((O,F)=>h.jsx("option",{value:O.value,children:O.label},F))]})]}),f==="transfer"&&h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"To Account"})}),h.jsxs("select",{value:b,disabled:!!i,onChange:O=>M(O.target.value),className:"dai-select dai-select-bordered w-full "+(b?"":"text-base-content/40"),children:[h.jsx("option",{value:"",children:"Select account"}),Y.map((O,F)=>h.jsx("option",{value:O.value,children:O.label},F))]})]}),f!=="transfer"&&h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Category"})}),h.jsxs("select",{value:w,onChange:O=>S(O.target.value),className:"dai-select dai-select-bordered w-full "+(w?"":"text-base-content/40"),children:[h.jsx("option",{value:"",children:"Select category"}),q.map((O,F)=>h.jsx("option",{value:O.value,children:O.label},F))]})]}),h.jsxs("label",{className:"dai-form-control col-span-full",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"dai-label-text",children:"Description"})}),h.jsx("textarea",{value:x,onChange:O=>p(O.target.value),className:"dai-textarea dai-textarea-bordered h-24",placeholder:"Description"})]}),h.jsx("div",{className:"col-span-full flex justify-end pt-4",children:h.jsx(Xc,{disabled:R,loading:L,className:"dai-btn-primary",children:"Submit"})})]})})},Wx=De(),yC=()=>h.jsxs(ga,{children:[h.jsx(Mt,{path:"/",element:h.jsx(Hx,{})}),h.jsx(Mt,{path:"/create",element:h.jsx(mC,{})})]});function vh(t){const[e,n]=k.useState(t),r=k.useRef(t);return r.current=e,[e,n,r]}const Vx=({onClose:t,desktopOption:e})=>{const n=k.useMemo(()=>6,[]),r=k.useRef([]),[i,s,o]=vh([]),[a,l,c]=vh(!1),u=k.useRef(!0),d=k.useMemo(()=>i.length<n||i.findIndex(y=>!y)!==-1,[i,n]);k.useEffect(()=>{var y;(y=r.current[0])==null||y.focus()},[r.current]),k.useEffect(()=>()=>t(u.current?"":o.current.join(""),c.current),[]);const f=(y,x)=>{if(!/^[0-9]{1}$/.test(y.key)&&y.key!=="Backspace"&&y.key!=="Delete"&&y.key!=="Tab"&&!y.metaKey&&y.key!=="Enter"&&!((y.key==="v"||y.key==="V")&&y.ctrlKey)&&y.preventDefault(),y.key==="Delete"||y.key==="Backspace"){const p=r.current;x>0&&setTimeout(()=>p[x-1].focus())}},m=y=>{!r.current[y].value||y>=r.current.length-1||r.current[y+1].focus()},v=y=>{var g;y.preventDefault();const x=((g=y.clipboardData)==null?void 0:g.getData("text"))??"";if(!new RegExp(`^[0-9]{${r.current.length}}$`).test(x))return;const p=x.split("");s(p),r.current[r.current.length-1].focus()};return h.jsxs("form",{onSubmit:y=>{y.preventDefault(),u.current=!1,Mr()},className:"flex flex-col items-center gap-8 rounded-xl border border-base-300 bg-base-100 px-8 py-12 shadow-md",children:[h.jsxs("header",{className:"text-center",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"PIN Verification"}),h.jsxs("p",{className:"text-sm text-base-content/50",children:["Enter the ",n,"-digit PIN code."]})]}),h.jsx("div",{className:"flex items-center justify-center gap-3",children:Array.from({length:n}).map((y,x)=>h.jsx("input",{type:"password",inputMode:"numeric",value:i[x]??"",onChange:p=>s(g=>(g[x]=p.target.value,[...g])),ref:p=>r.current[x]=p,onKeyDown:p=>f(p,x),onInput:()=>m(x),onFocus:p=>p.target.select(),onPaste:p=>v(p),className:"dai-input dai-input-bordered size-9 p-1 text-center text-lg font-medium sm:size-14 sm:text-2xl",pattern:"\\d*",maxLength:1},x))}),h.jsxs("div",{className:"flex w-full flex-col items-center gap-2",children:[h.jsx("button",{type:"submit",disabled:d,className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide sm:dai-btn-md",children:"Submit"}),e&&h.jsxs("label",{className:"dai-label cursor-pointer gap-2",children:[h.jsx("input",{type:"checkbox",checked:a,onChange:y=>l(y.target.checked),className:"dai-checkbox-primary dai-checkbox dai-checkbox-sm"}),h.jsx("span",{className:"dai-label-text",children:"Desktop Only"})]})]})]})};async function Yx(t,e){const n=e+t,i=new TextEncoder().encode(n);try{const s=await crypto.subtle.digest("SHA-256",i);return Array.from(new Uint8Array(s)).map(o=>o.toString(16).padStart(2,"0")).join("")}catch{return""}}function vC(t=16){const e=new Uint8Array(t);return crypto.getRandomValues(e),Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")}function xC(t){const e=["th","st","nd","rd"],n=t%100,r=n>=11&&n<=13?e[0]:e[t%10]||e[0];return t+r}const xh=async()=>{if(!await xa({body:"Are you sure want to logout?",title:"Logout",okText:"Logout"}))return;Ie(!0);const{error:e}=await $t.auth.signOut();Ie(!1),console.error(e);const n=Fx(Tr.SUPABASE_PROJECT_URL,"https://").split(".")[0];localStorage.removeItem(`sb-${n}-auth-token`),window.location.href=Tr.BASE_URL+"/login"};class Gr extends va{static async getSetting(e){return this.db.from("settings").select().eq("user_id",e).single()}static async update(e,n,r){return this.db.from("settings").update({[n]:r}).eq("id",e)}}const _C={light:{primary:"#007bff","primary-content":"#eddaff",secondary:"#007985","secondary-content":"#d3e3e6",accent:"#d20000","accent-content":"#fdd6d0",neutral:"#170600","neutral-content":"#cbc6c3","base-100":"#fff9d6","base-200":"#ded9ba","base-300":"#beb99e","base-content":"#161510",info:"#00f9ff","info-content":"#001516",success:"#00c270","success-content":"#000e04",warning:"#fda200","warning-content":"#160a00",error:"#ff878e","error-content":"#160607"},dark:{primary:"#22d3ee","primary-content":"#001014",secondary:"#007985","secondary-content":"#d3e3e6",accent:"#00df00","accent-content":"#001200",neutral:"#001004","neutral-content":"#c4c9c5","base-100":"#1e2c2f","base-200":"#192527","base-300":"#131e20","base-content":"#cdd0d1",info:"#00dfff","info-content":"#001216",success:"#00d6af","success-content":"#00100b",warning:"#b86900","warning-content":"#0c0400",error:"#ff878e","error-content":"#160607"}};function wC(t,e){let n;n=e;const i=De((()=>{const o=localStorage.getItem(t);if(o==null)return n;try{return typeof n=="string"?o:JSON.parse(o)}catch{return n}})());return De(o=>o(i),(o,a,l)=>{const c=typeof l=="function"?l(o(i)):l;a(i,c);try{localStorage.setItem(t,typeof c=="string"?c:JSON.stringify(c))}catch(u){console.error(u)}})}const Kx=wC("dark",!1),qx=De(t=>t(Kx)?"dark":"light"),Xx=De(t=>_C[t(qx)]),bC=()=>{var w,S;const[,t]=te(Ir),[e]=te(Tt),[n,r]=te(Kx),[i,s]=te(Ft),[,o]=te(zf),[a,l]=k.useState(!1),[c,u]=k.useState(((w=i==null?void 0:i.max_visible_amount)==null?void 0:w.toString())??""),[d,f]=k.useState(!1),[m,v]=k.useState(((S=i==null?void 0:i.month_end_date)==null?void 0:S.toString())??"");k.useEffect(()=>{t({title:"Settings"})},[]);const y=async()=>{const E=!(i!=null&&i.hide_amount);Ie(!0);const P=await Gr.update(i.id,"hide_amount",E);if(Ie(!1),P.error){V.error(P.error.message);return}s({...i,hide_amount:E})},x=async()=>{if(!a){l(!0);return}Ie(!0);const E=await Gr.update(i.id,"max_visible_amount",parseFloat(c));if(Ie(!1),E.error){V.error(E.error.message);return}s({...i,max_visible_amount:parseFloat(c)}),l(!1)},p=async()=>{if(!d){f(!0);return}const E=m?parseInt(m):null;Ie(!0);const P=await Gr.update(i.id,"month_end_date",E);if(Ie(!1),P.error){V.error(P.error.message);return}s({...i,month_end_date:E}),f(!1)},g=async(E,P)=>{if(!E)return;Ie(!0);const b=vC(),M=b+(e==null?void 0:e.user.id),L=await Yx(E,M);if(!L){Ie(!1),V.error("Failed to generate hash");return}const N=await Gr.update(i.id,"pin_desktop_only",P??!1);if(N.error){Ie(!1),V.error(N.error.message);return}const{error:R}=await Gr.update(i.id,"pin",L+":"+b);if(Ie(!1),R){V.error(R.message);return}o(!0),s({...i,pin:L+":"+b,pin_desktop_only:P??!1})},_=async()=>{if(!await xa({title:"Disable PIN?",body:"Are you sure you want to disable PIN?"}))return;Ie(!0);const{error:P}=await Gr.update(i.id,"pin",null);if(Ie(!1),P){V.error(P.message);return}s({...i,pin:null})};return h.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-2",children:[h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 p-4",children:[h.jsx("img",{src:Tr.BASE_URL+"/icons/icon-192x192.png",className:"size-16",alt:""}),h.jsx("div",{className:"flex flex-col gap-0.5",children:h.jsx("span",{children:e==null?void 0:e.user.email})})]}),h.jsxs("div",{className:"flex flex-col gap-4 text-sm",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"font-medium",children:"Security"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:keyboard"}),h.jsx("span",{children:"PIN"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[(i==null?void 0:i.pin)&&i.pin_desktop_only&&h.jsx(we,{className:"text-accent",icon:"lucide:app-window"}),(i==null?void 0:i.pin)&&h.jsx("span",{className:"dai-badge dai-badge-success dai-badge-sm",children:"Enabled"}),(i==null?void 0:i.pin)&&h.jsx("div",{className:"h-5 w-[1px] bg-base-300"}),h.jsx("button",{onClick:()=>{Fr(Vx,{onClose:g,desktopOption:!0})},children:h.jsx(we,{icon:"lucide:pencil"})}),(i==null?void 0:i.pin)&&h.jsx("button",{onClick:_,className:"text-error",children:h.jsx(we,{icon:"lucide:x-circle"})})]})]}),h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:eye-off"}),h.jsx("span",{children:"Hide Amount"})]}),h.jsx("input",{type:"checkbox",checked:!!(i!=null&&i.hide_amount),onChange:y,className:"dai-toggle dai-toggle-success dai-toggle-sm"})]}),h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:eye"}),h.jsx("span",{children:"Max amount always visible"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[a?h.jsx("input",{min:0,type:"number",value:c,onChange:E=>u(E.target.value),className:"dai-input dai-input-xs dai-input-bordered max-w-24 text-end"}):h.jsx("span",{children:un((i==null?void 0:i.max_visible_amount)??0)}),h.jsx("button",{disabled:a&&(!c||isNaN(parseFloat(c))||parseFloat(c)<0),onClick:x,className:"disabled:opacity-20",children:a?h.jsx(we,{icon:"lucide:check"}):h.jsx(we,{icon:"lucide:pencil"})})]})]})]})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"font-medium",children:"Report"}),h.jsx("div",{className:"flex flex-col gap-2",children:h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:calendar-days"}),h.jsx("span",{children:"End of month"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[d?h.jsx("input",{min:0,type:"number",value:m,onChange:E=>v(E.target.value),className:"dai-input dai-input-xs dai-input-bordered max-w-24 text-end"}):h.jsx("span",{children:i!=null&&i.month_end_date?xC(i.month_end_date):""}),h.jsx("button",{disabled:d&&!!m&&(isNaN(parseFloat(m))||parseFloat(m)<2),onClick:p,className:"disabled:opacity-20",children:d?h.jsx(we,{icon:"lucide:check"}):h.jsx(we,{icon:"lucide:pencil"})})]})]})})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"font-medium",children:"Settings"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:moon"}),h.jsx("span",{children:"Dark Mode"})]}),h.jsx("input",{type:"checkbox",checked:n,onChange:E=>r(E.target.checked),className:"dai-toggle dai-toggle-success dai-toggle-sm"})]}),h.jsx("button",{onClick:xh,className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:log-out"}),h.jsx("span",{children:"Logout"})]})})]})]})]})]})},bo=pn(),cs=De({loading:!1,fetched:!1,data:[]});async function kC(){bo.set(cs,e=>({...e,loading:!0,fetched:!1}));const t=await $t.storage.from("images").list("accounts");if(t.error)return bo.set(cs,e=>({...e,loading:!1})),t.error.message;bo.set(cs,{loading:!1,fetched:!0,data:(t.data??[]).map(e=>e.name)})}function SC(t){const e=bo.get(cs);e.fetched&&bo.set(cs,{...e,data:typeof t=="function"?t(e.data):t})}const jC=De(t=>({refresh:kC,setData:SC,...t(cs)})),EC=()=>{const[t]=te(jC);return t},Gx=({onSuccess:t,account:e})=>{var p;const[n]=te(Tt),{data:r,refresh:i,loading:s,fetched:o}=EC(),[a,l]=k.useState(!1),[c,u]=k.useState((e==null?void 0:e.name)??""),[d,f]=k.useState(((p=e==null?void 0:e.initial_balance)==null?void 0:p.toString())??""),[m,v]=k.useState(0),y=k.useMemo(()=>!c||!d||isNaN(parseFloat(d)),[c,d]);k.useEffect(()=>{o||(async()=>{const g=await i();if(g)return V.error(g)})()},[]),k.useEffect(()=>{o&&v(e!=null&&e.logo?r.indexOf(e.logo):0)},[o,e,r]);const x=async()=>{l(!0);let g;if(e?(g=await yc.updateAccount(e.id,{name:c,initial_balance:parseFloat(d),logo:r[m]}),g.data&&(g.data.balance+=parseFloat(d)-e.initial_balance)):(g=await yc.createAccount({name:c,initial_balance:parseFloat(d),logo:r[m],user_id:n.user.id}),g.data&&(g.data.balance=parseFloat(d))),l(!1),g.error){V.error(g.error.message);return}if(!g.data){V.error("Something went wrong");return}t(g.data),Mr()};return h.jsx(Gc,{title:e?"Update Account":"Create Account",className:"w-[90vw] max-w-[30rem]",children:h.jsxs("form",{onSubmit:g=>{g.preventDefault(),x()},className:"grid grid-cols-1 gap-2",children:[h.jsxs("label",{className:"dai-form-control w-full",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Name"})}),h.jsx("input",{value:c,onChange:g=>u(g.target.value),type:"text",placeholder:"Account Name",className:"dai-input dai-input-bordered"})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Intial Balance"})}),h.jsx("input",{value:d,onChange:g=>f(g.target.value),type:"number",placeholder:"Intial Balance",className:"dai-input dai-input-bordered"})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Logo"})}),h.jsx("div",{className:"flex items-center gap-2 overflow-x-scroll px-2 py-2",children:s?Array.from({length:10}).map((g,_)=>h.jsx("button",{type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 outline-transparent",children:h.jsx("img",{className:"dai-skeleton size-12 rounded-lg",alt:""})},_)):r.length===0?h.jsx("div",{}):r.map((g,_)=>h.jsx("button",{onClick:()=>v(_),type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 "+(_===m?"outline-primary":"outline-transparent"),children:h.jsx("img",{className:"size-12 rounded-lg",src:pc+"/"+g,alt:""},_)},_))})]}),h.jsx("div",{className:"flex justify-end pt-2",children:h.jsx(Xc,{disabled:y,loading:a,type:"submit",className:"dai-btn-primary",children:"Submit"})})]})})},CC=({account:t,onDeleted:e,onUpdated:n})=>{const r=bn(),i=async()=>{if(!await xa({title:"Delete Account",body:"Are you sure you want to delete this account?"}))return;Ie(!0);const{error:o}=await yc.deleteAccount(t.id);if(Ie(!1),o){V.error(o.message);return}e(t.id)};return h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md hover:cursor-pointer",children:[h.jsx("img",{onClick:()=>r(`/accounts/transaction?account=${t.id}`),src:pc+"/"+t.logo,className:"size-9 xs:size-12"}),h.jsxs("div",{className:"flex flex-1 flex-col gap-0.5",children:[h.jsx("p",{className:"text-sm xs:text-base",children:t.name}),h.jsxs("div",{className:"flex items-center gap-2 text-xs xs:text-sm",children:[h.jsx("p",{children:"Balance: "}),h.jsx("span",{className:"font-semibold "+(t.balance<0?"text-error":"text-success"),children:h.jsx(dn,{amount:t.balance})})]})]}),h.jsx(Xn,{options:[{icon:"lucide:pencil",label:"Edit",onClick:()=>Fr(Gx,{account:t,onSuccess:n})},{icon:"lucide:trash",label:"Delete",onClick:i}]})]})},PC=()=>h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md",children:[h.jsx(ve,{children:h.jsx("div",{className:"size-9 rounded-full bg-accent xs:size-12"})}),h.jsxs("div",{className:"flex flex-1 flex-col gap-0.5",children:[h.jsx(ve,{children:h.jsx("p",{className:"text-sm xs:text-base",children:"Gopay"})}),h.jsx(ve,{children:h.jsxs("div",{className:"flex items-center gap-2 text-xs xs:text-sm",children:[h.jsx("p",{children:"Balance: "}),h.jsx("p",{className:"font-bold",children:un(1e7)})]})})]}),h.jsx(ve,{children:h.jsx(Xn,{options:[]})})]}),MC=()=>{const[,t]=te(Ir),{data:e,setData:n,loading:r,fetched:i,refresh:s}=vc(),o=k.useMemo(()=>e.reduce((a,l)=>a+l.balance,0),[e]);return k.useEffect(()=>{t({title:"Accounts",revealer:!0,actions:[h.jsx("button",{onClick:()=>Fr(Gx,{onSuccess:a=>n(l=>[a,...l])}),className:"dai-btn dai-btn-success dai-btn-xs ml-2 xs:dai-btn-sm",children:"Create"})]})},[]),k.useEffect(()=>{i||(async()=>{const a=await s();a&&V.error(a)})()},[]),h.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-2",children:[h.jsx("div",{className:"rounded-xl bg-base-100 p-4",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{children:r?h.jsx(ve,{children:"Total:"}):"Total:"}),h.jsx("span",{className:"font-semibold text-success",children:r?h.jsx(ve,{children:un(1e7)}):h.jsx(dn,{amount:o})})]})}),h.jsx("div",{className:"grid grid-cols-1 gap-2",children:r?Array.from({length:10}).map((a,l)=>h.jsx(PC,{},l)):e.length===0?h.jsx("p",{className:"text-center",children:"No accounts found"}):e.map(a=>h.jsx(CC,{account:a,onDeleted:l=>{n(c=>c.filter(u=>u.id!==l))},onUpdated:l=>{n(c=>c.map(u=>u.id===l.id?l:u))}},a.id))})]})},TC=()=>h.jsxs(ga,{children:[h.jsx(Mt,{path:"/",element:h.jsx(MC,{})}),h.jsx(Mt,{path:"/transaction",element:h.jsx(Hx,{})})]}),rl=pn();class In extends va{static getDateRanges(e,n,r){if(!n)return{start:new Date(0),end:new Date(new Date().getFullYear(),new Date().getMonth()+1,1)};const i=new Date(n.getFullYear(),n.getMonth(),1),s=new Date((r==null?void 0:r.getFullYear())??n.getFullYear(),((r==null?void 0:r.getMonth())??n.getMonth())+1,1),o=rl.get(Ft);return e&&(o!=null&&o.month_end_date)&&(i.setMonth(i.getMonth()-1),i.setDate(o.month_end_date+1),s.setMonth(s.getMonth()-1),s.setDate(o.month_end_date+1)),{start:i,end:s}}static async getExpenseOverview(e,n){const{start:r,end:i}=this.getDateRanges(!0,n),{data:s,error:o}=await this.db.from("transaction").select("amount:amount.sum(), category(id, name, logo)").eq("user_id",e).eq("type","expense").gte("occurred_at",pt(r,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})).lt("occurred_at",pt(i,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})),a=s;return a.sort((l,c)=>c.amount-l.amount),{error:o,data:a}}static async getIncomeTotal(e,n){const{start:r,end:i}=this.getDateRanges(!0,n),{data:s,error:o}=await this.db.from("transaction").select("amount:amount.sum()").eq("user_id",e).eq("type","income").gte("occurred_at",pt(r,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})).lt("occurred_at",pt(i,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})).single(),a=s;return{error:o,data:(a==null?void 0:a.amount)??0}}static async getCashFlowEveryMonth({userId:e,trx_type:n,year:r,yearEnd:i,categories:s}){var d;const o=new Date(i??r+1,0);o.setDate(o.getDate()-1);const{start:a,end:l}=this.getDateRanges(!1,new Date(r,0),o);l.setDate(l.getDate()-1);const{data:c,error:u}=await $t.rpc("get_transaction_flow",{trx_type:n,day_flow:!1,month_end_date:((d=rl.get(Ft))==null?void 0:d.month_end_date)??0,trx_user_id:e,categories:s,time_zone:wo,end_str:pt(l,{format:"yyyy-MM"}),start_str:pt(a,{format:"yyyy-MM"})});return{data:c,error:u}}static async getCashFlowEveryDay({userId:e,trx_type:n,month:r,monthEnd:i,categories:s}){var u;const{start:o,end:a}=this.getDateRanges(!0,r,i);a.setDate(a.getDate()-1);const{data:l,error:c}=await $t.rpc("get_transaction_flow",{day_flow:!0,month_end_date:((u=rl.get(Ft))==null?void 0:u.month_end_date)??0,trx_type:n,trx_user_id:e,categories:s,time_zone:wo,end_str:pt(a,{format:"yyyy-MM-dd"}),start_str:pt(o,{format:"yyyy-MM-dd"})});return{data:l,error:c}}static async getCurrentBalanceAt(e){var i;const{data:n,error:r}=await $t.rpc("get_current_balance_at",{trx_user_id:e.userId,day_flow:!0,end_str:pt(e.lastDate,{format:"yyyy-MM-dd"}),month_end_date:((i=rl.get(Ft))==null?void 0:i.month_end_date)??0,time_zone:wo});return{data:n,error:r}}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function _a(t){return t+.5|0}const gr=(t,e,n)=>Math.max(Math.min(t,n),e);function no(t){return gr(_a(t*2.55),0,255)}function Er(t){return gr(_a(t*255),0,255)}function Dn(t){return gr(_a(t/2.55)/100,0,1)}function hm(t){return gr(_a(t*100),0,100)}const Wt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_h=[..."0123456789ABCDEF"],RC=t=>_h[t&15],LC=t=>_h[(t&240)>>4]+_h[t&15],il=t=>(t&240)>>4===(t&15),OC=t=>il(t.r)&&il(t.g)&&il(t.b)&&il(t.a);function DC(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Wt[t[1]]*17,g:255&Wt[t[2]]*17,b:255&Wt[t[3]]*17,a:e===5?Wt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Wt[t[1]]<<4|Wt[t[2]],g:Wt[t[3]]<<4|Wt[t[4]],b:Wt[t[5]]<<4|Wt[t[6]],a:e===9?Wt[t[7]]<<4|Wt[t[8]]:255})),n}const NC=(t,e)=>t<255?e(t):"";function AC(t){var e=OC(t)?RC:LC;return t?"#"+e(t.r)+e(t.g)+e(t.b)+NC(t.a,e):void 0}const IC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Jx(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function FC(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function zC(t,e,n){const r=Jx(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function $C(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function $f(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=$C(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function Bf(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Er)}function Uf(t,e,n){return Bf(Jx,t,e,n)}function BC(t,e,n){return Bf(zC,t,e,n)}function UC(t,e,n){return Bf(FC,t,e,n)}function Qx(t){return(t%360+360)%360}function HC(t){const e=IC.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?no(+e[5]):Er(+e[5]));const i=Qx(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=BC(i,s,o):e[1]==="hsv"?r=UC(i,s,o):r=Uf(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function WC(t,e){var n=$f(t);n[0]=Qx(n[0]+e),n=Uf(n),t.r=n[0],t.g=n[1],t.b=n[2]}function VC(t){if(!t)return;const e=$f(t),n=e[0],r=hm(e[1]),i=hm(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Dn(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const fm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function YC(){const t={},e=Object.keys(pm),n=Object.keys(fm);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,fm[s]);s=parseInt(pm[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let sl;function KC(t){sl||(sl=YC(),sl.transparent=[0,0,0,0]);const e=sl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const qC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function XC(t){const e=qC.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?no(o):gr(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?no(r):gr(r,0,255)),i=255&(e[4]?no(i):gr(i,0,255)),s=255&(e[6]?no(s):gr(s,0,255)),{r,g:i,b:s,a:n}}}function GC(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Dn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ju=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Di=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function JC(t,e,n){const r=Di(Dn(t.r)),i=Di(Dn(t.g)),s=Di(Dn(t.b));return{r:Er(Ju(r+n*(Di(Dn(e.r))-r))),g:Er(Ju(i+n*(Di(Dn(e.g))-i))),b:Er(Ju(s+n*(Di(Dn(e.b))-s))),a:t.a+n*(e.a-t.a)}}function ol(t,e,n){if(t){let r=$f(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Uf(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Zx(t,e){return t&&Object.assign(e||{},t)}function gm(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Er(t[3]))):(e=Zx(t,{r:0,g:0,b:0,a:1}),e.a=Er(e.a)),e}function QC(t){return t.charAt(0)==="r"?XC(t):HC(t)}class Qo{constructor(e){if(e instanceof Qo)return e;const n=typeof e;let r;n==="object"?r=gm(e):n==="string"&&(r=DC(e)||KC(e)||QC(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Zx(this._rgb);return e&&(e.a=Dn(e.a)),e}set rgb(e){this._rgb=gm(e)}rgbString(){return this._valid?GC(this._rgb):void 0}hexString(){return this._valid?AC(this._rgb):void 0}hslString(){return this._valid?VC(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=JC(this._rgb,e._rgb,n)),this}clone(){return new Qo(this.rgb)}alpha(e){return this._rgb.a=Er(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=_a(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ol(this._rgb,2,e),this}darken(e){return ol(this._rgb,2,-e),this}saturate(e){return ol(this._rgb,1,e),this}desaturate(e){return ol(this._rgb,1,-e),this}rotate(e){return WC(this._rgb,e),this}}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Pn(){}const ZC=(()=>{let t=0;return()=>t++})();function ze(t){return t===null||typeof t>"u"}function tt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function fe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ct(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ot(t,e){return ct(t)?t:e}function xe(t,e){return typeof t>"u"?e:t}const eP=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,e1=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ue(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ye(t,e,n,r){let i,s,o;if(tt(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(fe(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function xc(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function _c(t){if(tt(t))return t.map(_c);if(fe(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=_c(t[n[i]]);return e}return t}function t1(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function tP(t,e,n,r){if(!t1(t))return;const i=e[t],s=n[t];fe(i)&&fe(s)?Zo(i,s,r):e[t]=_c(s)}function Zo(t,e,n){const r=tt(e)?e:[e],i=r.length;if(!fe(t))return t;n=n||{};const s=n.merger||tP;let o;for(let a=0;a<i;++a){if(o=r[a],!fe(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function ko(t,e){return Zo(t,e,{merger:nP})}function nP(t,e,n){if(!t1(t))return;const r=e[t],i=n[t];fe(r)&&fe(i)?ko(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=_c(i))}const mm={"":t=>t,x:t=>t.x,y:t=>t.y};function rP(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function iP(t){const e=rP(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function ea(t,e){return(mm[e]||(mm[e]=iP(e)))(t)}function Hf(t){return t.charAt(0).toUpperCase()+t.slice(1)}const wc=t=>typeof t<"u",Rr=t=>typeof t=="function",ym=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function sP(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const $e=Math.PI,We=2*$e,oP=We+$e,bc=Number.POSITIVE_INFINITY,aP=$e/180,Ge=$e/2,Hr=$e/4,vm=$e*2/3,mr=Math.log10,ws=Math.sign;function So(t,e,n){return Math.abs(t-e)<n}function xm(t){const e=Math.round(t);t=So(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(mr(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function lP(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function ta(t){return!isNaN(parseFloat(t))&&isFinite(t)}function cP(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function n1(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Fn(t){return t*($e/180)}function uP(t){return t*(180/$e)}function _m(t){if(!ct(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function r1(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*$e&&(s+=We),{angle:s,distance:i}}function wh(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function dP(t,e){return(t-e+oP)%We-$e}function ir(t){return(t%We+We)%We}function na(t,e,n,r){const i=ir(t),s=ir(e),o=ir(n),a=ir(s-i),l=ir(o-i),c=ir(i-s),u=ir(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function mt(t,e,n){return Math.max(e,Math.min(n,t))}function hP(t){return mt(t,-32768,32767)}function i1(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Wf(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const si=(t,e,n,r)=>Wf(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),fP=(t,e,n)=>Wf(t,n,r=>t[r][e]>=n);function pP(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const s1=["push","pop","shift","splice","unshift"];function gP(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),s1.forEach(n=>{const r="_onData"+Hf(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function wm(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(s1.forEach(s=>{delete t[s]}),delete t._chartjs)}function mP(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const o1=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function a1(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,o1.call(window,()=>{r=!1,t.apply(e,n)}))}}function yP(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const l1=t=>t==="start"?"left":t==="end"?"right":"center",jo=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2;function vP(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(i=mt(Math.min(si(a,l,c).lo,n?r:si(e,l,o.getPixelForValue(c)).lo),0,r-1)),f?s=mt(Math.max(si(a,o.axis,u,!0).hi+1,n?0:si(e,l,o.getPixelForValue(u),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function xP(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const al=t=>t===0||t===1,bm=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*We/n)),km=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*We/n)+1,Eo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ge)+1,easeOutSine:t=>Math.sin(t*Ge),easeInOutSine:t=>-.5*(Math.cos($e*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>al(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>al(t)?t:bm(t,.075,.3),easeOutElastic:t=>al(t)?t:km(t,.075,.3),easeInOutElastic(t){return al(t)?t:t<.5?.5*bm(t*2,.1125,.45):.5+.5*km(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Eo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Eo.easeInBounce(t*2)*.5:Eo.easeOutBounce(t*2-1)*.5+.5};function Vf(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Sm(t){return Vf(t)?t:new Qo(t)}function Qu(t){return Vf(t)?t:new Qo(t).saturate(.5).darken(.1).hexString()}const _P=["x","y","borderWidth","radius","tension"],wP=["color","borderColor","backgroundColor"];function bP(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:wP},numbers:{type:"number",properties:_P}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function kP(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const jm=new Map;function SP(t,e){e=e||{};const n=t+JSON.stringify(e);let r=jm.get(n);return r||(r=new Intl.NumberFormat(t,e),jm.set(n,r)),r}function su(t,e,n){return SP(e,n).format(t)}const c1={values(t){return tt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=jP(t,n)}const o=mr(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),su(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(mr(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?c1.numeric.call(this,t,e,n):""}};function jP(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Yf={formatters:c1};function EP(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Yf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const vi=Object.create(null),bh=Object.create(null);function Co(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function Zu(t,e,n){return typeof e=="string"?Zo(Co(t,e),n):Zo(Co(t,""),e)}class CP{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Qu(i.backgroundColor),this.hoverBorderColor=(r,i)=>Qu(i.borderColor),this.hoverColor=(r,i)=>Qu(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Zu(this,e,n)}get(e){return Co(this,e)}describe(e,n){return Zu(bh,e,n)}override(e,n){return Zu(vi,e,n)}route(e,n,r,i){const s=Co(this,e),o=Co(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return fe(l)?Object.assign({},c,l):xe(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ke=new CP({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[bP,kP,EP]);function PP(t){return!t||ze(t.size)||ze(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Em(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Wr(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function Cm(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function kh(t,e,n,r){MP(t,e,n,r)}function MP(t,e,n,r,i){let s,o,a,l,c,u,d,f;const m=e.pointStyle,v=e.rotation,y=e.radius;let x=(v||0)*aP;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(x),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),m){default:t.arc(n,r,y,0,We),t.closePath();break;case"triangle":u=y,t.moveTo(n+Math.sin(x)*u,r-Math.cos(x)*y),x+=vm,t.lineTo(n+Math.sin(x)*u,r-Math.cos(x)*y),x+=vm,t.lineTo(n+Math.sin(x)*u,r-Math.cos(x)*y),t.closePath();break;case"rectRounded":c=y*.516,l=y-c,o=Math.cos(x+Hr)*l,d=Math.cos(x+Hr)*l,a=Math.sin(x+Hr)*l,f=Math.sin(x+Hr)*l,t.arc(n-d,r-a,c,x-$e,x-Ge),t.arc(n+f,r-o,c,x-Ge,x),t.arc(n+d,r+a,c,x,x+Ge),t.arc(n-f,r+o,c,x+Ge,x+$e),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*y,u=l,t.rect(n-u,r-l,2*u,2*l);break}x+=Hr;case"rectRot":d=Math.cos(x)*y,o=Math.cos(x)*y,a=Math.sin(x)*y,f=Math.sin(x)*y,t.moveTo(n-d,r-a),t.lineTo(n+f,r-o),t.lineTo(n+d,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":x+=Hr;case"cross":d=Math.cos(x)*y,o=Math.cos(x)*y,a=Math.sin(x)*y,f=Math.sin(x)*y,t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":d=Math.cos(x)*y,o=Math.cos(x)*y,a=Math.sin(x)*y,f=Math.sin(x)*y,t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),x+=Hr,d=Math.cos(x)*y,o=Math.cos(x)*y,a=Math.sin(x)*y,f=Math.sin(x)*y,t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=Math.cos(x)*y,a=Math.sin(x)*y,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(x)*y,r+Math.sin(x)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ra(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function u1(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function d1(t){t.restore()}function TP(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function RP(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function LP(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ze(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function OP(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function DP(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Sh(t,e,n,r,i,s={}){const o=tt(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,LP(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&DP(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ze(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),OP(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function Pm(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*$e,$e,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,$e,Ge,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Ge,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Ge,!0),t.lineTo(n+o.topLeft,r)}const NP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,AP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function IP(t,e){const n=(""+t).match(NP);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const FP=t=>+t||0;function Kf(t,e){const n={},r=fe(e),i=r?Object.keys(e):e,s=fe(t)?r?o=>xe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=FP(s(o));return n}function zP(t){return Kf(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ol(t){return Kf(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Vn(t){const e=zP(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function qt(t,e){t=t||{},e=e||Ke.font;let n=xe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=xe(t.style,e.style);r&&!(""+r).match(AP)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:xe(t.family,e.family),lineHeight:IP(xe(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:xe(t.weight,e.weight),string:""};return i.string=PP(i),i}function ll(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function $P(t,e,n){const{min:r,max:i}=t,s=e1(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Si(t,e){return Object.assign(Object.create(t),e)}function qf(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=g1("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>qf([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return f1(a,l,()=>qP(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Tm(a).includes(l)},ownKeys(a){return Tm(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function bs(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:h1(t,r),setContext:s=>bs(t,s,n,r),override:s=>bs(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return f1(s,o,()=>UP(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function h1(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Rr(n)?n:()=>n,isIndexable:Rr(r)?r:()=>r}}const BP=(t,e)=>t?t+Hf(e):e,Xf=(t,e)=>fe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function f1(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function UP(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Rr(a)&&o.isScriptable(e)&&(a=HP(e,a,t,n)),tt(a)&&a.length&&(a=WP(e,a,t,o.isIndexable)),Xf(e,a)&&(a=bs(a,i,s&&s[e],o)),a}function HP(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),Xf(t,l)&&(l=Gf(i._scopes,i,t,l)),l}function WP(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(fe(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Gf(c,i,t,u);e.push(bs(d,s,o&&o[t],a))}}return e}function p1(t,e,n){return Rr(t)?t(e,n):t}const VP=(t,e)=>t===!0?e:typeof t=="string"?ea(e,t):void 0;function YP(t,e,n,r,i){for(const s of e){const o=VP(n,s);if(o){t.add(o);const a=p1(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Gf(t,e,n,r){const i=e._rootScopes,s=p1(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=Mm(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=Mm(a,o,s,l,r),l===null)?!1:qf(Array.from(a),[""],i,s,()=>KP(e,n,r))}function Mm(t,e,n,r,i){for(;n;)n=YP(t,e,n,r,i);return n}function KP(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return tt(i)&&fe(n)?n:i||{}}function qP(t,e,n,r){let i;for(const s of e)if(i=g1(BP(s,t),n),typeof i<"u")return Xf(t,i)?Gf(n,r,t,i):i}function g1(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Tm(t){let e=t._keys;return e||(e=t._keys=XP(t._scopes)),e}function XP(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const GP=Number.EPSILON||1e-14,ks=(t,e)=>e<t.length&&!t[e].skip&&t[e],m1=t=>t==="x"?"y":"x";function JP(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=wh(s,i),l=wh(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,f=r*u;return{previous:{x:s.x-d*(o.x-i.x),y:s.y-d*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function QP(t,e,n){const r=t.length;let i,s,o,a,l,c=ks(t,0);for(let u=0;u<r-1;++u)if(l=c,c=ks(t,u+1),!(!l||!c)){if(So(e[u],0,GP)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}}function ZP(t,e,n="x"){const r=m1(n),i=t.length;let s,o,a,l=ks(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=ks(t,c+1),!a)continue;const u=a[n],d=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=d-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=d+s*e[c])}}function eM(t,e="x"){const n=m1(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=ks(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=ks(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?ws(i[o-1])!==ws(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}QP(t,i,s),ZP(t,s,e)}function cl(t,e,n){return Math.max(Math.min(t,n),e)}function tM(t,e){let n,r,i,s,o,a=ra(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&ra(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=cl(i.cp1x,e.left,e.right),i.cp1y=cl(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=cl(i.cp2x,e.left,e.right),i.cp2y=cl(i.cp2y,e.top,e.bottom)))}function nM(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")eM(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=JP(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&tM(t,n)}function Jf(){return typeof window<"u"&&typeof document<"u"}function Qf(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function kc(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const ou=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function rM(t,e){return ou(t).getPropertyValue(e)}const iM=["top","right","bottom","left"];function ci(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=iM[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const sM=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function oM(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(sM(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Jr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=ou(n),s=i.boxSizing==="border-box",o=ci(i,"padding"),a=ci(i,"border","width"),{x:l,y:c,box:u}=oM(t,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:m,height:v}=e;return s&&(m-=o.width+a.width,v-=o.height+a.height),{x:Math.round((l-d)/m*n.width/r),y:Math.round((c-f)/v*n.height/r)}}function aM(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&Qf(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=ou(s),l=ci(a,"border","width"),c=ci(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=kc(a.maxWidth,s,"clientWidth"),i=kc(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||bc,maxHeight:i||bc}}const ul=t=>Math.round(t*10)/10;function lM(t,e,n,r){const i=ou(t),s=ci(i,"margin"),o=kc(i.maxWidth,t,"clientWidth")||bc,a=kc(i.maxHeight,t,"clientHeight")||bc,l=aM(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=ci(i,"border","width"),m=ci(i,"padding");c-=m.width+f.width,u-=m.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=ul(Math.min(c,o,l.maxWidth)),u=ul(Math.min(u,a,l.maxHeight)),c&&!u&&(u=ul(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=ul(Math.floor(u*r))),{width:c,height:u}}function Rm(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const cM=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Jf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Lm(t,e){const n=rM(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Qr(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function uM(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function dM(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Qr(t,i,n),a=Qr(i,s,n),l=Qr(s,e,n),c=Qr(o,a,n),u=Qr(a,l,n);return Qr(c,u,n)}const hM=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},fM=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ed(t,e,n){return t?hM(e,n):fM()}function pM(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function gM(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function y1(t){return t==="angle"?{between:na,compare:dP,normalize:ir}:{between:i1,compare:(e,n)=>e-n,normalize:e=>e}}function Om({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function mM(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=y1(r),l=e.length;let{start:c,end:u,loop:d}=t,f,m;if(d){for(c+=l,u+=l,f=0,m=l;f<m&&o(a(e[c%l][r]),i,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function yM(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=y1(r),{start:u,end:d,loop:f,style:m}=mM(t,e,n),v=[];let y=!1,x=null,p,g,_;const w=()=>l(i,_,p)&&a(i,_)!==0,S=()=>a(s,p)===0||l(s,_,p),E=()=>y||w(),P=()=>!y||S();for(let b=u,M=u;b<=d;++b)g=e[b%o],!g.skip&&(p=c(g[r]),p!==_&&(y=l(p,i,s),x===null&&E()&&(x=a(p,i)===0?b:M),x!==null&&P()&&(v.push(Om({start:x,end:b,loop:f,count:o,style:m})),x=null),M=b,_=p));return x!==null&&v.push(Om({start:x,end:d,loop:f,count:o,style:m})),v}function vM(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=yM(r[i],t.points,e);s.length&&n.push(...s)}return n}function xM(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function _M(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function wM(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=xM(n,i,s,r);if(r===!0)return Dm(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return Dm(t,_M(n,o,l,c),n,e)}function Dm(t,e,n,r){return!r||!r.setContext||!n?e:bM(t,e,n,r)}function bM(t,e,n,r){const i=t._chart.getContext(),s=Nm(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,d=e[0].start,f=d;function m(v,y,x,p){const g=a?-1:1;if(v!==y){for(v+=l;n[v%l].skip;)v-=g;for(;n[y%l].skip;)y+=g;v%l!==y%l&&(c.push({start:v%l,end:y%l,loop:x,style:p}),u=p,d=y%l)}}for(const v of e){d=a?d:v.start;let y=n[d%l],x;for(f=d+1;f<=v.end;f++){const p=n[f%l];x=Nm(r.setContext(Si(i,{type:"segment",p0:y,p1:p,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),kM(x,u)&&m(d,f-1,v.loop,u),y=p,u=x}d<f-1&&m(d,f-1,v.loop,u)}return c}function Nm(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function kM(t,e){if(!e)return!1;const n=[],r=function(i,s){return Vf(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class SM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=o1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Tn=new SM;const Am="transparent",jM={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Sm(t||Am),i=r.valid&&Sm(e||Am);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class EM{constructor(e,n,r,i){const s=n[r];i=ll([e.to,i,s,e.from]);const o=ll([e.from,s,i]);this._active=!0,this._fn=e.fn||jM[e.type||typeof o],this._easing=Eo[e.easing]||Eo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ll([e.to,n,i,e.from]),this._from=ll([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class v1{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!fe(e))return;const n=Object.keys(Ke.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!fe(s))return;const o={};for(const a of n)o[a]=s[a];(tt(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=PM(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&CM(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=s[c];const f=r.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}s[c]=d=new EM(f,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Tn.add(this._chart,r),!0}}function CM(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function PM(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Im(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function MM(t,e,n){if(n===!1)return!1;const r=Im(t,n),i=Im(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function TM(t){let e,n,r,i;return fe(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function x1(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Fm(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],ct(c)&&(s||e===0||ws(e)===ws(c))&&(e+=c)}return!u&&!r.all?0:e}function RM(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}function td(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function LM(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function OM(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function DM(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function zm(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function $m(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=LM(s,o,r),d=e.length;let f;for(let m=0;m<d;++m){const v=e[m],{[l]:y,[c]:x}=v,p=v._stacks||(v._stacks={});f=p[c]=DM(i,u,y),f[a]=x,f._top=zm(f,o,!0,r.type),f._bottom=zm(f,o,!1,r.type);const g=f._visualValues||(f._visualValues={});g[a]=x}}function nd(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function NM(t,e){return Si(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function AM(t,e,n){return Si(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Vs(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const rd=t=>t==="reset"||t==="none",Bm=(t,e)=>e?t:Object.assign({},t),IM=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:x1(n,!0),values:null};class us{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=td(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Vs(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,f,m,v)=>d==="x"?f:d==="r"?v:m,s=n.xAxisID=xe(r.xAxisID,nd(e,"x")),o=n.yAxisID=xe(r.yAxisID,nd(e,"y")),a=n.rAxisID=xe(r.rAxisID,nd(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&wm(this._data,this),e._stacked&&Vs(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(fe(n)){const i=this._cachedMeta;this._data=RM(n,i)}else if(r!==n){if(r){wm(r,this);const i=this._cachedMeta;Vs(i),i._parsed=[]}n&&Object.isExtensible(n)&&gP(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=td(n.vScale,n),n.stack!==r.stack&&(i=!0,Vs(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&($m(this,n._parsed),n._stacked=td(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{tt(i[e])?f=this.parseArrayData(r,i,e,n):fe(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const m=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=d=f[u],l&&(m()&&(l=!1),c=d);r._sorted=l}o&&$m(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(i);let f,m,v;for(f=0,m=i;f<m;++f)v=f+r,d[f]={[a]:u||s.parse(c[v],v),[l]:o.parse(n[v],v)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+r,d=n[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,f,m;for(u=0,d=i;u<d;++u)f=u+r,m=n[f],c[u]={x:s.parse(ea(m,a),f),y:o.parse(ea(m,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:x1(i,!0),values:n._stacks[e.axis]._visualValues};return Fm(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=Fm(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=IM(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=OM(a);let f,m;function v(){m=i[f];const y=m[a.axis];return!ct(m[e.axis])||u>y||d<y}for(f=0;f<o&&!(!v()&&(this.updateRangeFromParsed(c,e,m,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!v()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],ct(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=TM(xe(this.options.clip,MM(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=AM(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=NM(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&wc(r);if(a)return Bm(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),m=Object.keys(Ke.elements[e]),v=()=>this.getContext(r,i,n),y=c.resolveNamedOptions(f,m,v,d);return y.$shared&&(y.$shared=l,s[o]=Object.freeze(Bm(y,l))),y}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,r,n))}const c=new v1(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||rd(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){rd(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!rd(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Vs(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}W(us,"defaults",{}),W(us,"datasetElementType",null),W(us,"dataElementType",null);function FM(t,e,n){let r=1,i=1,s=0,o=0;if(e<We){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),m=(_,w,S)=>na(_,a,l,!0)?1:Math.max(w,w*n,S,S*n),v=(_,w,S)=>na(_,a,l,!0)?-1:Math.min(w,w*n,S,S*n),y=m(0,c,d),x=m(Ge,u,f),p=v($e,c,d),g=v($e+Ge,u,f);r=(y-p)/2,i=(x-g)/2,s=-(y+p)/2,o=-(x+g)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class ro extends us{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(fe(r[e])){const{key:l="value"}=this._parsing;s=c=>+ea(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Fn(this.options.rotation-90)}_getCircumference(){return Fn(this.options.circumference)}_getRotationExtents(){let e=We,n=-We;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(eP(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:v,offsetY:y}=FM(d,u,l),x=(r.width-o)/f,p=(r.height-o)/m,g=Math.max(Math.min(x,p)/2,0),_=e1(this.options.radius,g),w=Math.max(_*l,0),S=(_-w)/this._getVisibleDatasetWeightTotal();this.offsetX=v*_,this.offsetY=y*_,i.total=this.calculateTotal(),this.outerRadius=_-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/We)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=s&&c.animateScale,m=f?0:this.innerRadius,v=f?0:this.outerRadius,{sharedOptions:y,includeOptions:x}=this._getSharedOptions(n,i);let p=this._getRotation(),g;for(g=0;g<n;++g)p+=this._circumference(g,s);for(g=n;g<n+r;++g){const _=this._circumference(g,s),w=e[g],S={x:u+this.offsetX,y:d+this.offsetY,startAngle:p,endAngle:p+_,circumference:_,outerRadius:v,innerRadius:m};x&&(S.options=y||this.resolveDataElementOptions(g,w.active?"active":i)),p+=_,this.updateElement(w,g,S,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?We*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=su(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(xe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}W(ro,"id","doughnut"),W(ro,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),W(ro,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),W(ro,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Dl extends us{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=vP(n,i,o);this._drawStart=a,this._drawCount=l,xP(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),f=o.axis,m=a.axis,{spanGaps:v,segment:y}=this.options,x=ta(v)?v:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||s||i==="none",g=n+r,_=e.length;let w=n>0&&this.getParsed(n-1);for(let S=0;S<_;++S){const E=e[S],P=p?E:{};if(S<n||S>=g){P.skip=!0;continue}const b=this.getParsed(S),M=ze(b[m]),L=P[f]=o.getPixelForValue(b[f],S),N=P[m]=s||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,b,l):b[m],S);P.skip=isNaN(L)||isNaN(N)||M,P.stop=S>0&&Math.abs(b[f]-w[f])>x,y&&(P.parsed=b,P.raw=c.data[S]),d&&(P.options=u||this.resolveDataElementOptions(S,E.active?"active":i)),p||this.updateElement(E,S,P,i),w=b}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}W(Dl,"id","line"),W(Dl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),W(Dl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Vr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Zf{constructor(e){W(this,"options");this.options=e||{}}static override(e){Object.assign(Zf.prototype,e)}init(){}formats(){return Vr()}parse(){return Vr()}format(){return Vr()}add(){return Vr()}diff(){return Vr()}startOf(){return Vr()}endOf(){return Vr()}}var zM={_date:Zf};function $M(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?fP:si;if(r){if(i._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(s,e,n-u),f=l(s,e,n+u);return{lo:d.lo,hi:f.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function wa(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:f}=$M(s[a],e,o,i);for(let m=d;m<=f;++m){const v=u[m];v.skip||r(v,c,m)}}}function BM(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function id(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||wa(t,n,e,function(a,l,c){!i&&!ra(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function UM(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=r1(o,{x:e.x,y:e.y});na(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return wa(t,n,e,s),i}function HM(t,e,n,r,i,s){let o=[];const a=BM(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const m=u.inRange(e.x,e.y,i);if(r&&!m)return;const v=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(v))&&!m)return;const x=a(e,v);x<l?(o=[{element:u,datasetIndex:d,index:f}],l=x):x===l&&o.push({element:u,datasetIndex:d,index:f})}return wa(t,n,e,c),o}function sd(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?UM(t,e,n,i):HM(t,e,n,r,i,s)}function Um(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return wa(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var WM={evaluateInteractionItems:wa,modes:{index(t,e,n,r){const i=Jr(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?id(t,i,s,r,o):sd(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=Jr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?id(t,i,s,r,o):sd(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=Jr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return id(t,i,s,r,o)},nearest(t,e,n,r){const i=Jr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return sd(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=Jr(e,t);return Um(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Jr(e,t);return Um(t,i,"y",n.intersect,r)}}};const _1=["left","top","right","bottom"];function Ys(t,e){return t.filter(n=>n.pos===e)}function Hm(t,e){return t.filter(n=>_1.indexOf(n.pos)===-1&&n.box.axis===e)}function Ks(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function VM(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function YM(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!_1.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function KM(t,e){const n=YM(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function qM(t){const e=VM(t),n=Ks(e.filter(c=>c.box.fullSize),!0),r=Ks(Ys(e,"left"),!0),i=Ks(Ys(e,"right")),s=Ks(Ys(e,"top"),!0),o=Ks(Ys(e,"bottom")),a=Hm(e,"x"),l=Hm(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Ys(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function Wm(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function w1(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function XM(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!fe(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&w1(o,s.getPadding());const a=Math.max(0,e.outerWidth-Wm(o,t,"left","right")),l=Math.max(0,e.outerHeight-Wm(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function GM(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function JM(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function io(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,JM(a.horizontal,e));const{same:d,other:f}=XM(e,n,a,r);c|=d&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&io(i,e,n,r)||u}function dl(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function Vm(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;wc(c.start)&&(o=c.start),l.fullSize?dl(l,i.left,o,n.outerWidth-i.right-i.left,f):dl(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;wc(c.start)&&(s=c.start),l.fullSize?dl(l,s,i.top,f,n.outerHeight-i.bottom-i.top):dl(l,s,e.top+c.placed,f,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var yr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Vn(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=qM(t.boxes),l=a.vertical,c=a.horizontal;ye(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,x)=>x.box.options&&x.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);w1(f,Vn(r));const m=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),v=KM(l.concat(c),d);io(a.fullSize,m,d,v),io(l,m,d,v),io(c,m,d,v)&&io(l,m,d,v),GM(m),Vm(a.leftAndTop,m,d,v),m.x+=m.w,m.y+=m.h,Vm(a.rightAndBottom,m,d,v),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},ye(a.chartArea,y=>{const x=y.box;Object.assign(x,t.chartArea),x.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class b1{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class QM extends b1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Nl="$chartjs",ZM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ym=t=>t===null||t==="";function eT(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Nl]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ym(i)){const s=Lm(t,"width");s!==void 0&&(t.width=s)}if(Ym(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Lm(t,"height");s!==void 0&&(t.height=s)}return t}const k1=cM?{passive:!0}:!1;function tT(t,e,n){t&&t.addEventListener(e,n,k1)}function nT(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,k1)}function rT(t,e){const n=ZM[t.type]||t.type,{x:r,y:i}=Jr(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Sc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function iT(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Sc(a.addedNodes,r),o=o&&!Sc(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function sT(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Sc(a.removedNodes,r),o=o&&!Sc(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const ia=new Map;let Km=0;function S1(){const t=window.devicePixelRatio;t!==Km&&(Km=t,ia.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function oT(t,e){ia.size||window.addEventListener("resize",S1),ia.set(t,e)}function aT(t){ia.delete(t),ia.size||window.removeEventListener("resize",S1)}function lT(t,e,n){const r=t.canvas,i=r&&Qf(r);if(!i)return;const s=a1((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),oT(t,s),o}function od(t,e,n){n&&n.disconnect(),e==="resize"&&aT(t)}function cT(t,e,n){const r=t.canvas,i=a1(s=>{t.ctx!==null&&n(rT(s,t))},t);return tT(r,e,i),i}class uT extends b1{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(eT(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Nl])return!1;const r=n[Nl].initial;["height","width"].forEach(s=>{const o=r[s];ze(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Nl],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:iT,detach:sT,resize:lT}[n]||cT;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:od,detach:od,resize:od}[n]||nT)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return lM(e,n,r,i)}isAttached(e){const n=e&&Qf(e);return!!(n&&n.isConnected)}}function dT(t){return!Jf()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?QM:uT}class Yn{constructor(){W(this,"x");W(this,"y");W(this,"active",!1);W(this,"options");W(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return ta(this.x)&&ta(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}W(Yn,"defaults",{}),W(Yn,"defaultRoutes");function hT(t,e){const n=t.options.ticks,r=fT(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?gT(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return mT(e,c,s,o/i),c;const u=pT(s,e,i);if(o>0){let d,f;const m=o>1?Math.round((l-a)/(o-1)):null;for(hl(e,c,u,ze(m)?0:a-m,a),d=0,f=o-1;d<f;d++)hl(e,c,u,s[d],s[d+1]);return hl(e,c,u,l,ze(m)?e.length:l+m),c}return hl(e,c,u),c}function fT(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function pT(t,e,n){const r=yT(t),i=e.length/n;if(!r)return Math.max(i,1);const s=lP(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function gT(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function mT(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function hl(t,e,n,r,i){const s=xe(r,0),o=Math.min(xe(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function yT(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const vT=t=>t==="left"?"right":t==="right"?"left":t,qm=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Xm=(t,e)=>Math.min(e||t,t);function Gm(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function xT(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function _T(t,e){ye(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function qs(t){return t.drawTicks?t.tickLength:0}function Jm(t,e){if(!t.display)return 0;const n=qt(t.font,e),r=Vn(t.padding);return(tt(t.text)?t.text.length:1)*n.lineHeight+r.height}function wT(t,e){return Si(t,{scale:e,type:"scale"})}function bT(t,e,n){return Si(t,{tick:n,index:e,type:"tick"})}function kT(t,e,n){let r=l1(t);return(n&&e!=="right"||!n&&e==="right")&&(r=vT(r)),r}function ST(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,m,v;const y=o-i,x=a-s;if(t.isHorizontal()){if(m=jo(r,s,a),fe(n)){const p=Object.keys(n)[0],g=n[p];v=u[p].getPixelForValue(g)+y-e}else n==="center"?v=(c.bottom+c.top)/2+y-e:v=qm(t,n,e);f=a-s}else{if(fe(n)){const p=Object.keys(n)[0],g=n[p];m=u[p].getPixelForValue(g)-x+e}else n==="center"?m=(c.left+c.right)/2-x+e:m=qm(t,n,e);v=jo(r,o,i),d=n==="left"?-Ge:Ge}return{titleX:m,titleY:v,maxWidth:f,rotation:d}}class ji extends Yn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Ot(e,Number.POSITIVE_INFINITY),n=Ot(n,Number.NEGATIVE_INFINITY),r=Ot(r,Number.POSITIVE_INFINITY),i=Ot(i,Number.NEGATIVE_INFINITY),{min:Ot(e,r),max:Ot(n,i),minDefined:ct(e),maxDefined:ct(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Ot(n,Ot(r,n)),max:Ot(r,Ot(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ue(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=$P(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Gm(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=hT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ue(this.options.afterUpdate,[this])}beforeSetDimensions(){Ue(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ue(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ue(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ue(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Ue(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Ue(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ue(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Xm(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,m=mt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:m/(r-1),d+6>a&&(a=m/(r-(e.offset?.5:1)),l=this.maxHeight-qs(e.grid)-n.padding-Jm(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=uP(Math.min(Math.asin(mt((u.highest.height+6)/a,-1,1)),Math.asin(mt(l/c,-1,1))-Math.asin(mt(f/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ue(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ue(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Jm(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=qs(s)+l):(e.height=this.maxHeight,e.width=qs(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),m=r.padding*2,v=Fn(this.labelRotation),y=Math.cos(v),x=Math.sin(v);if(a){const p=r.mirror?0:x*d.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+p+m)}else{const p=r.mirror?0:y*d.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+p+m)}this._calculatePadding(c,u,x,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?c?(f=i*e.width,m=r*n.height):(f=r*e.height,m=i*n.width):s==="start"?m=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ue(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ze(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Gm(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/Xm(n,r));let c=0,u=0,d,f,m,v,y,x,p,g,_,w,S;for(d=0;d<n;d+=l){if(v=e[d].label,y=this._resolveTickFontOptions(d),i.font=x=y.string,p=s[x]=s[x]||{data:{},gc:[]},g=y.lineHeight,_=w=0,!ze(v)&&!tt(v))_=Em(i,p.data,p.gc,_,v),w=g;else if(tt(v))for(f=0,m=v.length;f<m;++f)S=v[f],!ze(S)&&!tt(S)&&(_=Em(i,p.data,p.gc,_,S),w+=g);o.push(_),a.push(w),c=Math.max(_,c),u=Math.max(w,u)}_T(s,n);const E=o.indexOf(c),P=a.indexOf(u),b=M=>({width:o[M]||0,height:a[M]||0});return{first:b(0),last:b(n-1),widest:b(E),highest:b(P),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return hP(this._alignToPixels?Wr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=bT(this.getContext(),e,r))}return this.$context||(this.$context=wT(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Fn(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=qs(s),m=[],v=a.setContext(this.getContext()),y=v.display?v.width:0,x=y/2,p=function(ee){return Wr(r,ee,y)};let g,_,w,S,E,P,b,M,L,N,R,Y;if(o==="top")g=p(this.bottom),P=this.bottom-f,M=g-x,N=p(e.top)+x,Y=e.bottom;else if(o==="bottom")g=p(this.top),N=e.top,Y=p(e.bottom)-x,P=g+x,M=this.top+f;else if(o==="left")g=p(this.right),E=this.right-f,b=g-x,L=p(e.left)+x,R=e.right;else if(o==="right")g=p(this.left),L=e.left,R=p(e.right)-x,E=g+x,b=this.left+f;else if(n==="x"){if(o==="center")g=p((e.top+e.bottom)/2+.5);else if(fe(o)){const ee=Object.keys(o)[0],ne=o[ee];g=p(this.chart.scales[ee].getPixelForValue(ne))}N=e.top,Y=e.bottom,P=g+x,M=P+f}else if(n==="y"){if(o==="center")g=p((e.left+e.right)/2);else if(fe(o)){const ee=Object.keys(o)[0],ne=o[ee];g=p(this.chart.scales[ee].getPixelForValue(ne))}E=g-x,b=E-f,L=e.left,R=e.right}const q=xe(i.ticks.maxTicksLimit,d),J=Math.max(1,Math.ceil(d/q));for(_=0;_<d;_+=J){const ee=this.getContext(_),ne=s.setContext(ee),A=a.setContext(ee),O=ne.lineWidth,F=ne.color,Q=A.dash||[],X=A.dashOffset,oe=ne.tickWidth,ce=ne.tickColor,ke=ne.tickBorderDash||[],ue=ne.tickBorderDashOffset;w=xT(this,_,l),w!==void 0&&(S=Wr(r,w,O),c?E=b=L=R=S:P=M=N=Y=S,m.push({tx1:E,ty1:P,tx2:b,ty2:M,x1:L,y1:N,x2:R,y2:Y,width:O,color:F,borderDash:Q,borderDashOffset:X,tickWidth:oe,tickColor:ce,tickBorderDash:ke,tickBorderDashOffset:ue}))}return this._ticksLength=d,this._borderValue=g,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,f=qs(r.grid),m=f+u,v=d?-u:m,y=-Fn(this.labelRotation),x=[];let p,g,_,w,S,E,P,b,M,L,N,R,Y="middle";if(i==="top")E=this.bottom-v,P=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+v,P=this._getXAxisLabelAlignment();else if(i==="left"){const J=this._getYAxisLabelAlignment(f);P=J.textAlign,S=J.x}else if(i==="right"){const J=this._getYAxisLabelAlignment(f);P=J.textAlign,S=J.x}else if(n==="x"){if(i==="center")E=(e.top+e.bottom)/2+m;else if(fe(i)){const J=Object.keys(i)[0],ee=i[J];E=this.chart.scales[J].getPixelForValue(ee)+m}P=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")S=(e.left+e.right)/2-m;else if(fe(i)){const J=Object.keys(i)[0],ee=i[J];S=this.chart.scales[J].getPixelForValue(ee)}P=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?Y="top":l==="end"&&(Y="bottom"));const q=this._getLabelSizes();for(p=0,g=a.length;p<g;++p){_=a[p],w=_.label;const J=s.setContext(this.getContext(p));b=this.getPixelForTick(p)+s.labelOffset,M=this._resolveTickFontOptions(p),L=M.lineHeight,N=tt(w)?w.length:1;const ee=N/2,ne=J.color,A=J.textStrokeColor,O=J.textStrokeWidth;let F=P;o?(S=b,P==="inner"&&(p===g-1?F=this.options.reverse?"left":"right":p===0?F=this.options.reverse?"right":"left":F="center"),i==="top"?c==="near"||y!==0?R=-N*L+L/2:c==="center"?R=-q.highest.height/2-ee*L+L:R=-q.highest.height+L/2:c==="near"||y!==0?R=L/2:c==="center"?R=q.highest.height/2-ee*L:R=q.highest.height-N*L,d&&(R*=-1),y!==0&&!J.showLabelBackdrop&&(S+=L/2*Math.sin(y))):(E=b,R=(1-N)*L/2);let Q;if(J.showLabelBackdrop){const X=Vn(J.backdropPadding),oe=q.heights[p],ce=q.widths[p];let ke=R-X.top,ue=0-X.left;switch(Y){case"middle":ke-=oe/2;break;case"bottom":ke-=oe;break}switch(P){case"center":ue-=ce/2;break;case"right":ue-=ce;break;case"inner":p===g-1?ue-=ce:p>0&&(ue-=ce/2);break}Q={left:ue,top:ke,width:ce+X.width,height:oe+X.height,color:J.backdropColor}}x.push({label:w,font:M,textOffset:R,options:{rotation:y,color:ne,strokeColor:A,strokeWidth:O,textAlign:F,textBaseline:Y,translation:[S,E],backdrop:Q}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Fn(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=Wr(e,this.left,o)-o/2,u=Wr(e,this.right,a)+a/2,d=f=l):(d=Wr(e,this.top,o)-o/2,f=Wr(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&u1(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Sh(r,c,0,u,l,a)}i&&d1(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=qt(r.font),o=Vn(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||fe(n)?(l+=o.bottom,tt(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=ST(this,l,n,a);Sh(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:f,textAlign:kT(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=xe(e.grid&&e.grid.z,-1),i=xe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ji.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return qt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class fl{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;CT(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,jT(e,o,r),this.override&&Ke.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Ke[i]&&(delete Ke[i][r],this.override&&delete vi[r])}}function jT(t,e,n){const r=Zo(Object.create(null),[n?Ke.get(n):{},Ke.get(e),t.defaults]);Ke.set(e,r),t.defaultRoutes&&ET(e,t.defaultRoutes),t.descriptors&&Ke.describe(e,t.descriptors)}function ET(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ke.route(s,i,l,a)})}function CT(t){return"id"in t&&"defaults"in t}class PT{constructor(){this.controllers=new fl(us,"datasets",!0),this.elements=new fl(Yn,"elements"),this.plugins=new fl(Object,"plugins"),this.scales=new fl(ji,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):ye(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=Hf(e);Ue(r["before"+i],[],r),n[e](r),Ue(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var vn=new PT;class MT{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Ue(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=xe(r.options&&r.options.plugins,{}),s=TT(r);return i===!1&&!n?[]:LT(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function TT(t){const e={},n=[],r=Object.keys(vn.plugins.items);for(let s=0;s<r.length;s++)n.push(vn.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function RT(t,e){return!e&&t===!1?null:t===!0?{}:t}function LT(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=RT(r[l],i);c!==null&&s.push({plugin:a,options:OT(t.config,{plugin:a,local:n[l]},c,o)})}return s}function OT(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function jh(t,e){const n=Ke.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function DT(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function NT(t,e){return t===e?"_index_":"_value_"}function Qm(t){if(t==="x"||t==="y"||t==="r")return t}function AT(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Eh(t,...e){if(Qm(t))return t;for(const n of e){const r=n.axis||AT(n.position)||t.length>1&&Qm(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Zm(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function IT(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Zm(t,"x",n[0])||Zm(t,"y",n[0])}return{}}function FT(t,e){const n=vi[t.type]||{scales:{}},r=e.scales||{},i=jh(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!fe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Eh(o,a,IT(o,t),Ke.scales[a.type]),c=NT(l,i),u=n.scales||{};s[o]=ko(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||jh(a,e),u=(vi[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=DT(d,l),m=o[f+"AxisID"]||f;s[m]=s[m]||Object.create(null),ko(s[m],[{axis:f},r[m],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];ko(a,[Ke.scales[a.type],Ke.scale])}),s}function j1(t){const e=t.options||(t.options={});e.plugins=xe(e.plugins,{}),e.scales=FT(t,e)}function E1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function zT(t){return t=t||{},t.data=E1(t.data),j1(t),t}const e0=new Map,C1=new Set;function pl(t,e){let n=e0.get(t);return n||(n=e(),e0.set(t,n),C1.add(n)),n}const Xs=(t,e,n)=>{const r=ea(e,n);r!==void 0&&t.add(r)};class $T{constructor(e){this._config=zT(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=E1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),j1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return pl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return pl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return pl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return pl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Xs(l,e,d))),u.forEach(d=>Xs(l,i,d)),u.forEach(d=>Xs(l,vi[s]||{},d)),u.forEach(d=>Xs(l,Ke,d)),u.forEach(d=>Xs(l,bh,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),C1.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,vi[n]||{},Ke.datasets[n]||{},{type:n},Ke,bh]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=t0(this._resolverCache,e,i);let l=o;if(UT(o,n)){s.$shared=!1,r=Rr(r)?r():r;const c=this.createResolver(e,r,a);l=bs(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=t0(this._resolverCache,e,r);return fe(n)?bs(s,n,void 0,i):s}}function t0(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:qf(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const BT=t=>fe(t)&&Object.getOwnPropertyNames(t).some(e=>Rr(t[e]));function UT(t,e){const{isScriptable:n,isIndexable:r}=h1(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Rr(a)||BT(a))||o&&tt(a))return!0}return!1}var HT="4.4.6";const WT=["top","bottom","left","right","chartArea"];function n0(t,e){return t==="top"||t==="bottom"||WT.indexOf(t)===-1&&e==="x"}function r0(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function i0(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ue(n&&n.onComplete,[t],e)}function VT(t){const e=t.chart,n=e.options.animation;Ue(n&&n.onProgress,[t],e)}function P1(t){return Jf()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Al={},s0=t=>{const e=P1(t);return Object.values(Al).filter(n=>n.canvas===e).pop()};function YT(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function KT(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function gl(t,e,n){return t.options.clip?t[n]:e[n]}function qT(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:gl(n,e,"left"),right:gl(n,e,"right"),top:gl(r,e,"top"),bottom:gl(r,e,"bottom")}:e}var er;let Ms=(er=class{static register(...e){vn.add(...e),o0()}static unregister(...e){vn.remove(...e),o0()}constructor(e,n){const r=this.config=new $T(n),i=P1(e),s=s0(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||dT(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=ZC(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new MT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=yP(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Al[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Tn.listen(this,"complete",i0),Tn.listen(this,"progress",VT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return ze(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return vn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Rm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Cm(this.canvas,this.ctx),this}stop(){return Tn.stop(this),this}resize(e,n){Tn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Rm(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ue(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ye(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Eh(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ye(s,o=>{const a=o.options,l=a.id,c=Eh(l,a),u=xe(a.type,o.dtype);(a.position===void 0||n0(a.position,c)!==n0(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const f=vn.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),ye(i,(o,a)=>{o||delete r[a]}),ye(r,o=>{yr.configure(this,o,o.options),yr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(r0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||jh(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=vn.getController(a),{datasetElementType:c,dataElementType:u}=Ke.datasets[a];Object.assign(l,{dataElementType:vn.getElement(u),datasetElementType:c&&vn.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ye(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||ye(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(r0("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ye(this.scales,e=>{yr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!ym(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;YT(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!ym(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;yr.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],ye(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Rr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Tn.has(this)?this.attached&&!Tn.running(this)&&Tn.start(this):(this.draw(),i0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=qT(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&u1(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&d1(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return ra(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=WM.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Si(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);wc(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Tn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Cm(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Al[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ye(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ye(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ye(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!xc(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=sP(e),c=KT(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Ue(s.onHover,[e,a,this],this),l&&Ue(s.onClick,[e,a,this],this));const u=!xc(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},W(er,"defaults",Ke),W(er,"instances",Al),W(er,"overrides",vi),W(er,"registry",vn),W(er,"version",HT),W(er,"getChart",s0),er);function o0(){return ye(Ms.instances,t=>t._plugins.invalidate())}function XT(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+Ge,r-Ge),t.closePath(),t.clip()}function GT(t){return Kf(t,["outerStart","outerEnd","innerStart","innerEnd"])}function JT(t,e,n,r){const i=GT(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return mt(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:mt(i.innerStart,0,o),innerEnd:mt(i.innerEnd,0,o)}}function Ni(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function jc(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+n-c,0),f=u>0?u+r+n+c:0;let m=0;const v=i-l;if(r){const J=u>0?u-r:0,ee=d>0?d-r:0,ne=(J+ee)/2,A=ne!==0?v*ne/(ne+r):v;m=(v-A)/2}const y=Math.max(.001,v*d-n/$e)/d,x=(v-y)/2,p=l+x+m,g=i-x-m,{outerStart:_,outerEnd:w,innerStart:S,innerEnd:E}=JT(e,f,d,g-p),P=d-_,b=d-w,M=p+_/P,L=g-w/b,N=f+S,R=f+E,Y=p+S/N,q=g-E/R;if(t.beginPath(),s){const J=(M+L)/2;if(t.arc(o,a,d,M,J),t.arc(o,a,d,J,L),w>0){const O=Ni(b,L,o,a);t.arc(O.x,O.y,w,L,g+Ge)}const ee=Ni(R,g,o,a);if(t.lineTo(ee.x,ee.y),E>0){const O=Ni(R,q,o,a);t.arc(O.x,O.y,E,g+Ge,q+Math.PI)}const ne=(g-E/f+(p+S/f))/2;if(t.arc(o,a,f,g-E/f,ne,!0),t.arc(o,a,f,ne,p+S/f,!0),S>0){const O=Ni(N,Y,o,a);t.arc(O.x,O.y,S,Y+Math.PI,p-Ge)}const A=Ni(P,p,o,a);if(t.lineTo(A.x,A.y),_>0){const O=Ni(P,M,o,a);t.arc(O.x,O.y,_,p-Ge,M)}}else{t.moveTo(o,a);const J=Math.cos(M)*d+o,ee=Math.sin(M)*d+a;t.lineTo(J,ee);const ne=Math.cos(L)*d+o,A=Math.sin(L)*d+a;t.lineTo(ne,A)}t.closePath()}function QT(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){jc(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%We||We))}return jc(t,e,n,r,l,i),t.fill(),l}function ZT(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f}=l,m=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=f,m?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let v=e.endAngle;if(s){jc(t,e,n,r,v,i);for(let y=0;y<s;++y)t.stroke();isNaN(a)||(v=o+(a%We||We))}m&&XT(t,e,v),s||(jc(t,e,n,r,v,i),t.stroke())}class so extends Yn{constructor(n){super();W(this,"circumference");W(this,"endAngle");W(this,"fullCircles");W(this,"innerRadius");W(this,"outerRadius");W(this,"pixelMargin");W(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=r1(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),m=(this.options.spacing+this.options.borderWidth)/2,v=xe(f,c-l),y=na(o,l,c)&&l!==c,x=v>=We||y,p=i1(a,u+m,d+m);return x&&p}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(s+o)/2,f=(a+l+u+c)/2;return{x:r+Math.cos(d)*f,y:i+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>We?Math.floor(i/We):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min($e,i||0)),u=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,QT(n,this,u,o,a),ZT(n,this,u,o,a),n.restore()}}W(so,"id","arc"),W(so,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),W(so,"defaultRoutes",{backgroundColor:"backgroundColor"}),W(so,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function M1(t,e,n=e){t.lineCap=xe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(xe(n.borderDash,e.borderDash)),t.lineDashOffset=xe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=xe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=xe(n.borderWidth,e.borderWidth),t.strokeStyle=xe(n.borderColor,e.borderColor)}function eR(t,e,n){t.lineTo(n.x,n.y)}function tR(t){return t.stepped?TP:t.tension||t.cubicInterpolationMode==="monotone"?RP:eR}function T1(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function nR(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=T1(i,n,r),u=tR(s);let{move:d=!0,reverse:f}=r||{},m,v,y;for(m=0;m<=c;++m)v=i[(a+(f?c-m:m))%o],!v.skip&&(d?(t.moveTo(v.x,v.y),d=!1):u(t,y,v,f,s.stepped),y=v);return l&&(v=i[(a+(f?c:0))%o],u(t,y,v,f,s.stepped)),!!l}function rR(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=T1(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,f,m,v,y,x,p;const g=w=>(o+(c?a-w:w))%s,_=()=>{y!==x&&(t.lineTo(u,x),t.lineTo(u,y),t.lineTo(u,p))};for(l&&(m=i[g(0)],t.moveTo(m.x,m.y)),f=0;f<=a;++f){if(m=i[g(f)],m.skip)continue;const w=m.x,S=m.y,E=w|0;E===v?(S<y?y=S:S>x&&(x=S),u=(d*u+w)/++d):(_(),t.lineTo(w,S),v=E,d=0,y=x=S),p=S}_()}function Ch(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?rR:nR}function iR(t){return t.stepped?uM:t.tension||t.cubicInterpolationMode==="monotone"?dM:Qr}function sR(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),M1(t,e.options),t.stroke(i)}function oR(t,e,n,r){const{segments:i,options:s}=e,o=Ch(e);for(const a of i)M1(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const aR=typeof Path2D=="function";function lR(t,e,n,r){aR&&!e.options.segment?sR(t,e,n,r):oR(t,e,n,r)}class Qi extends Yn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;nM(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=wM(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=vM(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=iR(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],m=s[d],v=s[f];if(m===v){a.push(m);continue}const y=Math.abs((i-m[n])/(v[n]-m[n])),x=l(m,v,y,r.stepped);x[n]=e[n],a.push(x)}return a.length===1?a[0]:a}pathSegment(e,n,r){return Ch(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=Ch(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),lR(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}W(Qi,"id","line"),W(Qi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),W(Qi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),W(Qi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function a0(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Po extends Yn{constructor(n){super();W(this,"parsed");W(this,"skip");W(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return a0(this,n,"x",r)}inYRange(n,r){return a0(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!ra(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,kh(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}W(Po,"id","point"),W(Po,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),W(Po,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class R1 extends Yn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=tt(r.text)?r.text.length:1;this._padding=Vn(r.padding);const s=i*qt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=jo(a,r,s),d=n+e,c=s-r):(o.position==="left"?(u=r+e,d=jo(a,i,n),l=$e*-.5):(u=s-e,d=jo(a,n,i),l=$e*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=qt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Sh(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:l1(n.align),textBaseline:"middle",translation:[o,a]})}}function cR(t,e){const n=new R1({ctx:t.ctx,options:e,chart:t});yr.configure(t,n,e),yr.addBox(t,n),t.titleBlock=n}var ep={id:"title",_element:R1,start(t,e,n){cR(t,n)},stop(t){const e=t.titleBlock;yr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;yr.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const oo={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=wh(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function mn(t,e){return e&&(tt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Rn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function uR(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function l0(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=qt(e.bodyFont),c=qt(e.titleFont),u=qt(e.footerFont),d=s.length,f=i.length,m=r.length,v=Vn(e.padding);let y=v.height,x=0,p=r.reduce((w,S)=>w+S.before.length+S.lines.length+S.after.length,0);if(p+=t.beforeBody.length+t.afterBody.length,d&&(y+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),p){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=m*w+(p-m)*l.lineHeight+(p-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let g=0;const _=function(w){x=Math.max(x,n.measureText(w).width+g)};return n.save(),n.font=c.string,ye(t.title,_),n.font=l.string,ye(t.beforeBody.concat(t.afterBody),_),g=e.displayColors?o+2+e.boxPadding:0,ye(r,w=>{ye(w.before,_),ye(w.lines,_),ye(w.after,_)}),g=0,n.font=u.string,ye(t.footer,_),n.restore(),x+=v.width,{width:x,height:y}}function dR(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function hR(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function fR(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),hR(c,t,e,n)&&(c="center"),c}function c0(t,e,n){const r=n.yAlign||e.yAlign||dR(t,n);return{xAlign:n.xAlign||e.xAlign||fR(t,e,n,r),yAlign:r}}function pR(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function gR(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function u0(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:m}=Ol(o);let v=pR(e,a);const y=gR(e,l,c);return l==="center"?a==="left"?v+=c:a==="right"&&(v-=c):a==="left"?v-=Math.max(u,f)+i:a==="right"&&(v+=Math.max(d,m)+i),{x:mt(v,0,r.width-e.width),y:mt(y,0,r.height-e.height)}}function ml(t,e,n){const r=Vn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function d0(t){return mn([],Rn(t))}function mR(t,e,n){return Si(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function h0(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const L1={beforeTitle:Pn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Pn,beforeBody:Pn,beforeLabel:Pn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ze(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Pn,afterBody:Pn,beforeFooter:Pn,footer:Pn,afterFooter:Pn};function wt(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?L1[e].call(n,r):i}class Ph extends Yn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new v1(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=mR(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=wt(r,"beforeTitle",this,e),s=wt(r,"title",this,e),o=wt(r,"afterTitle",this,e);let a=[];return a=mn(a,Rn(i)),a=mn(a,Rn(s)),a=mn(a,Rn(o)),a}getBeforeBody(e,n){return d0(wt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return ye(e,s=>{const o={before:[],lines:[],after:[]},a=h0(r,s);mn(o.before,Rn(wt(a,"beforeLabel",this,s))),mn(o.lines,wt(a,"label",this,s)),mn(o.after,Rn(wt(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return d0(wt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=wt(r,"beforeFooter",this,e),s=wt(r,"footer",this,e),o=wt(r,"afterFooter",this,e);let a=[];return a=mn(a,Rn(i)),a=mn(a,Rn(s)),a=mn(a,Rn(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(uR(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,r))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,r))),ye(a,u=>{const d=h0(e.callbacks,u);i.push(wt(d,"labelColor",this,u)),s.push(wt(d,"labelPointStyle",this,u)),o.push(wt(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=oo[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=l0(this,r),c=Object.assign({},a,l),u=c0(this.chart,r,c),d=u0(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Ol(a),{x:f,y:m}=e,{width:v,height:y}=n;let x,p,g,_,w,S;return s==="center"?(w=m+y/2,i==="left"?(x=f,p=x-o,_=w+o,S=w-o):(x=f+v,p=x+o,_=w-o,S=w+o),g=x):(i==="left"?p=f+Math.max(l,u)+o:i==="right"?p=f+v-Math.max(c,d)-o:p=this.caretX,s==="top"?(_=m,w=_-o,x=p-o,g=p+o):(_=m+y,w=_+o,x=p+o,g=p-o),S=_),{x1:x,x2:p,x3:g,y1:_,y2:w,y3:S}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=ed(r.rtl,this.x,this.width);for(e.x=ml(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=qt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=qt(s.bodyFont),d=ml(this,"left",s),f=i.x(d),m=l<u.lineHeight?(u.lineHeight-l)/2:0,v=n.y+m;if(s.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=i.leftForLtr(f,c)+c/2,p=v+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,kh(e,y,x,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,kh(e,y,x,p)}else{e.lineWidth=fe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=i.leftForLtr(f,c),x=i.leftForLtr(i.xPlus(f,1),c-2),p=Ol(o.borderRadius);Object.values(p).some(g=>g!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Pm(e,{x:y,y:v,w:c,h:l,radius:p}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Pm(e,{x,y:v+1,w:c-2,h:l-2,radius:p}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,v,c,l),e.strokeRect(y,v,c,l),e.fillStyle=o.backgroundColor,e.fillRect(x,v+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=qt(r.bodyFont);let f=d.lineHeight,m=0;const v=ed(r.rtl,this.x,this.width),y=function(b){n.fillText(b,v.x(e.x+m),e.y+f/2),e.y+=f+s},x=v.textAlign(o);let p,g,_,w,S,E,P;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=ml(this,x,r),n.fillStyle=r.bodyColor,ye(this.beforeBody,y),m=a&&x!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,E=i.length;w<E;++w){for(p=i[w],g=this.labelTextColors[w],n.fillStyle=g,ye(p.before,y),_=p.lines,a&&_.length&&(this._drawColorBox(n,e,w,v,r),f=Math.max(d.lineHeight,l)),S=0,P=_.length;S<P;++S)y(_[S]),f=d.lineHeight;ye(p.after,y)}m=0,f=d.lineHeight,ye(this.afterBody,y),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=ed(r.rtl,this.x,this.width);for(e.x=ml(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=qt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:v}=Ol(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-v),n.quadraticCurveTo(a+c,l+u,a+c-v,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+m,l+u),n.quadraticCurveTo(a,l+u,a,l+u-m),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=oo[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=l0(this,e),l=Object.assign({},o,this._size),c=c0(n,e,l),u=u0(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Vn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),pM(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),gM(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!xc(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!xc(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=oo[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}W(Ph,"positioners",oo);var tp={id:"tooltip",_element:Ph,positioners:oo,afterInit(t,e,n){n&&(t.tooltip=new Ph({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:L1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const yR=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function vR(t,e,n,r){const i=t.indexOf(e);if(i===-1)return yR(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const xR=(t,e)=>t===null?null:mt(Math.round(t),0,e);function f0(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class sa extends ji{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ze(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:vR(r,e,xe(n,e),this._addedLabels),xR(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return f0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}W(sa,"id","category"),W(sa,"defaults",{ticks:{callback:f0}});function _R(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,m=s||1,v=u-1,{min:y,max:x}=e,p=!ze(o),g=!ze(a),_=!ze(c),w=(x-y)/(d+1);let S=xm((x-y)/v/m)*m,E,P,b,M;if(S<1e-14&&!p&&!g)return[{value:y},{value:x}];M=Math.ceil(x/S)-Math.floor(y/S),M>v&&(S=xm(M*S/v/m)*m),ze(l)||(E=Math.pow(10,l),S=Math.ceil(S*E)/E),i==="ticks"?(P=Math.floor(y/S)*S,b=Math.ceil(x/S)*S):(P=y,b=x),p&&g&&s&&cP((a-o)/s,S/1e3)?(M=Math.round(Math.min((a-o)/S,u)),S=(a-o)/M,P=o,b=a):_?(P=p?o:P,b=g?a:b,M=c-1,S=(b-P)/M):(M=(b-P)/S,So(M,Math.round(M),S/1e3)?M=Math.round(M):M=Math.ceil(M));const L=Math.max(_m(S),_m(P));E=Math.pow(10,ze(l)?L:l),P=Math.round(P*E)/E,b=Math.round(b*E)/E;let N=0;for(p&&(f&&P!==o?(n.push({value:o}),P<o&&N++,So(Math.round((P+N*S)*E)/E,o,p0(o,w,t))&&N++):P<o&&N++);N<M;++N){const R=Math.round((P+N*S)*E)/E;if(g&&R>a)break;n.push({value:R})}return g&&f&&b!==a?n.length&&So(n[n.length-1].value,a,p0(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!g||b===a)&&n.push({value:b}),n}function p0(t,e,{horizontal:n,minRotation:r}){const i=Fn(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class O1 extends ji{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ze(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=ws(i),c=ws(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=_R(i,s);return e.bounds==="ticks"&&n1(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return su(e,this.chart.options.locale,this.options.ticks.format)}}class oa extends O1{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ct(e)?e:0,this.max=ct(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Fn(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}W(oa,"id","linear"),W(oa,"defaults",{ticks:{callback:Yf.formatters.numeric}});const aa=t=>Math.floor(mr(t)),Yr=(t,e)=>Math.pow(10,aa(t)+e);function g0(t){return t/Math.pow(10,aa(t))===1}function m0(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function wR(t,e){const n=e-t;let r=aa(n);for(;m0(t,e,r)>10;)r++;for(;m0(t,e,r)<10;)r--;return Math.min(r,aa(t))}function bR(t,{min:e,max:n}){e=Ot(t.min,e);const r=[],i=aa(e);let s=wR(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,s)),f=Ot(t.min,Math.round((l+u+d*Math.pow(10,s))*o)/o);for(;f<n;)r.push({value:f,major:g0(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),f=Math.round((l+u+d*Math.pow(10,s))*o)/o;const m=Ot(t.max,f);return r.push({value:m,major:g0(m),significand:d}),r}class Ec extends ji{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=O1.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return ct(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ct(e)?Math.max(0,e):null,this.max=ct(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ct(this._userMin)&&(this.min=e===Yr(this.min,0)?Yr(this.min,-1):Yr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Yr(r,-1)),o(Yr(i,1)))),r<=0&&s(Yr(i,-1)),i<=0&&o(Yr(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=bR(n,this);return e.bounds==="ticks"&&n1(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":su(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=mr(e),this._valueRange=mr(this.max)-mr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(mr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}W(Ec,"id","logarithmic"),W(Ec,"defaults",{ticks:{callback:Yf.formatters.logarithmic,major:{enabled:!0}}});const au={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},St=Object.keys(au);function y0(t,e){return t-e}function v0(t,e){if(ze(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),ct(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(ta(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function x0(t,e,n,r){const i=St.length;for(let s=St.indexOf(t);s<i-1;++s){const o=au[St[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return St[s]}return St[i-1]}function kR(t,e,n,r,i){for(let s=St.length-1;s>=St.indexOf(n);s--){const o=St[s];if(au[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return St[n?St.indexOf(n):0]}function SR(t){for(let e=St.indexOf(t)+1,n=St.length;e<n;++e)if(au[St[e]].common)return St[e]}function _0(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=Wf(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function jR(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function w0(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:jR(t,r,i,n)}class Cc extends ji{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new zM._date(e.adapters.date);i.init(n),ko(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:v0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=ct(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=ct(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=pP(i,s,o);return this._unit=n.unit||(r.autoSkip?x0(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):kR(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:SR(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),w0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=mt(n,0,o),r=mt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||x0(s.minUnit,n,r,this._getLabelCapacity(n)),a=xe(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=ta(l)||l===!0,u={};let d=n,f,m;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const v=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,m=0;f<r;f=+e.add(f,a,o),m++)_0(u,f,v);return(f===r||i.bounds==="ticks"||m===1)&&_0(u,f,v),Object.keys(u).sort(y0).map(y=>+y)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Ue(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=r[n],m=c&&d&&f&&f.major;return this._adapter.format(e,i||(m?d:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Fn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,w0(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(v0(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return mP(e.sort(y0))}}W(Cc,"id","time"),W(Cc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function yl(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=si(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=si(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class b0 extends Cc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=yl(n,this.min),this._tableRange=yl(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(yl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return yl(this._table,r*this._tableRange+this._minPos,!0)}}W(b0,"id","timeseries"),W(b0,"defaults",Cc.defaults);const D1="label";function k0(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function ER(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function N1(t,e){t.labels=e}function A1(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D1;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function CR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D1;const n={labels:[],datasets:[]};return N1(n,t.labels),A1(n,t.datasets,e),n}function PR(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,m=k.useRef(null),v=k.useRef(),y=()=>{m.current&&(v.current=new Ms(m.current,{type:o,data:CR(a,s),options:l&&{...l},plugins:c}),k0(e,v.current))},x=()=>{k0(e,null),v.current&&(v.current.destroy(),v.current=null)};return k.useEffect(()=>{!i&&v.current&&l&&ER(v.current,l)},[i,l]),k.useEffect(()=>{!i&&v.current&&N1(v.current.config.data,a.labels)},[i,a.labels]),k.useEffect(()=>{!i&&v.current&&a.datasets&&A1(v.current.config.data,a.datasets,s)},[i,a.datasets]),k.useEffect(()=>{v.current&&(i?(x(),setTimeout(y)):v.current.update(d))},[i,l,a.labels,a.datasets,d]),k.useEffect(()=>{v.current&&(x(),setTimeout(y))},[o]),k.useEffect(()=>(y(),()=>x()),[]),ge.createElement("canvas",Object.assign({ref:m,role:"img",height:n,width:r},f),u)}const MR=k.forwardRef(PR);function I1(t,e){return Ms.register(e),k.forwardRef((n,r)=>ge.createElement(MR,Object.assign({},n,{ref:r,type:t})))}const F1=I1("line",Dl),TR=I1("doughnut",ro),ad=["#FF5733","#3498DB","#2ECC71","#F1C40F","#E67E22","#9B59B6","#FF69B4","#1ABC9C","#F39C12","#5DADE2","#58D68D","#48C9B0","#8E44AD","#7F8C8D","#BFC1C2"];Ms.register(ep,tp,so,sa,oa);const RR=pn(),LR=new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}),ld=()=>{const t=RR.get(Ft),e=new Date;return!(t!=null&&t.month_end_date)||e.getDate()<=t.month_end_date||e.setMonth(e.getMonth()+1),e},OR=()=>{const[t]=te(Tt),[e,n]=k.useState(!1),[r,i]=k.useState([]),[s,o]=k.useState(!1),[a,l]=k.useState(0),[c,u]=k.useState(ld),d=k.useMemo(()=>r.reduce((v,y)=>v+(y.amount??0),0),[r]),f=k.useMemo(()=>r.map((v,y)=>ad[y]??ad[ad.length-1]),[r]),m=k.useMemo(()=>({labels:r.map(v=>{var y;return((y=v.category)==null?void 0:y.name)??"unknown"}),datasets:[{data:r.map(v=>v.amount??0),backgroundColor:f,borderWidth:1}]}),[r,f]);return k.useEffect(()=>{t!=null&&t.user.id&&(async()=>{n(!0);const v=await In.getExpenseOverview(t.user.id,c);if(n(!1),v.error){V.error(v.error.message);return}i(v.data??[])})()},[c,t]),k.useEffect(()=>{t!=null&&t.user.id&&(async()=>{o(!0);const v=await In.getIncomeTotal(t.user.id,c);if(o(!1),v.error){V.error(v.error.message);return}l(v.data??0)})()},[c,t]),h.jsxs("div",{className:"flex flex-1 flex-col items-center gap-4 p-2",children:[h.jsxs("div",{className:"flex w-full items-center rounded-xl bg-base-100 p-2",children:[h.jsx("div",{className:"flex-1"}),h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("button",{disabled:e||!c,onClick:()=>u(v=>v?new Date(v.setMonth(v.getMonth()-1)):void 0),className:"text-xl disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-left"})}),h.jsx("span",{className:"w-[10rem] text-center",children:c?LR.format(c):"All time"}),h.jsx("button",{disabled:e||!c||c.getMonth()===ld().getMonth(),onClick:()=>u(v=>v?new Date(v.setMonth(v.getMonth()+1)):void 0),className:"text-xl disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-right"})})]}),h.jsx("div",{className:"flex flex-1 justify-end",children:h.jsx(Xn,{options:[{icon:"lucide:calendar-days",label:c?"All time":"This month",onClick:()=>u(v=>v?void 0:ld())}]})})]}),h.jsx("div",{className:"aspect-square w-[60vw] max-w-[20rem]",children:e?h.jsx(ve,{className:"h-full w-full rounded-full",children:h.jsx("div",{})}):r.length===0?h.jsx("div",{className:"h-full w-full rounded-full bg-base-300"}):h.jsx(TR,{data:m,options:{responsive:!0,plugins:{tooltip:{callbacks:{label:function(v){return`${v.label}: ${un(parseFloat(v.raw))}`}}}}}})}),h.jsxs("div",{className:"flex w-full items-center justify-evenly gap-2 rounded-xl px-3 py-2 text-xs font-medium "+(e||s?"dai-skeleton":"bg-base-100"),children:[h.jsx("span",{className:e?"text-transparent":"text-error",children:h.jsx(dn,{count:6,amount:e?-1e6:-1*d})}),h.jsx("div",{className:"h-full w-[1px] bg-base-300"}),h.jsx("span",{className:s?"text-transparent":"text-success",children:h.jsx(dn,{count:6,amount:s?1e6:a})}),h.jsx("div",{className:"h-full w-[1px] bg-base-300"}),h.jsx("span",{className:e||s?"text-transparent":d>a?"text-error":"text-success",children:h.jsx(dn,{count:6,amount:e||s?1e6:a-d})})]}),h.jsx("div",{className:"grid w-full grid-cols-1 gap-1 md:grid-cols-2",children:e?Array.from({length:14}).map((v,y)=>h.jsx(NR,{},y)):r.length===0?null:r.map((v,y)=>h.jsx(DR,{el:v,total:d,color:f[y]??f[f.length-1]},y))})]})},DR=({el:t,total:e,color:n})=>{var r,i;return h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 shadow",children:[h.jsx("img",{className:"size-9 xs:size-12",src:iu+"/"+((r=t.category)==null?void 0:r.logo),alt:""}),h.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm xs:text-base",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("span",{style:{backgroundColor:n},className:"h-2 w-4"}),h.jsx("span",{children:(i=t.category)==null?void 0:i.name})]}),h.jsx("span",{className:"font-medium text-error",children:h.jsx(dn,{amount:-1*(t.amount??0)})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("progress",{className:"dai-progress dai-progress-primary",value:t.amount??0,max:e}),h.jsxs("span",{className:"text-xs sm:text-sm",children:[Math.round(100*(e===0?0:(t.amount??0)/e)),"%"]})]})]})]})},NR=()=>h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 shadow",children:[h.jsx(ve,{children:h.jsx("div",{className:"size-9 xs:size-12"})}),h.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[h.jsxs("div",{className:"flex justify-between text-sm xs:text-base",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(ve,{children:h.jsx("div",{className:"h-2 w-[1rem]"})}),h.jsx(ve,{children:h.jsx("span",{children:"Transportation"})})]}),h.jsx(ve,{children:h.jsx("span",{className:"font-medium text-error",children:un(-1*1e4)})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("progress",{className:"dai-progress dai-progress-primary dai-skeleton",value:0,max:0}),h.jsx("span",{className:"text-xs sm:text-sm",children:h.jsx(ve,{children:"28%"})})]})]})]});function z1(t,{minimumFractionDigits:e=0,maximumFractionDigits:n=2}={}){return t.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:n})}Ms.register(sa,oa,Po,Qi,ep,tp,Ec);const AR=pn(),IR=new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}),FR=new Intl.DateTimeFormat("en-US",{year:"numeric"}),Mn=()=>{const t=AR.get(Ft),e=new Date;return!(t!=null&&t.month_end_date)||e.getDate()<=t.month_end_date||e.setMonth(e.getMonth()+1),e},zR=()=>{const[t]=te(Tt),[e]=te(Xx),{data:n,fetched:r,refresh:i}=Ff(),[s,o]=k.useState(""),[a,l]=k.useState(""),[c,u]=k.useState(Mn()),[d,f]=k.useState("everyday"),[m,v]=k.useState(!0),[y,x]=k.useState(!1),[p,g]=k.useState(!1),[_,w]=k.useState(!1),[S,E]=k.useState([]),[P,b]=k.useState([]),M=k.useMemo(()=>p||_,[p,_]),L=k.useMemo(()=>[...new Set([...S.map(R=>parseInt(R.occurred_at.split("-").join(""))),...P.map(R=>parseInt(R.occurred_at.split("-").join("")))])],[P,S]),N=k.useMemo(()=>({labels:L,datasets:[{label:"Expense Flow",fill:!1,tension:.2,borderColor:e.error,data:S.map(R=>({y:R.amount,x:parseInt(R.occurred_at.split("-").join(""))})),pointHitRadius:10},{label:"Income Flow",fill:!1,tension:.2,borderColor:e.success,data:P.map(R=>({y:R.amount,x:parseInt(R.occurred_at.split("-").join(""))}))}]}),[S,P,e,L]);return k.useEffect(()=>{r||(async()=>{const R=await i();R&&V.error(R)})()},[]),k.useEffect(()=>{if(!m){E([]);return}(async()=>{var Y;g(!0);let R;if(d==="everyday"?R=await In.getCashFlowEveryDay({trx_type:["expense"],userId:(t==null?void 0:t.user.id)??"",month:c??Mn(),categories:s?[s]:[]}):R=await In.getCashFlowEveryMonth({trx_type:["expense"],userId:(t==null?void 0:t.user.id)??"",year:(c==null?void 0:c.getFullYear())??Mn().getFullYear(),categories:s?[s]:[]}),g(!1),R.error){V.error(R.error.message);return}(Y=R.data)==null||Y.forEach(q=>q.amount=Math.abs(q.amount)),E(R.data??[])})()},[t,c,m,s]),k.useEffect(()=>{if(!y){b([]);return}(async()=>{var Y;w(!0);let R;if(d==="everyday"?R=await In.getCashFlowEveryDay({trx_type:["income"],userId:(t==null?void 0:t.user.id)??"",month:c??Mn(),categories:a?[a]:[]}):R=await In.getCashFlowEveryMonth({trx_type:["income"],userId:(t==null?void 0:t.user.id)??"",year:(c==null?void 0:c.getFullYear())??Mn().getFullYear(),categories:a?[a]:[]}),w(!1),R.error){V.error(R.error.message);return}(Y=R.data)==null||Y.forEach(q=>q.amount=Math.abs(q.amount)),b(R.data??[])})()},[t,c,y,a]),h.jsxs("div",{className:"flex flex-1 flex-col items-center gap-2 overflow-x-auto p-2",children:[h.jsxs("div",{className:"flex w-full flex-col items-center gap-2 rounded-xl bg-base-100 p-2",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("select",{disabled:M,value:d,onChange:R=>{u(Mn()),f(R.target.value)},className:"dai-select dai-select-bordered dai-select-xs xs:dai-select-sm",children:[h.jsx("option",{value:"everyday",children:"Every Day"}),h.jsx("option",{value:"everymonth",children:"Every Month"})]}),h.jsx("div",{className:"dai-form-control",children:h.jsxs("label",{className:"dai-cursor-pointer dai-label justify-start gap-2",children:[h.jsx("input",{disabled:M,type:"checkbox",checked:m,onChange:R=>v(R.target.checked),className:"dai-checkbox-error dai-checkbox dai-checkbox-sm"}),h.jsx("span",{className:"dai-label-text",children:"Expense"})]})}),h.jsx("div",{className:"dai-form-control",children:h.jsxs("label",{className:"dai-cursor-pointer dai-label justify-start gap-2",children:[h.jsx("input",{disabled:M,type:"checkbox",checked:y,onChange:R=>x(R.target.checked),className:"dai-checkbox-success dai-checkbox dai-checkbox-sm"}),h.jsx("span",{className:"dai-label-text",children:"Income"})]})})]}),h.jsxs("div",{className:"flex w-full items-center",children:[h.jsx("div",{className:"flex flex-1 items-center pl-2",children:M&&h.jsx("span",{className:"dai-loading dai-loading-sm bg-primary"})}),h.jsxs("div",{className:"flex items-center justify-center gap-4",children:[h.jsx("button",{disabled:M||!c,onClick:()=>u(R=>R?new Date(d==="everymonth"?R.setFullYear(R.getFullYear()-1):R.setMonth(R.getMonth()-1)):void 0),className:"text-lg disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-left"})}),h.jsx("span",{className:"w-[8rem] text-center",children:c?d==="everymonth"?FR.format(c):IR.format(c):"All time"}),h.jsx("button",{disabled:M||!c||d==="everymonth"&&c.getFullYear()===Mn().getFullYear()||d==="everyday"&&c.getMonth()===Mn().getMonth(),onClick:()=>u(R=>R?new Date(d==="everymonth"?R.setFullYear(R.getFullYear()+1):R.setMonth(R.getMonth()+1)):void 0),className:"text-lg disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-right"})})]}),h.jsx("div",{className:"flex flex-1 justify-end",children:h.jsx(Xn,{disabled:M,options:[{icon:"lucide:calendar-days",label:c?"All time":d==="everymonth"?"This year":"This month",onClick:()=>u(R=>R?void 0:Mn())}]})})]})]}),h.jsx("div",{className:"w-full rounded-xl bg-base-100 p-4",children:h.jsx(F1,{data:N,className:"h-56",options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{type:"logarithmic",ticks:{color:e["base-content"],callback:R=>typeof R=="string"?R:z1(R/(R>=1e3?1e3:1))+(R>=1e3?"K":"")}},x:{ticks:{color:e["base-content"],callback:(R,Y)=>typeof R=="string"?R:L[Y]%100}}}}})}),(m||y)&&h.jsxs("div",{className:"grid w-full gap-2 rounded-xl bg-base-100 p-4",children:[h.jsx("span",{className:"font-semibold",children:"Filter category"}),h.jsxs("div",{className:"grid w-full gap-2 text-xs xs:text-sm",children:[h.jsxs("select",{disabled:!m||M,value:s,onChange:R=>o(R.target.value),className:"dai-select dai-select-bordered w-full",children:[h.jsx("option",{value:"",children:"Select expense"}),n.filter(R=>R.type==="expense").map((R,Y)=>h.jsx("option",{value:R.id,children:R.name},Y))]}),h.jsxs("select",{disabled:!y||M,value:a,onChange:R=>l(R.target.value),className:"dai-select dai-select-bordered w-full",children:[h.jsx("option",{value:"",children:"Select income"}),n.filter(R=>R.type==="income").map((R,Y)=>h.jsx("option",{value:R.id,children:R.name},Y))]})]})]})]})},$R=({onClose:t,reports:e})=>{const n=k.useRef();k.useEffect(()=>()=>t(n.current),[]);const r=i=>{n.current=i,Mr()};return h.jsx(Gc,{title:"Select Report",children:h.jsx("div",{className:"mt-4 flex flex-col items-center gap-2",children:e.map(i=>h.jsx("button",{onClick:()=>r(i.value),className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide",children:i.label},i.value))})})};Ms.register(sa,oa,Po,Qi,ep,tp,Ec);const BR=pn(),UR=new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}),HR=new Intl.DateTimeFormat("en-US",{year:"numeric"}),vl=()=>{const t=BR.get(Ft),e=new Date;return!(t!=null&&t.month_end_date)||e.getDate()<=t.month_end_date||e.setMonth(e.getMonth()+1),e},WR=()=>{const[t]=te(Tt),[e]=te(Xx),[n]=te(Ft),[r,i]=k.useState(vl()),[s,o]=k.useState(!0),[a,l]=k.useState(!1),[c,u]=k.useState([]),[d,f]=k.useState(!1),[m,v]=k.useState(null),y=k.useMemo(()=>a||d,[a,d]),x=k.useMemo(()=>{if(!m)return[];let S=m;return c.map(E=>(S+=E.amount,{...E,amount:S}))},[c,m]),p=k.useMemo(()=>{if(!a&&m!=null)return x.length===0?m:x[0].amount},[x,m,a]),g=k.useMemo(()=>{if(!a&&m!=null)return x.length===0?m:x[x.length-1].amount},[x,m,a]),_=k.useMemo(()=>[...new Set([...x.map(S=>parseInt(S.occurred_at.split("-").join("")))])],[x]),w=k.useMemo(()=>({labels:_,datasets:[{label:"Expense Flow",fill:!1,tension:.2,borderColor:e.error,data:x.map(S=>({y:S.amount,x:parseInt(S.occurred_at.split("-").join(""))})),pointHitRadius:10}]}),[x,e,_]);return k.useEffect(()=>{(async()=>{const S=r?s?new Date(r.getFullYear(),n!=null&&n.month_end_date?r.getMonth()-1:r.getMonth(),n!=null&&n.month_end_date?n.month_end_date:0):new Date(r.getFullYear(),0,0):new Date(1970,0,2);f(!0);const E=await In.getCurrentBalanceAt({userId:(t==null?void 0:t.user.id)??"",lastDate:S});if(f(!1),E.error){V.error(E.error.message);return}v(E.data??null)})()},[r]),k.useEffect(()=>{(async()=>{l(!0);let S;if(s?S=await In.getCashFlowEveryDay({trx_type:["expense","income"],userId:(t==null?void 0:t.user.id)??"",month:r??new Date,categories:[]}):S=await In.getCashFlowEveryMonth({trx_type:["expense","income"],userId:(t==null?void 0:t.user.id)??"",year:(r==null?void 0:r.getFullYear())??new Date().getFullYear(),categories:[]}),l(!1),S.error){V.error(S.error.message);return}u(S.data??[])})()},[t,r]),h.jsxs("div",{className:"flex flex-1 flex-col items-center gap-2 overflow-x-auto p-2",children:[h.jsx("div",{className:"flex w-full flex-col items-center gap-2 rounded-xl bg-base-100 p-2",children:h.jsxs("div",{className:"flex w-full items-center",children:[h.jsx("div",{className:"flex flex-1 items-center pl-2",children:y&&h.jsx("span",{className:"dai-loading dai-loading-sm bg-primary"})}),h.jsxs("div",{className:"flex items-center justify-center gap-4",children:[h.jsx("button",{disabled:y||!r,onClick:()=>i(S=>S?new Date(s?S.setMonth(S.getMonth()-1):S.setFullYear(S.getFullYear()-1)):void 0),className:"text-lg disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-left"})}),h.jsx("span",{className:"w-[8rem] text-center",children:r?s?UR.format(r):HR.format(r):"All time"}),h.jsx("button",{disabled:y||!r||!s&&r.getFullYear()===new Date().getFullYear()||s&&r.getMonth()===vl().getMonth(),onClick:()=>i(S=>S?new Date(s?S.setMonth(S.getMonth()+1):S.setFullYear(S.getFullYear()+1)):void 0),className:"text-lg disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-right"})})]}),h.jsx("div",{className:"flex flex-1 justify-end",children:h.jsx(Xn,{disabled:y,options:[{icon:"lucide:calendar-days",label:s?"Every Month":"Every Day",onClick:()=>{i(vl()),o(S=>!S)}},{icon:"lucide:infinity",label:r?"All time":s?"This month":"This year",onClick:()=>i(S=>S?void 0:vl())}]})})]})}),h.jsxs("div",{className:"w-full space-y-1 rounded-xl bg-base-100 p-4 text-sm",children:[h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("span",{children:d?h.jsx(ve,{children:"Previous:"}):"Previous:"}),h.jsx("span",{className:"font-semibold "+(m?m<0?"text-error":"text-success":""),children:d?h.jsx(ve,{children:un(1e7)}):h.jsx(dn,{amount:m??0})})]}),h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("span",{children:p==null?h.jsx(ve,{children:"Start:"}):"Start:"}),h.jsx("span",{className:"font-semibold "+(p?p<0?"text-error":"text-success":""),children:p==null?h.jsx(ve,{children:un(1e7)}):h.jsx(dn,{amount:p})})]}),h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("span",{children:g==null?h.jsx(ve,{children:"Last:"}):"Last:"}),h.jsx("span",{className:"font-semibold "+(g?g<0?"text-error":"text-success":""),children:g==null?h.jsx(ve,{children:un(1e7)}):h.jsx(dn,{amount:g})})]})]}),h.jsx("div",{className:"w-full rounded-xl bg-base-100 p-4",children:h.jsx(F1,{data:w,className:"h-56",options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{type:"linear",ticks:{color:e["base-content"],callback:S=>{if(typeof S=="string")return S;const E=Math.abs(S);return z1(S/(E>=1e3?1e3:1))+(E>=1e3?"K":"")}}},x:{ticks:{color:e["base-content"],callback:(S,E)=>typeof S=="string"?S:_[E]%100}}}}})})]})},VR=()=>{const[,t]=te(Ir),e=bn(),{pathname:n}=Ar(),r=k.useMemo(()=>[{value:"/report",label:"Expense Overview"},{value:"/report/cash-flow",label:"Cash Flow"},{value:"/report/assets-flow",label:"Assets Flow"}],[]),i=k.useMemo(()=>r.find(s=>n===s.value),[r,n]);return k.useEffect(()=>{t({title:(i==null?void 0:i.label)??"Report",revealer:!0,actions:[h.jsx("button",{onClick:()=>Fr($R,{reports:r,onClose:s=>s&&e(s)}),className:"ml-2 text-2xl",children:h.jsx(we,{icon:"lucide:menu"})})]})},[i]),h.jsxs(ga,{children:[h.jsx(Mt,{path:"/",element:h.jsx(OR,{})}),h.jsx(Mt,{path:"/cash-flow",element:h.jsx(zR,{})}),h.jsx(Mt,{path:"/assets-flow",element:h.jsx(WR,{})})]})},$1=[{icon:"lucide:house",link:"/transaction",title:"Home",el:yC,layout:!0},{icon:"lucide:chart-pie",link:"/report",title:"Report",el:VR,layout:!0},{icon:"lucide:wallet",link:"/accounts",title:"Account",el:TC,layout:!0},{icon:"lucide:group",link:"/category",title:"Categories",el:aC},{icon:"lucide:settings",link:"/settings",title:"Settings",el:bC}],YR=()=>{const t=bn(),[e,n]=te(Tt),[r,i]=k.useState(!1),[s,o]=k.useState(""),[a,l]=k.useState(""),c=k.useDeferredValue(!s||!a);k.useEffect(()=>{if(!e)return;let f=new URLSearchParams(window.location.search).get("to");f&&(f=Fx(f,Tr.BASE_URL));const m=f??$1[0].link;t(m)},[e]);const u=async()=>{const f=await $t.auth.signInWithOAuth({provider:"google"});if(f.error){V.error(f.error.message);return}},d=async()=>{i(!0);const{error:f,data:m}=await $t.auth.signInWithPassword({email:s,password:a});if(i(!1),f){V.error(f.message);return}n(m.session)};return h.jsx("div",{className:"flex min-h-dvh items-center justify-center",children:h.jsxs("div",{className:"flex w-80 flex-col items-center gap-4 rounded-xl border border-base-300 bg-base-100 p-6 shadow-md",children:[h.jsxs("form",{onSubmit:f=>{f.preventDefault(),d()},className:"flex w-full flex-col items-center gap-4",children:[h.jsx("h2",{className:"text-center text-2xl font-medium",children:"Login"}),h.jsx("input",{type:"email",value:s,onChange:f=>o(f.target.value),placeholder:"Email",className:"dai-input dai-input-sm dai-input-bordered w-full xs:dai-input-md",required:!0}),h.jsx("input",{type:"password",value:a,onChange:f=>l(f.target.value),placeholder:"Password",className:"dai-input dai-input-sm dai-input-bordered w-full xs:dai-input-md",required:!0}),h.jsx(Xc,{size:"sm",disabled:c,loading:r,className:"dai-btn-primary",children:"Submit"})]}),h.jsxs("span",{className:"flex w-full items-center gap-2 text-sm",children:[h.jsx("hr",{className:"flex-1 border-base-300"}),h.jsx("span",{children:"OR"}),h.jsx("hr",{className:"flex-1 border-base-300"})]}),h.jsx("div",{children:h.jsx("button",{disabled:!0,onClick:u,className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide",children:"Login with Google"})})]})})},KR=()=>{const[t]=te(Tt),e=bn();return k.useEffect(()=>{if(!t)return;const r=new URLSearchParams(window.location.search).get("to")??"/";e(r)},[t]),h.jsx("h1",{children:"Register"})},qR=({home:t})=>{const[,e]=te(Ir);return k.useEffect(()=>{e({title:"Not found"})},[]),h.jsx("div",{className:"grid flex-1 place-items-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-10",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-3xl font-bold",children:"404 | Not Found"}),h.jsx("p",{children:"Sorry, the page you are looking for does not exist."})]}),h.jsx(Lf,{replace:!0,to:t,className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide",children:"Back to home"})]})})},S0=8,XR=()=>{var l,c;const[t]=te(Ir),[e,n]=k.useState(!1),[r,i]=k.useState(0),[s]=te(Ft),[o,a]=te(Ux);return k.useEffect(()=>{const u=()=>i(window.scrollY);return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]),k.useEffect(()=>{if(r<=S0&&e)return n(!1);if(r>S0&&!e)return n(!0)},[r]),h.jsxs("div",{children:[h.jsx("div",{className:"fixed left-0 top-0 z-20 grid h-14 w-full place-items-center bg-secondary text-secondary-content shadow-md xs:h-16 "+(e?"opacity-90":""),children:h.jsxs("div",{className:"flex w-full items-center justify-between px-6 md:w-[47rem]",children:[h.jsxs("div",{className:"flex items-center gap-4 text-3xl",children:[t.back&&h.jsx("button",{onClick:()=>history.back(),className:"flex items-center gap-4 text-xl xs:text-2xl",children:h.jsx(we,{icon:"mdi:arrow-left"})}),t.title?typeof t.title!="string"?t.title:h.jsx("span",{className:"text-lg font-semibold xs:text-xl",children:t.title}):null,(l=t.leftActions)==null?void 0:l.map((u,d)=>h.jsx(k.Fragment,{children:u},d))]}),h.jsxs("div",{className:"flex items-center gap-4 text-3xl",children:[(s==null?void 0:s.hide_amount)&&t.revealer&&h.jsx("button",{onClick:()=>a(u=>!u),className:"text-lg text-secondary-content xs:text-xl",children:o?h.jsx(we,{icon:"lucide:eye"}):h.jsx(we,{icon:"lucide:eye-off"})}),(c=t.actions)==null?void 0:c.map((u,d)=>h.jsx(k.Fragment,{children:u},d))]})]})}),h.jsx("div",{className:"h-14 xs:h-16"})]})},GR=({icon:t,title:e,href:n})=>h.jsxs(g2,{to:n,className:({isActive:r})=>["group flex w-[4rem] flex-col items-center rounded-2xl px-3 py-1 transition-all duration-300 xs:w-[5rem]",r?"is-active bg-secondary/10 font-semibold text-secondary":""].join(" "),children:[h.jsx(we,{icon:t,className:"text-xl xs:text-2xl"}),h.jsx("span",{className:"hidden text-center text-xxs group-[.is-active]:block xs:text-xs",children:e})]}),JR=({routes:t})=>{const[e,n,r]=vh(!0),i=k.useRef(0);return k.useEffect(()=>{const s=()=>{const o=window.scrollY;if(o<=0){n(!0);return}o>i.current&&r.current?n(!1):o<i.current&&!r.current&&n(!0),i.current=o};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),h.jsx("div",{children:h.jsx("div",{className:`${e?"transform-none":"translate-y-full"} fixed bottom-0 left-0 z-20 grid h-16 w-full place-items-center bg-base-100 shadow-t-md transition-transform`,children:h.jsx("div",{className:"flex w-full items-center justify-evenly py-1 md:w-[47rem]",children:t.map((s,o)=>h.jsx(GR,{href:s.link,title:s.title,icon:s.icon},o))})})})},QR=()=>{const{pathname:t}=Ar();return k.useEffect(()=>{window.scrollTo(0,0)},[t]),null},np=()=>h.jsxs("div",{className:"relative grid place-items-center",children:[h.jsx("span",{className:"fixed size-20 animate-spin rounded-full border-4 border-b-transparent border-l-transparent border-r-primary border-t-primary"}),h.jsx("span",{className:"fixed size-16 animate-reverse-spin rounded-full border-4 border-b-transparent border-l-warning border-r-transparent border-t-warning"}),h.jsx("span",{className:"fixed size-12 animate-spin rounded-full border-4 border-b-primary border-l-primary border-r-transparent border-t-transparent"})]}),B1="/duitify/error.svg",ZR=()=>{const[t]=te(Ft),[,e]=te(zf);k.useEffect(()=>{n()},[]);const n=()=>{Fr(Vx,{onClose:r,dismissible:!1})},r=async i=>{if(!(t!=null&&t.pin))return;Ie(!0);const[s,o]=t.pin.split(":"),a=o+t.user_id,l=await Yx(i,a);if(Ie(!1),!l||s!==l){V.error(l?"Invalid PIN":"Failed to generate hash"),n();return}e(!0)};return h.jsx("div",{className:"grid min-h-dvh place-items-center bg-base-200"})};function eL(){return/Mobi|Android|iPhone|iPad|iPod|Windows Phone/i.test(navigator.userAgent)}const tL=()=>{const t=bn(),[e]=te(Tt),[n]=k.useState($1),[r,i]=k.useState(!0),[s,o]=te(Ft),[a]=te(zf),[l,c]=k.useState(""),[u,d]=k.useState(0),f=k.useMemo(()=>n[0].link,[n]),m=ex(({historyAction:v,currentLocation:y,nextLocation:x})=>v==="POP"&&y.pathname===f&&x.pathname!==f);return k.useEffect(()=>{m.state==="blocked"&&xh()},[m]),k.useEffect(()=>{let v=window.location.pathname;if(!e){const x=v!=="/"?`/login?${new URLSearchParams({to:v}).toString()}`:"/login";t(x,{replace:!0});return}if(f==="/")return;zx(v,"/")===Tr.BASE_URL&&t(f,{replace:!0})},[e]),k.useEffect(()=>{e&&(async()=>{i(!0);const{data:v,error:y}=await Gr.getSetting(e.user.id);if(i(!1),y){c(y.message);return}if(!v){c("Something went wrong, please try again");return}o(v)})()},[e,u]),e?s&&s.pin&&!a&&(!s.pin_desktop_only||!eL())?h.jsx(ZR,{}):r||l?h.jsx("div",{className:"grid min-h-dvh place-items-center",children:r?h.jsx(np,{}):h.jsxs("div",{className:"flex flex-col items-center gap-6",children:[h.jsx("img",{className:"h-64",src:B1,alt:""}),h.jsx("span",{className:"text-xl font-semibold",children:l}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("button",{onClick:()=>d(v=>v+1),className:"dai-btn dai-btn-primary",children:"Try again"}),h.jsx("button",{onClick:xh,className:"dai-btn dai-btn-ghost underline",children:"Relogin"})]})]})}):h.jsxs("div",{className:"flex min-h-dvh flex-col items-center bg-base-200 text-base-content",children:[h.jsx(QR,{}),h.jsx(XR,{}),h.jsx("main",{className:"grid w-full flex-1 md:w-[47rem]",children:h.jsxs(ga,{children:[n.map(v=>h.jsx(Mt,{path:v.link+(v.layout?"/*":""),element:h.jsx(v.el,{})},v.link)),h.jsx(Mt,{path:"*",element:h.jsx(qR,{home:f})})]})}),h.jsx(JR,{routes:n})]}):null},nL=()=>h.jsxs(ga,{children:[h.jsx(Mt,{path:"/login",element:h.jsx(YR,{})}),h.jsx(Mt,{path:"/register",element:h.jsx(KR,{})}),h.jsx(Mt,{path:"*",element:h.jsx(tL,{})})]}),rL=()=>{const[t,e]=te(lx);return t?h.jsx("div",{className:"fixed left-0 top-0 z-50 grid h-dvh w-full place-items-center bg-black bg-opacity-40",children:h.jsx(np,{})}):null},iL=({})=>{const[t]=te(cx),e=ex(t.length>0),n=()=>{t.length!==0&&t[t.length-1].dismissible&&Mr()};k.useEffect(()=>(window.addEventListener("keyup",r),()=>window.removeEventListener("keyup",r)),[]);const r=i=>{i.key==="Escape"&&n()};return k.useEffect(()=>{const i=()=>{e.state==="blocked"&&n()};return window.addEventListener("popstate",i),()=>window.removeEventListener("popstate",i)},[e]),h.jsxs("div",{onClick:n,className:"fixed left-0 top-0 z-30 flex min-h-dvh w-full items-center justify-center bg-black bg-opacity-60 sm:items-center",children:[...t.map((i,s)=>h.jsx("div",{onClick:o=>o.stopPropagation(),hidden:s!==t.length-1,className:"absolute w-full px-3 sm:w-fit sm:px-0",children:h.jsx(i.Element,{...i.props,isOpen:s===t.length-1})},s))]})},sL=()=>{const[t]=te(cx);return k.useEffect(()=>{if(t.length===0){document.body.style.overflowY="auto";return}document.body.style.overflowY="hidden"},[t]),t.length===0?null:h.jsx(iL,{})};function oL(){const[t]=te(qx),[e,n]=k.useState(!0),[r,i]=k.useState(!1),[,s]=te(Tt);k.useEffect(()=>{document.documentElement.setAttribute("data-theme",t)},[t]),k.useEffect(()=>{o()},[]);const o=async()=>{n(!0),i(!1);const{error:a,data:l}=await $t.auth.getSession();if(a){n(!1),i(!0);return}s(l.session),n(!1)};return h.jsxs(h.Fragment,{children:[!e&&!r?h.jsx(nL,{}):e?h.jsx("div",{className:"grid min-h-dvh w-full place-items-center",children:h.jsx(np,{})}):r?h.jsx("div",{className:"grid min-h-dvh w-full place-items-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-6",children:[h.jsx("img",{className:"h-64",src:B1,alt:""}),h.jsx("span",{className:"text-xl font-semibold",children:"It's looks like something went wrong"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("button",{onClick:()=>o(),className:"dai-btn dai-btn-primary",children:"Try again"}),h.jsx("button",{onClick:()=>{i(!1)},className:"dai-btn dai-btn-ghost underline",children:"Relogin"})]})]})}):null,h.jsx(K2,{position:"top-center",theme:t}),h.jsx(sL,{}),h.jsx(rL,{})]})}function aL(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let a,l,c;const u=async(f=!0)=>{await l,await(c==null?void 0:c())};async function d(){if("serviceWorker"in navigator){if(a=await yi(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/duitify/sw.js",{scope:"/duitify/",type:"classic"})).catch(f=>{o==null||o(f)}),!a)return;c=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let f=!1;const m=()=>{f=!0,a==null||a.addEventListener("controlling",v=>{v.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",v=>{typeof v.isUpdate>"u"?typeof v.isExternal<"u"?v.isExternal?m():!f&&(r==null||r()):v.isExternal?window.location.reload():!f&&(r==null||r()):v.isUpdate||r==null||r()}),a.addEventListener("waiting",m),a.addEventListener("externalwaiting",m)}a.register({immediate:e}).then(f=>{s?s("/duitify/sw.js",f):i==null||i(f)}).catch(f=>{o==null||o(f)})}}return l=d(),u}const lL=aL({onNeedRefresh(){console.log("Content is ready to be updated."),alert("New content is available, please refresh."),lL(!0)},onOfflineReady(){console.log("Content is now offline ready.")},onRegisteredSW(){console.log("Service worker has been registered.")}}),cL=n2(cc(h.jsx(Mt,{path:"*",element:h.jsx(oL,{})})),{basename:"/duitify"});cd.createRoot(document.getElementById("root")).render(h.jsx(u2,{router:cL}));export{E0 as g};
