var c_=Object.defineProperty;var u_=(t,e,n)=>e in t?c_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var V=(t,e,n)=>u_(t,typeof e!="symbol"?e+"":e,n);function P0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function d_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var T0={exports:{}},Cc={},R0={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var da=Symbol.for("react.element"),h_=Symbol.for("react.portal"),f_=Symbol.for("react.fragment"),p_=Symbol.for("react.strict_mode"),g_=Symbol.for("react.profiler"),m_=Symbol.for("react.provider"),y_=Symbol.for("react.context"),v_=Symbol.for("react.forward_ref"),x_=Symbol.for("react.suspense"),__=Symbol.for("react.memo"),w_=Symbol.for("react.lazy"),yp=Symbol.iterator;function b_(t){return t===null||typeof t!="object"?null:(t=yp&&t[yp]||t["@@iterator"],typeof t=="function"?t:null)}var L0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O0=Object.assign,D0={};function ki(t,e,n){this.props=t,this.context=e,this.refs=D0,this.updater=n||L0}ki.prototype.isReactComponent={};ki.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ki.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function N0(){}N0.prototype=ki.prototype;function Th(t,e,n){this.props=t,this.context=e,this.refs=D0,this.updater=n||L0}var Rh=Th.prototype=new N0;Rh.constructor=Th;O0(Rh,ki.prototype);Rh.isPureReactComponent=!0;var vp=Array.isArray,A0=Object.prototype.hasOwnProperty,Lh={current:null},I0={key:!0,ref:!0,__self:!0,__source:!0};function F0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)A0.call(e,r)&&!I0.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:da,type:t,key:i,ref:o,props:s,_owner:Lh.current}}function k_(t,e){return{$$typeof:da,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Oh(t){return typeof t=="object"&&t!==null&&t.$$typeof===da}function S_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xp=/\/+/g;function hu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?S_(""+t.key):e.toString(36)}function wl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case da:case h_:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+hu(o,0):r,vp(s)?(n="",t!=null&&(n=t.replace(xp,"$&/")+"/"),wl(s,e,n,"",function(c){return c})):s!=null&&(Oh(s)&&(s=k_(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xp,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",vp(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+hu(i,a);o+=wl(i,e,n,l,s)}else if(l=b_(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+hu(i,a++),o+=wl(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Da(t,e,n){if(t==null)return t;var r=[],s=0;return wl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function j_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xt={current:null},bl={transition:null},E_={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:bl,ReactCurrentOwner:Lh};function z0(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Da,forEach:function(t,e,n){Da(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Da(t,function(){e++}),e},toArray:function(t){return Da(t,function(e){return e})||[]},only:function(t){if(!Oh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=ki;le.Fragment=f_;le.Profiler=g_;le.PureComponent=Th;le.StrictMode=p_;le.Suspense=x_;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E_;le.act=z0;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=O0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Lh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)A0.call(e,l)&&!I0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:da,type:t.type,key:s,ref:i,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:y_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:m_,_context:t},t.Consumer=t};le.createElement=F0;le.createFactory=function(t){var e=F0.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:v_,render:t}};le.isValidElement=Oh;le.lazy=function(t){return{$$typeof:w_,_payload:{_status:-1,_result:t},_init:j_}};le.memo=function(t,e){return{$$typeof:__,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=bl.transition;bl.transition={};try{t()}finally{bl.transition=e}};le.unstable_act=z0;le.useCallback=function(t,e){return xt.current.useCallback(t,e)};le.useContext=function(t){return xt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return xt.current.useDeferredValue(t)};le.useEffect=function(t,e){return xt.current.useEffect(t,e)};le.useId=function(){return xt.current.useId()};le.useImperativeHandle=function(t,e,n){return xt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return xt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return xt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return xt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return xt.current.useReducer(t,e,n)};le.useRef=function(t){return xt.current.useRef(t)};le.useState=function(t){return xt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return xt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return xt.current.useTransition()};le.version="18.3.1";R0.exports=le;var b=R0.exports;const ge=M0(b),C_=P0({__proto__:null,default:ge},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_=b,M_=Symbol.for("react.element"),T_=Symbol.for("react.fragment"),R_=Object.prototype.hasOwnProperty,L_=P_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O_={key:!0,ref:!0,__self:!0,__source:!0};function $0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)R_.call(e,r)&&!O_.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:M_,type:t,key:i,ref:o,props:s,_owner:L_.current}}Cc.Fragment=T_;Cc.jsx=$0;Cc.jsxs=$0;T0.exports=Cc;var h=T0.exports,ud={},B0={exports:{}},Wt={},U0={exports:{}},H0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,F){var O=A.length;A.push(F);e:for(;0<O;){var U=O-1>>>1,J=A[U];if(0<s(J,F))A[U]=F,A[O]=J,O=U;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var F=A[0],O=A.pop();if(O!==F){A[0]=O;e:for(var U=0,J=A.length,se=J>>>1;U<se;){var ae=2*(U+1)-1,ke=A[ae],ue=ae+1,Qe=A[ue];if(0>s(ke,O))ue<J&&0>s(Qe,ke)?(A[U]=Qe,A[ue]=O,U=ue):(A[U]=ke,A[ae]=O,U=ae);else if(ue<J&&0>s(Qe,O))A[U]=Qe,A[ue]=O,U=ue;else break e}}return F}function s(A,F){var O=A.sortIndex-F.sortIndex;return O!==0?O:A.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,g=!1,v=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(A){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=A)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function w(A){if(m=!1,_(A),!v)if(n(l)!==null)v=!0,te(k);else{var F=n(c);F!==null&&ne(w,F.startTime-A)}}function k(A,F){v=!1,m&&(m=!1,p(S),S=-1),g=!0;var O=f;try{for(_(F),d=n(l);d!==null&&(!(d.expirationTime>F)||A&&!N());){var U=d.callback;if(typeof U=="function"){d.callback=null,f=d.priorityLevel;var J=U(d.expirationTime<=F);F=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(l)&&r(l),_(F)}else r(l);d=n(l)}if(d!==null)var se=!0;else{var ae=n(c);ae!==null&&ne(w,ae.startTime-F),se=!1}return se}finally{d=null,f=O,g=!1}}var j=!1,C=null,S=-1,M=5,L=-1;function N(){return!(t.unstable_now()-L<M)}function R(){if(C!==null){var A=t.unstable_now();L=A;var F=!0;try{F=C(!0,A)}finally{F?K():(j=!1,C=null)}}else j=!1}var K;if(typeof y=="function")K=function(){y(R)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Q=X.port2;X.port1.onmessage=R,K=function(){Q.postMessage(null)}}else K=function(){x(R,0)};function te(A){C=A,j||(j=!0,K())}function ne(A,F){S=x(function(){A(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,te(k))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var O=f;f=F;try{return A()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,F){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var O=f;f=A;try{return F()}finally{f=O}},t.unstable_scheduleCallback=function(A,F,O){var U=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?U+O:U):O=U,A){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=O+J,A={id:u++,callback:F,priorityLevel:A,startTime:O,expirationTime:J,sortIndex:-1},O>U?(A.sortIndex=O,e(c,A),n(l)===null&&A===n(c)&&(m?(p(S),S=-1):m=!0,ne(w,O-U))):(A.sortIndex=J,e(l,A),v||g||(v=!0,te(k))),A},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(A){var F=f;return function(){var O=f;f=F;try{return A.apply(this,arguments)}finally{f=O}}}})(H0);U0.exports=H0;var D_=U0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_=b,Ht=D_;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W0=new Set,Ro={};function vs(t,e){ci(t,e),ci(t+"Capture",e)}function ci(t,e){for(Ro[t]=e,t=0;t<e.length;t++)W0.add(e[t])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dd=Object.prototype.hasOwnProperty,A_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_p={},wp={};function I_(t){return dd.call(wp,t)?!0:dd.call(_p,t)?!1:A_.test(t)?wp[t]=!0:(_p[t]=!0,!1)}function F_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function z_(t,e,n,r){if(e===null||typeof e>"u"||F_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _t(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ot[t]=new _t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ot[e]=new _t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ot[t]=new _t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ot[t]=new _t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ot[t]=new _t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ot[t]=new _t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ot[t]=new _t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ot[t]=new _t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ot[t]=new _t(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dh=/[\-:]([a-z])/g;function Nh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dh,Nh);ot[e]=new _t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dh,Nh);ot[e]=new _t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dh,Nh);ot[e]=new _t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ot[t]=new _t(t,1,!1,t.toLowerCase(),null,!1,!1)});ot.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ot[t]=new _t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ah(t,e,n,r){var s=ot.hasOwnProperty(e)?ot[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(z_(e,n,s,r)&&(n=null),r||s===null?I_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qn=N_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Na=Symbol.for("react.element"),Ns=Symbol.for("react.portal"),As=Symbol.for("react.fragment"),Ih=Symbol.for("react.strict_mode"),hd=Symbol.for("react.profiler"),V0=Symbol.for("react.provider"),Y0=Symbol.for("react.context"),Fh=Symbol.for("react.forward_ref"),fd=Symbol.for("react.suspense"),pd=Symbol.for("react.suspense_list"),zh=Symbol.for("react.memo"),or=Symbol.for("react.lazy"),K0=Symbol.for("react.offscreen"),bp=Symbol.iterator;function Li(t){return t===null||typeof t!="object"?null:(t=bp&&t[bp]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,fu;function Gi(t){if(fu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fu=e&&e[1]||""}return`
`+fu+t}var pu=!1;function gu(t,e){if(!t||pu)return"";pu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{pu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gi(t):""}function $_(t){switch(t.tag){case 5:return Gi(t.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 2:case 15:return t=gu(t.type,!1),t;case 11:return t=gu(t.type.render,!1),t;case 1:return t=gu(t.type,!0),t;default:return""}}function gd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case As:return"Fragment";case Ns:return"Portal";case hd:return"Profiler";case Ih:return"StrictMode";case fd:return"Suspense";case pd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Y0:return(t.displayName||"Context")+".Consumer";case V0:return(t._context.displayName||"Context")+".Provider";case Fh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zh:return e=t.displayName||null,e!==null?e:gd(t.type)||"Memo";case or:e=t._payload,t=t._init;try{return gd(t(e))}catch{}}return null}function B_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gd(e);case 8:return e===Ih?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function q0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function U_(t){var e=q0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Aa(t){t._valueTracker||(t._valueTracker=U_(t))}function X0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=q0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function md(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function G0(t,e){e=e.checked,e!=null&&Ah(t,"checked",e,!1)}function yd(t,e){G0(t,e);var n=Pr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vd(t,e.type,n):e.hasOwnProperty("defaultValue")&&vd(t,e.type,Pr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vd(t,e,n){(e!=="number"||zl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ji=Array.isArray;function Js(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function xd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(Ji(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pr(n)}}function J0(t,e){var n=Pr(e.value),r=Pr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ep(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Q0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _d(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Q0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ia,Z0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ia=Ia||document.createElement("div"),Ia.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ia.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},H_=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(t){H_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ao[e]=ao[t]})});function ey(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ao.hasOwnProperty(t)&&ao[t]?(""+e).trim():e+"px"}function ty(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ey(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var W_=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wd(t,e){if(e){if(W_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function bd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=null;function $h(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sd=null,Qs=null,Zs=null;function Cp(t){if(t=pa(t)){if(typeof Sd!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Lc(e),Sd(t.stateNode,t.type,e))}}function ny(t){Qs?Zs?Zs.push(t):Zs=[t]:Qs=t}function ry(){if(Qs){var t=Qs,e=Zs;if(Zs=Qs=null,Cp(t),e)for(t=0;t<e.length;t++)Cp(e[t])}}function sy(t,e){return t(e)}function iy(){}var mu=!1;function oy(t,e,n){if(mu)return t(e,n);mu=!0;try{return sy(t,e,n)}finally{mu=!1,(Qs!==null||Zs!==null)&&(iy(),ry())}}function Oo(t,e){var n=t.stateNode;if(n===null)return null;var r=Lc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var jd=!1;if(Un)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){jd=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{jd=!1}function V_(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var lo=!1,$l=null,Bl=!1,Ed=null,Y_={onError:function(t){lo=!0,$l=t}};function K_(t,e,n,r,s,i,o,a,l){lo=!1,$l=null,V_.apply(Y_,arguments)}function q_(t,e,n,r,s,i,o,a,l){if(K_.apply(this,arguments),lo){if(lo){var c=$l;lo=!1,$l=null}else throw Error(I(198));Bl||(Bl=!0,Ed=c)}}function xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ay(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pp(t){if(xs(t)!==t)throw Error(I(188))}function X_(t){var e=t.alternate;if(!e){if(e=xs(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Pp(s),t;if(i===r)return Pp(s),e;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function ly(t){return t=X_(t),t!==null?cy(t):null}function cy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cy(t);if(e!==null)return e;t=t.sibling}return null}var uy=Ht.unstable_scheduleCallback,Mp=Ht.unstable_cancelCallback,G_=Ht.unstable_shouldYield,J_=Ht.unstable_requestPaint,He=Ht.unstable_now,Q_=Ht.unstable_getCurrentPriorityLevel,Bh=Ht.unstable_ImmediatePriority,dy=Ht.unstable_UserBlockingPriority,Ul=Ht.unstable_NormalPriority,Z_=Ht.unstable_LowPriority,hy=Ht.unstable_IdlePriority,Pc=null,wn=null;function ew(t){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Pc,t,void 0,(t.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:rw,tw=Math.log,nw=Math.LN2;function rw(t){return t>>>=0,t===0?32:31-(tw(t)/nw|0)|0}var Fa=64,za=4194304;function Qi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Qi(a):(i&=o,i!==0&&(r=Qi(i)))}else o=n&~s,o!==0?r=Qi(o):i!==0&&(r=Qi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-un(e),s=1<<n,r|=t[n],e&=~s;return r}function sw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-un(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=sw(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Cd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fy(){var t=Fa;return Fa<<=1,!(Fa&4194240)&&(Fa=64),t}function yu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ha(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-un(e),t[e]=n}function ow(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-un(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Uh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-un(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var _e=0;function py(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gy,Hh,my,yy,vy,Pd=!1,$a=[],xr=null,_r=null,wr=null,Do=new Map,No=new Map,cr=[],aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tp(t,e){switch(t){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Do.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(e.pointerId)}}function Di(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=pa(e),e!==null&&Hh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function lw(t,e,n,r,s){switch(e){case"focusin":return xr=Di(xr,t,e,n,r,s),!0;case"dragenter":return _r=Di(_r,t,e,n,r,s),!0;case"mouseover":return wr=Di(wr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Do.set(i,Di(Do.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,No.set(i,Di(No.get(i)||null,t,e,n,r,s)),!0}return!1}function xy(t){var e=es(t.target);if(e!==null){var n=xs(e);if(n!==null){if(e=n.tag,e===13){if(e=ay(n),e!==null){t.blockedOn=e,vy(t.priority,function(){my(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Md(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kd=r,n.target.dispatchEvent(r),kd=null}else return e=pa(n),e!==null&&Hh(e),t.blockedOn=n,!1;e.shift()}return!0}function Rp(t,e,n){kl(t)&&n.delete(e)}function cw(){Pd=!1,xr!==null&&kl(xr)&&(xr=null),_r!==null&&kl(_r)&&(_r=null),wr!==null&&kl(wr)&&(wr=null),Do.forEach(Rp),No.forEach(Rp)}function Ni(t,e){t.blockedOn===e&&(t.blockedOn=null,Pd||(Pd=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,cw)))}function Ao(t){function e(s){return Ni(s,t)}if(0<$a.length){Ni($a[0],t);for(var n=1;n<$a.length;n++){var r=$a[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xr!==null&&Ni(xr,t),_r!==null&&Ni(_r,t),wr!==null&&Ni(wr,t),Do.forEach(e),No.forEach(e),n=0;n<cr.length;n++)r=cr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<cr.length&&(n=cr[0],n.blockedOn===null);)xy(n),n.blockedOn===null&&cr.shift()}var ei=qn.ReactCurrentBatchConfig,Wl=!0;function uw(t,e,n,r){var s=_e,i=ei.transition;ei.transition=null;try{_e=1,Wh(t,e,n,r)}finally{_e=s,ei.transition=i}}function dw(t,e,n,r){var s=_e,i=ei.transition;ei.transition=null;try{_e=4,Wh(t,e,n,r)}finally{_e=s,ei.transition=i}}function Wh(t,e,n,r){if(Wl){var s=Md(t,e,n,r);if(s===null)Cu(t,e,r,Vl,n),Tp(t,r);else if(lw(s,t,e,n,r))r.stopPropagation();else if(Tp(t,r),e&4&&-1<aw.indexOf(t)){for(;s!==null;){var i=pa(s);if(i!==null&&gy(i),i=Md(t,e,n,r),i===null&&Cu(t,e,r,Vl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Cu(t,e,r,null,n)}}var Vl=null;function Md(t,e,n,r){if(Vl=null,t=$h(r),t=es(t),t!==null)if(e=xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ay(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vl=t,null}function _y(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q_()){case Bh:return 1;case dy:return 4;case Ul:case Z_:return 16;case hy:return 536870912;default:return 16}default:return 16}}var hr=null,Vh=null,Sl=null;function wy(){if(Sl)return Sl;var t,e=Vh,n=e.length,r,s="value"in hr?hr.value:hr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Sl=s.slice(t,1<r?1-r:void 0)}function jl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ba(){return!0}function Lp(){return!1}function Vt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ba:Lp,this.isPropagationStopped=Lp,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),e}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yh=Vt(Si),fa=De({},Si,{view:0,detail:0}),hw=Vt(fa),vu,xu,Ai,Mc=De({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(vu=t.screenX-Ai.screenX,xu=t.screenY-Ai.screenY):xu=vu=0,Ai=t),vu)},movementY:function(t){return"movementY"in t?t.movementY:xu}}),Op=Vt(Mc),fw=De({},Mc,{dataTransfer:0}),pw=Vt(fw),gw=De({},fa,{relatedTarget:0}),_u=Vt(gw),mw=De({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),yw=Vt(mw),vw=De({},Si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xw=Vt(vw),_w=De({},Si,{data:0}),Dp=Vt(_w),ww={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kw[t])?!!e[t]:!1}function Kh(){return Sw}var jw=De({},fa,{key:function(t){if(t.key){var e=ww[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kh,charCode:function(t){return t.type==="keypress"?jl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ew=Vt(jw),Cw=De({},Mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Np=Vt(Cw),Pw=De({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kh}),Mw=Vt(Pw),Tw=De({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rw=Vt(Tw),Lw=De({},Mc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ow=Vt(Lw),Dw=[9,13,27,32],qh=Un&&"CompositionEvent"in window,co=null;Un&&"documentMode"in document&&(co=document.documentMode);var Nw=Un&&"TextEvent"in window&&!co,by=Un&&(!qh||co&&8<co&&11>=co),Ap=" ",Ip=!1;function ky(t,e){switch(t){case"keyup":return Dw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function Aw(t,e){switch(t){case"compositionend":return Sy(e);case"keypress":return e.which!==32?null:(Ip=!0,Ap);case"textInput":return t=e.data,t===Ap&&Ip?null:t;default:return null}}function Iw(t,e){if(Is)return t==="compositionend"||!qh&&ky(t,e)?(t=wy(),Sl=Vh=hr=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return by&&e.locale!=="ko"?null:e.data;default:return null}}var Fw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Fw[t.type]:e==="textarea"}function jy(t,e,n,r){ny(r),e=Yl(e,"onChange"),0<e.length&&(n=new Yh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uo=null,Io=null;function zw(t){Ay(t,0)}function Tc(t){var e=$s(t);if(X0(e))return t}function $w(t,e){if(t==="change")return e}var Ey=!1;if(Un){var wu;if(Un){var bu="oninput"in document;if(!bu){var zp=document.createElement("div");zp.setAttribute("oninput","return;"),bu=typeof zp.oninput=="function"}wu=bu}else wu=!1;Ey=wu&&(!document.documentMode||9<document.documentMode)}function $p(){uo&&(uo.detachEvent("onpropertychange",Cy),Io=uo=null)}function Cy(t){if(t.propertyName==="value"&&Tc(Io)){var e=[];jy(e,Io,t,$h(t)),oy(zw,e)}}function Bw(t,e,n){t==="focusin"?($p(),uo=e,Io=n,uo.attachEvent("onpropertychange",Cy)):t==="focusout"&&$p()}function Uw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tc(Io)}function Hw(t,e){if(t==="click")return Tc(e)}function Ww(t,e){if(t==="input"||t==="change")return Tc(e)}function Vw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fn=typeof Object.is=="function"?Object.is:Vw;function Fo(t,e){if(fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!dd.call(e,s)||!fn(t[s],e[s]))return!1}return!0}function Bp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Up(t,e){var n=Bp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bp(n)}}function Py(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Py(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function My(){for(var t=window,e=zl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zl(t.document)}return e}function Xh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yw(t){var e=My(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Py(n.ownerDocument.documentElement,n)){if(r!==null&&Xh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Up(n,i);var o=Up(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Kw=Un&&"documentMode"in document&&11>=document.documentMode,Fs=null,Td=null,ho=null,Rd=!1;function Hp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rd||Fs==null||Fs!==zl(r)||(r=Fs,"selectionStart"in r&&Xh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ho&&Fo(ho,r)||(ho=r,r=Yl(Td,"onSelect"),0<r.length&&(e=new Yh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fs)))}function Ua(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zs={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionend:Ua("Transition","TransitionEnd")},ku={},Ty={};Un&&(Ty=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Rc(t){if(ku[t])return ku[t];if(!zs[t])return t;var e=zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ty)return ku[t]=e[n];return t}var Ry=Rc("animationend"),Ly=Rc("animationiteration"),Oy=Rc("animationstart"),Dy=Rc("transitionend"),Ny=new Map,Wp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(t,e){Ny.set(t,e),vs(e,[t])}for(var Su=0;Su<Wp.length;Su++){var ju=Wp[Su],qw=ju.toLowerCase(),Xw=ju[0].toUpperCase()+ju.slice(1);Lr(qw,"on"+Xw)}Lr(Ry,"onAnimationEnd");Lr(Ly,"onAnimationIteration");Lr(Oy,"onAnimationStart");Lr("dblclick","onDoubleClick");Lr("focusin","onFocus");Lr("focusout","onBlur");Lr(Dy,"onTransitionEnd");ci("onMouseEnter",["mouseout","mouseover"]);ci("onMouseLeave",["mouseout","mouseover"]);ci("onPointerEnter",["pointerout","pointerover"]);ci("onPointerLeave",["pointerout","pointerover"]);vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function Vp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,q_(r,e,void 0,t),t.currentTarget=null}function Ay(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Vp(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Vp(s,a,c),i=l}}}if(Bl)throw t=Ed,Bl=!1,Ed=null,t}function Pe(t,e){var n=e[Ad];n===void 0&&(n=e[Ad]=new Set);var r=t+"__bubble";n.has(r)||(Iy(e,t,2,!1),n.add(r))}function Eu(t,e,n){var r=0;e&&(r|=4),Iy(n,t,r,e)}var Ha="_reactListening"+Math.random().toString(36).slice(2);function zo(t){if(!t[Ha]){t[Ha]=!0,W0.forEach(function(n){n!=="selectionchange"&&(Gw.has(n)||Eu(n,!1,t),Eu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ha]||(e[Ha]=!0,Eu("selectionchange",!1,e))}}function Iy(t,e,n,r){switch(_y(e)){case 1:var s=uw;break;case 4:s=dw;break;default:s=Wh}n=s.bind(null,e,n,t),s=void 0,!jd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Cu(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=es(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}oy(function(){var c=i,u=$h(n),d=[];e:{var f=Ny.get(t);if(f!==void 0){var g=Yh,v=t;switch(t){case"keypress":if(jl(n)===0)break e;case"keydown":case"keyup":g=Ew;break;case"focusin":v="focus",g=_u;break;case"focusout":v="blur",g=_u;break;case"beforeblur":case"afterblur":g=_u;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=pw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Mw;break;case Ry:case Ly:case Oy:g=yw;break;case Dy:g=Rw;break;case"scroll":g=hw;break;case"wheel":g=Ow;break;case"copy":case"cut":case"paste":g=xw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Np}var m=(e&4)!==0,x=!m&&t==="scroll",p=m?f!==null?f+"Capture":null:f;m=[];for(var y=c,_;y!==null;){_=y;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,p!==null&&(w=Oo(y,p),w!=null&&m.push($o(y,w,_)))),x)break;y=y.return}0<m.length&&(f=new g(f,v,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==kd&&(v=n.relatedTarget||n.fromElement)&&(es(v)||v[Hn]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?es(v):null,v!==null&&(x=xs(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(m=Op,w="onMouseLeave",p="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=Np,w="onPointerLeave",p="onPointerEnter",y="pointer"),x=g==null?f:$s(g),_=v==null?f:$s(v),f=new m(w,y+"leave",g,n,u),f.target=x,f.relatedTarget=_,w=null,es(u)===c&&(m=new m(p,y+"enter",v,n,u),m.target=_,m.relatedTarget=x,w=m),x=w,g&&v)t:{for(m=g,p=v,y=0,_=m;_;_=Es(_))y++;for(_=0,w=p;w;w=Es(w))_++;for(;0<y-_;)m=Es(m),y--;for(;0<_-y;)p=Es(p),_--;for(;y--;){if(m===p||p!==null&&m===p.alternate)break t;m=Es(m),p=Es(p)}m=null}else m=null;g!==null&&Yp(d,f,g,m,!1),v!==null&&x!==null&&Yp(d,x,v,m,!0)}}e:{if(f=c?$s(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=$w;else if(Fp(f))if(Ey)k=Ww;else{k=Uw;var j=Bw}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Hw);if(k&&(k=k(t,c))){jy(d,k,n,u);break e}j&&j(t,f,c),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&vd(f,"number",f.value)}switch(j=c?$s(c):window,t){case"focusin":(Fp(j)||j.contentEditable==="true")&&(Fs=j,Td=c,ho=null);break;case"focusout":ho=Td=Fs=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,Hp(d,n,u);break;case"selectionchange":if(Kw)break;case"keydown":case"keyup":Hp(d,n,u)}var C;if(qh)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Is?ky(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(by&&n.locale!=="ko"&&(Is||S!=="onCompositionStart"?S==="onCompositionEnd"&&Is&&(C=wy()):(hr=u,Vh="value"in hr?hr.value:hr.textContent,Is=!0)),j=Yl(c,S),0<j.length&&(S=new Dp(S,t,null,n,u),d.push({event:S,listeners:j}),C?S.data=C:(C=Sy(n),C!==null&&(S.data=C)))),(C=Nw?Aw(t,n):Iw(t,n))&&(c=Yl(c,"onBeforeInput"),0<c.length&&(u=new Dp("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}Ay(d,e)})}function $o(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Oo(t,n),i!=null&&r.unshift($o(t,i,s)),i=Oo(t,e),i!=null&&r.push($o(t,i,s))),t=t.return}return r}function Es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yp(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Oo(n,i),l!=null&&o.unshift($o(n,l,a))):s||(l=Oo(n,i),l!=null&&o.push($o(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Jw=/\r\n?/g,Qw=/\u0000|\uFFFD/g;function Kp(t){return(typeof t=="string"?t:""+t).replace(Jw,`
`).replace(Qw,"")}function Wa(t,e,n){if(e=Kp(e),Kp(t)!==e&&n)throw Error(I(425))}function Kl(){}var Ld=null,Od=null;function Dd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nd=typeof setTimeout=="function"?setTimeout:void 0,Zw=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,eb=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(t){return qp.resolve(null).then(t).catch(tb)}:Nd;function tb(t){setTimeout(function(){throw t})}function Pu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ao(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ao(e)}function br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ji=Math.random().toString(36).slice(2),_n="__reactFiber$"+ji,Bo="__reactProps$"+ji,Hn="__reactContainer$"+ji,Ad="__reactEvents$"+ji,nb="__reactListeners$"+ji,rb="__reactHandles$"+ji;function es(t){var e=t[_n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hn]||n[_n]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xp(t);t!==null;){if(n=t[_n])return n;t=Xp(t)}return e}t=n,n=t.parentNode}return null}function pa(t){return t=t[_n]||t[Hn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Lc(t){return t[Bo]||null}var Id=[],Bs=-1;function Or(t){return{current:t}}function Me(t){0>Bs||(t.current=Id[Bs],Id[Bs]=null,Bs--)}function Ee(t,e){Bs++,Id[Bs]=t.current,t.current=e}var Mr={},dt=Or(Mr),Ct=Or(!1),cs=Mr;function ui(t,e){var n=t.type.contextTypes;if(!n)return Mr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pt(t){return t=t.childContextTypes,t!=null}function ql(){Me(Ct),Me(dt)}function Gp(t,e,n){if(dt.current!==Mr)throw Error(I(168));Ee(dt,e),Ee(Ct,n)}function Fy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(I(108,B_(t)||"Unknown",s));return De({},n,r)}function Xl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mr,cs=dt.current,Ee(dt,t),Ee(Ct,Ct.current),!0}function Jp(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=Fy(t,e,cs),r.__reactInternalMemoizedMergedChildContext=t,Me(Ct),Me(dt),Ee(dt,t)):Me(Ct),Ee(Ct,n)}var Dn=null,Oc=!1,Mu=!1;function zy(t){Dn===null?Dn=[t]:Dn.push(t)}function sb(t){Oc=!0,zy(t)}function Dr(){if(!Mu&&Dn!==null){Mu=!0;var t=0,e=_e;try{var n=Dn;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dn=null,Oc=!1}catch(s){throw Dn!==null&&(Dn=Dn.slice(t+1)),uy(Bh,Dr),s}finally{_e=e,Mu=!1}}return null}var Us=[],Hs=0,Gl=null,Jl=0,Kt=[],qt=0,us=null,An=1,In="";function Yr(t,e){Us[Hs++]=Jl,Us[Hs++]=Gl,Gl=t,Jl=e}function $y(t,e,n){Kt[qt++]=An,Kt[qt++]=In,Kt[qt++]=us,us=t;var r=An;t=In;var s=32-un(r)-1;r&=~(1<<s),n+=1;var i=32-un(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,An=1<<32-un(e)+s|n<<s|r,In=i+t}else An=1<<i|n<<s|r,In=t}function Gh(t){t.return!==null&&(Yr(t,1),$y(t,1,0))}function Jh(t){for(;t===Gl;)Gl=Us[--Hs],Us[Hs]=null,Jl=Us[--Hs],Us[Hs]=null;for(;t===us;)us=Kt[--qt],Kt[qt]=null,In=Kt[--qt],Kt[qt]=null,An=Kt[--qt],Kt[qt]=null}var Bt=null,Ft=null,Te=!1,ln=null;function By(t,e){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bt=t,Ft=br(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bt=t,Ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=us!==null?{id:An,overflow:In}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bt=t,Ft=null,!0):!1;default:return!1}}function Fd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zd(t){if(Te){var e=Ft;if(e){var n=e;if(!Qp(t,e)){if(Fd(t))throw Error(I(418));e=br(n.nextSibling);var r=Bt;e&&Qp(t,e)?By(r,n):(t.flags=t.flags&-4097|2,Te=!1,Bt=t)}}else{if(Fd(t))throw Error(I(418));t.flags=t.flags&-4097|2,Te=!1,Bt=t}}}function Zp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bt=t}function Va(t){if(t!==Bt)return!1;if(!Te)return Zp(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dd(t.type,t.memoizedProps)),e&&(e=Ft)){if(Fd(t))throw Uy(),Error(I(418));for(;e;)By(t,e),e=br(e.nextSibling)}if(Zp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ft=br(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ft=null}}else Ft=Bt?br(t.stateNode.nextSibling):null;return!0}function Uy(){for(var t=Ft;t;)t=br(t.nextSibling)}function di(){Ft=Bt=null,Te=!1}function Qh(t){ln===null?ln=[t]:ln.push(t)}var ib=qn.ReactCurrentBatchConfig;function Ii(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function Ya(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eg(t){var e=t._init;return e(t._payload)}function Hy(t){function e(p,y){if(t){var _=p.deletions;_===null?(p.deletions=[y],p.flags|=16):_.push(y)}}function n(p,y){if(!t)return null;for(;y!==null;)e(p,y),y=y.sibling;return null}function r(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function s(p,y){return p=Er(p,y),p.index=0,p.sibling=null,p}function i(p,y,_){return p.index=_,t?(_=p.alternate,_!==null?(_=_.index,_<y?(p.flags|=2,y):_):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,y,_,w){return y===null||y.tag!==6?(y=Au(_,p.mode,w),y.return=p,y):(y=s(y,_),y.return=p,y)}function l(p,y,_,w){var k=_.type;return k===As?u(p,y,_.props.children,w,_.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===or&&eg(k)===y.type)?(w=s(y,_.props),w.ref=Ii(p,y,_),w.return=p,w):(w=Ll(_.type,_.key,_.props,null,p.mode,w),w.ref=Ii(p,y,_),w.return=p,w)}function c(p,y,_,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Iu(_,p.mode,w),y.return=p,y):(y=s(y,_.children||[]),y.return=p,y)}function u(p,y,_,w,k){return y===null||y.tag!==7?(y=os(_,p.mode,w,k),y.return=p,y):(y=s(y,_),y.return=p,y)}function d(p,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Au(""+y,p.mode,_),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Na:return _=Ll(y.type,y.key,y.props,null,p.mode,_),_.ref=Ii(p,null,y),_.return=p,_;case Ns:return y=Iu(y,p.mode,_),y.return=p,y;case or:var w=y._init;return d(p,w(y._payload),_)}if(Ji(y)||Li(y))return y=os(y,p.mode,_,null),y.return=p,y;Ya(p,y)}return null}function f(p,y,_,w){var k=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return k!==null?null:a(p,y,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Na:return _.key===k?l(p,y,_,w):null;case Ns:return _.key===k?c(p,y,_,w):null;case or:return k=_._init,f(p,y,k(_._payload),w)}if(Ji(_)||Li(_))return k!==null?null:u(p,y,_,w,null);Ya(p,_)}return null}function g(p,y,_,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(_)||null,a(y,p,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Na:return p=p.get(w.key===null?_:w.key)||null,l(y,p,w,k);case Ns:return p=p.get(w.key===null?_:w.key)||null,c(y,p,w,k);case or:var j=w._init;return g(p,y,_,j(w._payload),k)}if(Ji(w)||Li(w))return p=p.get(_)||null,u(y,p,w,k,null);Ya(y,w)}return null}function v(p,y,_,w){for(var k=null,j=null,C=y,S=y=0,M=null;C!==null&&S<_.length;S++){C.index>S?(M=C,C=null):M=C.sibling;var L=f(p,C,_[S],w);if(L===null){C===null&&(C=M);break}t&&C&&L.alternate===null&&e(p,C),y=i(L,y,S),j===null?k=L:j.sibling=L,j=L,C=M}if(S===_.length)return n(p,C),Te&&Yr(p,S),k;if(C===null){for(;S<_.length;S++)C=d(p,_[S],w),C!==null&&(y=i(C,y,S),j===null?k=C:j.sibling=C,j=C);return Te&&Yr(p,S),k}for(C=r(p,C);S<_.length;S++)M=g(C,p,S,_[S],w),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?S:M.key),y=i(M,y,S),j===null?k=M:j.sibling=M,j=M);return t&&C.forEach(function(N){return e(p,N)}),Te&&Yr(p,S),k}function m(p,y,_,w){var k=Li(_);if(typeof k!="function")throw Error(I(150));if(_=k.call(_),_==null)throw Error(I(151));for(var j=k=null,C=y,S=y=0,M=null,L=_.next();C!==null&&!L.done;S++,L=_.next()){C.index>S?(M=C,C=null):M=C.sibling;var N=f(p,C,L.value,w);if(N===null){C===null&&(C=M);break}t&&C&&N.alternate===null&&e(p,C),y=i(N,y,S),j===null?k=N:j.sibling=N,j=N,C=M}if(L.done)return n(p,C),Te&&Yr(p,S),k;if(C===null){for(;!L.done;S++,L=_.next())L=d(p,L.value,w),L!==null&&(y=i(L,y,S),j===null?k=L:j.sibling=L,j=L);return Te&&Yr(p,S),k}for(C=r(p,C);!L.done;S++,L=_.next())L=g(C,p,S,L.value,w),L!==null&&(t&&L.alternate!==null&&C.delete(L.key===null?S:L.key),y=i(L,y,S),j===null?k=L:j.sibling=L,j=L);return t&&C.forEach(function(R){return e(p,R)}),Te&&Yr(p,S),k}function x(p,y,_,w){if(typeof _=="object"&&_!==null&&_.type===As&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Na:e:{for(var k=_.key,j=y;j!==null;){if(j.key===k){if(k=_.type,k===As){if(j.tag===7){n(p,j.sibling),y=s(j,_.props.children),y.return=p,p=y;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===or&&eg(k)===j.type){n(p,j.sibling),y=s(j,_.props),y.ref=Ii(p,j,_),y.return=p,p=y;break e}n(p,j);break}else e(p,j);j=j.sibling}_.type===As?(y=os(_.props.children,p.mode,w,_.key),y.return=p,p=y):(w=Ll(_.type,_.key,_.props,null,p.mode,w),w.ref=Ii(p,y,_),w.return=p,p=w)}return o(p);case Ns:e:{for(j=_.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(p,y.sibling),y=s(y,_.children||[]),y.return=p,p=y;break e}else{n(p,y);break}else e(p,y);y=y.sibling}y=Iu(_,p.mode,w),y.return=p,p=y}return o(p);case or:return j=_._init,x(p,y,j(_._payload),w)}if(Ji(_))return v(p,y,_,w);if(Li(_))return m(p,y,_,w);Ya(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(p,y.sibling),y=s(y,_),y.return=p,p=y):(n(p,y),y=Au(_,p.mode,w),y.return=p,p=y),o(p)):n(p,y)}return x}var hi=Hy(!0),Wy=Hy(!1),Ql=Or(null),Zl=null,Ws=null,Zh=null;function ef(){Zh=Ws=Zl=null}function tf(t){var e=Ql.current;Me(Ql),t._currentValue=e}function $d(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ti(t,e){Zl=t,Zh=Ws=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Et=!0),t.firstContext=null)}function Zt(t){var e=t._currentValue;if(Zh!==t)if(t={context:t,memoizedValue:e,next:null},Ws===null){if(Zl===null)throw Error(I(308));Ws=t,Zl.dependencies={lanes:0,firstContext:t}}else Ws=Ws.next=t;return e}var ts=null;function nf(t){ts===null?ts=[t]:ts.push(t)}function Vy(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,nf(e)):(n.next=s.next,s.next=n),e.interleaved=n,Wn(t,r)}function Wn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ar=!1;function rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Wn(t,n)}return s=r.interleaved,s===null?(e.next=e,nf(r)):(e.next=s.next,s.next=e),r.interleaved=e,Wn(t,n)}function El(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uh(t,n)}}function tg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ec(t,e,n,r){var s=t.updateQueue;ar=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,m=a;switch(f=e,g=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){d=v.call(g,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,f=typeof v=="function"?v.call(g,d,f):v,f==null)break e;d=De({},d,f);break e;case 2:ar=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=d):u=u.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hs|=o,t.lanes=o,t.memoizedState=d}}function ng(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var ga={},bn=Or(ga),Uo=Or(ga),Ho=Or(ga);function ns(t){if(t===ga)throw Error(I(174));return t}function sf(t,e){switch(Ee(Ho,e),Ee(Uo,t),Ee(bn,ga),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_d(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_d(e,t)}Me(bn),Ee(bn,e)}function fi(){Me(bn),Me(Uo),Me(Ho)}function Ky(t){ns(Ho.current);var e=ns(bn.current),n=_d(e,t.type);e!==n&&(Ee(Uo,t),Ee(bn,n))}function of(t){Uo.current===t&&(Me(bn),Me(Uo))}var Le=Or(0);function tc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tu=[];function af(){for(var t=0;t<Tu.length;t++)Tu[t]._workInProgressVersionPrimary=null;Tu.length=0}var Cl=qn.ReactCurrentDispatcher,Ru=qn.ReactCurrentBatchConfig,ds=0,Oe=null,qe=null,tt=null,nc=!1,fo=!1,Wo=0,ob=0;function at(){throw Error(I(321))}function lf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fn(t[n],e[n]))return!1;return!0}function cf(t,e,n,r,s,i){if(ds=i,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cl.current=t===null||t.memoizedState===null?ub:db,t=n(r,s),fo){i=0;do{if(fo=!1,Wo=0,25<=i)throw Error(I(301));i+=1,tt=qe=null,e.updateQueue=null,Cl.current=hb,t=n(r,s)}while(fo)}if(Cl.current=rc,e=qe!==null&&qe.next!==null,ds=0,tt=qe=Oe=null,nc=!1,e)throw Error(I(300));return t}function uf(){var t=Wo!==0;return Wo=0,t}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Oe.memoizedState=tt=t:tt=tt.next=t,tt}function en(){if(qe===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var e=tt===null?Oe.memoizedState:tt.next;if(e!==null)tt=e,qe=t;else{if(t===null)throw Error(I(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},tt===null?Oe.memoizedState=tt=t:tt=tt.next=t}return tt}function Vo(t,e){return typeof e=="function"?e(t):e}function Lu(t){var e=en(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=qe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((ds&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Oe.lanes|=u,hs|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,fn(r,e.memoizedState)||(Et=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Oe.lanes|=i,hs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ou(t){var e=en(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);fn(i,e.memoizedState)||(Et=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function qy(){}function Xy(t,e){var n=Oe,r=en(),s=e(),i=!fn(r.memoizedState,s);if(i&&(r.memoizedState=s,Et=!0),r=r.queue,df(Qy.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Yo(9,Jy.bind(null,n,r,s,e),void 0,null),rt===null)throw Error(I(349));ds&30||Gy(n,e,s)}return s}function Gy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Jy(t,e,n,r){e.value=n,e.getSnapshot=r,Zy(e)&&ev(t)}function Qy(t,e,n){return n(function(){Zy(e)&&ev(t)})}function Zy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fn(t,n)}catch{return!0}}function ev(t){var e=Wn(t,1);e!==null&&dn(e,t,1,-1)}function rg(t){var e=vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:t},e.queue=t,t=t.dispatch=cb.bind(null,Oe,t),[e.memoizedState,t]}function Yo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tv(){return en().memoizedState}function Pl(t,e,n,r){var s=vn();Oe.flags|=t,s.memoizedState=Yo(1|e,n,void 0,r===void 0?null:r)}function Dc(t,e,n,r){var s=en();r=r===void 0?null:r;var i=void 0;if(qe!==null){var o=qe.memoizedState;if(i=o.destroy,r!==null&&lf(r,o.deps)){s.memoizedState=Yo(e,n,i,r);return}}Oe.flags|=t,s.memoizedState=Yo(1|e,n,i,r)}function sg(t,e){return Pl(8390656,8,t,e)}function df(t,e){return Dc(2048,8,t,e)}function nv(t,e){return Dc(4,2,t,e)}function rv(t,e){return Dc(4,4,t,e)}function sv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iv(t,e,n){return n=n!=null?n.concat([t]):null,Dc(4,4,sv.bind(null,e,t),n)}function hf(){}function ov(t,e){var n=en();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function av(t,e){var n=en();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lv(t,e,n){return ds&21?(fn(n,e)||(n=fy(),Oe.lanes|=n,hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Et=!0),t.memoizedState=n)}function ab(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=Ru.transition;Ru.transition={};try{t(!1),e()}finally{_e=n,Ru.transition=r}}function cv(){return en().memoizedState}function lb(t,e,n){var r=jr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uv(t))dv(e,n);else if(n=Vy(t,e,n,r),n!==null){var s=vt();dn(n,t,r,s),hv(n,e,r)}}function cb(t,e,n){var r=jr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uv(t))dv(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,fn(a,o)){var l=e.interleaved;l===null?(s.next=s,nf(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Vy(t,e,s,r),n!==null&&(s=vt(),dn(n,t,r,s),hv(n,e,r))}}function uv(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function dv(t,e){fo=nc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uh(t,n)}}var rc={readContext:Zt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},ub={readContext:Zt,useCallback:function(t,e){return vn().memoizedState=[t,e===void 0?null:e],t},useContext:Zt,useEffect:sg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pl(4194308,4,sv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pl(4,2,t,e)},useMemo:function(t,e){var n=vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=lb.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=vn();return t={current:t},e.memoizedState=t},useState:rg,useDebugValue:hf,useDeferredValue:function(t){return vn().memoizedState=t},useTransition:function(){var t=rg(!1),e=t[0];return t=ab.bind(null,t[1]),vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,s=vn();if(Te){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),rt===null)throw Error(I(349));ds&30||Gy(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,sg(Qy.bind(null,r,i,t),[t]),r.flags|=2048,Yo(9,Jy.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=vn(),e=rt.identifierPrefix;if(Te){var n=In,r=An;n=(r&~(1<<32-un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ob++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},db={readContext:Zt,useCallback:ov,useContext:Zt,useEffect:df,useImperativeHandle:iv,useInsertionEffect:nv,useLayoutEffect:rv,useMemo:av,useReducer:Lu,useRef:tv,useState:function(){return Lu(Vo)},useDebugValue:hf,useDeferredValue:function(t){var e=en();return lv(e,qe.memoizedState,t)},useTransition:function(){var t=Lu(Vo)[0],e=en().memoizedState;return[t,e]},useMutableSource:qy,useSyncExternalStore:Xy,useId:cv,unstable_isNewReconciler:!1},hb={readContext:Zt,useCallback:ov,useContext:Zt,useEffect:df,useImperativeHandle:iv,useInsertionEffect:nv,useLayoutEffect:rv,useMemo:av,useReducer:Ou,useRef:tv,useState:function(){return Ou(Vo)},useDebugValue:hf,useDeferredValue:function(t){var e=en();return qe===null?e.memoizedState=t:lv(e,qe.memoizedState,t)},useTransition:function(){var t=Ou(Vo)[0],e=en().memoizedState;return[t,e]},useMutableSource:qy,useSyncExternalStore:Xy,useId:cv,unstable_isNewReconciler:!1};function rn(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nc={isMounted:function(t){return(t=t._reactInternals)?xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vt(),s=jr(t),i=$n(r,s);i.payload=e,n!=null&&(i.callback=n),e=kr(t,i,s),e!==null&&(dn(e,t,s,r),El(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vt(),s=jr(t),i=$n(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=kr(t,i,s),e!==null&&(dn(e,t,s,r),El(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),r=jr(t),s=$n(n,r);s.tag=2,e!=null&&(s.callback=e),e=kr(t,s,r),e!==null&&(dn(e,t,r,n),El(e,t,r))}};function ig(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Fo(n,r)||!Fo(s,i):!0}function fv(t,e,n){var r=!1,s=Mr,i=e.contextType;return typeof i=="object"&&i!==null?i=Zt(i):(s=Pt(e)?cs:dt.current,r=e.contextTypes,i=(r=r!=null)?ui(t,s):Mr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function og(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nc.enqueueReplaceState(e,e.state,null)}function Ud(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},rf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Zt(i):(i=Pt(e)?cs:dt.current,s.context=ui(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Bd(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Nc.enqueueReplaceState(s,s.state,null),ec(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function pi(t,e){try{var n="",r=e;do n+=$_(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Du(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fb=typeof WeakMap=="function"?WeakMap:Map;function pv(t,e,n){n=$n(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ic||(ic=!0,Zd=r),Hd(t,e)},n}function gv(t,e,n){n=$n(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Hd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Hd(t,e),typeof r!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ag(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fb;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Cb.bind(null,t,e,n),e.then(t,t))}function lg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cg(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$n(-1,1),e.tag=2,kr(n,e,1))),n.lanes|=1),t)}var pb=qn.ReactCurrentOwner,Et=!1;function pt(t,e,n,r){e.child=t===null?Wy(e,null,n,r):hi(e,t.child,n,r)}function ug(t,e,n,r,s){n=n.render;var i=e.ref;return ti(e,s),r=cf(t,e,n,r,i,s),n=uf(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vn(t,e,s)):(Te&&n&&Gh(e),e.flags|=1,pt(t,e,r,s),e.child)}function dg(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!_f(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,mv(t,e,i,r,s)):(t=Ll(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fo,n(o,r)&&t.ref===e.ref)return Vn(t,e,s)}return e.flags|=1,t=Er(i,r),t.ref=e.ref,t.return=e,e.child=t}function mv(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Fo(i,r)&&t.ref===e.ref)if(Et=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Et=!0);else return e.lanes=t.lanes,Vn(t,e,s)}return Wd(t,e,n,r,s)}function yv(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Ys,At),At|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Ys,At),At|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ee(Ys,At),At|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ee(Ys,At),At|=r;return pt(t,e,s,n),e.child}function vv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wd(t,e,n,r,s){var i=Pt(n)?cs:dt.current;return i=ui(e,i),ti(e,s),n=cf(t,e,n,r,i,s),r=uf(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vn(t,e,s)):(Te&&r&&Gh(e),e.flags|=1,pt(t,e,n,s),e.child)}function hg(t,e,n,r,s){if(Pt(n)){var i=!0;Xl(e)}else i=!1;if(ti(e,s),e.stateNode===null)Ml(t,e),fv(e,n,r),Ud(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Zt(c):(c=Pt(n)?cs:dt.current,c=ui(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&og(e,o,r,c),ar=!1;var f=e.memoizedState;o.state=f,ec(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Ct.current||ar?(typeof u=="function"&&(Bd(e,n,u,r),l=e.memoizedState),(a=ar||ig(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Yy(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Zt(l):(l=Pt(n)?cs:dt.current,l=ui(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&og(e,o,r,l),ar=!1,f=e.memoizedState,o.state=f,ec(e,r,o,s);var v=e.memoizedState;a!==d||f!==v||Ct.current||ar?(typeof g=="function"&&(Bd(e,n,g,r),v=e.memoizedState),(c=ar||ig(e,n,c,r,f,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Vd(t,e,n,r,i,s)}function Vd(t,e,n,r,s,i){vv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Jp(e,n,!1),Vn(t,e,i);r=e.stateNode,pb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=hi(e,t.child,null,i),e.child=hi(e,null,a,i)):pt(t,e,a,i),e.memoizedState=r.state,s&&Jp(e,n,!0),e.child}function xv(t){var e=t.stateNode;e.pendingContext?Gp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Gp(t,e.context,!1),sf(t,e.containerInfo)}function fg(t,e,n,r,s){return di(),Qh(s),e.flags|=256,pt(t,e,n,r),e.child}var Yd={dehydrated:null,treeContext:null,retryLane:0};function Kd(t){return{baseLanes:t,cachePool:null,transitions:null}}function _v(t,e,n){var r=e.pendingProps,s=Le.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ee(Le,s&1),t===null)return zd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Fc(o,r,0,null),t=os(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Kd(n),e.memoizedState=Yd,t):ff(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return gb(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Er(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Er(a,i):(i=os(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Kd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Yd,r}return i=t.child,t=i.sibling,r=Er(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ff(t,e){return e=Fc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ka(t,e,n,r){return r!==null&&Qh(r),hi(e,t.child,null,n),t=ff(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gb(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Du(Error(I(422))),Ka(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Fc({mode:"visible",children:r.children},s,0,null),i=os(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&hi(e,t.child,null,o),e.child.memoizedState=Kd(o),e.memoizedState=Yd,i);if(!(e.mode&1))return Ka(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(I(419)),r=Du(i,r,void 0),Ka(t,e,o,r)}if(a=(o&t.childLanes)!==0,Et||a){if(r=rt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Wn(t,s),dn(r,t,s,-1))}return xf(),r=Du(Error(I(421))),Ka(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Pb.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ft=br(s.nextSibling),Bt=e,Te=!0,ln=null,t!==null&&(Kt[qt++]=An,Kt[qt++]=In,Kt[qt++]=us,An=t.id,In=t.overflow,us=e),e=ff(e,r.children),e.flags|=4096,e)}function pg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$d(t.return,e,n)}function Nu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wv(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(pt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pg(t,n,e);else if(t.tag===19)pg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(Le,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&tc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Nu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&tc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Nu(e,!0,n,null,i);break;case"together":Nu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ml(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=Er(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Er(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mb(t,e,n){switch(e.tag){case 3:xv(e),di();break;case 5:Ky(e);break;case 1:Pt(e.type)&&Xl(e);break;case 4:sf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ee(Ql,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?_v(t,e,n):(Ee(Le,Le.current&1),t=Vn(t,e,n),t!==null?t.sibling:null);Ee(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wv(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ee(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,yv(t,e,n)}return Vn(t,e,n)}var bv,qd,kv,Sv;bv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qd=function(){};kv=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ns(bn.current);var i=null;switch(n){case"input":s=md(t,s),r=md(t,r),i=[];break;case"select":s=De({},s,{value:void 0}),r=De({},r,{value:void 0}),i=[];break;case"textarea":s=xd(t,s),r=xd(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kl)}wd(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ro.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Sv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fi(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yb(t,e,n){var r=e.pendingProps;switch(Jh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return Pt(e.type)&&ql(),lt(e),null;case 3:return r=e.stateNode,fi(),Me(Ct),Me(dt),af(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Va(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ln!==null&&(nh(ln),ln=null))),qd(t,e),lt(e),null;case 5:of(e);var s=ns(Ho.current);if(n=e.type,t!==null&&e.stateNode!=null)kv(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(I(166));return lt(e),null}if(t=ns(bn.current),Va(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[_n]=e,r[Bo]=i,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<Zi.length;s++)Pe(Zi[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":kp(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":jp(r,i),Pe("invalid",r)}wd(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Wa(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Wa(r.textContent,a,t),s=["children",""+a]):Ro.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":Aa(r),Sp(r,i,!0);break;case"textarea":Aa(r),Ep(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Kl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Q0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_n]=e,t[Bo]=r,bv(t,e,!1,!1),e.stateNode=t;e:{switch(o=bd(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),s=r;break;case"iframe":case"object":case"embed":Pe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Zi.length;s++)Pe(Zi[s],t);s=r;break;case"source":Pe("error",t),s=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),s=r;break;case"details":Pe("toggle",t),s=r;break;case"input":kp(t,r),s=md(t,r),Pe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=De({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":jp(t,r),s=xd(t,r),Pe("invalid",t);break;default:s=r}wd(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?ty(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Z0(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lo(t,l):typeof l=="number"&&Lo(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ro.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Pe("scroll",t):l!=null&&Ah(t,i,l,o))}switch(n){case"input":Aa(t),Sp(t,r,!1);break;case"textarea":Aa(t),Ep(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Js(t,!!r.multiple,i,!1):r.defaultValue!=null&&Js(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)Sv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=ns(Ho.current),ns(bn.current),Va(e)){if(r=e.stateNode,n=e.memoizedProps,r[_n]=e,(i=r.nodeValue!==n)&&(t=Bt,t!==null))switch(t.tag){case 3:Wa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wa(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_n]=e,e.stateNode=r}return lt(e),null;case 13:if(Me(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&Ft!==null&&e.mode&1&&!(e.flags&128))Uy(),di(),e.flags|=98560,i=!1;else if(i=Va(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(I(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[_n]=e}else di(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),i=!1}else ln!==null&&(nh(ln),ln=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?Xe===0&&(Xe=3):xf())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return fi(),qd(t,e),t===null&&zo(e.stateNode.containerInfo),lt(e),null;case 10:return tf(e.type._context),lt(e),null;case 17:return Pt(e.type)&&ql(),lt(e),null;case 19:if(Me(Le),i=e.memoizedState,i===null)return lt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Fi(i,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=tc(t),o!==null){for(e.flags|=128,Fi(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(Le,Le.current&1|2),e.child}t=t.sibling}i.tail!==null&&He()>gi&&(e.flags|=128,r=!0,Fi(i,!1),e.lanes=4194304)}else{if(!r)if(t=tc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Te)return lt(e),null}else 2*He()-i.renderingStartTime>gi&&n!==1073741824&&(e.flags|=128,r=!0,Fi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=He(),e.sibling=null,n=Le.current,Ee(Le,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return vf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?At&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function vb(t,e){switch(Jh(e),e.tag){case 1:return Pt(e.type)&&ql(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fi(),Me(Ct),Me(dt),af(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return of(e),null;case 13:if(Me(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));di()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Le),null;case 4:return fi(),null;case 10:return tf(e.type._context),null;case 22:case 23:return vf(),null;case 24:return null;default:return null}}var qa=!1,ct=!1,xb=typeof WeakSet=="function"?WeakSet:Set,B=null;function Vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function Xd(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var gg=!1;function _b(t,e){if(Ld=Wl,t=My(),Xh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Od={focusedElem:t,selectionRange:n},Wl=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,x=v.memoizedState,p=e.stateNode,y=p.getSnapshotBeforeUpdate(e.elementType===e.type?m:rn(e.type,m),x);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(w){Fe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return v=gg,gg=!1,v}function po(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xd(e,n,i)}s=s.next}while(s!==r)}}function Ac(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jv(t){var e=t.alternate;e!==null&&(t.alternate=null,jv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_n],delete e[Bo],delete e[Ad],delete e[nb],delete e[rb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ev(t){return t.tag===5||t.tag===3||t.tag===4}function mg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ev(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kl));else if(r!==4&&(t=t.child,t!==null))for(Jd(t,e,n),t=t.sibling;t!==null;)Jd(t,e,n),t=t.sibling}function Qd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qd(t,e,n),t=t.sibling;t!==null;)Qd(t,e,n),t=t.sibling}var st=null,sn=!1;function er(t,e,n){for(n=n.child;n!==null;)Cv(t,e,n),n=n.sibling}function Cv(t,e,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Pc,n)}catch{}switch(n.tag){case 5:ct||Vs(n,e);case 6:var r=st,s=sn;st=null,er(t,e,n),st=r,sn=s,st!==null&&(sn?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(sn?(t=st,n=n.stateNode,t.nodeType===8?Pu(t.parentNode,n):t.nodeType===1&&Pu(t,n),Ao(t)):Pu(st,n.stateNode));break;case 4:r=st,s=sn,st=n.stateNode.containerInfo,sn=!0,er(t,e,n),st=r,sn=s;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Xd(n,e,o),s=s.next}while(s!==r)}er(t,e,n);break;case 1:if(!ct&&(Vs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}er(t,e,n);break;case 21:er(t,e,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,er(t,e,n),ct=r):er(t,e,n);break;default:er(t,e,n)}}function yg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xb),e.forEach(function(r){var s=Mb.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,sn=!1;break e;case 3:st=a.stateNode.containerInfo,sn=!0;break e;case 4:st=a.stateNode.containerInfo,sn=!0;break e}a=a.return}if(st===null)throw Error(I(160));Cv(i,o,s),st=null,sn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Fe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pv(e,t),e=e.sibling}function Pv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tn(e,t),mn(t),r&4){try{po(3,t,t.return),Ac(3,t)}catch(m){Fe(t,t.return,m)}try{po(5,t,t.return)}catch(m){Fe(t,t.return,m)}}break;case 1:tn(e,t),mn(t),r&512&&n!==null&&Vs(n,n.return);break;case 5:if(tn(e,t),mn(t),r&512&&n!==null&&Vs(n,n.return),t.flags&32){var s=t.stateNode;try{Lo(s,"")}catch(m){Fe(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&G0(s,i),bd(a,o);var c=bd(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?ty(s,d):u==="dangerouslySetInnerHTML"?Z0(s,d):u==="children"?Lo(s,d):Ah(s,u,d,c)}switch(a){case"input":yd(s,i);break;case"textarea":J0(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Js(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Js(s,!!i.multiple,i.defaultValue,!0):Js(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bo]=i}catch(m){Fe(t,t.return,m)}}break;case 6:if(tn(e,t),mn(t),r&4){if(t.stateNode===null)throw Error(I(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){Fe(t,t.return,m)}}break;case 3:if(tn(e,t),mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ao(e.containerInfo)}catch(m){Fe(t,t.return,m)}break;case 4:tn(e,t),mn(t);break;case 13:tn(e,t),mn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(mf=He())),r&4&&yg(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(c=ct)||u,tn(e,t),ct=c):tn(e,t),mn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(B=t,u=t.child;u!==null;){for(d=B=u;B!==null;){switch(f=B,g=f.child,f.tag){case 0:case 11:case 14:case 15:po(4,f,f.return);break;case 1:Vs(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){Fe(r,n,m)}}break;case 5:Vs(f,f.return);break;case 22:if(f.memoizedState!==null){xg(d);continue}}g!==null?(g.return=f,B=g):xg(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ey("display",o))}catch(m){Fe(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Fe(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:tn(e,t),mn(t),r&4&&yg(t);break;case 21:break;default:tn(e,t),mn(t)}}function mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ev(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Lo(s,""),r.flags&=-33);var i=mg(t);Qd(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=mg(t);Jd(t,a,o);break;default:throw Error(I(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wb(t,e,n){B=t,Mv(t)}function Mv(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var s=B,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||qa;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ct;a=qa;var c=ct;if(qa=o,(ct=l)&&!c)for(B=s;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?_g(s):l!==null?(l.return=o,B=l):_g(s);for(;i!==null;)B=i,Mv(i),i=i.sibling;B=s,qa=a,ct=c}vg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,B=i):vg(t)}}function vg(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||Ac(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:rn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ng(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ng(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ao(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}ct||e.flags&512&&Gd(e)}catch(f){Fe(e,e.return,f)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function xg(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function _g(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ac(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Fe(e,s,l)}}var i=e.return;try{Gd(e)}catch(l){Fe(e,i,l)}break;case 5:var o=e.return;try{Gd(e)}catch(l){Fe(e,o,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var bb=Math.ceil,sc=qn.ReactCurrentDispatcher,pf=qn.ReactCurrentOwner,Jt=qn.ReactCurrentBatchConfig,he=0,rt=null,Ye=null,it=0,At=0,Ys=Or(0),Xe=0,Ko=null,hs=0,Ic=0,gf=0,go=null,kt=null,mf=0,gi=1/0,On=null,ic=!1,Zd=null,Sr=null,Xa=!1,fr=null,oc=0,mo=0,eh=null,Tl=-1,Rl=0;function vt(){return he&6?He():Tl!==-1?Tl:Tl=He()}function jr(t){return t.mode&1?he&2&&it!==0?it&-it:ib.transition!==null?(Rl===0&&(Rl=fy()),Rl):(t=_e,t!==0||(t=window.event,t=t===void 0?16:_y(t.type)),t):1}function dn(t,e,n,r){if(50<mo)throw mo=0,eh=null,Error(I(185));ha(t,n,r),(!(he&2)||t!==rt)&&(t===rt&&(!(he&2)&&(Ic|=n),Xe===4&&ur(t,it)),Mt(t,r),n===1&&he===0&&!(e.mode&1)&&(gi=He()+500,Oc&&Dr()))}function Mt(t,e){var n=t.callbackNode;iw(t,e);var r=Hl(t,t===rt?it:0);if(r===0)n!==null&&Mp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Mp(n),e===1)t.tag===0?sb(wg.bind(null,t)):zy(wg.bind(null,t)),eb(function(){!(he&6)&&Dr()}),n=null;else{switch(py(r)){case 1:n=Bh;break;case 4:n=dy;break;case 16:n=Ul;break;case 536870912:n=hy;break;default:n=Ul}n=Iv(n,Tv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Tv(t,e){if(Tl=-1,Rl=0,he&6)throw Error(I(327));var n=t.callbackNode;if(ni()&&t.callbackNode!==n)return null;var r=Hl(t,t===rt?it:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ac(t,r);else{e=r;var s=he;he|=2;var i=Lv();(rt!==t||it!==e)&&(On=null,gi=He()+500,is(t,e));do try{jb();break}catch(a){Rv(t,a)}while(!0);ef(),sc.current=i,he=s,Ye!==null?e=0:(rt=null,it=0,e=Xe)}if(e!==0){if(e===2&&(s=Cd(t),s!==0&&(r=s,e=th(t,s))),e===1)throw n=Ko,is(t,0),ur(t,r),Mt(t,He()),n;if(e===6)ur(t,r);else{if(s=t.current.alternate,!(r&30)&&!kb(s)&&(e=ac(t,r),e===2&&(i=Cd(t),i!==0&&(r=i,e=th(t,i))),e===1))throw n=Ko,is(t,0),ur(t,r),Mt(t,He()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(I(345));case 2:Kr(t,kt,On);break;case 3:if(ur(t,r),(r&130023424)===r&&(e=mf+500-He(),10<e)){if(Hl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){vt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Nd(Kr.bind(null,t,kt,On),e);break}Kr(t,kt,On);break;case 4:if(ur(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-un(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bb(r/1960))-r,10<r){t.timeoutHandle=Nd(Kr.bind(null,t,kt,On),r);break}Kr(t,kt,On);break;case 5:Kr(t,kt,On);break;default:throw Error(I(329))}}}return Mt(t,He()),t.callbackNode===n?Tv.bind(null,t):null}function th(t,e){var n=go;return t.current.memoizedState.isDehydrated&&(is(t,e).flags|=256),t=ac(t,e),t!==2&&(e=kt,kt=n,e!==null&&nh(e)),t}function nh(t){kt===null?kt=t:kt.push.apply(kt,t)}function kb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ur(t,e){for(e&=~gf,e&=~Ic,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-un(e),r=1<<n;t[n]=-1,e&=~r}}function wg(t){if(he&6)throw Error(I(327));ni();var e=Hl(t,0);if(!(e&1))return Mt(t,He()),null;var n=ac(t,e);if(t.tag!==0&&n===2){var r=Cd(t);r!==0&&(e=r,n=th(t,r))}if(n===1)throw n=Ko,is(t,0),ur(t,e),Mt(t,He()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kr(t,kt,On),Mt(t,He()),null}function yf(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(gi=He()+500,Oc&&Dr())}}function fs(t){fr!==null&&fr.tag===0&&!(he&6)&&ni();var e=he;he|=1;var n=Jt.transition,r=_e;try{if(Jt.transition=null,_e=1,t)return t()}finally{_e=r,Jt.transition=n,he=e,!(he&6)&&Dr()}}function vf(){At=Ys.current,Me(Ys)}function is(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Zw(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(Jh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ql();break;case 3:fi(),Me(Ct),Me(dt),af();break;case 5:of(r);break;case 4:fi();break;case 13:Me(Le);break;case 19:Me(Le);break;case 10:tf(r.type._context);break;case 22:case 23:vf()}n=n.return}if(rt=t,Ye=t=Er(t.current,null),it=At=e,Xe=0,Ko=null,gf=Ic=hs=0,kt=go=null,ts!==null){for(e=0;e<ts.length;e++)if(n=ts[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ts=null}return t}function Rv(t,e){do{var n=Ye;try{if(ef(),Cl.current=rc,nc){for(var r=Oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nc=!1}if(ds=0,tt=qe=Oe=null,fo=!1,Wo=0,pf.current=null,n===null||n.return===null){Xe=1,Ko=e,Ye=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=it,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=lg(o);if(g!==null){g.flags&=-257,cg(g,o,a,i,e),g.mode&1&&ag(i,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){ag(i,c,e),xf();break e}l=Error(I(426))}}else if(Te&&a.mode&1){var x=lg(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),cg(x,o,a,i,e),Qh(pi(l,a));break e}}i=l=pi(l,a),Xe!==4&&(Xe=2),go===null?go=[i]:go.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=pv(i,l,e);tg(i,p);break e;case 1:a=l;var y=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Sr===null||!Sr.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=gv(i,a,e);tg(i,w);break e}}i=i.return}while(i!==null)}Dv(n)}catch(k){e=k,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function Lv(){var t=sc.current;return sc.current=rc,t===null?rc:t}function xf(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),rt===null||!(hs&268435455)&&!(Ic&268435455)||ur(rt,it)}function ac(t,e){var n=he;he|=2;var r=Lv();(rt!==t||it!==e)&&(On=null,is(t,e));do try{Sb();break}catch(s){Rv(t,s)}while(!0);if(ef(),he=n,sc.current=r,Ye!==null)throw Error(I(261));return rt=null,it=0,Xe}function Sb(){for(;Ye!==null;)Ov(Ye)}function jb(){for(;Ye!==null&&!G_();)Ov(Ye)}function Ov(t){var e=Av(t.alternate,t,At);t.memoizedProps=t.pendingProps,e===null?Dv(t):Ye=e,pf.current=null}function Dv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=vb(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,Ye=null;return}}else if(n=yb(n,e,At),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);Xe===0&&(Xe=5)}function Kr(t,e,n){var r=_e,s=Jt.transition;try{Jt.transition=null,_e=1,Eb(t,e,n,r)}finally{Jt.transition=s,_e=r}return null}function Eb(t,e,n,r){do ni();while(fr!==null);if(he&6)throw Error(I(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ow(t,i),t===rt&&(Ye=rt=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xa||(Xa=!0,Iv(Ul,function(){return ni(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Jt.transition,Jt.transition=null;var o=_e;_e=1;var a=he;he|=4,pf.current=null,_b(t,n),Pv(n,t),Yw(Od),Wl=!!Ld,Od=Ld=null,t.current=n,wb(n),J_(),he=a,_e=o,Jt.transition=i}else t.current=n;if(Xa&&(Xa=!1,fr=t,oc=s),i=t.pendingLanes,i===0&&(Sr=null),ew(n.stateNode),Mt(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ic)throw ic=!1,t=Zd,Zd=null,t;return oc&1&&t.tag!==0&&ni(),i=t.pendingLanes,i&1?t===eh?mo++:(mo=0,eh=t):mo=0,Dr(),null}function ni(){if(fr!==null){var t=py(oc),e=Jt.transition,n=_e;try{if(Jt.transition=null,_e=16>t?16:t,fr===null)var r=!1;else{if(t=fr,fr=null,oc=0,he&6)throw Error(I(331));var s=he;for(he|=4,B=t.current;B!==null;){var i=B,o=i.child;if(B.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(B=c;B!==null;){var u=B;switch(u.tag){case 0:case 11:case 15:po(8,u,i)}var d=u.child;if(d!==null)d.return=u,B=d;else for(;B!==null;){u=B;var f=u.sibling,g=u.return;if(jv(u),u===c){B=null;break}if(f!==null){f.return=g,B=f;break}B=g}}}var v=i.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}B=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,B=o;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:po(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,B=p;break e}B=i.return}}var y=t.current;for(B=y;B!==null;){o=B;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,B=_;else e:for(o=y;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ac(9,a)}}catch(k){Fe(a,a.return,k)}if(a===o){B=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,B=w;break e}B=a.return}}if(he=s,Dr(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Pc,t)}catch{}r=!0}return r}finally{_e=n,Jt.transition=e}}return!1}function bg(t,e,n){e=pi(n,e),e=pv(t,e,1),t=kr(t,e,1),e=vt(),t!==null&&(ha(t,1,e),Mt(t,e))}function Fe(t,e,n){if(t.tag===3)bg(t,t,n);else for(;e!==null;){if(e.tag===3){bg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sr===null||!Sr.has(r))){t=pi(n,t),t=gv(e,t,1),e=kr(e,t,1),t=vt(),e!==null&&(ha(e,1,t),Mt(e,t));break}}e=e.return}}function Cb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(it&n)===n&&(Xe===4||Xe===3&&(it&130023424)===it&&500>He()-mf?is(t,0):gf|=n),Mt(t,e)}function Nv(t,e){e===0&&(t.mode&1?(e=za,za<<=1,!(za&130023424)&&(za=4194304)):e=1);var n=vt();t=Wn(t,e),t!==null&&(ha(t,e,n),Mt(t,n))}function Pb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Nv(t,n)}function Mb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(e),Nv(t,n)}var Av;Av=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ct.current)Et=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Et=!1,mb(t,e,n);Et=!!(t.flags&131072)}else Et=!1,Te&&e.flags&1048576&&$y(e,Jl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ml(t,e),t=e.pendingProps;var s=ui(e,dt.current);ti(e,n),s=cf(null,e,r,t,s,n);var i=uf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pt(r)?(i=!0,Xl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rf(e),s.updater=Nc,e.stateNode=s,s._reactInternals=e,Ud(e,r,t,n),e=Vd(null,e,r,!0,i,n)):(e.tag=0,Te&&i&&Gh(e),pt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ml(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Rb(r),t=rn(r,t),s){case 0:e=Wd(null,e,r,t,n);break e;case 1:e=hg(null,e,r,t,n);break e;case 11:e=ug(null,e,r,t,n);break e;case 14:e=dg(null,e,r,rn(r.type,t),n);break e}throw Error(I(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rn(r,s),Wd(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rn(r,s),hg(t,e,r,s,n);case 3:e:{if(xv(e),t===null)throw Error(I(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Yy(t,e),ec(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=pi(Error(I(423)),e),e=fg(t,e,r,n,s);break e}else if(r!==s){s=pi(Error(I(424)),e),e=fg(t,e,r,n,s);break e}else for(Ft=br(e.stateNode.containerInfo.firstChild),Bt=e,Te=!0,ln=null,n=Wy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(di(),r===s){e=Vn(t,e,n);break e}pt(t,e,r,n)}e=e.child}return e;case 5:return Ky(e),t===null&&zd(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Dd(r,s)?o=null:i!==null&&Dd(r,i)&&(e.flags|=32),vv(t,e),pt(t,e,o,n),e.child;case 6:return t===null&&zd(e),null;case 13:return _v(t,e,n);case 4:return sf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hi(e,null,r,n):pt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rn(r,s),ug(t,e,r,s,n);case 7:return pt(t,e,e.pendingProps,n),e.child;case 8:return pt(t,e,e.pendingProps.children,n),e.child;case 12:return pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ee(Ql,r._currentValue),r._currentValue=o,i!==null)if(fn(i.value,o)){if(i.children===s.children&&!Ct.current){e=Vn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=$n(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),$d(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$d(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ti(e,n),s=Zt(s),r=r(s),e.flags|=1,pt(t,e,r,n),e.child;case 14:return r=e.type,s=rn(r,e.pendingProps),s=rn(r.type,s),dg(t,e,r,s,n);case 15:return mv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rn(r,s),Ml(t,e),e.tag=1,Pt(r)?(t=!0,Xl(e)):t=!1,ti(e,n),fv(e,r,s),Ud(e,r,s,n),Vd(null,e,r,!0,t,n);case 19:return wv(t,e,n);case 22:return yv(t,e,n)}throw Error(I(156,e.tag))};function Iv(t,e){return uy(t,e)}function Tb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(t,e,n,r){return new Tb(t,e,n,r)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rb(t){if(typeof t=="function")return _f(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fh)return 11;if(t===zh)return 14}return 2}function Er(t,e){var n=t.alternate;return n===null?(n=Xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ll(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")_f(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case As:return os(n.children,s,i,e);case Ih:o=8,s|=8;break;case hd:return t=Xt(12,n,e,s|2),t.elementType=hd,t.lanes=i,t;case fd:return t=Xt(13,n,e,s),t.elementType=fd,t.lanes=i,t;case pd:return t=Xt(19,n,e,s),t.elementType=pd,t.lanes=i,t;case K0:return Fc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V0:o=10;break e;case Y0:o=9;break e;case Fh:o=11;break e;case zh:o=14;break e;case or:o=16,r=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=Xt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function os(t,e,n,r){return t=Xt(7,t,r,e),t.lanes=n,t}function Fc(t,e,n,r){return t=Xt(22,t,r,e),t.elementType=K0,t.lanes=n,t.stateNode={isHidden:!1},t}function Au(t,e,n){return t=Xt(6,t,null,e),t.lanes=n,t}function Iu(t,e,n){return e=Xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Lb(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yu(0),this.expirationTimes=yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wf(t,e,n,r,s,i,o,a,l){return t=new Lb(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rf(i),t}function Ob(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ns,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fv(t){if(!t)return Mr;t=t._reactInternals;e:{if(xs(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(Pt(n))return Fy(t,n,e)}return e}function zv(t,e,n,r,s,i,o,a,l){return t=wf(n,r,!0,t,s,i,o,a,l),t.context=Fv(null),n=t.current,r=vt(),s=jr(n),i=$n(r,s),i.callback=e??null,kr(n,i,s),t.current.lanes=s,ha(t,s,r),Mt(t,r),t}function zc(t,e,n,r){var s=e.current,i=vt(),o=jr(s);return n=Fv(n),e.context===null?e.context=n:e.pendingContext=n,e=$n(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=kr(s,e,o),t!==null&&(dn(t,s,o,i),El(t,s,o)),o}function lc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bf(t,e){kg(t,e),(t=t.alternate)&&kg(t,e)}function Db(){return null}var $v=typeof reportError=="function"?reportError:function(t){console.error(t)};function kf(t){this._internalRoot=t}$c.prototype.render=kf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));zc(t,e,null,null)};$c.prototype.unmount=kf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fs(function(){zc(null,t,null,null)}),e[Hn]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var e=yy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<cr.length&&e!==0&&e<cr[n].priority;n++);cr.splice(n,0,t),n===0&&xy(t)}};function Sf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sg(){}function Nb(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=lc(o);i.call(c)}}var o=zv(e,r,t,0,null,!1,!1,"",Sg);return t._reactRootContainer=o,t[Hn]=o.current,zo(t.nodeType===8?t.parentNode:t),fs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=lc(l);a.call(c)}}var l=wf(t,0,!1,null,null,!1,!1,"",Sg);return t._reactRootContainer=l,t[Hn]=l.current,zo(t.nodeType===8?t.parentNode:t),fs(function(){zc(e,l,n,r)}),l}function Uc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=lc(o);a.call(l)}}zc(e,o,t,s)}else o=Nb(n,e,t,s,r);return lc(o)}gy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qi(e.pendingLanes);n!==0&&(Uh(e,n|1),Mt(e,He()),!(he&6)&&(gi=He()+500,Dr()))}break;case 13:fs(function(){var r=Wn(t,1);if(r!==null){var s=vt();dn(r,t,1,s)}}),bf(t,1)}};Hh=function(t){if(t.tag===13){var e=Wn(t,134217728);if(e!==null){var n=vt();dn(e,t,134217728,n)}bf(t,134217728)}};my=function(t){if(t.tag===13){var e=jr(t),n=Wn(t,e);if(n!==null){var r=vt();dn(n,t,e,r)}bf(t,e)}};yy=function(){return _e};vy=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};Sd=function(t,e,n){switch(e){case"input":if(yd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Lc(r);if(!s)throw Error(I(90));X0(r),yd(r,s)}}}break;case"textarea":J0(t,n);break;case"select":e=n.value,e!=null&&Js(t,!!n.multiple,e,!1)}};sy=yf;iy=fs;var Ab={usingClientEntryPoint:!1,Events:[pa,$s,Lc,ny,ry,yf]},zi={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ib={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ly(t),t===null?null:t.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||Db,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ga.isDisabled&&Ga.supportsFiber)try{Pc=Ga.inject(Ib),wn=Ga}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ab;Wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sf(e))throw Error(I(200));return Ob(t,e,null,n)};Wt.createRoot=function(t,e){if(!Sf(t))throw Error(I(299));var n=!1,r="",s=$v;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wf(t,1,!1,null,null,n,!1,r,s),t[Hn]=e.current,zo(t.nodeType===8?t.parentNode:t),new kf(e)};Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=ly(e),t=t===null?null:t.stateNode,t};Wt.flushSync=function(t){return fs(t)};Wt.hydrate=function(t,e,n){if(!Bc(e))throw Error(I(200));return Uc(null,t,e,!0,n)};Wt.hydrateRoot=function(t,e,n){if(!Sf(t))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=$v;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zv(e,null,t,1,n??null,s,!1,i,o),t[Hn]=e.current,zo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new $c(e)};Wt.render=function(t,e,n){if(!Bc(e))throw Error(I(200));return Uc(null,t,e,!1,n)};Wt.unmountComponentAtNode=function(t){if(!Bc(t))throw Error(I(40));return t._reactRootContainer?(fs(function(){Uc(null,null,t,!1,function(){t._reactRootContainer=null,t[Hn]=null})}),!0):!1};Wt.unstable_batchedUpdates=yf;Wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bc(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return Uc(t,e,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function Bv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bv)}catch(t){console.error(t)}}Bv(),B0.exports=Wt;var jf=B0.exports;const Fb=M0(jf),zb=P0({__proto__:null,default:Fb},[jf]);var jg=jf;ud.createRoot=jg.createRoot,ud.hydrateRoot=jg.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Re(){return Re=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Re.apply(this,arguments)}var Be;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Be||(Be={}));const Eg="popstate";function $b(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return qo("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ps(s)}return Ub(e,n,null,t)}function re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bb(){return Math.random().toString(36).substr(2,8)}function Cg(t,e){return{usr:t.state,key:t.key,idx:e}}function qo(t,e,n,r){return n===void 0&&(n=null),Re({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xn(e):e,{state:n,key:e&&e.key||r||Bb()})}function ps(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ub(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Be.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Re({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Be.Pop;let x=u(),p=x==null?null:x-c;c=x,l&&l({action:a,location:m.location,delta:p})}function f(x,p){a=Be.Push;let y=qo(m.location,x,p);c=u()+1;let _=Cg(y,c),w=m.createHref(y);try{o.pushState(_,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(w)}i&&l&&l({action:a,location:m.location,delta:1})}function g(x,p){a=Be.Replace;let y=qo(m.location,x,p);c=u();let _=Cg(y,c),w=m.createHref(y);o.replaceState(_,"",w),i&&l&&l({action:a,location:m.location,delta:0})}function v(x){let p=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:ps(x);return y=y.replace(/ $/,"%20"),re(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let m={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Eg,d),l=x,()=>{s.removeEventListener(Eg,d),l=null}},createHref(x){return e(s,x)},createURL:v,encodeLocation(x){let p=v(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:g,go(x){return o.go(x)}};return m}var be;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(be||(be={}));const Hb=new Set(["lazy","caseSensitive","path","id","index","children"]);function Wb(t){return t.index===!0}function Xo(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(re(s.index!==!0||!s.children,"Cannot specify children on an index route"),re(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Wb(s)){let l=Re({},s,e(s),{id:a});return r[a]=l,l}else{let l=Re({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=Xo(s.children,e,o,r)),l}})}function Qr(t,e,n){return n===void 0&&(n="/"),Ol(t,e,n,!1)}function Ol(t,e,n,r){let s=typeof e=="string"?Xn(e):e,i=pn(s.pathname||"/",n);if(i==null)return null;let o=Uv(t);Yb(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=rk(i);a=tk(o[l],c,r)}return a}function Vb(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function Uv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(re(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Bn([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(re(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Uv(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Zb(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Hv(i.path))s(i,o,l)}),e}function Hv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Hv(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Yb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ek(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Kb=/^:[\w-]+$/,qb=3,Xb=2,Gb=1,Jb=10,Qb=-2,Pg=t=>t==="*";function Zb(t,e){let n=t.split("/"),r=n.length;return n.some(Pg)&&(r+=Qb),e&&(r+=Xb),n.filter(s=>!Pg(s)).reduce((s,i)=>s+(Kb.test(i)?qb:i===""?Gb:Jb),r)}function ek(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function tk(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=cc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=cc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Bn([i,d.pathname]),pathnameBase:ok(Bn([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Bn([i,d.pathnameBase]))}return o}function cc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let m=a[d]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const v=a[d];return g&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function nk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function rk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mi(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Xn(t):t;return{pathname:n?n.startsWith("/")?n:ik(n,e):e,search:ak(r),hash:lk(s)}}function ik(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Fu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ef(t,e){let n=Wv(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Cf(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Xn(t):(s=Re({},t),re(!s.pathname||!s.pathname.includes("?"),Fu("?","pathname","search",s)),re(!s.pathname||!s.pathname.includes("#"),Fu("#","pathname","hash",s)),re(!s.search||!s.search.includes("#"),Fu("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=sk(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Bn=t=>t.join("/").replace(/\/\/+/g,"/"),ok=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ak=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class uc{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Hc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Vv=["post","put","patch","delete"],ck=new Set(Vv),uk=["get",...Vv],dk=new Set(uk),hk=new Set([301,302,303,307,308]),fk=new Set([307,308]),zu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ds={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Pf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gk=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Yv="remix-router-transitions";function mk(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;re(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let E=t.detectErrorBoundary;s=P=>({hasErrorBoundary:E(P)})}else s=gk;let i={},o=Xo(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||bk,u=t.unstable_patchRoutesOnNavigation,d=Re({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,g=new Set,v=1e3,m=new Set,x=null,p=null,y=null,_=t.hydrationData!=null,w=Qr(o,t.history.location,l),k=null;if(w==null&&!u){let E=ft(404,{pathname:t.history.location.pathname}),{matches:P,route:T}=Ig(o);w=P,k={[T.id]:E}}w&&!t.hydrationData&&Pa(w,o,t.history.location.pathname).active&&(w=null);let j;if(w)if(w.some(E=>E.route.lazy))j=!1;else if(!w.some(E=>E.route.loader))j=!0;else if(d.v7_partialHydration){let E=t.hydrationData?t.hydrationData.loaderData:null,P=t.hydrationData?t.hydrationData.errors:null,T=D=>D.route.loader?typeof D.route.loader=="function"&&D.route.loader.hydrate===!0?!1:E&&E[D.route.id]!==void 0||P&&P[D.route.id]!==void 0:!0;if(P){let D=w.findIndex($=>P[$.route.id]!==void 0);j=w.slice(0,D+1).every(T)}else j=w.every(T)}else j=t.hydrationData!=null;else if(j=!1,w=[],d.v7_partialHydration){let E=Pa(null,o,t.history.location.pathname);E.active&&E.matches&&(w=E.matches)}let C,S={historyAction:t.history.action,location:t.history.location,matches:w,initialized:j,navigation:zu,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||k,fetchers:new Map,blockers:new Map},M=Be.Pop,L=!1,N,R=!1,K=new Map,X=null,Q=!1,te=!1,ne=[],A=new Set,F=new Map,O=0,U=-1,J=new Map,se=new Set,ae=new Map,ke=new Map,ue=new Set,Qe=new Map,Sn=new Map,V1=new Map,Sa;function Y1(){if(f=t.history.listen(E=>{let{action:P,location:T,delta:D}=E;if(Sa){Sa(),Sa=void 0;return}mi(Sn.size===0||D!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let $=hp({currentLocation:S.location,nextLocation:T,historyAction:P});if($&&D!=null){let q=new Promise(ee=>{Sa=ee});t.history.go(D*-1),Ea($,{state:"blocked",location:T,proceed(){Ea($,{state:"proceeding",proceed:void 0,reset:void 0,location:T}),q.then(()=>t.history.go(D))},reset(){let ee=new Map(S.blockers);ee.set($,Ds),ht({blockers:ee})}});return}return Fr(P,T)}),n){Ik(e,K);let E=()=>Fk(e,K);e.addEventListener("pagehide",E),X=()=>e.removeEventListener("pagehide",E)}return S.initialized||Fr(Be.Pop,S.location,{initialHydration:!0}),C}function K1(){f&&f(),X&&X(),g.clear(),N&&N.abort(),S.fetchers.forEach((E,P)=>ja(P)),S.blockers.forEach((E,P)=>dp(P))}function q1(E){return g.add(E),()=>g.delete(E)}function ht(E,P){P===void 0&&(P={}),S=Re({},S,E);let T=[],D=[];d.v7_fetcherPersist&&S.fetchers.forEach(($,q)=>{$.state==="idle"&&(ue.has(q)?D.push(q):T.push(q))}),[...g].forEach($=>$(S,{deletedFetchers:D,unstable_viewTransitionOpts:P.viewTransitionOpts,unstable_flushSync:P.flushSync===!0})),d.v7_fetcherPersist&&(T.forEach($=>S.fetchers.delete($)),D.forEach($=>ja($)))}function Ss(E,P,T){var D,$;let{flushSync:q}=T===void 0?{}:T,ee=S.actionData!=null&&S.navigation.formMethod!=null&&on(S.navigation.formMethod)&&S.navigation.state==="loading"&&((D=E.state)==null?void 0:D._isRedirect)!==!0,z;P.actionData?Object.keys(P.actionData).length>0?z=P.actionData:z=null:ee?z=S.actionData:z=null;let G=P.loaderData?Ng(S.loaderData,P.loaderData,P.matches||[],P.errors):S.loaderData,H=S.blockers;H.size>0&&(H=new Map(H),H.forEach((me,Ce)=>H.set(Ce,Ds)));let W=L===!0||S.navigation.formMethod!=null&&on(S.navigation.formMethod)&&(($=E.state)==null?void 0:$._isRedirect)!==!0;a&&(o=a,a=void 0),Q||M===Be.Pop||(M===Be.Push?t.history.push(E,E.state):M===Be.Replace&&t.history.replace(E,E.state));let pe;if(M===Be.Pop){let me=K.get(S.location.pathname);me&&me.has(E.pathname)?pe={currentLocation:S.location,nextLocation:E}:K.has(E.pathname)&&(pe={currentLocation:E,nextLocation:S.location})}else if(R){let me=K.get(S.location.pathname);me?me.add(E.pathname):(me=new Set([E.pathname]),K.set(S.location.pathname,me)),pe={currentLocation:S.location,nextLocation:E}}ht(Re({},P,{actionData:z,loaderData:G,historyAction:M,location:E,initialized:!0,navigation:zu,revalidation:"idle",restoreScrollPosition:pp(E,P.matches||S.matches),preventScrollReset:W,blockers:H}),{viewTransitionOpts:pe,flushSync:q===!0}),M=Be.Pop,L=!1,R=!1,Q=!1,te=!1,ne=[]}async function sp(E,P){if(typeof E=="number"){t.history.go(E);return}let T=rh(S.location,S.matches,l,d.v7_prependBasename,E,d.v7_relativeSplatPath,P==null?void 0:P.fromRouteId,P==null?void 0:P.relative),{path:D,submission:$,error:q}=Mg(d.v7_normalizeFormMethod,!1,T,P),ee=S.location,z=qo(S.location,D,P&&P.state);z=Re({},z,t.history.encodeLocation(z));let G=P&&P.replace!=null?P.replace:void 0,H=Be.Push;G===!0?H=Be.Replace:G===!1||$!=null&&on($.formMethod)&&$.formAction===S.location.pathname+S.location.search&&(H=Be.Replace);let W=P&&"preventScrollReset"in P?P.preventScrollReset===!0:void 0,pe=(P&&P.unstable_flushSync)===!0,me=hp({currentLocation:ee,nextLocation:z,historyAction:H});if(me){Ea(me,{state:"blocked",location:z,proceed(){Ea(me,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),sp(E,P)},reset(){let Ce=new Map(S.blockers);Ce.set(me,Ds),ht({blockers:Ce})}});return}return await Fr(H,z,{submission:$,pendingError:q,preventScrollReset:W,replace:P&&P.replace,enableViewTransition:P&&P.unstable_viewTransition,flushSync:pe})}function X1(){if(cu(),ht({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Fr(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Fr(M||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:R===!0})}}async function Fr(E,P,T){N&&N.abort(),N=null,M=E,Q=(T&&T.startUninterruptedRevalidation)===!0,i_(S.location,S.matches),L=(T&&T.preventScrollReset)===!0,R=(T&&T.enableViewTransition)===!0;let D=a||o,$=T&&T.overrideNavigation,q=Qr(D,P,l),ee=(T&&T.flushSync)===!0,z=Pa(q,D,P.pathname);if(z.active&&z.matches&&(q=z.matches),!q){let{error:de,notFoundMatches:Ze,route:Ve}=uu(P.pathname);Ss(P,{matches:Ze,loaderData:{},errors:{[Ve.id]:de}},{flushSync:ee});return}if(S.initialized&&!te&&Pk(S.location,P)&&!(T&&T.submission&&on(T.submission.formMethod))){Ss(P,{matches:q},{flushSync:ee});return}N=new AbortController;let G=Cs(t.history,P,N.signal,T&&T.submission),H;if(T&&T.pendingError)H=[Ks(q).route.id,{type:be.error,error:T.pendingError}];else if(T&&T.submission&&on(T.submission.formMethod)){let de=await G1(G,P,T.submission,q,z.active,{replace:T.replace,flushSync:ee});if(de.shortCircuited)return;if(de.pendingActionResult){let[Ze,Ve]=de.pendingActionResult;if(It(Ve)&&Hc(Ve.error)&&Ve.error.status===404){N=null,Ss(P,{matches:de.matches,loaderData:{},errors:{[Ze]:Ve.error}});return}}q=de.matches||q,H=de.pendingActionResult,$=$u(P,T.submission),ee=!1,z.active=!1,G=Cs(t.history,G.url,G.signal)}let{shortCircuited:W,matches:pe,loaderData:me,errors:Ce}=await J1(G,P,q,z.active,$,T&&T.submission,T&&T.fetcherSubmission,T&&T.replace,T&&T.initialHydration===!0,ee,H);W||(N=null,Ss(P,Re({matches:pe||q},Ag(H),{loaderData:me,errors:Ce})))}async function G1(E,P,T,D,$,q){q===void 0&&(q={}),cu();let ee=Nk(P,T);if(ht({navigation:ee},{flushSync:q.flushSync===!0}),$){let H=await Ma(D,P.pathname,E.signal);if(H.type==="aborted")return{shortCircuited:!0};if(H.type==="error"){let{boundaryId:W,error:pe}=Ca(P.pathname,H);return{matches:H.partialMatches,pendingActionResult:[W,{type:be.error,error:pe}]}}else if(H.matches)D=H.matches;else{let{notFoundMatches:W,error:pe,route:me}=uu(P.pathname);return{matches:W,pendingActionResult:[me.id,{type:be.error,error:pe}]}}}let z,G=eo(D,P);if(!G.route.action&&!G.route.lazy)z={type:be.error,error:ft(405,{method:E.method,pathname:P.pathname,routeId:G.route.id})};else if(z=(await Ti("action",S,E,[G],D,null))[G.route.id],E.signal.aborted)return{shortCircuited:!0};if(rs(z)){let H;return q&&q.replace!=null?H=q.replace:H=Lg(z.response.headers.get("Location"),new URL(E.url),l)===S.location.pathname+S.location.search,await zr(E,z,!0,{submission:T,replace:H}),{shortCircuited:!0}}if(pr(z))throw ft(400,{type:"defer-action"});if(It(z)){let H=Ks(D,G.route.id);return(q&&q.replace)!==!0&&(M=Be.Push),{matches:D,pendingActionResult:[H.route.id,z]}}return{matches:D,pendingActionResult:[G.route.id,z]}}async function J1(E,P,T,D,$,q,ee,z,G,H,W){let pe=$||$u(P,q),me=q||ee||zg(pe),Ce=!Q&&(!d.v7_partialHydration||!G);if(D){if(Ce){let Ae=ip(W);ht(Re({navigation:pe},Ae!==void 0?{actionData:Ae}:{}),{flushSync:H})}let ie=await Ma(T,P.pathname,E.signal);if(ie.type==="aborted")return{shortCircuited:!0};if(ie.type==="error"){let{boundaryId:Ae,error:Ot}=Ca(P.pathname,ie);return{matches:ie.partialMatches,loaderData:{},errors:{[Ae]:Ot}}}else if(ie.matches)T=ie.matches;else{let{error:Ae,notFoundMatches:Ot,route:Ie}=uu(P.pathname);return{matches:Ot,loaderData:{},errors:{[Ie.id]:Ae}}}}let de=a||o,[Ze,Ve]=Tg(t.history,S,T,me,P,d.v7_partialHydration&&G===!0,d.v7_skipActionErrorRevalidation,te,ne,A,ue,ae,se,de,l,W);if(du(ie=>!(T&&T.some(Ae=>Ae.route.id===ie))||Ze&&Ze.some(Ae=>Ae.route.id===ie)),U=++O,Ze.length===0&&Ve.length===0){let ie=cp();return Ss(P,Re({matches:T,loaderData:{},errors:W&&It(W[1])?{[W[0]]:W[1].error}:null},Ag(W),ie?{fetchers:new Map(S.fetchers)}:{}),{flushSync:H}),{shortCircuited:!0}}if(Ce){let ie={};if(!D){ie.navigation=pe;let Ae=ip(W);Ae!==void 0&&(ie.actionData=Ae)}Ve.length>0&&(ie.fetchers=Q1(Ve)),ht(ie,{flushSync:H})}Ve.forEach(ie=>{F.has(ie.key)&&Qn(ie.key),ie.controller&&F.set(ie.key,ie.controller)});let Ri=()=>Ve.forEach(ie=>Qn(ie.key));N&&N.signal.addEventListener("abort",Ri);let{loaderResults:En,fetcherResults:js}=await op(S,T,Ze,Ve,E);if(E.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",Ri),Ve.forEach(ie=>F.delete(ie.key));let Zn=Ja(En);if(Zn)return await zr(E,Zn.result,!0,{replace:z}),{shortCircuited:!0};if(Zn=Ja(js),Zn)return se.add(Zn.key),await zr(E,Zn.result,!0,{replace:z}),{shortCircuited:!0};let{loaderData:Ta,errors:Cn}=Dg(S,T,Ze,En,W,Ve,js,Qe);Qe.forEach((ie,Ae)=>{ie.subscribe(Ot=>{(Ot||ie.done)&&Qe.delete(Ae)})}),d.v7_partialHydration&&G&&S.errors&&Object.entries(S.errors).filter(ie=>{let[Ae]=ie;return!Ze.some(Ot=>Ot.route.id===Ae)}).forEach(ie=>{let[Ae,Ot]=ie;Cn=Object.assign(Cn||{},{[Ae]:Ot})});let Ra=cp(),La=up(U),Oa=Ra||La||Ve.length>0;return Re({matches:T,loaderData:Ta,errors:Cn},Oa?{fetchers:new Map(S.fetchers)}:{})}function ip(E){if(E&&!It(E[1]))return{[E[0]]:E[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Q1(E){return E.forEach(P=>{let T=S.fetchers.get(P.key),D=$i(void 0,T?T.data:void 0);S.fetchers.set(P.key,D)}),new Map(S.fetchers)}function Z1(E,P,T,D){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");F.has(E)&&Qn(E);let $=(D&&D.unstable_flushSync)===!0,q=a||o,ee=rh(S.location,S.matches,l,d.v7_prependBasename,T,d.v7_relativeSplatPath,P,D==null?void 0:D.relative),z=Qr(q,ee,l),G=Pa(z,q,ee);if(G.active&&G.matches&&(z=G.matches),!z){jn(E,P,ft(404,{pathname:ee}),{flushSync:$});return}let{path:H,submission:W,error:pe}=Mg(d.v7_normalizeFormMethod,!0,ee,D);if(pe){jn(E,P,pe,{flushSync:$});return}let me=eo(z,H);if(L=(D&&D.preventScrollReset)===!0,W&&on(W.formMethod)){e_(E,P,H,me,z,G.active,$,W);return}ae.set(E,{routeId:P,path:H}),t_(E,P,H,me,z,G.active,$,W)}async function e_(E,P,T,D,$,q,ee,z){cu(),ae.delete(E);function G(Ie){if(!Ie.route.action&&!Ie.route.lazy){let Pn=ft(405,{method:z.formMethod,pathname:T,routeId:P});return jn(E,P,Pn,{flushSync:ee}),!0}return!1}if(!q&&G(D))return;let H=S.fetchers.get(E);Jn(E,Ak(z,H),{flushSync:ee});let W=new AbortController,pe=Cs(t.history,T,W.signal,z);if(q){let Ie=await Ma($,T,pe.signal);if(Ie.type==="aborted")return;if(Ie.type==="error"){let{error:Pn}=Ca(T,Ie);jn(E,P,Pn,{flushSync:ee});return}else if(Ie.matches){if($=Ie.matches,D=eo($,T),G(D))return}else{jn(E,P,ft(404,{pathname:T}),{flushSync:ee});return}}F.set(E,W);let me=O,de=(await Ti("action",S,pe,[D],$,E))[D.route.id];if(pe.signal.aborted){F.get(E)===W&&F.delete(E);return}if(d.v7_fetcherPersist&&ue.has(E)){if(rs(de)||It(de)){Jn(E,nr(void 0));return}}else{if(rs(de))if(F.delete(E),U>me){Jn(E,nr(void 0));return}else return se.add(E),Jn(E,$i(z)),zr(pe,de,!1,{fetcherSubmission:z});if(It(de)){jn(E,P,de.error);return}}if(pr(de))throw ft(400,{type:"defer-action"});let Ze=S.navigation.location||S.location,Ve=Cs(t.history,Ze,W.signal),Ri=a||o,En=S.navigation.state!=="idle"?Qr(Ri,S.navigation.location,l):S.matches;re(En,"Didn't find any matches after fetcher action");let js=++O;J.set(E,js);let Zn=$i(z,de.data);S.fetchers.set(E,Zn);let[Ta,Cn]=Tg(t.history,S,En,z,Ze,!1,d.v7_skipActionErrorRevalidation,te,ne,A,ue,ae,se,Ri,l,[D.route.id,de]);Cn.filter(Ie=>Ie.key!==E).forEach(Ie=>{let Pn=Ie.key,mp=S.fetchers.get(Pn),l_=$i(void 0,mp?mp.data:void 0);S.fetchers.set(Pn,l_),F.has(Pn)&&Qn(Pn),Ie.controller&&F.set(Pn,Ie.controller)}),ht({fetchers:new Map(S.fetchers)});let Ra=()=>Cn.forEach(Ie=>Qn(Ie.key));W.signal.addEventListener("abort",Ra);let{loaderResults:La,fetcherResults:Oa}=await op(S,En,Ta,Cn,Ve);if(W.signal.aborted)return;W.signal.removeEventListener("abort",Ra),J.delete(E),F.delete(E),Cn.forEach(Ie=>F.delete(Ie.key));let ie=Ja(La);if(ie)return zr(Ve,ie.result,!1);if(ie=Ja(Oa),ie)return se.add(ie.key),zr(Ve,ie.result,!1);let{loaderData:Ae,errors:Ot}=Dg(S,En,Ta,La,void 0,Cn,Oa,Qe);if(S.fetchers.has(E)){let Ie=nr(de.data);S.fetchers.set(E,Ie)}up(js),S.navigation.state==="loading"&&js>U?(re(M,"Expected pending action"),N&&N.abort(),Ss(S.navigation.location,{matches:En,loaderData:Ae,errors:Ot,fetchers:new Map(S.fetchers)})):(ht({errors:Ot,loaderData:Ng(S.loaderData,Ae,En,Ot),fetchers:new Map(S.fetchers)}),te=!1)}async function t_(E,P,T,D,$,q,ee,z){let G=S.fetchers.get(E);Jn(E,$i(z,G?G.data:void 0),{flushSync:ee});let H=new AbortController,W=Cs(t.history,T,H.signal);if(q){let de=await Ma($,T,W.signal);if(de.type==="aborted")return;if(de.type==="error"){let{error:Ze}=Ca(T,de);jn(E,P,Ze,{flushSync:ee});return}else if(de.matches)$=de.matches,D=eo($,T);else{jn(E,P,ft(404,{pathname:T}),{flushSync:ee});return}}F.set(E,H);let pe=O,Ce=(await Ti("loader",S,W,[D],$,E))[D.route.id];if(pr(Ce)&&(Ce=await Mf(Ce,W.signal,!0)||Ce),F.get(E)===H&&F.delete(E),!W.signal.aborted){if(ue.has(E)){Jn(E,nr(void 0));return}if(rs(Ce))if(U>pe){Jn(E,nr(void 0));return}else{se.add(E),await zr(W,Ce,!1);return}if(It(Ce)){jn(E,P,Ce.error);return}re(!pr(Ce),"Unhandled fetcher deferred data"),Jn(E,nr(Ce.data))}}async function zr(E,P,T,D){let{submission:$,fetcherSubmission:q,replace:ee}=D===void 0?{}:D;P.response.headers.has("X-Remix-Revalidate")&&(te=!0);let z=P.response.headers.get("Location");re(z,"Expected a Location header on the redirect Response"),z=Lg(z,new URL(E.url),l);let G=qo(S.location,z,{_isRedirect:!0});if(n){let de=!1;if(P.response.headers.has("X-Remix-Reload-Document"))de=!0;else if(Pf.test(z)){const Ze=t.history.createURL(z);de=Ze.origin!==e.location.origin||pn(Ze.pathname,l)==null}if(de){ee?e.location.replace(z):e.location.assign(z);return}}N=null;let H=ee===!0||P.response.headers.has("X-Remix-Replace")?Be.Replace:Be.Push,{formMethod:W,formAction:pe,formEncType:me}=S.navigation;!$&&!q&&W&&pe&&me&&($=zg(S.navigation));let Ce=$||q;if(fk.has(P.response.status)&&Ce&&on(Ce.formMethod))await Fr(H,G,{submission:Re({},Ce,{formAction:z}),preventScrollReset:L,enableViewTransition:T?R:void 0});else{let de=$u(G,$);await Fr(H,G,{overrideNavigation:de,fetcherSubmission:q,preventScrollReset:L,enableViewTransition:T?R:void 0})}}async function Ti(E,P,T,D,$,q){let ee,z={};try{ee=await kk(c,E,P,T,D,$,q,i,s)}catch(G){return D.forEach(H=>{z[H.route.id]={type:be.error,error:G}}),z}for(let[G,H]of Object.entries(ee))if(Tk(H)){let W=H.result;z[G]={type:be.redirect,response:Ek(W,T,G,$,l,d.v7_relativeSplatPath)}}else z[G]=await jk(H);return z}async function op(E,P,T,D,$){let q=E.matches,ee=Ti("loader",E,$,T,P,null),z=Promise.all(D.map(async W=>{if(W.matches&&W.match&&W.controller){let me=(await Ti("loader",E,Cs(t.history,W.path,W.controller.signal),[W.match],W.matches,W.key))[W.match.route.id];return{[W.key]:me}}else return Promise.resolve({[W.key]:{type:be.error,error:ft(404,{pathname:W.path})}})})),G=await ee,H=(await z).reduce((W,pe)=>Object.assign(W,pe),{});return await Promise.all([Ok(P,G,$.signal,q,E.loaderData),Dk(P,H,D)]),{loaderResults:G,fetcherResults:H}}function cu(){te=!0,ne.push(...du()),ae.forEach((E,P)=>{F.has(P)&&(A.add(P),Qn(P))})}function Jn(E,P,T){T===void 0&&(T={}),S.fetchers.set(E,P),ht({fetchers:new Map(S.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function jn(E,P,T,D){D===void 0&&(D={});let $=Ks(S.matches,P);ja(E),ht({errors:{[$.route.id]:T},fetchers:new Map(S.fetchers)},{flushSync:(D&&D.flushSync)===!0})}function ap(E){return d.v7_fetcherPersist&&(ke.set(E,(ke.get(E)||0)+1),ue.has(E)&&ue.delete(E)),S.fetchers.get(E)||pk}function ja(E){let P=S.fetchers.get(E);F.has(E)&&!(P&&P.state==="loading"&&J.has(E))&&Qn(E),ae.delete(E),J.delete(E),se.delete(E),ue.delete(E),A.delete(E),S.fetchers.delete(E)}function n_(E){if(d.v7_fetcherPersist){let P=(ke.get(E)||0)-1;P<=0?(ke.delete(E),ue.add(E)):ke.set(E,P)}else ja(E);ht({fetchers:new Map(S.fetchers)})}function Qn(E){let P=F.get(E);re(P,"Expected fetch controller: "+E),P.abort(),F.delete(E)}function lp(E){for(let P of E){let T=ap(P),D=nr(T.data);S.fetchers.set(P,D)}}function cp(){let E=[],P=!1;for(let T of se){let D=S.fetchers.get(T);re(D,"Expected fetcher: "+T),D.state==="loading"&&(se.delete(T),E.push(T),P=!0)}return lp(E),P}function up(E){let P=[];for(let[T,D]of J)if(D<E){let $=S.fetchers.get(T);re($,"Expected fetcher: "+T),$.state==="loading"&&(Qn(T),J.delete(T),P.push(T))}return lp(P),P.length>0}function r_(E,P){let T=S.blockers.get(E)||Ds;return Sn.get(E)!==P&&Sn.set(E,P),T}function dp(E){S.blockers.delete(E),Sn.delete(E)}function Ea(E,P){let T=S.blockers.get(E)||Ds;re(T.state==="unblocked"&&P.state==="blocked"||T.state==="blocked"&&P.state==="blocked"||T.state==="blocked"&&P.state==="proceeding"||T.state==="blocked"&&P.state==="unblocked"||T.state==="proceeding"&&P.state==="unblocked","Invalid blocker state transition: "+T.state+" -> "+P.state);let D=new Map(S.blockers);D.set(E,P),ht({blockers:D})}function hp(E){let{currentLocation:P,nextLocation:T,historyAction:D}=E;if(Sn.size===0)return;Sn.size>1&&mi(!1,"A router only supports one blocker at a time");let $=Array.from(Sn.entries()),[q,ee]=$[$.length-1],z=S.blockers.get(q);if(!(z&&z.state==="proceeding")&&ee({currentLocation:P,nextLocation:T,historyAction:D}))return q}function uu(E){let P=ft(404,{pathname:E}),T=a||o,{matches:D,route:$}=Ig(T);return du(),{notFoundMatches:D,route:$,error:P}}function Ca(E,P){return{boundaryId:Ks(P.partialMatches).route.id,error:ft(400,{type:"route-discovery",pathname:E,message:P.error!=null&&"message"in P.error?P.error:String(P.error)})}}function du(E){let P=[];return Qe.forEach((T,D)=>{(!E||E(D))&&(T.cancel(),P.push(D),Qe.delete(D))}),P}function s_(E,P,T){if(x=E,y=P,p=T||null,!_&&S.navigation===zu){_=!0;let D=pp(S.location,S.matches);D!=null&&ht({restoreScrollPosition:D})}return()=>{x=null,y=null,p=null}}function fp(E,P){return p&&p(E,P.map(D=>Vb(D,S.loaderData)))||E.key}function i_(E,P){if(x&&y){let T=fp(E,P);x[T]=y()}}function pp(E,P){if(x){let T=fp(E,P),D=x[T];if(typeof D=="number")return D}return null}function Pa(E,P,T){if(u){if(m.has(T))return{active:!1,matches:E};if(E){if(Object.keys(E[0].params).length>0)return{active:!0,matches:Ol(P,T,l,!0)}}else return{active:!0,matches:Ol(P,T,l,!0)||[]}}return{active:!1,matches:null}}async function Ma(E,P,T){let D=E;for(;;){let $=a==null,q=a||o;try{await _k(u,P,D,q,i,s,V1,T)}catch(G){return{type:"error",error:G,partialMatches:D}}finally{$&&(o=[...o])}if(T.aborted)return{type:"aborted"};let ee=Qr(q,P,l);if(ee)return gp(P,m),{type:"success",matches:ee};let z=Ol(q,P,l,!0);if(!z||D.length===z.length&&D.every((G,H)=>G.route.id===z[H].route.id))return gp(P,m),{type:"success",matches:null};D=z}}function gp(E,P){if(P.size>=v){let T=P.values().next().value;P.delete(T)}P.add(E)}function o_(E){i={},a=Xo(E,s,void 0,i)}function a_(E,P){let T=a==null;qv(E,P,a||o,i,s),T&&(o=[...o],ht({}))}return C={get basename(){return l},get future(){return d},get state(){return S},get routes(){return o},get window(){return e},initialize:Y1,subscribe:q1,enableScrollRestoration:s_,navigate:sp,fetch:Z1,revalidate:X1,createHref:E=>t.history.createHref(E),encodeLocation:E=>t.history.encodeLocation(E),getFetcher:ap,deleteFetcher:n_,dispose:K1,getBlocker:r_,deleteBlocker:dp,patchRoutes:a_,_internalFetchControllers:F,_internalActiveDeferreds:Qe,_internalSetRoutes:o_},C}function yk(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function rh(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=Cf(s||".",Ef(l,i),pn(t.pathname,n)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!Tf(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Bn([n,u.pathname])),ps(u)}function Mg(t,e,n,r){if(!r||!yk(r))return{path:n};if(r.formMethod&&!Lk(r.formMethod))return{path:n,error:ft(405,{method:r.formMethod})};let s=()=>({path:n,error:ft(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=Xv(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!on(o))return s();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,v)=>{let[m,x]=v;return""+g+m+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!on(o))return s();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return s()}}}re(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=sh(r.formData),c=r.formData;else if(r.body instanceof FormData)l=sh(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Og(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Og(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(on(u.formMethod))return{path:n,submission:u};let d=Xn(n);return e&&d.search&&Tf(d.search)&&l.append("index",""),d.search="?"+l,{path:ps(d),submission:u}}function vk(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Tg(t,e,n,r,s,i,o,a,l,c,u,d,f,g,v,m){let x=m?It(m[1])?m[1].error:m[1].data:void 0,p=t.createURL(e.location),y=t.createURL(s),_=m&&It(m[1])?m[0]:void 0,w=_?vk(n,_):n,k=m?m[1].statusCode:void 0,j=o&&k&&k>=400,C=w.filter((M,L)=>{let{route:N}=M;if(N.lazy)return!0;if(N.loader==null)return!1;if(i)return typeof N.loader!="function"||N.loader.hydrate?!0:e.loaderData[N.id]===void 0&&(!e.errors||e.errors[N.id]===void 0);if(xk(e.loaderData,e.matches[L],M)||l.some(X=>X===M.route.id))return!0;let R=e.matches[L],K=M;return Rg(M,Re({currentUrl:p,currentParams:R.params,nextUrl:y,nextParams:K.params},r,{actionResult:x,actionStatus:k,defaultShouldRevalidate:j?!1:a||p.pathname+p.search===y.pathname+y.search||p.search!==y.search||Kv(R,K)}))}),S=[];return d.forEach((M,L)=>{if(i||!n.some(Q=>Q.route.id===M.routeId)||u.has(L))return;let N=Qr(g,M.path,v);if(!N){S.push({key:L,routeId:M.routeId,path:M.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(L),K=eo(N,M.path),X=!1;f.has(L)?X=!1:c.has(L)?(c.delete(L),X=!0):R&&R.state!=="idle"&&R.data===void 0?X=a:X=Rg(K,Re({currentUrl:p,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:k,defaultShouldRevalidate:j?!1:a})),X&&S.push({key:L,routeId:M.routeId,path:M.path,matches:N,match:K,controller:new AbortController})}),[C,S]}function xk(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function Kv(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Rg(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function _k(t,e,n,r,s,i,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(u,d)=>{a.aborted||qv(u,d,r,s,i)}}),o.set(l,c)),c&&Mk(c)&&await c}finally{o.delete(l)}}function qv(t,e,n,r,s){if(t){var i;let o=r[t];re(o,"No route found to patch children into: routeId = "+t);let a=Xo(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Xo(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function wk(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];re(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";mi(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Hb.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,Re({},e(s),{lazy:void 0}))}async function bk(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function kk(t,e,n,r,s,i,o,a,l,c){let u=i.map(g=>g.route.lazy?wk(g.route,l,a):void 0),d=i.map((g,v)=>{let m=u[v],x=s.some(y=>y.route.id===g.route.id);return Re({},g,{shouldLoad:x,resolve:async y=>(y&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(x=!0),x?Sk(e,r,g,m,y,c):Promise.resolve({type:be.data,result:void 0}))})}),f=await t({matches:d,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return f}async function Sk(t,e,n,r,s,i){let o,a,l=c=>{let u,d=new Promise((v,m)=>u=m);a=()=>u(),e.signal.addEventListener("abort",a);let f=v=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...v!==void 0?[v]:[]),g=(async()=>{try{return{type:"data",result:await(s?s(m=>f(m)):f())}}catch(v){return{type:"error",result:v}}})();return Promise.race([g,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw ft(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:be.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw ft(404,{pathname:d})}re(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:be.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function jk(t){let{result:e,type:n}=t;if(Gv(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:be.error,error:u}}return n===be.error?{type:be.error,error:new uc(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:be.data,data:c,statusCode:e.status,headers:e.headers}}if(n===be.error){if(Fg(e)){var r;if(e.data instanceof Error){var s;return{type:be.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new uc(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:be.error,error:e,statusCode:Hc(e)?e.status:void 0}}if(Rk(e)){var i,o;return{type:be.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Fg(e)){var a,l;return{type:be.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:be.data,data:e}}function Ek(t,e,n,r,s,i){let o=t.headers.get("Location");if(re(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Pf.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=rh(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function Lg(t,e,n){if(Pf.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=pn(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Cs(t,e,n,r){let s=t.createURL(Xv(e)).toString(),i={signal:n};if(r&&on(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=sh(r.formData):i.body=r.formData}return new Request(s,i)}function sh(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Og(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Ck(t,e,n,r,s){let i={},o=null,a,l=!1,c={},u=n&&It(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,g=e[f];if(re(!rs(g),"Cannot handle redirect results in processLoaderData"),It(g)){let v=g.error;u!==void 0&&(v=u,u=void 0),o=o||{};{let m=Ks(t,f);o[m.route.id]==null&&(o[m.route.id]=v)}i[f]=void 0,l||(l=!0,a=Hc(g.error)?g.error.status:500),g.headers&&(c[f]=g.headers)}else pr(g)?(r.set(f,g.deferredData),i[f]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[f]=g.headers)):(i[f]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[f]=g.headers))}),u!==void 0&&n&&(o={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function Dg(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=Ck(e,r,s,a);return i.forEach(u=>{let{key:d,match:f,controller:g}=u,v=o[d];if(re(v,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(It(v)){let m=Ks(t.matches,f==null?void 0:f.route.id);c&&c[m.route.id]||(c=Re({},c,{[m.route.id]:v.error})),t.fetchers.delete(d)}else if(rs(v))re(!1,"Unhandled fetcher revalidation redirect");else if(pr(v))re(!1,"Unhandled fetcher deferred data");else{let m=nr(v.data);t.fetchers.set(d,m)}}),{loaderData:l,errors:c}}function Ng(t,e,n,r){let s=Re({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function Ag(t){return t?It(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ks(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Ig(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ft(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new uc(t||500,a,new Error(l),!0)}function Ja(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(rs(s))return{key:r,result:s}}}function Xv(t){let e=typeof t=="string"?Xn(t):t;return ps(Re({},e,{hash:""}))}function Pk(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Mk(t){return typeof t=="object"&&t!=null&&"then"in t}function Tk(t){return Gv(t.result)&&hk.has(t.result.status)}function pr(t){return t.type===be.deferred}function It(t){return t.type===be.error}function rs(t){return(t&&t.type)===be.redirect}function Fg(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Rk(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Gv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Lk(t){return dk.has(t.toLowerCase())}function on(t){return ck.has(t.toLowerCase())}async function Ok(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!Kv(u,c)&&(s&&s[c.route.id])!==void 0;pr(l)&&d&&await Mf(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function Dk(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&pr(a)&&(re(o,"Expected an AbortController for revalidating fetcher deferred result"),await Mf(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function Mf(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:be.data,data:t.deferredData.unwrappedData}}catch(s){return{type:be.error,error:s}}return{type:be.data,data:t.deferredData.data}}}function Tf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function eo(t,e){let n=typeof e=="string"?Xn(e).search:e.search;if(t[t.length-1].route.index&&Tf(n||""))return t[t.length-1];let r=Wv(t);return r[r.length-1]}function zg(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function $u(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Nk(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function $i(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ak(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function nr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ik(t,e){try{let n=t.sessionStorage.getItem(Yv);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function Fk(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(Yv,JSON.stringify(n))}catch(r){mi(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gs(){return gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gs.apply(this,arguments)}const ma=b.createContext(null),Rf=b.createContext(null),Nr=b.createContext(null),Wc=b.createContext(null),Ar=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Jv=b.createContext(null);function zk(t,e){let{relative:n}=e===void 0?{}:e;ya()||re(!1);let{basename:r,navigator:s}=b.useContext(Nr),{hash:i,pathname:o,search:a}=Vc(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Bn([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ya(){return b.useContext(Wc)!=null}function Ir(){return ya()||re(!1),b.useContext(Wc).location}function Qv(t){b.useContext(Nr).static||b.useLayoutEffect(t)}function Rt(){let{isDataRoute:t}=b.useContext(Ar);return t?Gk():$k()}function $k(){ya()||re(!1);let t=b.useContext(ma),{basename:e,future:n,navigator:r}=b.useContext(Nr),{matches:s}=b.useContext(Ar),{pathname:i}=Ir(),o=JSON.stringify(Ef(s,n.v7_relativeSplatPath)),a=b.useRef(!1);return Qv(()=>{a.current=!0}),b.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Cf(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Bn([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function Zv(){let{matches:t}=b.useContext(Ar),e=t[t.length-1];return e?e.params:{}}function Vc(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Nr),{matches:s}=b.useContext(Ar),{pathname:i}=Ir(),o=JSON.stringify(Ef(s,r.v7_relativeSplatPath));return b.useMemo(()=>Cf(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Bk(t,e){return ex(t,e)}function ex(t,e,n,r){ya()||re(!1);let{navigator:s}=b.useContext(Nr),{matches:i}=b.useContext(Ar),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ir(),u;if(e){var d;let x=typeof e=="string"?Xn(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||re(!1),u=x}else u=c;let f=u.pathname||"/",g=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=Qr(t,{pathname:g}),m=Yk(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Bn([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Bn([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&m?b.createElement(Wc.Provider,{value:{location:gs({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Be.Pop}},m):m}function Uk(){let t=qk(),e=Hc(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const Hk=b.createElement(Uk,null);class Wk extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Ar.Provider,{value:this.props.routeContext},b.createElement(Jv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vk(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(ma);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Ar.Provider,{value:e},r)}function Yk(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||re(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:g}=n,v=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let g,v=!1,m=null,x=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||Hk,l&&(c<0&&f===0?(v=!0,x=null):c===f&&(v=!0,x=d.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,f+1)),y=()=>{let _;return g?_=m:v?_=x:d.route.Component?_=b.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,b.createElement(Vk,{match:d,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?b.createElement(Wk,{location:n.location,revalidation:n.revalidation,component:m,error:g,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var Lf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Lf||{}),Go=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Go||{});function tx(t){let e=b.useContext(ma);return e||re(!1),e}function nx(t){let e=b.useContext(Rf);return e||re(!1),e}function Kk(t){let e=b.useContext(Ar);return e||re(!1),e}function rx(t){let e=Kk(),n=e.matches[e.matches.length-1];return n.route.id||re(!1),n.route.id}function qk(){var t;let e=b.useContext(Jv),n=nx(Go.UseRouteError),r=rx(Go.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}let Xk=0;function sx(t){let{router:e,basename:n}=tx(Lf.UseBlocker),r=nx(Go.UseBlocker),[s,i]=b.useState(""),o=b.useCallback(a=>{if(typeof t!="function")return!!t;if(n==="/")return t(a);let{currentLocation:l,nextLocation:c,historyAction:u}=a;return t({currentLocation:gs({},l,{pathname:pn(l.pathname,n)||l.pathname}),nextLocation:gs({},c,{pathname:pn(c.pathname,n)||c.pathname}),historyAction:u})},[n,t]);return b.useEffect(()=>{let a=String(++Xk);return i(a),()=>e.deleteBlocker(a)},[e]),b.useEffect(()=>{s!==""&&e.getBlocker(s,o)},[e,s,o]),s&&r.blockers.has(s)?r.blockers.get(s):Ds}function Gk(){let{router:t}=tx(Lf.UseNavigateStable),e=rx(Go.UseNavigateStable),n=b.useRef(!1);return Qv(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,gs({fromRouteId:e},i)))},[t,e])}function Ge(t){re(!1)}function Jk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Be.Pop,navigator:i,static:o=!1,future:a}=t;ya()&&re(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:i,static:o,future:gs({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Xn(r));let{pathname:u="/",search:d="",hash:f="",state:g=null,key:v="default"}=r,m=b.useMemo(()=>{let x=pn(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:g,key:v},navigationType:s}},[l,u,d,f,g,v,s]);return m==null?null:b.createElement(Nr.Provider,{value:c},b.createElement(Wc.Provider,{children:n,value:m}))}function Ei(t){let{children:e,location:n}=t;return Bk(dc(e),n)}new Promise(()=>{});function dc(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,dc(r.props.children,i));return}r.type!==Ge&&re(!1),!r.props.index||!r.props.children||re(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=dc(r.props.children,i)),n.push(o)}),n}function Qk(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:b.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:b.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:b.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yi(){return yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yi.apply(this,arguments)}function ix(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Zk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function e2(t,e){return t.button===0&&(!e||e==="_self")&&!Zk(t)}function ih(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function t2(t,e){let n=ih(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const n2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],r2=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],s2="6";try{window.__reactRouterVersion=s2}catch{}function i2(t,e){return mk({basename:e==null?void 0:e.basename,future:yi({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:$b({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||o2(),routes:t,mapRouteProperties:Qk,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function o2(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=yi({},e,{errors:a2(e.errors)})),e}function a2(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new uc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const ox=b.createContext({isTransitioning:!1}),l2=b.createContext(new Map),c2="startTransition",$g=C_[c2],u2="flushSync",Bg=zb[u2];function d2(t){$g?$g(t):t()}function Bi(t){Bg?Bg(t):t()}let h2=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function f2(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=b.useState(n.state),[o,a]=b.useState(),[l,c]=b.useState({isTransitioning:!1}),[u,d]=b.useState(),[f,g]=b.useState(),[v,m]=b.useState(),x=b.useRef(new Map),{v7_startTransition:p}=r||{},y=b.useCallback(S=>{p?d2(S):S()},[p]),_=b.useCallback((S,M)=>{let{deletedFetchers:L,unstable_flushSync:N,unstable_viewTransitionOpts:R}=M;L.forEach(X=>x.current.delete(X)),S.fetchers.forEach((X,Q)=>{X.data!==void 0&&x.current.set(Q,X.data)});let K=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!R||K){N?Bi(()=>i(S)):y(()=>i(S));return}if(N){Bi(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let X=n.window.document.startViewTransition(()=>{Bi(()=>i(S))});X.finished.finally(()=>{Bi(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),Bi(()=>g(X));return}f?(u&&u.resolve(),f.skipTransition(),m({state:S,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(a(S),c({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[n.window,f,u,x,y]);b.useLayoutEffect(()=>n.subscribe(_),[n,_]),b.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new h2)},[l]),b.useEffect(()=>{if(u&&o&&n.window){let S=o,M=u.promise,L=n.window.document.startViewTransition(async()=>{y(()=>i(S)),await M});L.finished.finally(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(L)}},[y,o,u,n.window]),b.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,f,s.location,o]),b.useEffect(()=>{!l.isTransitioning&&v&&(a(v.state),c({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),m(void 0))},[l.isTransitioning,v]),b.useEffect(()=>{},[]);let w=b.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:S=>n.navigate(S),push:(S,M,L)=>n.navigate(S,{state:M,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(S,M,L)=>n.navigate(S,{replace:!0,state:M,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[n]),k=n.basename||"/",j=b.useMemo(()=>({router:n,navigator:w,static:!1,basename:k}),[n,w,k]),C=b.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return b.createElement(b.Fragment,null,b.createElement(ma.Provider,{value:j},b.createElement(Rf.Provider,{value:s},b.createElement(l2.Provider,{value:x.current},b.createElement(ox.Provider,{value:l},b.createElement(Jk,{basename:k,location:s.location,navigationType:s.historyAction,navigator:w,future:C},s.initialized||n.future.v7_partialHydration?b.createElement(p2,{routes:n.routes,future:n.future,state:s}):e))))),null)}const p2=b.memo(g2);function g2(t){let{routes:e,future:n,state:r}=t;return ex(e,void 0,r,n)}const m2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Of=b.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=ix(e,n2),{basename:g}=b.useContext(Nr),v,m=!1;if(typeof c=="string"&&y2.test(c)&&(v=c,m2))try{let _=new URL(window.location.href),w=c.startsWith("//")?new URL(_.protocol+c):new URL(c),k=pn(w.pathname,g);w.origin===_.origin&&k!=null?c=k+w.search+w.hash:m=!0}catch{}let x=zk(c,{relative:s}),p=_2(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:d});function y(_){r&&r(_),_.defaultPrevented||p(_)}return b.createElement("a",yi({},f,{href:v||x,onClick:m||i?r:y,ref:n,target:l}))}),v2=b.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,d=ix(e,r2),f=Vc(l,{relative:d.relative}),g=Ir(),v=b.useContext(Rf),{navigator:m,basename:x}=b.useContext(Nr),p=v!=null&&w2(f)&&c===!0,y=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,_=g.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(_=_.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&x&&(w=pn(w,x)||w);const k=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let j=_===y||!o&&_.startsWith(y)&&_.charAt(k)==="/",C=w!=null&&(w===y||!o&&w.startsWith(y)&&w.charAt(y.length)==="/"),S={isActive:j,isPending:C,isTransitioning:p},M=j?r:void 0,L;typeof i=="function"?L=i(S):L=[i,j?"active":null,C?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(S):a;return b.createElement(Of,yi({},d,{"aria-current":M,className:L,ref:n,style:N,to:l,unstable_viewTransition:c}),typeof u=="function"?u(S):u)});var oh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oh||(oh={}));var Ug;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ug||(Ug={}));function x2(t){let e=b.useContext(ma);return e||re(!1),e}function _2(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Rt(),c=Ir(),u=Vc(t,{relative:o});return b.useCallback(d=>{if(e2(d,n)){d.preventDefault();let f=r!==void 0?r:ps(c)===ps(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}function Yc(t){let e=b.useRef(ih(t)),n=b.useRef(!1),r=Ir(),s=b.useMemo(()=>t2(r.search,n.current?null:e.current),[r.search]),i=Rt(),o=b.useCallback((a,l)=>{const c=ih(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}function w2(t,e){e===void 0&&(e={});let n=b.useContext(ox);n==null&&re(!1);let{basename:r}=x2(oh.useViewTransitionState),s=Vc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=pn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=pn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return cc(s.pathname,o)!=null||cc(s.pathname,i)!=null}const cn={BASE_URL:"/duitify",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobGxzdmxxZHpncmhqamZnZXdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI2MDI1MjcsImV4cCI6MjA0ODE3ODUyN30.sgz9zSOQRqOzjWojV2acr6f3OQNNZ88D5zT-TSmYEIM",VITE_SUPABASE_PROJECT_URL:"https://xhllsvlqdzgrhjjfgewk.supabase.co"};let b2=0;function Ne(t,e){const n=`atom${++b2}`,r={toString(){return(cn?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=k2,r.write=S2),e&&(r.write=e),r}function k2(t){return t(this)}function S2(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}const Hg=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,Bu=t=>"init"in t,Uu=t=>!!t.write,hc=new WeakMap,ah=t=>{var e;return lh(t)&&!((e=hc.get(t))!=null&&e[1])},j2=(t,e)=>{const n=hc.get(t);if(n)n[1]=!0,n[0].forEach(r=>r(e));else if((cn?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},E2=t=>{if(hc.has(t))return;const e=[new Set,!1];hc.set(t,e);const n=()=>{e[1]=!0};t.then(n,n),t.onCancel=r=>{e[0].add(r)}},lh=t=>typeof(t==null?void 0:t.then)=="function",Wg=t=>"v"in t||"e"in t,Qa=t=>{if("e"in t)throw t.e;if((cn?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},ax=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},Vg=(t,e,n,r,s)=>{var i;if((cn?"production":void 0)!=="production"&&r===e)throw new Error("[Bug] atom cannot depend on itself");n.d.set(r,s.n),ah(n.v)&&ax(e,n.v,s),(i=s.m)==null||i.t.add(e),t&&C2(t,r,e)},Ps=()=>[new Map,new Map,new Set],Hu=(t,e,n)=>{t[0].has(e)||t[0].set(e,new Set),t[1].set(e,n)},C2=(t,e,n)=>{const r=t[0].get(e);r&&r.add(n)},P2=(t,e)=>t[0].get(e),Yg=(t,e)=>{t[2].add(e)},$r=t=>{for(;t[1].size||t[2].size;){t[0].clear();const e=new Set(t[1].values());t[1].clear();const n=new Set(t[2]);t[2].clear(),e.forEach(r=>{var s;return(s=r.m)==null?void 0:s.l.forEach(i=>i())}),n.forEach(r=>r())}},lx=t=>{let e;(cn?"production":void 0)!=="production"&&(e=new Set);const n=(m,x,p)=>{const y="v"in x,_=x.v,w=ah(x.v)?x.v:null;if(lh(p)){E2(p);for(const k of x.d.keys())ax(m,p,t(k,x));x.v=p,delete x.e}else x.v=p,delete x.e;(!y||!Object.is(_,x.v))&&(++x.n,w&&j2(w,p))},r=(m,x,p,y)=>{var _;if(!(y!=null&&y(x))&&Wg(p)&&(p.m||Array.from(p.d).every(([M,L])=>r(m,M,t(M,p),y).n===L)))return p;p.d.clear();let w=!0;const k=M=>{if(Hg(x,M)){const N=t(M,p);if(!Wg(N))if(Bu(M))n(M,N,M.init);else throw new Error("no atom init");return Qa(N)}const L=r(m,M,t(M,p),y);if(w)Vg(m,x,p,M,L);else{const N=Ps();Vg(N,x,p,M,L),c(N,x,p),$r(N)}return Qa(L)};let j,C;const S={get signal(){return j||(j=new AbortController),j.signal},get setSelf(){return(cn?"production":void 0)!=="production"&&!Uu(x)&&console.warn("setSelf function cannot be used with read-only atom"),!C&&Uu(x)&&(C=(...M)=>{if((cn?"production":void 0)!=="production"&&w&&console.warn("setSelf function cannot be called in sync"),!w)return l(x,...M)}),C}};try{const M=x.read(k,S);if(n(x,p,M),lh(M)){(_=M.onCancel)==null||_.call(M,()=>j==null?void 0:j.abort());const L=()=>{if(p.m){const N=Ps();c(N,x,p),$r(N)}};M.then(L,L)}return p}catch(M){return delete p.v,p.e=M,++p.n,p}finally{w=!1}},s=m=>Qa(r(void 0,m,t(m))),i=(m,x,p)=>{var y,_;const w=new Map;for(const k of((y=p.m)==null?void 0:y.t)||[])w.set(k,t(k,p));for(const k of p.p)w.set(k,t(k,p));return(_=P2(m,x))==null||_.forEach(k=>{w.set(k,t(k,p))}),w},o=(m,x,p)=>{const y=[],_=new Set,w=(C,S)=>{if(!_.has(C)){_.add(C);for(const[M,L]of i(m,C,S))C!==M&&w(M,L);y.push([C,S,S.n])}};w(x,p);const k=new Set([x]),j=C=>_.has(C);for(let C=y.length-1;C>=0;--C){const[S,M,L]=y[C];let N=!1;for(const R of M.d.keys())if(R!==S&&k.has(R)){N=!0;break}N&&(r(m,S,M,j),c(m,S,M),L!==M.n&&(Hu(m,S,M),k.add(S))),_.delete(S)}},a=(m,x,p,...y)=>{const _=j=>Qa(r(m,j,t(j,p))),w=(j,...C)=>{const S=t(j,p);let M;if(Hg(x,j)){if(!Bu(j))throw new Error("atom not writable");const L="v"in S,N=S.v,R=C[0];n(j,S,R),c(m,j,S),(!L||!Object.is(N,S.v))&&(Hu(m,j,S),o(m,j,S))}else M=a(m,j,S,...C);return $r(m),M};return x.write(_,w,...y)},l=(m,...x)=>{const p=Ps(),y=a(p,m,t(m),...x);return $r(p),y},c=(m,x,p)=>{if(p.m&&!ah(p.v)){for(const y of p.d.keys())p.m.d.has(y)||(u(m,y,t(y,p)).t.add(x),p.m.d.add(y));for(const y of p.m.d||[])if(!p.d.has(y)){p.m.d.delete(y);const _=d(m,y,t(y,p));_==null||_.t.delete(x)}}},u=(m,x,p)=>{if(!p.m){r(m,x,p);for(const y of p.d.keys())u(m,y,t(y,p)).t.add(x);if(p.m={l:new Set,d:new Set(p.d.keys()),t:new Set},(cn?"production":void 0)!=="production"&&e.add(x),Uu(x)&&x.onMount){const y=p.m,{onMount:_}=x;Yg(m,()=>{const w=_((...k)=>a(m,x,p,...k));w&&(y.u=w)})}}return p.m},d=(m,x,p)=>{if(p.m&&!p.m.l.size&&!Array.from(p.m.t).some(y=>{var _;return(_=t(y,p).m)==null?void 0:_.d.has(x)})){const y=p.m.u;y&&Yg(m,y),delete p.m,(cn?"production":void 0)!=="production"&&e.delete(x);for(const _ of p.d.keys()){const w=d(m,_,t(_,p));w==null||w.t.delete(x)}return}return p.m},v={get:s,set:l,sub:(m,x)=>{const p=Ps(),y=t(m),_=u(p,m,y);$r(p);const w=_.l;return w.add(x),()=>{w.delete(x);const k=Ps();d(k,m,y),$r(k)}},unstable_derive:m=>lx(...m(t))};return(cn?"production":void 0)!=="production"&&Object.assign(v,{dev4_get_internal_weak_map:()=>({get:x=>{const p=t(x);if(p.n!==0)return p}}),dev4_get_mounted_atoms:()=>e,dev4_restore_atoms:x=>{const p=Ps();for(const[y,_]of x)if(Bu(y)){const w=t(y),k="v"in w,j=w.v;n(y,w,_),c(p,y,w),(!k||!Object.is(j,w.v))&&(Hu(p,y,w),o(p,y,w))}$r(p)}}),v},M2=()=>{const t=new WeakMap;return lx(n=>{let r=t.get(n);return r||(r={d:new Map,p:new Set,n:0},t.set(n,r)),r})};let Ui;const gn=()=>(Ui||(Ui=M2(),(cn?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Ui),globalThis.__JOTAI_DEFAULT_STORE__!==Ui&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Ui),cx={BASE_URL:"/duitify",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobGxzdmxxZHpncmhqamZnZXdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI2MDI1MjcsImV4cCI6MjA0ODE3ODUyN30.sgz9zSOQRqOzjWojV2acr6f3OQNNZ88D5zT-TSmYEIM",VITE_SUPABASE_PROJECT_URL:"https://xhllsvlqdzgrhjjfgewk.supabase.co"},T2=b.createContext(void 0),ux=t=>b.useContext(T2)||gn(),dx=t=>typeof(t==null?void 0:t.then)=="function",R2=t=>{t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e})},L2=ge.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(R2(t),t)}),Wu=new WeakMap,O2=t=>{let e=Wu.get(t);return e||(e=new Promise((n,r)=>{let s=t;const i=l=>c=>{s===l&&n(c)},o=l=>c=>{s===l&&r(c)},a=l=>{"onCancel"in l&&typeof l.onCancel=="function"&&l.onCancel(c=>{if((cx?"production":void 0)!=="production"&&c===l)throw new Error("[Bug] p is not updated even after cancelation");dx(c)?(Wu.set(c,e),s=c,c.then(i(c),o(c)),a(c)):n(c)})};t.then(i(t),o(t)),a(t)}),Wu.set(t,e)),e};function D2(t,e){const n=ux(),[[r,s,i],o]=b.useReducer(c=>{const u=n.get(t);return Object.is(c[0],u)&&c[1]===n&&c[2]===t?c:[u,n,t]},void 0,()=>[n.get(t),n,t]);let a=r;if((s!==n||i!==t)&&(o(),a=n.get(t)),b.useEffect(()=>{const c=n.sub(t,()=>{o()});return o(),c},[n,t,void 0]),b.useDebugValue(a),dx(a)){const c=O2(a);return L2(c)}return a}function N2(t,e){const n=ux();return b.useCallback((...s)=>{if((cx?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...s)},[n,t])}function Z(t,e){return[D2(t),N2(t)]}const A2=gn(),hx=Ne(!1);function je(t){return A2.set(hx,t),t}Ne(!0);Ne(!1);const kn=Ne({title:"Duitify",actions:[]}),yo=Intl.DateTimeFormat().resolvedOptions().timeZone;function gt(t,{placeholder:e="-",lang:n,format:r="yyyy-MM-dd",timeZone:s}={}){if(!t||(typeof t=="string"&&(t=new Date(t)),typeof t=="number"&&(t=new Date(t)),!(t instanceof Date)))return e;if(s||(s=yo),n)return new Intl.DateTimeFormat(n,{day:"2-digit",month:"short",year:"numeric",weekday:"short",timeZone:s}).format(t);s!==yo&&(t=new Date(t.toLocaleString("en-US",{timeZone:s})));const i=t.getFullYear(),o=t.getMonth()+1,a=t.getDate(),l=t.getHours(),c=t.getMinutes(),u=t.getSeconds();return r.replace("yyyy",i.toString()).replace("MM",o.toString().padStart(2,"0")).replace("dd",a.toString().padStart(2,"0")).replace("HH",l.toString().padStart(2,"0")).replace("mm",c.toString().padStart(2,"0")).replace("ss",u.toString().padStart(2,"0"))}function fx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=fx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gr(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=fx(t))&&(r&&(r+=" "),r+=e);return r}const Jo=t=>typeof t=="number"&&!isNaN(t),as=t=>typeof t=="string",zt=t=>typeof t=="function",Dl=t=>as(t)||zt(t)?t:null,ch=t=>b.isValidElement(t)||as(t)||zt(t)||Jo(t);function I2(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function Kc(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:f,playToast:g}=o;const v=r?`${e}--${l}`:e,m=r?`${n}--${l}`:n,x=b.useRef(0);return b.useLayoutEffect(()=>{const p=d.current,y=v.split(" "),_=w=>{w.target===d.current&&(g(),p.removeEventListener("animationend",_),p.removeEventListener("animationcancel",_),x.current===0&&w.type!=="animationcancel"&&p.classList.remove(...y))};p.classList.add(...y),p.addEventListener("animationend",_),p.addEventListener("animationcancel",_)},[]),b.useEffect(()=>{const p=d.current,y=()=>{p.removeEventListener("animationend",y),s?I2(p,u,i):u()};f||(c?y():(x.current=1,p.className+=` ${m}`,p.addEventListener("animationend",y)))},[f]),ge.createElement(ge.Fragment,null,a)}}function Kg(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const mt=new Map;let Qo=[];const uh=new Set,F2=t=>uh.forEach(e=>e(t)),px=()=>mt.size>0;function gx(t,e){var n;if(e)return!((n=mt.get(e))==null||!n.isToastActive(t));let r=!1;return mt.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function mx(t,e){ch(t)&&(px()||Qo.push({content:t,options:e}),mt.forEach(n=>{n.buildToast(t,e)}))}function qg(t,e){mt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function z2(t){const{subscribe:e,getSnapshot:n,setProps:r}=b.useRef(function(i){const o=i.containerId||1;return{subscribe(a){const l=function(u,d,f){let g=1,v=0,m=[],x=[],p=[],y=d;const _=new Map,w=new Set,k=()=>{p=Array.from(_.values()),w.forEach(S=>S())},j=S=>{x=S==null?[]:x.filter(M=>M!==S),k()},C=S=>{const{toastId:M,onOpen:L,updateId:N,children:R}=S.props,K=N==null;S.staleId&&_.delete(S.staleId),_.set(M,S),x=[...x,S.props.toastId].filter(X=>X!==S.staleId),k(),f(Kg(S,K?"added":"updated")),K&&zt(L)&&L(b.isValidElement(R)&&R.props)};return{id:u,props:y,observe:S=>(w.add(S),()=>w.delete(S)),toggle:(S,M)=>{_.forEach(L=>{M!=null&&M!==L.props.toastId||zt(L.toggle)&&L.toggle(S)})},removeToast:j,toasts:_,clearQueue:()=>{v-=m.length,m=[]},buildToast:(S,M)=>{if((J=>{let{containerId:se,toastId:ae,updateId:ke}=J;const ue=se?se!==u:u!==1,Qe=_.has(ae)&&ke==null;return ue||Qe})(M))return;const{toastId:L,updateId:N,data:R,staleId:K,delay:X}=M,Q=()=>{j(L)},te=N==null;te&&v++;const ne={...y,style:y.toastStyle,key:g++,...Object.fromEntries(Object.entries(M).filter(J=>{let[se,ae]=J;return ae!=null})),toastId:L,updateId:N,data:R,closeToast:Q,isIn:!1,className:Dl(M.className||y.toastClassName),bodyClassName:Dl(M.bodyClassName||y.bodyClassName),progressClassName:Dl(M.progressClassName||y.progressClassName),autoClose:!M.isLoading&&(A=M.autoClose,F=y.autoClose,A===!1||Jo(A)&&A>0?A:F),deleteToast(){const J=_.get(L),{onClose:se,children:ae}=J.props;zt(se)&&se(b.isValidElement(ae)&&ae.props),f(Kg(J,"removed")),_.delete(L),v--,v<0&&(v=0),m.length>0?C(m.shift()):k()}};var A,F;ne.closeButton=y.closeButton,M.closeButton===!1||ch(M.closeButton)?ne.closeButton=M.closeButton:M.closeButton===!0&&(ne.closeButton=!ch(y.closeButton)||y.closeButton);let O=S;b.isValidElement(S)&&!as(S.type)?O=b.cloneElement(S,{closeToast:Q,toastProps:ne,data:R}):zt(S)&&(O=S({closeToast:Q,toastProps:ne,data:R}));const U={content:O,props:ne,staleId:K};y.limit&&y.limit>0&&v>y.limit&&te?m.push(U):Jo(X)?setTimeout(()=>{C(U)},X):C(U)},setProps(S){y=S},setToggle:(S,M)=>{_.get(S).toggle=M},isToastActive:S=>x.some(M=>M===S),getSnapshot:()=>y.newestOnTop?p.reverse():p}}(o,i,F2);mt.set(o,l);const c=l.observe(a);return Qo.forEach(u=>mx(u.content,u.options)),Qo=[],()=>{c(),mt.delete(o)}},setProps(a){var l;(l=mt.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=mt.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const s=b.useSyncExternalStore(e,n,n);return{getToastToRender:function(i){if(!s)return[];const o=new Map;return s.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>i(a[0],a[1]))},isToastActive:gx,count:s==null?void 0:s.length}}function $2(t){const[e,n]=b.useState(!1),[r,s]=b.useState(!1),i=b.useRef(null),o=b.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:d}=t;var f,g;function v(){n(!0)}function m(){n(!1)}function x(_){const w=i.current;o.canDrag&&w&&(o.didMove=!0,e&&m(),o.delta=t.draggableDirection==="x"?_.clientX-o.start:_.clientY-o.start,o.start!==_.clientX&&(o.canCloseOnClick=!1),w.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,w.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function p(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",p);const _=i.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),t.closeToast(),void t.collapseAll();_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}(g=mt.get((f={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||g.setToggle(f.id,f.fn),b.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||m(),window.addEventListener("focus",v),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",m)}},[t.pauseOnFocusLoss]);const y={onPointerDown:function(_){if(t.draggable===!0||t.draggable===_.pointerType){o.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",p);const w=i.current;o.canCloseOnClick=!0,o.canDrag=!0,w.style.transition="none",t.draggableDirection==="x"?(o.start=_.clientX,o.removalDistance=w.offsetWidth*(t.draggablePercent/100)):(o.start=_.clientY,o.removalDistance=w.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(_){const{top:w,bottom:k,left:j,right:C}=i.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&_.clientX>=j&&_.clientX<=C&&_.clientY>=w&&_.clientY<=k?m():v()}};return a&&l&&(y.onMouseEnter=m,t.stacked||(y.onMouseLeave=v)),d&&(y.onClick=_=>{u&&u(_),o.canCloseOnClick&&c()}),{playToast:v,pauseToast:m,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:y}}function B2(t){let{delay:e,isRunning:n,closeToast:r,type:s="default",hide:i,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:f}=t;const g=i||l&&c===0,v={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(v.transform=`scaleX(${c})`);const m=gr("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),x=zt(o)?o({rtl:u,type:s,defaultClassName:m}):gr(m,o),p={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}};return ge.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},ge.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${s}`}),ge.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:x,style:v,...p}))}let U2=1;const yx=()=>""+U2++;function H2(t){return t&&(as(t.toastId)||Jo(t.toastId))?t.toastId:yx()}function vo(t,e){return mx(t,e),e.toastId}function fc(t,e){return{...e,type:e&&e.type||t,toastId:H2(e)}}function Za(t){return(e,n)=>vo(e,fc(t,n))}function Y(t,e){return vo(t,fc("default",e))}Y.loading=(t,e)=>vo(t,fc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Y.promise=function(t,e,n){let r,{pending:s,error:i,success:o}=e;s&&(r=as(s)?Y.loading(s,n):Y.loading(s.render,{...n,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null)return void Y.dismiss(r);const g={type:u,...a,...n,data:f},v=as(d)?{render:d}:d;return r?Y.update(r,{...g,...v}):Y(v.render,{...g,...v}),f},c=zt(t)?t():t;return c.then(u=>l("success",o,u)).catch(u=>l("error",i,u)),c},Y.success=Za("success"),Y.info=Za("info"),Y.error=Za("error"),Y.warning=Za("warning"),Y.warn=Y.warning,Y.dark=(t,e)=>vo(t,fc("default",{theme:"dark",...e})),Y.dismiss=function(t){(function(e){var n;if(px()){if(e==null||as(n=e)||Jo(n))mt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=mt.get(e.containerId);r?r.removeToast(e.id):mt.forEach(s=>{s.removeToast(e.id)})}}else Qo=Qo.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Y.clearWaitingQueue=function(t){t===void 0&&(t={}),mt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Y.isActive=gx,Y.update=function(t,e){e===void 0&&(e={});const n=((r,s)=>{var i;let{containerId:o}=s;return(i=mt.get(o||1))==null?void 0:i.toasts.get(r)})(t,e);if(n){const{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:yx()};i.toastId!==t&&(i.staleId=t);const o=i.render||s;delete i.render,vo(o,i)}},Y.done=t=>{Y.update(t,{progress:1})},Y.onChange=function(t){return uh.add(t),()=>{uh.delete(t)}},Y.play=t=>qg(!0,t),Y.pause=t=>qg(!1,t);const W2=typeof window<"u"?b.useLayoutEffect:b.useEffect,el=t=>{let{theme:e,type:n,isLoading:r,...s}=t;return ge.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...s})},Vu={info:function(t){return ge.createElement(el,{...t},ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ge.createElement(el,{...t},ge.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ge.createElement(el,{...t},ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ge.createElement(el,{...t},ge.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ge.createElement("div",{className:"Toastify__spinner"})}},V2=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=$2(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:f,transition:g,position:v,className:m,style:x,bodyClassName:p,bodyStyle:y,progressClassName:_,progressStyle:w,updateId:k,role:j,progress:C,rtl:S,toastId:M,deleteToast:L,isIn:N,isLoading:R,closeOnClick:K,theme:X}=t,Q=gr("Toastify__toast",`Toastify__toast-theme--${X}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":K}),te=zt(m)?m({rtl:S,position:v,type:u,defaultClassName:Q}):gr(Q,m),ne=function(U){let{theme:J,type:se,isLoading:ae,icon:ke}=U,ue=null;const Qe={theme:J,type:se};return ke===!1||(zt(ke)?ue=ke({...Qe,isLoading:ae}):b.isValidElement(ke)?ue=b.cloneElement(ke,Qe):ae?ue=Vu.spinner():(Sn=>Sn in Vu)(se)&&(ue=Vu[se](Qe))),ue}(t),A=!!C||!l,F={closeToast:f,type:u,theme:X};let O=null;return o===!1||(O=zt(o)?o(F):b.isValidElement(o)?b.cloneElement(o,F):function(U){let{closeToast:J,theme:se,ariaLabel:ae="close"}=U;return ge.createElement("button",{className:`Toastify__close-button Toastify__close-button--${se}`,type:"button",onClick:ke=>{ke.stopPropagation(),J(ke)},"aria-label":ae},ge.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ge.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(F)),ge.createElement(g,{isIn:N,done:L,position:v,preventExitTransition:n,nodeRef:r,playToast:i},ge.createElement("div",{id:M,onClick:c,"data-in":N,className:te,...s,style:x,ref:r},ge.createElement("div",{...N&&{role:j},className:zt(p)?p({type:u}):gr("Toastify__toast-body",p),style:y},ne!=null&&ge.createElement("div",{className:gr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ne),ge.createElement("div",null,a)),O,ge.createElement(B2,{...k&&!A?{key:`pb-${k}`}:{},rtl:S,theme:X,delay:l,isRunning:e,isIn:N,closeToast:f,hide:d,type:u,style:w,className:_,controlledProgress:A,progress:C||0})))},qc=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},Y2=Kc(qc("bounce",!0));Kc(qc("slide",!0));Kc(qc("zoom"));Kc(qc("flip"));const K2={position:"top-right",transition:Y2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function q2(t){let e={...K2,...t};const n=t.stacked,[r,s]=b.useState(!0),i=b.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=z2(e),{className:c,style:u,rtl:d,containerId:f}=e;function g(m){const x=gr("Toastify__toast-container",`Toastify__toast-container--${m}`,{"Toastify__toast-container--rtl":d});return zt(c)?c({position:m,rtl:d,defaultClassName:x}):gr(x,Dl(c))}function v(){n&&(s(!0),Y.play())}return W2(()=>{if(n){var m;const x=i.current.querySelectorAll('[data-in="true"]'),p=12,y=(m=e.position)==null?void 0:m.includes("top");let _=0,w=0;Array.from(x).reverse().forEach((k,j)=>{const C=k;C.classList.add("Toastify__toast--stacked"),j>0&&(C.dataset.collapsed=`${r}`),C.dataset.pos||(C.dataset.pos=y?"top":"bot");const S=_*(r?.2:1)+(r?0:p*j);C.style.setProperty("--y",`${y?S:-1*S}px`),C.style.setProperty("--g",`${p}`),C.style.setProperty("--s",""+(1-(r?w:0))),_+=C.offsetHeight,w+=.025})}},[r,l,n]),ge.createElement("div",{ref:i,className:"Toastify",id:f,onMouseEnter:()=>{n&&(s(!1),Y.pause())},onMouseLeave:v},o((m,x)=>{const p=x.length?{...u}:{...u,pointerEvents:"none"};return ge.createElement("div",{className:g(m),style:p,key:`container-${m}`},x.map(y=>{let{content:_,props:w}=y;return ge.createElement(V2,{...w,stacked:n,collapseAll:v,isIn:a(w.toastId,w.containerId),style:w.style,key:`toast-${w.key}`},_)}))}))}const X2=(t,e,n)=>{b.useEffect(()=>{const r=s=>{!t.current||t.current.contains(s.target)||n!=null&&n.some(i=>{var o;return(o=i.current)==null?void 0:o.contains(s.target)})||e(s)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[t,e,n])},G2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}),h.jsx("path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"})]})}),J2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z"}),h.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"})]})}),Q2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M3 12a9 9 0 1 0 9-9a9.75 9.75 0 0 0-6.74 2.74L3 8"}),h.jsx("path",{d:"M3 3v5h5m4-1v5l4 2"})]})}),Z2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,children:[h.jsx("path",{d:"M10.11 3.9a1 1 0 0 1 .995-.9h1.79a1 1 0 0 1 .995.9l.033.333a8 8 0 0 1 2.209.915l.259-.212a1 1 0 0 1 1.34.067l1.266 1.266a1 1 0 0 1 .067 1.34l-.212.26c.409.676.72 1.419.915 2.208l.332.033a1 1 0 0 1 .901.995v1.79a1 1 0 0 1-.9.995l-.333.033a8 8 0 0 1-.915 2.209l.212.259a1 1 0 0 1-.067 1.34l-1.266 1.266a1 1 0 0 1-1.34.067l-.26-.212a8 8 0 0 1-2.208.915l-.033.332a1 1 0 0 1-.995.901h-1.79a1 1 0 0 1-.995-.9l-.033-.333a8 8 0 0 1-2.209-.915l-.259.212a1 1 0 0 1-1.34-.067L5.003 17.73a1 1 0 0 1-.067-1.34l.212-.26a8 8 0 0 1-.915-2.208L3.9 13.89a1 1 0 0 1-.9-.995v-1.79a1 1 0 0 1 .9-.995l.333-.033a8 8 0 0 1 .915-2.209l-.212-.259a1 1 0 0 1 .067-1.34L6.27 5.003a1 1 0 0 1 1.34-.067l.26.212a8 8 0 0 1 2.208-.915z"}),h.jsx("path",{d:"M14.5 12a2.5 2.5 0 1 0-5 0a2.5 2.5 0 0 0 5 0"})]})}),eS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"M12 8v4m0 4h.01"})]})}),tS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"m13 21l2-1l2 1v-7h-4m4-5V7l-2 1l-2-1v2l-2 1l2 1v2l2-1l2 1v-2l2-1m1-7H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7v-2H4V5h16v10h-1v2h1a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 5H5V6h6m-2 5H5V9h4m2 5H5v-2h6Z"})}),nS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),h.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]})}),rS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M12 8a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4m0 2a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2m-2 12c-.25 0-.46-.18-.5-.42l-.37-2.65c-.63-.25-1.17-.59-1.69-.99l-2.49 1.01c-.22.08-.49 0-.61-.22l-2-3.46a.493.493 0 0 1 .12-.64l2.11-1.66L4.5 12l.07-1l-2.11-1.63a.493.493 0 0 1-.12-.64l2-3.46c.12-.22.39-.31.61-.22l2.49 1c.52-.39 1.06-.73 1.69-.98l.37-2.65c.04-.24.25-.42.5-.42h4c.25 0 .46.18.5.42l.37 2.65c.63.25 1.17.59 1.69.98l2.49-1c.22-.09.49 0 .61.22l2 3.46c.13.22.07.49-.12.64L19.43 11l.07 1l-.07 1l2.11 1.63c.19.15.25.42.12.64l-2 3.46c-.12.22-.39.31-.61.22l-2.49-1c-.52.39-1.06.73-1.69.98l-.37 2.65c-.04.24-.25.42-.5.42zm1.25-18l-.37 2.61c-1.2.25-2.26.89-3.03 1.78L5.44 7.35l-.75 1.3L6.8 10.2a5.55 5.55 0 0 0 0 3.6l-2.12 1.56l.75 1.3l2.43-1.04c.77.88 1.82 1.52 3.01 1.76l.37 2.62h1.52l.37-2.61c1.19-.25 2.24-.89 3.01-1.77l2.43 1.04l.75-1.3l-2.12-1.55c.4-1.17.4-2.44 0-3.61l2.11-1.55l-.75-1.3l-2.41 1.04a5.42 5.42 0 0 0-3.03-1.77L12.75 4z"})}),sS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M20 11v2H8l5.5 5.5l-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5L8 11z"})}),iS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M14.94 19.5L12 17.77L9.06 19.5l.78-3.34l-2.59-2.24l3.41-.29L12 10.5l1.34 3.13l3.41.29l-2.59 2.24M20 2H4v2l4.86 3.64a8 8 0 1 0 6.28 0L20 4m-2 11a6 6 0 1 1-7.18-5.88a5.9 5.9 0 0 1 2.36 0A6 6 0 0 1 18 15m-5.37-8h-1.26l-4-3h9.34Z"})}),oS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M12 5c3.87 0 7 3.13 7 7s-3.13 7-7 7s-7-3.13-7-7s3.13-7 7-7m0-3c5.5 0 10 4.5 10 10s-4.5 10-10 10S2 17.5 2 12S6.5 2 12 2m0 2c-4.42 0-8 3.58-8 8s3.58 8 8 8s8-3.58 8-8s-3.58-8-8-8"})}),aS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4m7 14l5-5l-5-5m5 5H9"})}),lS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:11,cy:11,r:8}),h.jsx("path",{d:"m21 21l-4.3-4.3"})]})}),cS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M20 7h-9m3 10H5"}),h.jsx("circle",{cx:17,cy:17,r:3}),h.jsx("circle",{cx:7,cy:7,r:3})]})}),uS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M5 20h14v-2H5m14-9h-4V3H9v6H5l7 7z"})}),dS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M2.062 12.348a1 1 0 0 1 0-.696a10.75 10.75 0 0 1 19.876 0a1 1 0 0 1 0 .696a10.75 10.75 0 0 1-19.876 0"}),h.jsx("circle",{cx:12,cy:12,r:3})]})}),hS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575a1 1 0 0 1 0 .696a10.8 10.8 0 0 1-1.444 2.49m-6.41-.679a3 3 0 0 1-4.242-4.242"}),h.jsx("path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151a1 1 0 0 1 0-.696a10.75 10.75 0 0 1 4.446-5.143M2 2l20 20"})]})}),fS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),h.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"})]})}),pS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}),h.jsx("path",{d:"m9 11l3 3L22 4"})]})}),gS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"m15 9l-6 6m0-6l6 6"})]})}),mS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"m9 12l2 2l4-4"})]})}),yS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 16h.01M12 8v4m3.312-10a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z"})}),vS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m21.73 18l-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3M12 9v4m0 4h.01"})}),xS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"M12 16v-4m0-4h.01"})]})}),_S=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"}),h.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"})]})}),wS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:1}),h.jsx("circle",{cx:12,cy:5,r:1}),h.jsx("circle",{cx:12,cy:19,r:1})]})}),bS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497zM15 5l4 4"})}),kS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m-7-7v14"})}),SS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:4}),h.jsx("path",{d:"M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"})]})}),jS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3a6 6 0 0 0 9 9a9 9 0 1 1-9-9"})}),ES=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6h18m-2 0v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6m3 0V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})}),CS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M3 7V5c0-1.1.9-2 2-2h2m10 0h2c1.1 0 2 .9 2 2v2m0 10v2c0 1.1-.9 2-2 2h-2M7 21H5c-1.1 0-2-.9-2-2v-2"}),h.jsx("rect",{width:7,height:5,x:7,y:7,rx:1}),h.jsx("rect",{width:7,height:5,x:10,y:12,rx:1})]})}),PS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m-7-7l7 7l-7 7"})}),MS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 6L6 18M6 6l12 12"})}),TS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2"}),h.jsx("circle",{cx:12,cy:12,r:3})]})}),RS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4m4-5l5 5l5-5m-5 5V3"})}),LS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m9 18l6-6l-6-6"})}),OS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m15 18l-6-6l6-6"})}),DS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v20m5-17H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),NS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M10 8h.01M12 12h.01M14 8h.01M16 12h.01M18 8h.01M6 8h.01M7 16h10m-9-4h.01"}),h.jsx("rect",{width:20,height:16,x:2,y:4,rx:2})]})}),AS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 6L9 17l-5-5"})}),IS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M8 2v4m8-4v4"}),h.jsx("rect",{width:18,height:18,x:3,y:4,rx:2}),h.jsx("path",{d:"M3 10h18M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01M16 18h.01"})]})}),FS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 12h16M4 6h16M4 18h16"})}),zS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"M8 12h8m-4-4v8"})]})}),$S=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"M8 12h8"})]})}),BS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("rect",{width:20,height:16,x:2,y:4,rx:2}),h.jsx("path",{d:"M10 4v4M2 8h20M6 4v4"})]})}),US=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4m0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4"})}),HS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M2 6h4m-4 4h4m-4 4h4m-4 4h4"}),h.jsx("rect",{width:16,height:20,x:4,y:2,rx:2}),h.jsx("path",{d:"M9.5 8h5m-5 4H16m-6.5 4H14"})]})}),WS={"lucide:house":G2,"lucide:chart-pie":J2,"lucide:history":Q2,"mynaui:cog":Z2,"lucide:circle-alert":eS,"mdi:certificate-outline":tS,"lucide:pie-chart":nS,"mdi:gear-outline":rS,"mdi:arrow-left":sS,"mdi:medal-outline":iS,"mdi:circle-slice-8":oS,"lucide:log-out":aS,"lucide:search":lS,"lucide:settings-2":cS,"mdi:download":uS,"lucide:eye":dS,"lucide:eye-off":hS,"lucide:file":fS,"lucide:check-circle":pS,"lucide:x-circle":gS,"lucide:circle-check":mS,"lucide:octagon-alert":yS,"lucide:triangle-alert":vS,"lucide:info":xS,"lucide:wallet":_S,"lucide:more-vertical":wS,"lucide:pencil":bS,"lucide:plus":kS,"lucide:sun":SS,"lucide:moon":jS,"lucide:trash":ES,"lucide:group":CS,"lucide:arrow-right":PS,"lucide:x":MS,"lucide:settings":TS,"lucide:download":RS,"lucide:chevron-right":LS,"lucide:dollar-sign":DS,"lucide:keyboard":NS,"lucide:check":AS,"lucide:chevron-left":OS,"lucide:calendar-days":IS,"lucide:menu":FS,"lucide:circle-plus":zS,"lucide:circle-minus":$S,"lucide:app-window":BS,"lucide:infinity":US,"lucide:notebook-text":HS},we=({icon:t,...e})=>{const n=b.useMemo(()=>WS[t],[t]);return h.jsx(n,{...e})},Xg=160,Gn=({icon:t,disabled:e,options:n,position:r="bottom"})=>{const[s,i]=b.useState(!1),o=b.useRef(null),a=b.useRef(null),[l,c]=b.useState();return X2(o,()=>{s&&i(!1)},[a]),b.useEffect(()=>{if(!s||!o.current){c(void 0);return}const u=o.current.getBoundingClientRect(),d=u.top<=Xg?"bottom":window.innerHeight-u.top<=Xg?"top":r,f=d==="bottom"?u.top+u.height:u.top;c({top:f,offset:d,left:u.left+u.width})},[s,o.current,r]),h.jsxs("div",{children:[h.jsx("button",{ref:o,type:"button",disabled:e||!n.length,className:"dai-btn dai-btn-ghost dai-btn-sm text-base",onClick:u=>{i(d=>!d),u.stopPropagation()},children:h.jsx(we,{icon:t??"lucide:more-vertical"})}),l&&h.jsx("ul",{ref:a,style:{top:l.top,left:l.left,position:"fixed"},className:"dai-menu z-[29] w-56 -translate-x-full rounded-box border-[2px] border-base-200 bg-base-100 shadow-all-lg "+(l.offset==="top"?"-translate-y-full":""),children:n.map((u,d)=>h.jsx("li",{children:h.jsxs("button",{className:"font-semibold "+u.style,onClick:f=>{var g;f.stopPropagation(),(g=u.onClick)==null||g.call(u),i(!1)},children:[h.jsx(we,{className:"text-lg",icon:u.icon}),u.label]})},d))})]})};function Tt(t,{currency:e="IDR"}={}){return new Intl.NumberFormat("id-ID",{style:"decimal",currency:e}).format(t)}const VS="modulepreload",YS=function(t){return"/duitify/"+t},Gg={},ms=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=YS(l),l in Gg)return;Gg[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":VS,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},KS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ms(async()=>{const{default:r}=await Promise.resolve().then(()=>Ci);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Df extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class qS extends Df{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class XS extends Df{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class GS extends Df{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(dh||(dh={}));var JS=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class QS{constructor(e,{headers:n={},customFetch:r,region:s=dh.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=KS(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return JS(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(v=>{throw new qS(v)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new XS(u);if(!u.ok)throw new GS(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield u.json():f==="application/octet-stream"?g=yield u.blob():f==="text/event-stream"?g=u:f==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var St={},Nf={},Xc={},va={},Gc={},Jc={},ZS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vi=ZS();const ej=vi.fetch,vx=vi.fetch.bind(vi),xx=vi.Headers,tj=vi.Request,nj=vi.Response,Ci=Object.freeze(Object.defineProperty({__proto__:null,Headers:xx,Request:tj,Response:nj,default:vx,fetch:ej},Symbol.toStringTag,{value:"Module"})),rj=d_(Ci);var Qc={};Object.defineProperty(Qc,"__esModule",{value:!0});class sj extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Qc.default=sj;var _x=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jc,"__esModule",{value:!0});const ij=_x(rj),oj=_x(Qc);let aj=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=ij.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,d=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=p:u=JSON.parse(p))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await i.text();try{c=JSON.parse(m),Array.isArray(c)&&i.status===404&&(u=[],c=null,f=200,g="OK")}catch{i.status===404&&m===""?(f=204,g="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,g="OK"),c&&this.shouldThrowOnError)throw new oj.default(c)}return{error:c,data:u,count:d,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};Jc.default=aj;var lj=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gc,"__esModule",{value:!0});const cj=lj(Jc);let uj=class extends cj.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Gc.default=uj;var dj=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(va,"__esModule",{value:!0});const hj=dj(Gc);let fj=class extends hj.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};va.default=fj;var pj=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xc,"__esModule",{value:!0});const Hi=pj(va);let gj=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Hi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Hi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Hi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Hi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Hi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Xc.default=gj;var Zc={},eu={};Object.defineProperty(eu,"__esModule",{value:!0});eu.version=void 0;eu.version="0.0.0-automated";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.DEFAULT_HEADERS=void 0;const mj=eu;Zc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${mj.version}`};var wx=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nf,"__esModule",{value:!0});const yj=wx(Xc),vj=wx(va),xj=Zc;let _j=class bx{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},xj.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new yj.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new bx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new vj.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Nf.default=_j;var Pi=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(St,"__esModule",{value:!0});St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const kx=Pi(Nf);St.PostgrestClient=kx.default;const Sx=Pi(Xc);St.PostgrestQueryBuilder=Sx.default;const jx=Pi(va);St.PostgrestFilterBuilder=jx.default;const Ex=Pi(Gc);St.PostgrestTransformBuilder=Ex.default;const Cx=Pi(Jc);St.PostgrestBuilder=Cx.default;const Px=Pi(Qc);St.PostgrestError=Px.default;var wj=St.default={PostgrestClient:kx.default,PostgrestQueryBuilder:Sx.default,PostgrestFilterBuilder:jx.default,PostgrestTransformBuilder:Ex.default,PostgrestBuilder:Cx.default,PostgrestError:Px.default};const{PostgrestClient:bj,PostgrestQueryBuilder:wL,PostgrestFilterBuilder:bL,PostgrestTransformBuilder:kL,PostgrestBuilder:SL}=wj,kj="2.10.7",Sj={"X-Client-Info":`realtime-js/${kj}`},jj="1.0.0",Mx=1e4,Ej=1e3;var ri;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ri||(ri={}));var Dt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Dt||(Dt={}));var an;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(an||(an={}));var hh;(function(t){t.websocket="websocket"})(hh||(hh={}));var Zr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Zr||(Zr={}));class Cj{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Tx{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Se||(Se={}));const Jg=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Pj(o,t,e,s),i),{})},Pj=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Rx(i,o):fh(o)},Rx=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Lj(e,n)}switch(t){case Se.bool:return Mj(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return Tj(e);case Se.json:case Se.jsonb:return Rj(e);case Se.timestamp:return Oj(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return fh(e);default:return fh(e)}},fh=t=>t,Mj=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Tj=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Rj=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Lj=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Rx(e,a))}return t},Oj=t=>typeof t=="string"?t.replace(" ","T"):t,Lx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Yu{constructor(e,n,r={},s=Mx){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Qg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Qg||(Qg={}));class xo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xo.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=xo.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xo.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const f=u.map(x=>x.presence_ref),g=d.map(x=>x.presence_ref),v=u.filter(x=>g.indexOf(x.presence_ref)<0),m=d.filter(x=>f.indexOf(x.presence_ref)<0);v.length>0&&(a[c]=v),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(g=>g.presence_ref),f=u.filter(g=>d.indexOf(g.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Zg||(Zg={}));var em;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(em||(em={}));var tm;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(tm||(tm={}));class Af{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Yu(this,an.join,this.params,this.timeout),this.rejoinTimer=new Tx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new xo(this),this.broadcastEndpointURL=Lx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,g=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,v=[];for(let m=0;m<g;m++){const x=f[m],{filter:{event:p,schema:y,table:_,filter:w}}=x,k=u&&u[m];if(k&&k.event===p&&k.schema===y&&k.table===_&&k.filter===w)v.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Dt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Yu(this,an.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Yu(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=an;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var v,m,x;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(m=g.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var v,m,x,p,y,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const w=g.id,k=(v=g.filter)===null||v===void 0?void 0:v.event;return w&&((m=n.ids)===null||m===void 0?void 0:m.includes(w))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(y=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return w==="*"||w===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:m,table:x,commit_timestamp:p,type:y,errors:_}=v;f=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:p,eventType:y,new:{},old:{},errors:_}),this._getPayloadRecords(v))}g.callback(f,r)})}_isClosed(){return this.state===Dt.closed}_isJoined(){return this.state===Dt.joined}_isJoining(){return this.state===Dt.joining}_isLeaving(){return this.state===Dt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Af.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(an.close,{},e)}_onError(e){this._on(an.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Jg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Jg(e.columns,e.old_record)),n}}const Dj=()=>{},Nj=typeof WebSocket<"u",Aj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ij{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Sj,this.params={},this.timeout=Mx,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Dj,this.conn=null,this.sendBuffer=[],this.serializer=new Cj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>ms(async()=>{const{default:l}=await Promise.resolve().then(()=>Ci);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${hh.websocket}`,this.httpEndpoint=Lx(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Tx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Nj){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Fj(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),ms(async()=>{const{default:e}=await import("./browser-CRZjbjXi.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ri.connecting:return Zr.Connecting;case ri.open:return Zr.Open;case ri.closing:return Zr.Closing;default:return Zr.Closed}}isConnected(){return this.connectionState()===Zr.Open}channel(e,n={config:{}}){const r=new Af(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(an.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jj}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(an.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ej,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Aj],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Fj{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ri.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class If extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function et(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class zj extends If{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ph extends If{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var $j=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Ox=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ms(async()=>{const{default:r}=await Promise.resolve().then(()=>Ci);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Bj=()=>$j(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ms(()=>Promise.resolve().then(()=>Ci),void 0)).Response:Response}),gh=t=>{if(Array.isArray(t))return t.map(n=>gh(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=gh(r)}),e};var _s=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Ku=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Uj=(t,e,n)=>_s(void 0,void 0,void 0,function*(){const r=yield Bj();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new zj(Ku(s),t.status||500))}).catch(s=>{e(new ph(Ku(s),s))}):e(new ph(Ku(t),t))}),Hj=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function xa(t,e,n,r,s,i){return _s(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Hj(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Uj(l,a,r))})})}function pc(t,e,n,r){return _s(this,void 0,void 0,function*(){return xa(t,"GET",e,n,r)})}function lr(t,e,n,r,s){return _s(this,void 0,void 0,function*(){return xa(t,"POST",e,r,s,n)})}function Wj(t,e,n,r,s){return _s(this,void 0,void 0,function*(){return xa(t,"PUT",e,r,s,n)})}function Vj(t,e,n,r){return _s(this,void 0,void 0,function*(){return xa(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Dx(t,e,n,r,s){return _s(this,void 0,void 0,function*(){return xa(t,"DELETE",e,r,s,n)})}var wt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Yj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kj{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ox(s)}uploadOrUpdate(e,n,r,s){return wt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},nm),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(et(i))return{data:null,error:i};throw i}})}upload(e,n,r){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return wt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:nm.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(et(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return wt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield lr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new If("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}update(e,n,r){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return wt(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}copy(e,n,r){return wt(this,void 0,void 0,function*(){try{return{data:{path:(yield lr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return wt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield lr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return wt(this,void 0,void 0,function*(){try{const s=yield lr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}download(e,n){return wt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield pc(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(et(a))return{data:null,error:a};throw a}})}info(e){return wt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield pc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gh(r),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}exists(e){return wt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Vj(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(et(r)&&r instanceof ph){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return wt(this,void 0,void 0,function*(){try{return{data:yield Dx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}list(e,n,r){return wt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Yj),n),{prefix:e||""});return{data:yield lr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const qj="2.7.1",Xj={"X-Client-Info":`storage-js/${qj}`};var Ms=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Gj{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Xj),n),this.fetch=Ox(r)}listBuckets(){return Ms(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(et(e))return{data:null,error:e};throw e}})}getBucket(e){return Ms(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ms(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Ms(this,void 0,void 0,function*(){try{return{data:yield Wj(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ms(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ms(this,void 0,void 0,function*(){try{return{data:yield Dx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}}class Jj extends Gj{constructor(e,n={},r){super(e,n,r)}from(e){return new Kj(this.url,this.headers,e,this.fetch)}}const Qj="2.46.1";let to="";typeof Deno<"u"?to="deno":typeof document<"u"?to="web":typeof navigator<"u"&&navigator.product==="ReactNative"?to="react-native":to="node";const Zj={"X-Client-Info":`supabase-js-${to}/${Qj}`},eE={headers:Zj},tE={schema:"public"},nE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rE={};var sE=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const iE=t=>{let e;return t?e=t:typeof fetch>"u"?e=vx:e=fetch,(...n)=>e(...n)},oE=()=>typeof Headers>"u"?xx:Headers,aE=(t,e,n)=>{const r=iE(n),s=oE();return(i,o)=>sE(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var lE=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function cE(t){return t.replace(/\/$/,"")}function uE(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>lE(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Nx="2.65.1",dE="http://localhost:9999",hE="supabase.auth.token",fE={"X-Client-Info":`gotrue-js/${Nx}`},rm=10,mh="X-Supabase-Api-Version",Ax={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function pE(t){return Math.round(Date.now()/1e3)+t}function gE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const nn=()=>typeof document<"u",Br={tested:!1,writable:!1},_o=()=>{if(!nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Br.tested)return Br.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Br.tested=!0,Br.writable=!0}catch{Br.tested=!0,Br.writable=!1}return Br.writable};function qu(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Ix=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ms(async()=>{const{default:r}=await Promise.resolve().then(()=>Ci);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},mE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fx=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},tl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},nl=async(t,e)=>{await t.removeItem(e)};function yE(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class tu{constructor(){this.promise=new tu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}tu.promiseConstructor=Promise;function sm(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(yE(r))}async function vE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function xE(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function _E(t){return("0"+t.toString(16)).substr(-2)}function wE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,_E).join("")}async function bE(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function kE(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function SE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await bE(t);return kE(n)}async function Ts(t,e,n=!1){const r=wE();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Fx(t,`${e}-code-verifier`,s);const i=await SE(r);return[i,r===i?"plain":"s256"]}const jE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function EE(t){const e=t.headers.get(mh);if(!e||!e.match(jE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Ff extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class CE extends Ff{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function PE(t){return oe(t)&&t.name==="AuthApiError"}class zx extends Ff{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ws extends Ff{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class rr extends ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ME(t){return oe(t)&&t.name==="AuthSessionMissingError"}class Xu extends ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rl extends ws{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class sl extends ws{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class im extends ws{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yh extends ws{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Gu(t){return oe(t)&&t.name==="AuthRetryableFetchError"}class om extends ws{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var TE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const qr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),RE=[502,503,504];async function am(t){var e;if(!mE(t))throw new yh(qr(t),0);if(RE.includes(t.status))throw new yh(qr(t),t.status);let n;try{n=await t.json()}catch(i){throw new zx(qr(i),i)}let r;const s=EE(t);if(s&&s.getTime()>=Ax["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new om(qr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new rr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new om(qr(n),t.status,n.weak_password.reasons);throw new CE(qr(n),t.status||500,r)}const LE=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ce(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[mh]||(i[mh]=Ax["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await OE(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function OE(t,e,n,r,s,i){const o=LE(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new yh(qr(l),0)}if(a.ok||await am(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await am(l)}}function sr(t){var e;let n=null;IE(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=pE(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function lm(t){const e=sr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function dr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function DE(t){return{data:t,error:null}}function NE(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=TE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function AE(t){return t}function IE(t){return t.access_token&&t.refresh_token&&t.expires_in}var FE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class zE{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Ix(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:dr})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=FE(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:NE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:dr})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:AE});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(oe(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:dr})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:dr})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:dr})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}}const $E={getItem:t=>_o()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{_o()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{_o()&&globalThis.localStorage.removeItem(t)}};function cm(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function BE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rs={debug:!!(globalThis&&_o()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $x extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class UE extends $x{}async function HE(t,e,n){Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new UE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Rs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}BE();const WE={url:dE,storageKey:hE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Wi=30*1e3,um=3;async function dm(t,e,n){return await n()}class Zo{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zo.nextInstanceID,Zo.nextInstanceID+=1,this.instanceID>0&&nn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},WE),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new zE({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ix(s.fetch),this.lock=s.lock||dm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:nn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=HE:this.lock=dm,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:_o()?this.storage=$E:(this.memoryStorage={},this.storage=cm(this.memoryStorage)):(this.memoryStorage={},this.storage=cm(this.memoryStorage)),nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Nx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=nn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return oe(e)?{error:e}:{error:new zx("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:sr}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(oe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Ts(this.storage,this.storageKey)),i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:v},xform:sr})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:sr})}else throw new rl("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(oe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:lm})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:lm})}else throw new rl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Xu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await tl(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:sr});if(await nl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Xu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(oe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:sr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Xu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ts(this.storage,this.storageKey));const{error:d}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new rl("You must provide either an email or phone number.")}catch(a){if(oe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:sr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(oe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ts(this.storage,this.storageKey)),await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:DE})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new rr;const{error:s}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(oe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await ce(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await ce(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new rl("You must provide either an email or phone number and a type")}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await tl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:dr}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rr}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:dr})})}catch(n){if(oe(n))return ME(n)&&(await this._removeSession(),await nl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new rr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ts(this.storage,this.storageKey));const{data:c,error:u}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:dr});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return sm(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new rr;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=sm(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(oe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new rr;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!nn())throw new sl("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new sl("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new im("Not a valid PKCE flow url.");const n=qu(window.location.href);if(e){if(!n.code)throw new im("No code detected.");const{data:y,error:_}=await this._exchangeCodeForSession(n.code);if(_)throw _;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new sl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=n;if(!i||!a||!o||!c)throw new sl("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const g=f-u;g*1e3<=Wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const v=f-d;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,u);const{data:m,error:x}=await this._getUser(i);if(x)throw x;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:n.type},error:null}}catch(n){if(oe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=qu(window.location.href);return!!(nn()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=qu(window.location.href),n=await tl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(PE(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await nl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=gE(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ts(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return nn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(oe(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await xE(async s=>(s>0&&await vE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:sr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Gu(i)&&Date.now()+o-r<Wi})}catch(r){if(this._debug(n,"error",r),oe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),nn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await tl(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+rm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${rm}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Gu(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new rr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new tu;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new rr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),oe(i)){const o={session:null,error:i};return Gu(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Fx(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await nl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Wi}ms, refresh threshold is ${um} ticks`),s<=um&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $x)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ts(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(oe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(oe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Zo.nextInstanceID=0;const VE=Zo;class YE extends VE{constructor(e){super(e)}}var KE=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class qE{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=cE(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:tE,realtime:rE,auth:Object.assign(Object.assign({},nE),{storageKey:l}),global:eE},u=uE(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=aE(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new bj(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new QS(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Jj(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return KE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){var d;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YE({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new Ij(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const XE=(t,e,n)=>new qE(t,e,n);function Bx(t,e){return e===""?t:t.startsWith(e)?t.slice(e.length):t}function Ux(t,e){return t.endsWith(e)?t.slice(0,-e.length):t}const Tr={SUPABASE_PROJECT_URL:"https://xhllsvlqdzgrhjjfgewk.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobGxzdmxxZHpncmhqamZnZXdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI2MDI1MjcsImV4cCI6MjA0ODE3ODUyN30.sgz9zSOQRqOzjWojV2acr6f3OQNNZ88D5zT-TSmYEIM",BASE_URL:Ux("/duitify","/")},Ut=XE(Tr.SUPABASE_PROJECT_URL,Tr.SUPABASE_ANON_KEY);Ut.storage.from("images").getPublicUrl("accounts").data.publicUrl;class _a{static get db(){return Ut.schema("public")}}const Hx=[15,25,50];class gc extends _a{static async getTransactions(e,{cursor:n,account:r,category:s}){const i=new Date;i.setMonth(i.getMonth()+1);const o=this.db.from("transaction").select(`*, 
                category(id, name, logo),
                account:account!transaction_account_id_fkey(id, name, logo),
                to_account:account!transaction_to_account_id_fkey(id, name, logo)`).eq("user_id",e);return s&&o.eq("category_id",s),r&&o.or(`account_id.eq.${r}, to_account_id.eq.${r}`),o.order("occurred_at",{ascending:!1}).lt("occurred_at",n||gt(i,{format:"yyyy-MM-dd HH:mm:ss"})).limit(Hx[0])}static async update(e,n){return this.db.from("transaction").update(n).eq("id",e).select().single()}static async create(e){return this.db.from("transaction").insert(e).select().single()}static async delete(e){return await this.db.from("transaction").delete().eq("id",e)}}const hm=["input","textarea","button","a","select","label"];function GE(){const t=b.useRef(null);return b.useEffect(()=>{if(!t.current)return;const e=t.current.tagName.toLowerCase();if(hm.includes(e)){t.current.focus();return}for(const n of hm){const r=t.current.querySelectorAll(n);if(r.length!==0){r[0].focus();return}}},[t]),t}const vh=gn();let JE=0;const mc=Ne([]),Wx=Ne(t=>t(mc));function nu(t,{dismissible:e=!0,...n}){return n.modalId&&vh.get(mc).find(s=>s.modalId===n.modalId)?-1:(n.modalId||(n.modalId=++JE),vh.set(mc,r=>[...r,{Element:t,props:n,dismissible:e,modalId:n.modalId}]),n.modalId??0)}function xi(t){vh.set(mc,e=>(e.pop(),[...e]))}const Vx=({children:t,title:e,useFocus:n=!0,className:r})=>{const s=GE();return h.jsxs("div",{ref:n?s:void 0,className:"flex flex-col gap-1 rounded-2xl bg-base-100 p-6 shadow-xl sm:min-w-[30rem] sm:rounded-2xl "+r,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[e&&h.jsx("h3",{className:"text-lg font-bold",children:e}),h.jsx("button",{type:"button",onClick:()=>xi(),children:h.jsx(we,{icon:"lucide:x"})})]}),t]})},QE=({title:t,body:e,okText:n,noText:r,onNo:s,onOk:i,onClose:o,hideNo:a})=>(b.useEffect(()=>()=>{o==null||o()},[]),h.jsxs(Vx,{title:t??"Konfirmasi",children:[e&&h.jsx("p",{className:"py-2",children:e}),h.jsxs("div",{className:"mt-2 flex w-full justify-end gap-2",children:[!a&&h.jsx("button",{onClick:s,className:"dai-btn dai-btn-ghost",children:r??"Cancel"}),h.jsx("button",{onClick:i,className:"dai-btn dai-btn-primary min-w-16",children:n??"OK"})]})]}));function wa(t={}){return new Promise(e=>{nu(QE,{onClose:()=>e(!1),onOk:()=>{e(!0),xi()},onNo:()=>{e(!1),xi()},...t})===-1&&e(!1)})}const ve=({children:t,className:e})=>h.jsx("div",{className:"dai-skeleton w-fit "+e,children:h.jsx("div",{className:"invisible",children:t})});class wo extends _a{static async getAccounts(e){return this.db.from("account").select("*").eq("user_id",e).order("name",{ascending:!0})}static async getAccount(e){return this.db.from("account").select().eq("id",e).single()}static async createAccount(e){return this.db.from("account").upsert(e).select().single()}static async updateAccount(e,n){return this.db.from("account").update(n).eq("id",e).select().single()}static async deleteAccount(e){return await this.db.from("account").delete().eq("id",e)}}const Lt=Ne(null),qs=gn(),si=Ne({loading:!1,fetched:!1,data:[]});async function ZE(){var e;qs.set(si,n=>({...n,loading:!0,fetched:!1}));const t=await wo.getAccounts(((e=qs.get(Lt))==null?void 0:e.user.id)??"");if(t.error)return qs.set(si,n=>({...n,loading:!1})),t.error.message;qs.set(si,{loading:!1,fetched:!0,data:t.data??[]})}function eC(t){const e=qs.get(si);e.fetched&&qs.set(si,{...e,data:typeof t=="function"?t(e.data):t})}const tC=Ne(t=>({refresh:ZE,setData:eC,...t(si)})),ea=()=>{const[t]=Z(tC);return t},Yx=Ne(!1),$t=Ne(),zf=Ne(!1),hn=({amount:t,count:e})=>{const[n]=Z($t),[r]=Z(Yx),s=b.useMemo(()=>Math.abs(t),[t]);return!(n!=null&&n.hide_amount)||r||s<=(n.max_visible_amount??0)?Tt(t):e?h.jsx(Ju,{num:e}):s>=1e6?h.jsx(Ju,{num:9}):h.jsx(Ju,{num:7})},Ju=({num:t})=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:t}).map((e,n)=>h.jsx("span",{className:"size-2 rounded-full bg-current"},n))}),h.jsx("p",{className:"invisible w-[0px]",children:"r"})]}),yc=Ut.storage.from("images").getPublicUrl("accounts").data.publicUrl,ru=Ut.storage.from("images").getPublicUrl("categories").data.publicUrl,nC=({date:t,transactions:e,onDeleted:n})=>{const r=b.useMemo(()=>e.reduce((s,i)=>s+(i.type==="transfer"?0:i.type==="expense"?-1*i.amount:i.amount),0),[e]);return h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between border-b-2 border-b-primary",children:[h.jsx("span",{className:"text-sm xs:text-base",children:gt(t,{lang:"en-US"})}),h.jsx("span",{className:"dai-badge dai-badge-sm "+(r>0?"dai-badge-success":"dai-badge-error"),children:h.jsx(hn,{amount:r})})]}),h.jsx("div",{className:"flex flex-col gap-1",children:e.map((s,i)=>h.jsx(rC,{el:s,onDeleted:n},i))})]})},rC=({el:t,onDeleted:e})=>{var a,l,c,u,d,f;const[,n]=Z(qx),r=Rt(),{setData:s}=ea(),i=b.useMemo(()=>t.type==="expense"?-1*t.amount:t.amount,[t]),o=async()=>{if(!await wa({title:"Delete transaction",body:"Are you sure you want to delete this transaction?"}))return;je(!0);const{error:v}=await gc.delete(t.id);if(je(!1),v){Y.error(v.message);return}s(m=>{const x=m.find(p=>p.id===t.account_id);if(!x)return m;if((t.type==="expense"||t.type==="transfer")&&(x.balance+=t.amount),t.type==="income"&&(x.balance-=t.amount),t.type==="transfer"){const p=m.find(y=>y.id===t.to_account_id);if(!p)return m;p.balance-=t.amount}return[...m]}),e(t.id)};return h.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-base-100 px-3 py-2 shadow",children:[h.jsx("img",{className:"size-9 xs:size-12",src:ru+"/"+(t.type==="transfer"?"transfer.webp":(a=t.category)==null?void 0:a.logo),loading:"lazy",alt:""}),h.jsxs("div",{className:"flex w-full items-center justify-between",children:[h.jsxs("div",{className:"flex w-full flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium xs:text-base",children:t.type==="transfer"?"Transfer":(l=t.category)==null?void 0:l.name}),h.jsx("span",{className:"text-nowrap text-sm font-medium xs:text-base "+(t.type==="transfer"?"text-secondary":i>0?"text-success":"text-error"),children:h.jsx(hn,{amount:i})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-wrap items-center gap-0.5",children:[h.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[h.jsx("img",{loading:"lazy",className:"size-3 xs:size-4",src:yc+"/"+((c=t.account)==null?void 0:c.logo),alt:""}),h.jsx("span",{children:(u=t.account)==null?void 0:u.name})]}),t.type==="transfer"&&t.to_account&&h.jsxs(h.Fragment,{children:[h.jsx("span",{children:h.jsx(we,{className:"text-xs",icon:"lucide:arrow-right"})}),h.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[h.jsx("img",{loading:"lazy",className:"size-3 xs:size-4",src:yc+"/"+((d=t.to_account)==null?void 0:d.logo),alt:""}),h.jsx("span",{children:(f=t.to_account)==null?void 0:f.name})]})]})]}),h.jsx("span",{className:"line-clamp-1 text-xs",children:t.description})]})]}),h.jsx(Gn,{options:[{icon:"lucide:pencil",label:"Edit",onClick:()=>{n(t),r("/transaction/create")}},{icon:"lucide:trash",label:"Delete",onClick:o}]})]})]})},sC=()=>h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between border-b-2 border-b-primary",children:[h.jsx("span",{className:"text-sm xs:text-base",children:h.jsx(ve,{children:"Wed, Sep 20, 2022"})}),h.jsx("span",{className:"dai-badge dai-badge-error dai-skeleton dai-badge-sm text-transparent",children:Tt(1e4)})]}),h.jsx("div",{className:"flex flex-col gap-1",children:Array.from({length:3}).map((t,e)=>h.jsx(iC,{},e))})]}),iC=()=>h.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-base-100 px-3 py-2 shadow",children:[h.jsx(ve,{children:h.jsx("div",{className:"size-9 xs:size-12"})}),h.jsxs("div",{className:"flex w-full items-center justify-between",children:[h.jsxs("div",{className:"flex w-full flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(ve,{children:h.jsx("span",{className:"text-sm font-medium xs:text-base",children:"Transportation"})}),h.jsx(ve,{children:h.jsx("span",{className:"text-nowrap text-sm font-medium xs:text-base",children:Tt(1e5)})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"flex flex-wrap items-center gap-0.5",children:h.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[h.jsx(ve,{children:h.jsx("div",{className:"size-3 xs:size-4"})}),h.jsx(ve,{children:h.jsx("span",{children:"Shopee Pay"})})]})}),h.jsx(ve,{children:h.jsx("span",{className:"line-clamp-1 text-xs",children:"Lorem, ipsum."})})]})]}),h.jsx(ve,{children:h.jsx(Gn,{options:[]})})]})]}),oC=({children:t,onInvisible:e,onVisible:n,offset:r=0})=>{const s=b.useRef(null),[i,o]=b.useState(!1);return b.useEffect(()=>{if(i){n==null||n();return}e==null||e()},[i]),b.useEffect(()=>{if(!s.current)return;let a;function l(){const c=s.current;if(!c)return;const u=c.getBoundingClientRect(),d=Math.max(document.documentElement.clientHeight,window.innerHeight)-r,f=!(u.bottom<0||u.top-d>=0);f!==a&&o(f),a=f}return l(),window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[s,r]),h.jsx("div",{ref:s,children:t})},Kx=()=>{const[,t]=Z(kn),[e]=Z(Lt),[n]=Yc(),[r,s]=b.useState(n.get("account")),[i,o]=b.useState(n.get("category")),[a,l]=b.useState(void 0),[c,u]=b.useState([]),[d,f]=b.useState(!1),[g,v]=b.useState(!1),[m,x]=b.useState(!0),p=b.useMemo(()=>{var w;return r?(w=c.find(k=>k.account_id===r))==null?void 0:w.account:null},[r,c]),y=b.useMemo(()=>{var w;return i?(w=c.find(k=>k.category_id===i))==null?void 0:w.category:null},[i,c]),_=b.useMemo(()=>c.reduce((w,k)=>{const j=gt(k.occurred_at,{format:"yyyy-MM-dd"});return w[j]||(w[j]=[]),w[j].push(k),w},{}),[c]);return b.useEffect(()=>{x(!0),v(!1),u([]),l(void 0),s(n.get("account")),o(n.get("category"))},[n]),b.useEffect(()=>{var w;t({revealer:!0,back:!!p||!!y,title:((w=p||y)==null?void 0:w.name)??h.jsx("img",{className:"size-8",src:Tr.BASE_URL+"/icons/icon-192x192.png"}),actions:[h.jsx(Of,{to:`/transaction/create?${n.toString()}`,className:"dai-btn dai-btn-success dai-btn-xs ml-2 xs:dai-btn-sm",children:"Create"})]})},[p,y]),b.useEffect(()=>{e!=null&&e.user.id&&(async()=>{f(!0);const{data:w,error:k}=await gc.getTransactions(e.user.id,{cursor:a,account:r,category:i});if(f(!1),k){v(!1),Y.error(k.message);return}u([...c,...w??[]]),x(!1),v(((w==null?void 0:w.length)??0)>=Hx[0])})()},[a,r,e,i]),h.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-2",children:[h.jsx("div",{className:"flex flex-col gap-4",children:d&&m?Array.from({length:4}).map((w,k)=>h.jsx(sC,{},k)):c.length===0?h.jsx("p",{className:"text-center text-xl",children:"No transactions found"}):Object.keys(_).sort((w,k)=>w>k?-1:1).map((w,k)=>h.jsx(nC,{date:w,transactions:_[w],onDeleted:j=>{u(C=>C.filter(S=>S.id!==j))}},k))}),!m&&g&&!d?h.jsx(oC,{onVisible:()=>{var w;return l((w=c[c.length-1])==null?void 0:w.occurred_at)},children:h.jsx("span",{className:"invisible flex justify-center",children:h.jsx("span",{className:"dai-loading dai-loading-dots dai-loading-sm text-primary"})})}):h.jsx("span",{className:"flex justify-center "+(d&&!m?"visible":"invisible"),children:h.jsx("span",{className:"dai-loading dai-loading-dots dai-loading-sm text-primary"})})]})},aC={xs:"dai-btn-xs",sm:"dai-btn-sm",md:"dai-btn-md",lg:"dai-btn-lg",wide:"dai-btn-wide",block:"dai-btn-block"},lC={xs:"dai-loading-xs",sm:"dai-loading-sm",md:"dai-loading-md",lg:"dai-loading-lg",wide:"dai-loading-md",block:"dai-loading-md"},su=({children:t,loading:e,className:n,disabled:r,size:s="md",disableWhileLoading:i=!0,...o})=>{const a=b.useMemo(()=>aC[s],[s]),l=b.useMemo(()=>lC[s],[s]);return h.jsxs("button",{disabled:r||i&&e,className:`dai-btn relative grid place-items-center ${n} ${a}`,...o,children:[h.jsx("span",{className:`${e?"opacity-0":""}`,children:t}),e&&h.jsx("span",{className:`dai-loading dai-loading-spinner absolute ${l}`})]})};class bo extends _a{static async getCategories(e){return this.db.from("category").select("*").eq("user_id",e).order("name",{ascending:!0})}static async getCategory(e){return this.db.from("category").select().eq("id",e).single()}static async createCategory(e){return this.db.from("category").insert(e).select().single()}static async updateCategory(e,n){return this.db.from("category").update(n).eq("id",e).select().single()}static async deleteCategory(e){return await this.db.from("category").delete().eq("id",e)}}const Xs=gn(),ii=Ne({loading:!1,fetched:!1,data:[]});async function cC(){var e;Xs.set(ii,n=>({...n,loading:!0,fetched:!1}));const t=await bo.getCategories(((e=Xs.get(Lt))==null?void 0:e.user.id)??"");if(t.error)return Xs.set(ii,n=>({...n,loading:!1})),t.error.message;Xs.set(ii,{loading:!1,fetched:!0,data:t.data??[]})}function uC(t){const e=Xs.get(ii);e.fetched&&Xs.set(ii,{...e,data:typeof t=="function"?t(e.data):t})}const dC=Ne(t=>({refresh:cC,setData:uC,...t(ii)})),iu=()=>{const[t]=Z(dC);return t},$f=({open:t,children:e,text:n})=>{const r=b.useRef(null),s=b.useRef(void 0),[i,o]=b.useState(!1),[a,l]=b.useState(!1),c=b.useMemo(()=>t||i||a,[t,i,a]);b.useEffect(()=>{if(!r.current)return;const d=()=>o(!0),f=()=>o(!1),g=()=>l(!0),v=()=>l(!1);return r.current.addEventListener("mouseenter",d),r.current.addEventListener("mouseleave",f),r.current.addEventListener("focus",g),r.current.addEventListener("blur",v),()=>{var m,x,p,y;(m=r.current)==null||m.removeEventListener("mouseenter",d),(x=r.current)==null||x.removeEventListener("mouseleave",f),(p=r.current)==null||p.removeEventListener("focus",g),(y=r.current)==null||y.removeEventListener("blur",v)}},[r.current]),b.useEffect(()=>()=>{var d;(d=s.current)==null||d.remove()},[]),b.useEffect(()=>{s.current&&(s.current.innerText=n)},[n,s.current]),b.useEffect(()=>{var v;if((v=s.current)==null||v.remove(),s.current=void 0,!c||!r.current)return;const d=document.createElement("div"),{top:f,left:g}=u(r.current);d.style.top=`${f}px`,d.style.left=`${g}px`,d.className="tooltip",d.innerText=n,document.body.appendChild(d),s.current=d},[c,r.current]);const u=d=>{const f=d.getBoundingClientRect();return{top:f.top,left:f.left+f.width/2}};return e(r)},hC=()=>{var ne,A,F;const[,t]=Z(kn),[e]=Z(Lt),n=Rt(),[r]=Yc(),{setData:s}=ea(),[i,o]=Z(qx),{fetched:a,refresh:l,data:c}=ea(),{fetched:u,refresh:d,data:f}=iu(),[g,v]=b.useState((i==null?void 0:i.type)??"expense"),[m,x]=b.useState((i==null?void 0:i.amount.toString())??""),[p,y]=b.useState((i==null?void 0:i.description)??""),[_,w]=b.useState(gt((i==null?void 0:i.occurred_at)??new Date,{format:"yyyy-MM-dd HH:mm"})),[k,j]=b.useState(((ne=i==null?void 0:i.category)==null?void 0:ne.id)??""),[C,S]=b.useState(((A=i==null?void 0:i.account)==null?void 0:A.id)||r.get("account")||""),[M,L]=b.useState(((F=i==null?void 0:i.to_account)==null?void 0:F.id)??""),[N,R]=b.useState(!1),K=b.useMemo(()=>{var O;return!m||!C||isNaN(parseFloat(m))||g==="transfer"&&!M||g!=="transfer"&&!k||g!=="transfer"&&((O=f.find(U=>U.id===k))==null?void 0:O.type)!==g},[m,C,k,M,g,f]),X=b.useMemo(()=>c.map(O=>({label:O.name,value:O.id})),[c]),Q=b.useMemo(()=>f.filter(O=>O.type===g).map(O=>({label:O.name,value:O.id})),[f,g]);b.useEffect(()=>(t({title:i?"Edit Transaction":"Create Transaction",back:!0}),()=>{o(void 0)}),[i]),b.useEffect(()=>{a||(async()=>{const O=await l();O&&Y.error(O)})()},[]),b.useEffect(()=>{u||(async()=>{const O=await d();O&&Y.error(O)})()},[]);const te=async()=>{R(!0);let O;if(i?O=await gc.update(i.id,{type:g,occurred_at:gt(_,{format:"yyyy-MM-dd HH:mm",timeZone:"UTC"}),description:p,amount:parseFloat(m),account_id:C,category_id:k||null,to_account_id:M||null}):O=await gc.create({type:g,occurred_at:gt(_,{format:"yyyy-MM-dd HH:mm",timeZone:"UTC"}),description:p,amount:parseFloat(m),account_id:C,category_id:k||null,to_account_id:M||null,user_id:e.user.id}),R(!1),O.error){Y.error(O.error.message);return}s(U=>{const J=U.find(se=>se.id===C);if(!J)return U;if(i){if(parseFloat(m)===i.amount)return U;if((g==="expense"||g==="transfer")&&(J.balance-=parseFloat(m)-i.amount),g==="income"&&(J.balance+=parseFloat(m)-i.amount),g==="transfer"){const se=U.find(ae=>ae.id===M);if(!se)return U;se.balance+=parseFloat(m)-i.amount}return[...U]}if((g==="expense"||g==="transfer")&&(J.balance-=parseFloat(m)),g==="income"&&(J.balance+=parseFloat(m)),g==="transfer"){const se=U.find(ae=>ae.id===M);if(!se)return U;se.balance+=parseFloat(m)}return[...U]}),n(-1)};return h.jsx("div",{className:"flex flex-1 flex-col gap-4 p-2",children:h.jsxs("form",{onSubmit:O=>{O.preventDefault(),te()},className:"grid grid-cols-2 gap-2",children:[h.jsx("div",{role:"tablist",className:"dai-tabs-boxed dai-tabs col-span-full bg-base-100",children:["expense","income","transfer"].map((O,U)=>h.jsx("button",{type:"button",role:"tab",disabled:!!i&&O!==i.type,onClick:()=>{j(""),v(O)},className:"dai-tab capitalize "+(O===g?"dai-tab-active":""),children:O},U))}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Amount"})}),h.jsx($f,{open:!!m,text:Tt(isNaN(parseFloat(m))?0:parseFloat(m)),children:O=>h.jsx("input",{ref:O,value:m,onChange:U=>x(U.target.value),type:"number",placeholder:"Amount",className:"dai-input dai-input-bordered"})})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Date"})}),h.jsx("input",{value:_,onChange:O=>w(O.target.value),type:"datetime-local",placeholder:"Date",className:"dai-input dai-input-bordered w-full"})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Account"})}),h.jsxs("select",{value:C,disabled:!!i||!!r.get("account")&&g!=="transfer"&&C===r.get("account"),onChange:O=>S(O.target.value),className:"dai-select dai-select-bordered w-full "+(C?"":"text-base-content/40"),children:[h.jsx("option",{value:"",children:"Select account"}),X.map((O,U)=>h.jsx("option",{value:O.value,children:O.label},U))]})]}),g==="transfer"&&h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"To Account"})}),h.jsxs("select",{value:M,disabled:!!i,onChange:O=>L(O.target.value),className:"dai-select dai-select-bordered w-full "+(M?"":"text-base-content/40"),children:[h.jsx("option",{value:"",children:"Select account"}),X.map((O,U)=>h.jsx("option",{value:O.value,children:O.label},U))]})]}),g!=="transfer"&&h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Category"})}),h.jsxs("select",{value:k,onChange:O=>j(O.target.value),className:"dai-select dai-select-bordered w-full "+(k?"":"text-base-content/40"),children:[h.jsx("option",{value:"",children:"Select category"}),Q.map((O,U)=>h.jsx("option",{value:O.value,children:O.label},U))]})]}),h.jsxs("label",{className:"dai-form-control col-span-full",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"dai-label-text",children:"Description"})}),h.jsx("textarea",{value:p,onChange:O=>y(O.target.value),className:"dai-textarea dai-textarea-bordered h-24",placeholder:"Description"})]}),h.jsx("div",{className:"col-span-full flex justify-end pt-4",children:h.jsx(su,{disabled:K,loading:N,className:"dai-btn-primary",children:"Submit"})})]})})},qx=Ne(),fC=()=>h.jsxs(Ei,{children:[h.jsx(Ge,{path:"/",element:h.jsx(Kx,{})}),h.jsx(Ge,{path:"/create",element:h.jsx(hC,{})})]});function xh(t){const[e,n]=b.useState(t),r=b.useRef(t);return r.current=e,[e,n,r]}const Xx=({onClose:t,desktopOption:e})=>{const n=b.useMemo(()=>6,[]),r=b.useRef([]),[s,i,o]=xh([]),[a,l,c]=xh(!1),u=b.useRef(!0),d=b.useMemo(()=>s.length<n||s.findIndex(m=>!m)!==-1,[s,n]);b.useEffect(()=>{var m;(m=r.current[0])==null||m.focus()},[r.current]),b.useEffect(()=>()=>t(u.current?"":o.current.join(""),c.current),[]);const f=(m,x)=>{if(!/^[0-9]{1}$/.test(m.key)&&m.key!=="Backspace"&&m.key!=="Delete"&&m.key!=="Tab"&&!m.metaKey&&m.key!=="Enter"&&!((m.key==="v"||m.key==="V")&&m.ctrlKey)&&m.preventDefault(),m.key==="Delete"||m.key==="Backspace"){const p=r.current;x>0&&setTimeout(()=>p[x-1].focus())}},g=m=>{!r.current[m].value||m>=r.current.length-1||r.current[m+1].focus()},v=m=>{var y;m.preventDefault();const x=((y=m.clipboardData)==null?void 0:y.getData("text"))??"";if(!new RegExp(`^[0-9]{${r.current.length}}$`).test(x))return;const p=x.split("");i(p),r.current[r.current.length-1].focus()};return h.jsxs("form",{onSubmit:m=>{m.preventDefault(),u.current=!1,xi()},className:"flex flex-col items-center gap-8 rounded-xl border border-base-300 bg-base-100 px-8 py-12 shadow-md",children:[h.jsxs("header",{className:"text-center",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"PIN Verification"}),h.jsxs("p",{className:"text-sm text-base-content/50",children:["Enter the ",n,"-digit PIN code."]})]}),h.jsx("div",{className:"flex items-center justify-center gap-3",children:Array.from({length:n}).map((m,x)=>h.jsx("input",{type:"password",inputMode:"numeric",value:s[x]??"",onChange:p=>i(y=>(y[x]=p.target.value,[...y])),ref:p=>r.current[x]=p,onKeyDown:p=>f(p,x),onInput:()=>g(x),onFocus:p=>p.target.select(),onPaste:p=>v(p),className:"dai-input dai-input-bordered size-9 p-1 text-center text-lg font-medium sm:size-14 sm:text-2xl",pattern:"\\d*",maxLength:1},x))}),h.jsxs("div",{className:"flex w-full flex-col items-center gap-2",children:[h.jsx("button",{type:"submit",disabled:d,className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide sm:dai-btn-md",children:"Submit"}),e&&h.jsxs("label",{className:"dai-label cursor-pointer gap-2",children:[h.jsx("input",{type:"checkbox",checked:a,onChange:m=>l(m.target.checked),className:"dai-checkbox-primary dai-checkbox dai-checkbox-sm"}),h.jsx("span",{className:"dai-label-text",children:"Desktop Only"})]})]})]})};async function Gx(t,e){const n=e+t,s=new TextEncoder().encode(n);try{const i=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(i)).map(o=>o.toString(16).padStart(2,"0")).join("")}catch{return""}}function pC(t=16){const e=new Uint8Array(t);return crypto.getRandomValues(e),Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")}function gC(t){const e=["th","st","nd","rd"],n=t%100,r=n>=11&&n<=13?e[0]:e[t%10]||e[0];return t+r}const _h=async()=>{if(!await wa({body:"Are you sure want to logout?",title:"Logout",okText:"Logout"}))return;je(!0);const{error:e}=await Ut.auth.signOut();je(!1),console.error(e);const n=Bx(Tr.SUPABASE_PROJECT_URL,"https://").split(".")[0];localStorage.removeItem(`sb-${n}-auth-token`),window.location.href=Tr.BASE_URL+"/login"};class Xr extends _a{static async getSetting(e){return this.db.from("settings").select().eq("user_id",e).single()}static async update(e,n,r){return this.db.from("settings").update({[n]:r}).eq("id",e)}}const mC={light:{primary:"#007bff","primary-content":"#eddaff",secondary:"#007985","secondary-content":"#d3e3e6",accent:"#d20000","accent-content":"#fdd6d0",neutral:"#170600","neutral-content":"#cbc6c3","base-100":"#fff9d6","base-200":"#ded9ba","base-300":"#beb99e","base-content":"#161510",info:"#00f9ff","info-content":"#001516",success:"#00c270","success-content":"#000e04",warning:"#fda200","warning-content":"#160a00",error:"#ff878e","error-content":"#160607"},dark:{primary:"#22d3ee","primary-content":"#001014",secondary:"#007985","secondary-content":"#d3e3e6",accent:"#00df00","accent-content":"#001200",neutral:"#001004","neutral-content":"#c4c9c5","base-100":"#1e2c2f","base-200":"#192527","base-300":"#131e20","base-content":"#cdd0d1",info:"#00dfff","info-content":"#001216",success:"#00d6af","success-content":"#00100b",warning:"#b86900","warning-content":"#0c0400",error:"#ff878e","error-content":"#160607"}};function yC(t,e){let n;n=e;const s=Ne((()=>{const o=localStorage.getItem(t);if(o==null)return n;try{return typeof n=="string"?o:JSON.parse(o)}catch{return n}})());return Ne(o=>o(s),(o,a,l)=>{const c=typeof l=="function"?l(o(s)):l;a(s,c);try{localStorage.setItem(t,typeof c=="string"?c:JSON.stringify(c))}catch(u){console.error(u)}})}const Jx=yC("dark",!1),Qx=Ne(t=>t(Jx)?"dark":"light"),Zx=Ne(t=>mC[t(Qx)]),vC=()=>{var w,k;const[,t]=Z(kn),[e]=Z(Lt),[n,r]=Z(Jx),[s,i]=Z($t),[,o]=Z(zf),[a,l]=b.useState(!1),[c,u]=b.useState(((w=s==null?void 0:s.max_visible_amount)==null?void 0:w.toString())??""),[d,f]=b.useState(!1),[g,v]=b.useState(((k=s==null?void 0:s.month_end_date)==null?void 0:k.toString())??"");b.useEffect(()=>{t({title:"Settings"})},[]);const m=async()=>{const j=!(s!=null&&s.hide_amount);je(!0);const C=await Xr.update(s.id,"hide_amount",j);if(je(!1),C.error){Y.error(C.error.message);return}i({...s,hide_amount:j})},x=async()=>{if(!a){l(!0);return}je(!0);const j=await Xr.update(s.id,"max_visible_amount",parseFloat(c));if(je(!1),j.error){Y.error(j.error.message);return}i({...s,max_visible_amount:parseFloat(c)}),l(!1)},p=async()=>{if(!d){f(!0);return}const j=g?parseInt(g):null;je(!0);const C=await Xr.update(s.id,"month_end_date",j);if(je(!1),C.error){Y.error(C.error.message);return}i({...s,month_end_date:j}),f(!1)},y=async(j,C)=>{if(!j)return;je(!0);const S=pC(),M=S+(e==null?void 0:e.user.id),L=await Gx(j,M);if(!L){je(!1),Y.error("Failed to generate hash");return}const N=await Xr.update(s.id,"pin_desktop_only",C??!1);if(N.error){je(!1),Y.error(N.error.message);return}const{error:R}=await Xr.update(s.id,"pin",L+":"+S);if(je(!1),R){Y.error(R.message);return}o(!0),i({...s,pin:L+":"+S,pin_desktop_only:C??!1})},_=async()=>{if(!await wa({title:"Disable PIN?",body:"Are you sure you want to disable PIN?"}))return;je(!0);const{error:C}=await Xr.update(s.id,"pin",null);if(je(!1),C){Y.error(C.message);return}i({...s,pin:null})};return h.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-2",children:[h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 p-4",children:[h.jsx("img",{src:Tr.BASE_URL+"/icons/icon-192x192.png",className:"size-16",alt:""}),h.jsx("div",{className:"flex flex-col gap-0.5",children:h.jsx("span",{children:e==null?void 0:e.user.email})})]}),h.jsxs("div",{className:"flex flex-col gap-4 text-sm",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"font-medium",children:"Security"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:keyboard"}),h.jsx("span",{children:"PIN"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[(s==null?void 0:s.pin)&&s.pin_desktop_only&&h.jsx(we,{className:"text-accent",icon:"lucide:app-window"}),(s==null?void 0:s.pin)&&h.jsx("span",{className:"dai-badge dai-badge-success dai-badge-sm",children:"Enabled"}),(s==null?void 0:s.pin)&&h.jsx("div",{className:"h-5 w-[1px] bg-base-300"}),h.jsx("button",{onClick:()=>{nu(Xx,{onClose:y,desktopOption:!0})},children:h.jsx(we,{icon:"lucide:pencil"})}),(s==null?void 0:s.pin)&&h.jsx("button",{onClick:_,className:"text-error",children:h.jsx(we,{icon:"lucide:x-circle"})})]})]}),h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:eye-off"}),h.jsx("span",{children:"Hide Amount"})]}),h.jsx("input",{type:"checkbox",checked:!!(s!=null&&s.hide_amount),onChange:m,className:"dai-toggle dai-toggle-success dai-toggle-sm"})]}),h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:eye"}),h.jsx("span",{children:"Max amount always visible"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[a?h.jsx($f,{open:!!c,text:Tt(isNaN(parseFloat(c))?0:parseFloat(c)),children:j=>h.jsx("input",{ref:j,min:0,type:"number",value:c,onChange:C=>u(C.target.value),className:"dai-input dai-input-xs dai-input-bordered max-w-24 text-end"})}):h.jsx("span",{children:Tt((s==null?void 0:s.max_visible_amount)??0)}),h.jsx("button",{disabled:a&&(!c||isNaN(parseFloat(c))||parseFloat(c)<0),onClick:x,className:"disabled:opacity-20",children:a?h.jsx(we,{icon:"lucide:check"}):h.jsx(we,{icon:"lucide:pencil"})})]})]})]})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"font-medium",children:"Report"}),h.jsx("div",{className:"flex flex-col gap-2",children:h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:calendar-days"}),h.jsx("span",{children:"End of month"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[d?h.jsx("input",{min:0,type:"number",value:g,onChange:j=>v(j.target.value),className:"dai-input dai-input-xs dai-input-bordered max-w-24 text-end"}):h.jsx("span",{children:s!=null&&s.month_end_date?gC(s.month_end_date):""}),h.jsx("button",{disabled:d&&!!g&&(isNaN(parseFloat(g))||parseFloat(g)<2),onClick:p,className:"disabled:opacity-20",children:d?h.jsx(we,{icon:"lucide:check"}):h.jsx(we,{icon:"lucide:pencil"})})]})]})})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"font-medium",children:"Settings"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:moon"}),h.jsx("span",{children:"Dark Mode"})]}),h.jsx("input",{type:"checkbox",checked:n,onChange:j=>r(j.target.checked),className:"dai-toggle dai-toggle-success dai-toggle-sm"})]}),h.jsx("button",{onClick:_h,className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:log-out"}),h.jsx("span",{children:"Logout"})]})})]})]})]})]})},xC=({account:t,onDeleted:e})=>{const n=Rt(),r=async()=>{if(!await wa({title:"Delete Account",body:"Are you sure you want to delete this account?"}))return;je(!0);const{error:i}=await wo.deleteAccount(t.id);if(je(!1),i){Y.error(i.message);return}e(t.id)};return h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md hover:cursor-pointer",children:[h.jsx("img",{onClick:()=>n(`/accounts/transaction?account=${t.id}`),src:yc+"/"+t.logo,className:"size-9 xs:size-12"}),h.jsxs("div",{className:"flex flex-1 flex-col gap-0.5",children:[h.jsx("p",{className:"text-sm xs:text-base",children:t.name}),h.jsx("div",{className:"flex items-center gap-2 text-xs xs:text-sm",children:h.jsx("span",{className:"font-semibold "+(t.balance<0?"text-error":"text-success"),children:h.jsx(hn,{amount:t.balance})})})]}),h.jsx(Gn,{options:[{icon:"lucide:pencil",label:"Edit",onClick:()=>n(`/accounts/${t.id}`)},{icon:"lucide:trash",label:"Delete",onClick:r}]})]})},_C=()=>h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md",children:[h.jsx(ve,{children:h.jsx("div",{className:"size-9 rounded-full bg-accent xs:size-12"})}),h.jsxs("div",{className:"flex flex-1 flex-col gap-0.5",children:[h.jsx(ve,{children:h.jsx("p",{className:"text-sm xs:text-base",children:"Gopay"})}),h.jsx(ve,{children:h.jsxs("div",{className:"flex items-center gap-2 text-xs xs:text-sm",children:[h.jsx("p",{children:"Balance: "}),h.jsx("p",{className:"font-bold",children:Tt(1e7)})]})})]}),h.jsx(ve,{children:h.jsx(Gn,{options:[]})})]}),wC=()=>{const[,t]=Z(kn),e=Rt(),{data:n,setData:r,loading:s,fetched:i,refresh:o}=ea(),a=b.useMemo(()=>n.reduce((l,c)=>l+c.balance,0),[n]);return b.useEffect(()=>{t({title:"Accounts",revealer:!0,actions:[h.jsx("button",{onClick:()=>e("/accounts/new"),className:"dai-btn dai-btn-success dai-btn-xs ml-2 xs:dai-btn-sm",children:"Create"})]})},[]),b.useEffect(()=>{i||(async()=>{const l=await o();l&&Y.error(l)})()},[]),h.jsxs("div",{className:"flex flex-1 flex-col gap-2 p-2",children:[h.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-xl bg-base-100 px-3 py-2 text-sm font-semibold xs:text-base",children:[h.jsx("span",{children:s?h.jsx(ve,{children:"Total"}):"Total"}),h.jsx("span",{className:"text-success",children:s?h.jsx(ve,{children:Tt(1e7)}):h.jsx(hn,{amount:a})})]}),h.jsx("div",{className:"grid grid-cols-1 gap-2",children:s?Array.from({length:10}).map((l,c)=>h.jsx(_C,{},c)):n.length===0?h.jsx("p",{className:"text-center",children:"No accounts found"}):n.map(l=>h.jsx(xC,{account:l,onDeleted:c=>{r(u=>u.filter(d=>d.id!==c))}},l.id))})]})},ko=gn(),oi=Ne({loading:!1,fetched:!1,data:[]});async function bC(){ko.set(oi,e=>({...e,loading:!0,fetched:!1}));const t=await Ut.storage.from("images").list("accounts");if(t.error)return ko.set(oi,e=>({...e,loading:!1})),t.error.message;ko.set(oi,{loading:!1,fetched:!0,data:(t.data??[]).map(e=>e.name)})}function kC(t){const e=ko.get(oi);e.fetched&&ko.set(oi,{...e,data:typeof t=="function"?t(e.data):t})}const SC=Ne(t=>({refresh:bC,setData:kC,...t(oi)})),jC=()=>{const[t]=Z(SC);return t},fm=({})=>{const[,t]=Z(kn),[e]=Z(Lt),{id:n}=Zv(),r=Rt(),{setData:s,fetched:i}=ea(),{data:o,refresh:a,loading:l,fetched:c}=jC(),[u,d]=b.useState(),[f,g]=b.useState(!1),[v,m]=b.useState(""),[x,p]=b.useState(""),[y,_]=b.useState(0),w=b.useMemo(()=>!v||!x||isNaN(parseFloat(x)),[v,x]);b.useEffect(()=>{t({title:n?"Update Account":"Create Account",back:!0}),!c&&(async()=>{const j=await a();if(j)return Y.error(j)})()},[]),b.useEffect(()=>{n&&(async()=>{je(!0);const{data:j,error:C}=await wo.getAccount(n);if(je(!1),j)return d(j);Y.error(!j||!C?"Account not found":C.message),r("/accounts",{replace:!0})})()},[]),b.useEffect(()=>{c&&_(u!=null&&u.logo?o.indexOf(u.logo):0)},[c,u,o]),b.useEffect(()=>{u&&(m(u.name),p(u.initial_balance.toString()))},[u]);const k=async()=>{g(!0);let j;if(n&&u?(j=await wo.updateAccount(n,{name:v,initial_balance:parseFloat(x),logo:o[y]}),j.data&&(j.data.balance+=parseFloat(x)-u.initial_balance)):(j=await wo.createAccount({name:v,initial_balance:parseFloat(x),logo:o[y],user_id:e.user.id}),j.data&&(j.data.balance=parseFloat(x))),g(!1),j.error||!j.data){Y.error(!j.data||!j.error?"Something went wrong":j.error.message);return}i&&s(C=>n?C.map(S=>S.id===n?j.data:S):[j.data,...C]),r("/accounts",{replace:!0})};return h.jsx("div",{className:"flex flex-1 flex-col gap-4 p-2",children:h.jsxs("form",{onSubmit:j=>{j.preventDefault(),k()},className:"grid grid-cols-1 gap-2",children:[h.jsxs("label",{className:"dai-form-control w-full",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Name"})}),h.jsx("input",{value:v,onChange:j=>m(j.target.value),type:"text",placeholder:"Account Name",className:"dai-input dai-input-bordered"})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Initial Balance"})}),h.jsx($f,{open:!!x,text:Tt(isNaN(parseFloat(x))?0:parseFloat(x)),children:j=>h.jsx("input",{ref:j,value:x,onChange:C=>p(C.target.value),type:"number",placeholder:"Initial Balance",className:"dai-input dai-input-bordered"})})]}),h.jsxs("div",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Logo"})}),h.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2",children:l?Array.from({length:10}).map((j,C)=>h.jsx("button",{type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 outline-transparent",children:h.jsx("div",{className:"dai-skeleton size-12 rounded-lg"})},C)):o.length===0?h.jsx("div",{}):o.map((j,C)=>h.jsx("button",{onClick:()=>_(C),type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 "+(C===y?"outline-primary":"outline-transparent"),children:h.jsx("img",{className:"size-12 rounded-lg",src:yc+"/"+j,alt:""},C)},C))})]}),h.jsx("div",{className:"flex justify-end pt-2",children:h.jsx(su,{size:"sm",disabled:w,loading:f,type:"submit",className:"dai-btn-primary",children:"Submit"})})]})})},EC=()=>h.jsxs(Ei,{children:[h.jsx(Ge,{path:"/",element:h.jsx(wC,{})}),h.jsx(Ge,{path:"/transaction",element:h.jsx(Kx,{})}),h.jsx(Ge,{path:"/new",element:h.jsx(fm,{})}),h.jsx(Ge,{path:"/:id",element:h.jsx(fm,{})})]}),il=gn();class Fn extends _a{static getDateRanges(e,n,r){if(!n)return{start:new Date(0),end:new Date(new Date().getFullYear(),new Date().getMonth()+1,1)};const s=new Date(n.getFullYear(),n.getMonth(),1),i=new Date((r==null?void 0:r.getFullYear())??n.getFullYear(),((r==null?void 0:r.getMonth())??n.getMonth())+1,1),o=il.get($t);return e&&(o!=null&&o.month_end_date)&&(s.setMonth(s.getMonth()-1),s.setDate(o.month_end_date+1),i.setMonth(i.getMonth()-1),i.setDate(o.month_end_date+1)),{start:s,end:i}}static async getExpenseOverview(e,n){const{start:r,end:s}=this.getDateRanges(!0,n),{data:i,error:o}=await this.db.from("transaction").select("amount:amount.sum(), category(id, name, logo)").eq("user_id",e).eq("type","expense").gte("occurred_at",gt(r,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})).lt("occurred_at",gt(s,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})),a=i;return a.sort((l,c)=>c.amount-l.amount),{error:o,data:a}}static async getIncomeTotal(e,n){const{start:r,end:s}=this.getDateRanges(!0,n),{data:i,error:o}=await this.db.from("transaction").select("amount:amount.sum()").eq("user_id",e).eq("type","income").gte("occurred_at",gt(r,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})).lt("occurred_at",gt(s,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})).single(),a=i;return{error:o,data:(a==null?void 0:a.amount)??0}}static async getCashFlowEveryMonth({userId:e,trx_type:n,year:r,yearEnd:s,categories:i}){var d;const o=new Date(s??r+1,0);o.setDate(o.getDate()-1);const{start:a,end:l}=this.getDateRanges(!1,new Date(r,0),o);l.setDate(l.getDate()-1);const{data:c,error:u}=await Ut.rpc("get_transaction_flow",{trx_type:n,day_flow:!1,month_end_date:((d=il.get($t))==null?void 0:d.month_end_date)??0,trx_user_id:e,categories:i,time_zone:yo,end_str:gt(l,{format:"yyyy-MM"}),start_str:gt(a,{format:"yyyy-MM"})});return{data:c,error:u}}static async getCashFlowEveryDay({userId:e,trx_type:n,month:r,monthEnd:s,categories:i}){var u;const{start:o,end:a}=this.getDateRanges(!0,r,s);a.setDate(a.getDate()-1);const{data:l,error:c}=await Ut.rpc("get_transaction_flow",{day_flow:!0,month_end_date:((u=il.get($t))==null?void 0:u.month_end_date)??0,trx_type:n,trx_user_id:e,categories:i,time_zone:yo,end_str:gt(a,{format:"yyyy-MM-dd"}),start_str:gt(o,{format:"yyyy-MM-dd"})});return{data:l,error:c}}static async getCurrentBalanceAt(e){var s;const{data:n,error:r}=await Ut.rpc("get_current_balance_at",{trx_user_id:e.userId,day_flow:!0,end_str:gt(e.lastDate,{format:"yyyy-MM-dd"}),month_end_date:((s=il.get($t))==null?void 0:s.month_end_date)??0,time_zone:yo});return{data:n,error:r}}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ba(t){return t+.5|0}const mr=(t,e,n)=>Math.max(Math.min(t,n),e);function no(t){return mr(ba(t*2.55),0,255)}function Cr(t){return mr(ba(t*255),0,255)}function Nn(t){return mr(ba(t/2.55)/100,0,1)}function pm(t){return mr(ba(t*100),0,100)}const Yt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wh=[..."0123456789ABCDEF"],CC=t=>wh[t&15],PC=t=>wh[(t&240)>>4]+wh[t&15],ol=t=>(t&240)>>4===(t&15),MC=t=>ol(t.r)&&ol(t.g)&&ol(t.b)&&ol(t.a);function TC(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Yt[t[1]]*17,g:255&Yt[t[2]]*17,b:255&Yt[t[3]]*17,a:e===5?Yt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Yt[t[1]]<<4|Yt[t[2]],g:Yt[t[3]]<<4|Yt[t[4]],b:Yt[t[5]]<<4|Yt[t[6]],a:e===9?Yt[t[7]]<<4|Yt[t[8]]:255})),n}const RC=(t,e)=>t<255?e(t):"";function LC(t){var e=MC(t)?CC:PC;return t?"#"+e(t.r)+e(t.g)+e(t.b)+RC(t.a,e):void 0}const OC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function e1(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function DC(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function NC(t,e,n){const r=e1(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function AC(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function Bf(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,c,u;return i!==o&&(u=i-o,c=a>.5?u/(2-i-o):u/(i+o),l=AC(n,r,s,u,i),l=l*60+.5),[l|0,c||0,a]}function Uf(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Cr)}function Hf(t,e,n){return Uf(e1,t,e,n)}function IC(t,e,n){return Uf(NC,t,e,n)}function FC(t,e,n){return Uf(DC,t,e,n)}function t1(t){return(t%360+360)%360}function zC(t){const e=OC.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?no(+e[5]):Cr(+e[5]));const s=t1(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=IC(s,i,o):e[1]==="hsv"?r=FC(s,i,o):r=Hf(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function $C(t,e){var n=Bf(t);n[0]=t1(n[0]+e),n=Hf(n),t.r=n[0],t.g=n[1],t.b=n[2]}function BC(t){if(!t)return;const e=Bf(t),n=e[0],r=pm(e[1]),s=pm(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Nn(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const gm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},mm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function UC(){const t={},e=Object.keys(mm),n=Object.keys(gm);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,gm[i]);i=parseInt(mm[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let al;function HC(t){al||(al=UC(),al.transparent=[0,0,0,0]);const e=al[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const WC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function VC(t){const e=WC.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?no(o):mr(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?no(r):mr(r,0,255)),s=255&(e[4]?no(s):mr(s,0,255)),i=255&(e[6]?no(i):mr(i,0,255)),{r,g:s,b:i,a:n}}}function YC(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Nn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Qu=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ls=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function KC(t,e,n){const r=Ls(Nn(t.r)),s=Ls(Nn(t.g)),i=Ls(Nn(t.b));return{r:Cr(Qu(r+n*(Ls(Nn(e.r))-r))),g:Cr(Qu(s+n*(Ls(Nn(e.g))-s))),b:Cr(Qu(i+n*(Ls(Nn(e.b))-i))),a:t.a+n*(e.a-t.a)}}function ll(t,e,n){if(t){let r=Bf(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Hf(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function n1(t,e){return t&&Object.assign(e||{},t)}function ym(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Cr(t[3]))):(e=n1(t,{r:0,g:0,b:0,a:1}),e.a=Cr(e.a)),e}function qC(t){return t.charAt(0)==="r"?VC(t):zC(t)}class ta{constructor(e){if(e instanceof ta)return e;const n=typeof e;let r;n==="object"?r=ym(e):n==="string"&&(r=TC(e)||HC(e)||qC(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=n1(this._rgb);return e&&(e.a=Nn(e.a)),e}set rgb(e){this._rgb=ym(e)}rgbString(){return this._valid?YC(this._rgb):void 0}hexString(){return this._valid?LC(this._rgb):void 0}hslString(){return this._valid?BC(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=KC(this._rgb,e._rgb,n)),this}clone(){return new ta(this.rgb)}alpha(e){return this._rgb.a=Cr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ba(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ll(this._rgb,2,e),this}darken(e){return ll(this._rgb,2,-e),this}saturate(e){return ll(this._rgb,1,e),this}desaturate(e){return ll(this._rgb,1,-e),this}rotate(e){return $C(this._rgb,e),this}}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Mn(){}const XC=(()=>{let t=0;return()=>t++})();function ze(t){return t===null||typeof t>"u"}function nt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function fe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ut(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Nt(t,e){return ut(t)?t:e}function xe(t,e){return typeof t>"u"?e:t}const GC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,r1=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ue(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ye(t,e,n,r){let s,i,o;if(nt(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(fe(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function vc(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function xc(t){if(nt(t))return t.map(xc);if(fe(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=xc(t[n[s]]);return e}return t}function s1(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function JC(t,e,n,r){if(!s1(t))return;const s=e[t],i=n[t];fe(s)&&fe(i)?na(s,i,r):e[t]=xc(i)}function na(t,e,n){const r=nt(e)?e:[e],s=r.length;if(!fe(t))return t;n=n||{};const i=n.merger||JC;let o;for(let a=0;a<s;++a){if(o=r[a],!fe(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)i(l[c],t,o,n)}return t}function So(t,e){return na(t,e,{merger:QC})}function QC(t,e,n){if(!s1(t))return;const r=e[t],s=n[t];fe(r)&&fe(s)?So(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=xc(s))}const vm={"":t=>t,x:t=>t.x,y:t=>t.y};function ZC(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function eP(t){const e=ZC(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function ra(t,e){return(vm[e]||(vm[e]=eP(e)))(t)}function Wf(t){return t.charAt(0).toUpperCase()+t.slice(1)}const _c=t=>typeof t<"u",Rr=t=>typeof t=="function",xm=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function tP(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const $e=Math.PI,We=2*$e,nP=We+$e,wc=Number.POSITIVE_INFINITY,rP=$e/180,Je=$e/2,Ur=$e/4,_m=$e*2/3,yr=Math.log10,_i=Math.sign;function jo(t,e,n){return Math.abs(t-e)<n}function wm(t){const e=Math.round(t);t=jo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(yr(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function sP(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function sa(t){return!isNaN(parseFloat(t))&&isFinite(t)}function iP(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function i1(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function zn(t){return t*($e/180)}function oP(t){return t*(180/$e)}function bm(t){if(!ut(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function o1(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*$e&&(i+=We),{angle:i,distance:s}}function bh(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function aP(t,e){return(t-e+nP)%We-$e}function ir(t){return(t%We+We)%We}function ia(t,e,n,r){const s=ir(t),i=ir(e),o=ir(n),a=ir(i-s),l=ir(o-s),c=ir(s-i),u=ir(s-o);return s===i||s===o||r&&i===o||a>l&&c<u}function yt(t,e,n){return Math.max(e,Math.min(n,t))}function lP(t){return yt(t,-32768,32767)}function a1(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Vf(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const ss=(t,e,n,r)=>Vf(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),cP=(t,e,n)=>Vf(t,n,r=>t[r][e]>=n);function uP(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const l1=["push","pop","shift","splice","unshift"];function dP(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),l1.forEach(n=>{const r="_onData"+Wf(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function km(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(l1.forEach(i=>{delete t[i]}),delete t._chartjs)}function hP(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const c1=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function u1(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,c1.call(window,()=>{r=!1,t.apply(e,n)}))}}function fP(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const d1=t=>t==="start"?"left":t==="end"?"right":"center",Eo=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2;function pP(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(s=yt(Math.min(ss(a,l,c).lo,n?r:ss(e,l,o.getPixelForValue(c)).lo),0,r-1)),f?i=yt(Math.max(ss(a,o.axis,u,!0).hi+1,n?0:ss(e,l,o.getPixelForValue(u),!0).hi+1),s,r)-s:i=r-s}return{start:s,count:i}}function gP(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const cl=t=>t===0||t===1,Sm=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*We/n)),jm=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*We/n)+1,Co={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Je)+1,easeOutSine:t=>Math.sin(t*Je),easeInOutSine:t=>-.5*(Math.cos($e*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>cl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>cl(t)?t:Sm(t,.075,.3),easeOutElastic:t=>cl(t)?t:jm(t,.075,.3),easeInOutElastic(t){return cl(t)?t:t<.5?.5*Sm(t*2,.1125,.45):.5+.5*jm(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Co.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Co.easeInBounce(t*2)*.5:Co.easeOutBounce(t*2-1)*.5+.5};function Yf(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Em(t){return Yf(t)?t:new ta(t)}function Zu(t){return Yf(t)?t:new ta(t).saturate(.5).darken(.1).hexString()}const mP=["x","y","borderWidth","radius","tension"],yP=["color","borderColor","backgroundColor"];function vP(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:yP},numbers:{type:"number",properties:mP}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function xP(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Cm=new Map;function _P(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Cm.get(n);return r||(r=new Intl.NumberFormat(t,e),Cm.set(n,r)),r}function ou(t,e,n){return _P(e,n).format(t)}const h1={values(t){return nt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=wP(t,n)}const o=yr(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ou(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(yr(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?h1.numeric.call(this,t,e,n):""}};function wP(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Kf={formatters:h1};function bP(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Kf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ys=Object.create(null),kh=Object.create(null);function Po(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function ed(t,e,n){return typeof e=="string"?na(Po(t,e),n):na(Po(t,""),e)}class kP{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Zu(s.backgroundColor),this.hoverBorderColor=(r,s)=>Zu(s.borderColor),this.hoverColor=(r,s)=>Zu(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ed(this,e,n)}get(e){return Po(this,e)}describe(e,n){return ed(kh,e,n)}override(e,n){return ed(ys,e,n)}route(e,n,r,s){const i=Po(this,e),o=Po(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return fe(l)?Object.assign({},c,l):xe(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ke=new kP({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[vP,xP,bP]);function SP(t){return!t||ze(t.size)||ze(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Pm(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Hr(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Mm(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Sh(t,e,n,r){jP(t,e,n,r)}function jP(t,e,n,r,s){let i,o,a,l,c,u,d,f;const g=e.pointStyle,v=e.rotation,m=e.radius;let x=(v||0)*rP;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(x),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),g){default:t.arc(n,r,m,0,We),t.closePath();break;case"triangle":u=m,t.moveTo(n+Math.sin(x)*u,r-Math.cos(x)*m),x+=_m,t.lineTo(n+Math.sin(x)*u,r-Math.cos(x)*m),x+=_m,t.lineTo(n+Math.sin(x)*u,r-Math.cos(x)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(x+Ur)*l,d=Math.cos(x+Ur)*l,a=Math.sin(x+Ur)*l,f=Math.sin(x+Ur)*l,t.arc(n-d,r-a,c,x-$e,x-Je),t.arc(n+f,r-o,c,x-Je,x),t.arc(n+d,r+a,c,x,x+Je),t.arc(n-f,r+o,c,x+Je,x+$e),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*m,u=l,t.rect(n-u,r-l,2*u,2*l);break}x+=Ur;case"rectRot":d=Math.cos(x)*m,o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*m,t.moveTo(n-d,r-a),t.lineTo(n+f,r-o),t.lineTo(n+d,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":x+=Ur;case"cross":d=Math.cos(x)*m,o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*m,t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":d=Math.cos(x)*m,o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*m,t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),x+=Ur,d=Math.cos(x)*m,o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*m,t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=Math.cos(x)*m,a=Math.sin(x)*m,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(x)*m,r+Math.sin(x)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function oa(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function f1(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function p1(t){t.restore()}function EP(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function CP(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function PP(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ze(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function MP(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function TP(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function jh(t,e,n,r,s,i={}){const o=nt(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,PP(t,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&TP(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),ze(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,n,r,i.maxWidth)),t.fillText(c,n,r,i.maxWidth),MP(t,n,r,c,i),r+=Number(s.lineHeight);t.restore()}function Tm(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*$e,$e,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,$e,Je,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,Je,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-Je,!0),t.lineTo(n+o.topLeft,r)}const RP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,LP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function OP(t,e){const n=(""+t).match(RP);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const DP=t=>+t||0;function qf(t,e){const n={},r=fe(e),s=r?Object.keys(e):e,i=fe(t)?r?o=>xe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=DP(i(o));return n}function NP(t){return qf(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Nl(t){return qf(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Yn(t){const e=NP(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Gt(t,e){t=t||{},e=e||Ke.font;let n=xe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=xe(t.style,e.style);r&&!(""+r).match(LP)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:xe(t.family,e.family),lineHeight:OP(xe(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:xe(t.weight,e.weight),string:""};return s.string=SP(s),s}function ul(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function AP(t,e,n){const{min:r,max:s}=t,i=r1(e,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function bs(t,e){return Object.assign(Object.create(t),e)}function Xf(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=v1("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>Xf([a,...t],e,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return m1(a,l,()=>WP(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Lm(a).includes(l)},ownKeys(a){return Lm(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function wi(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:g1(t,r),setContext:i=>wi(t,i,n,r),override:i=>wi(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return m1(i,o,()=>FP(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function g1(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Rr(n)?n:()=>n,isIndexable:Rr(r)?r:()=>r}}const IP=(t,e)=>t?t+Wf(e):e,Gf=(t,e)=>fe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function m1(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function FP(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let a=r[e];return Rr(a)&&o.isScriptable(e)&&(a=zP(e,a,t,n)),nt(a)&&a.length&&(a=$P(e,a,t,o.isIndexable)),Gf(e,a)&&(a=wi(a,s,i&&i[e],o)),a}function zP(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||r);return a.delete(t),Gf(t,l)&&(l=Jf(s._scopes,s,t,l)),l}function $P(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(fe(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Jf(c,s,t,u);e.push(wi(d,i,o&&o[t],a))}}return e}function y1(t,e,n){return Rr(t)?t(e,n):t}const BP=(t,e)=>t===!0?e:typeof t=="string"?ra(e,t):void 0;function UP(t,e,n,r,s){for(const i of e){const o=BP(n,i);if(o){t.add(o);const a=y1(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Jf(t,e,n,r){const s=e._rootScopes,i=y1(e._fallback,n,r),o=[...t,...s],a=new Set;a.add(r);let l=Rm(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=Rm(a,o,i,l,r),l===null)?!1:Xf(Array.from(a),[""],s,i,()=>HP(e,n,r))}function Rm(t,e,n,r,s){for(;n;)n=UP(t,e,n,r,s);return n}function HP(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return nt(s)&&fe(n)?n:s||{}}function WP(t,e,n,r){let s;for(const i of e)if(s=v1(IP(i,t),n),typeof s<"u")return Gf(t,s)?Jf(n,r,t,s):s}function v1(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Lm(t){let e=t._keys;return e||(e=t._keys=VP(t._scopes)),e}function VP(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const YP=Number.EPSILON||1e-14,bi=(t,e)=>e<t.length&&!t[e].skip&&t[e],x1=t=>t==="x"?"y":"x";function KP(t,e,n,r){const s=t.skip?e:t,i=e,o=n.skip?e:n,a=bh(i,s),l=bh(o,i);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,f=r*u;return{previous:{x:i.x-d*(o.x-s.x),y:i.y-d*(o.y-s.y)},next:{x:i.x+f*(o.x-s.x),y:i.y+f*(o.y-s.y)}}}function qP(t,e,n){const r=t.length;let s,i,o,a,l,c=bi(t,0);for(let u=0;u<r-1;++u)if(l=c,c=bi(t,u+1),!(!l||!c)){if(jo(e[u],0,YP)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],i=n[u+1]/e[u],a=Math.pow(s,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*e[u],n[u+1]=i*o*e[u])}}function XP(t,e,n="x"){const r=x1(n),s=t.length;let i,o,a,l=bi(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=bi(t,c+1),!a)continue;const u=a[n],d=a[r];o&&(i=(u-o[n])/3,a[`cp1${n}`]=u-i,a[`cp1${r}`]=d-i*e[c]),l&&(i=(l[n]-u)/3,a[`cp2${n}`]=u+i,a[`cp2${r}`]=d+i*e[c])}}function GP(t,e="x"){const n=x1(e),r=t.length,s=Array(r).fill(0),i=Array(r);let o,a,l,c=bi(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=bi(t,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[n]-l[n])/u:0}i[o]=a?c?_i(s[o-1])!==_i(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}qP(t,s,i),XP(t,i,e)}function dl(t,e,n){return Math.max(Math.min(t,n),e)}function JP(t,e){let n,r,s,i,o,a=oa(t[0],e);for(n=0,r=t.length;n<r;++n)o=i,i=a,a=n<r-1&&oa(t[n+1],e),i&&(s=t[n],o&&(s.cp1x=dl(s.cp1x,e.left,e.right),s.cp1y=dl(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=dl(s.cp2x,e.left,e.right),s.cp2y=dl(s.cp2y,e.top,e.bottom)))}function QP(t,e,n,r,s){let i,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")GP(t,s);else{let c=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=KP(c,a,t[Math.min(i+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&JP(t,n)}function Qf(){return typeof window<"u"&&typeof document<"u"}function Zf(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function bc(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const au=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function ZP(t,e){return au(t).getPropertyValue(e)}const eM=["top","right","bottom","left"];function ls(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=eM[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const tM=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function nM(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(tM(s,i,t.target))a=s,l=i;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Gr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=au(n),i=s.boxSizing==="border-box",o=ls(s,"padding"),a=ls(s,"border","width"),{x:l,y:c,box:u}=nM(t,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:g,height:v}=e;return i&&(g-=o.width+a.width,v-=o.height+a.height),{x:Math.round((l-d)/g*n.width/r),y:Math.round((c-f)/v*n.height/r)}}function rM(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&Zf(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=au(i),l=ls(a,"border","width"),c=ls(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=bc(a.maxWidth,i,"clientWidth"),s=bc(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||wc,maxHeight:s||wc}}const hl=t=>Math.round(t*10)/10;function sM(t,e,n,r){const s=au(t),i=ls(s,"margin"),o=bc(s.maxWidth,t,"clientWidth")||wc,a=bc(s.maxHeight,t,"clientHeight")||wc,l=rM(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=ls(s,"border","width"),g=ls(s,"padding");c-=g.width+f.width,u-=g.height+f.height}return c=Math.max(0,c-i.width),u=Math.max(0,r?c/r:u-i.height),c=hl(Math.min(c,o,l.maxWidth)),u=hl(Math.min(u,a,l.maxHeight)),c&&!u&&(u=hl(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=hl(Math.floor(u*r))),{width:c,height:u}}function Om(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const iM=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Qf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Dm(t,e){const n=ZP(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Jr(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function oM(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function aM(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Jr(t,s,n),a=Jr(s,i,n),l=Jr(i,e,n),c=Jr(o,a,n),u=Jr(a,l,n);return Jr(c,u,n)}const lM=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},cM=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function td(t,e,n){return t?lM(e,n):cM()}function uM(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function dM(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function _1(t){return t==="angle"?{between:ia,compare:aP,normalize:ir}:{between:a1,compare:(e,n)=>e-n,normalize:e=>e}}function Nm({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function hM(t,e,n){const{property:r,start:s,end:i}=n,{between:o,normalize:a}=_1(r),l=e.length;let{start:c,end:u,loop:d}=t,f,g;if(d){for(c+=l,u+=l,f=0,g=l;f<g&&o(a(e[c%l][r]),s,i);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function fM(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,o=e.length,{compare:a,between:l,normalize:c}=_1(r),{start:u,end:d,loop:f,style:g}=hM(t,e,n),v=[];let m=!1,x=null,p,y,_;const w=()=>l(s,_,p)&&a(s,_)!==0,k=()=>a(i,p)===0||l(i,_,p),j=()=>m||w(),C=()=>!m||k();for(let S=u,M=u;S<=d;++S)y=e[S%o],!y.skip&&(p=c(y[r]),p!==_&&(m=l(p,s,i),x===null&&j()&&(x=a(p,s)===0?S:M),x!==null&&C()&&(v.push(Nm({start:x,end:S,loop:f,count:o,style:g})),x=null),M=S,_=p));return x!==null&&v.push(Nm({start:x,end:d,loop:f,count:o,style:g})),v}function pM(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=fM(r[s],t.points,e);i.length&&n.push(...i)}return n}function gM(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function mM(t,e,n,r){const s=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&i.push({start:e%s,end:o%s,loop:r}),i}function yM(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:o,end:a}=gM(n,s,i,r);if(r===!0)return Am(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return Am(t,mM(n,o,l,c),n,e)}function Am(t,e,n,r){return!r||!r.setContext||!n?e:vM(t,e,n,r)}function vM(t,e,n,r){const s=t._chart.getContext(),i=Im(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=i,d=e[0].start,f=d;function g(v,m,x,p){const y=a?-1:1;if(v!==m){for(v+=l;n[v%l].skip;)v-=y;for(;n[m%l].skip;)m+=y;v%l!==m%l&&(c.push({start:v%l,end:m%l,loop:x,style:p}),u=p,d=m%l)}}for(const v of e){d=a?d:v.start;let m=n[d%l],x;for(f=d+1;f<=v.end;f++){const p=n[f%l];x=Im(r.setContext(bs(s,{type:"segment",p0:m,p1:p,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),xM(x,u)&&g(d,f-1,v.loop,u),m=p,u=x}d<f-1&&g(d,f-1,v.loop,u)}return c}function Im(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function xM(t,e){if(!e)return!1;const n=[],r=function(s,i){return Yf(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class _M{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=c1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Rn=new _M;const Fm="transparent",wM={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Em(t||Fm),s=r.valid&&Em(e||Fm);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class bM{constructor(e,n,r,s){const i=n[r];s=ul([e.to,s,i,e.from]);const o=ul([e.from,i,s]);this._active=!0,this._fn=e.fn||wM[e.type||typeof o],this._easing=Co[e.easing]||Co.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=ul([e.to,n,s,e.from]),this._from=ul([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class w1{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!fe(e))return;const n=Object.keys(Ke.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!fe(i))return;const o={};for(const a of n)o[a]=i[a];(nt(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,s=SM(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&kM(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let d=i[c];const f=r.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}i[c]=d=new bM(f,e,c,u),s.push(d)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Rn.add(this._chart,r),!0}}function kM(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function SM(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function zm(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function jM(t,e,n){if(n===!1)return!1;const r=zm(t,n),s=zm(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function EM(t){let e,n,r,s;return fe(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function b1(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function $m(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],ut(c)&&(i||e===0||_i(e)===_i(c))&&(e+=c)}return!u&&!r.all?0:e}function CM(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[i]:t[u]};return a}function nd(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function PM(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function MM(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function TM(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Bm(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function Um(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,c=o.axis,u=PM(i,o,r),d=e.length;let f;for(let g=0;g<d;++g){const v=e[g],{[l]:m,[c]:x}=v,p=v._stacks||(v._stacks={});f=p[c]=TM(s,u,m),f[a]=x,f._top=Bm(f,o,!0,r.type),f._bottom=Bm(f,o,!1,r.type);const y=f._visualValues||(f._visualValues={});y[a]=x}}function rd(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function RM(t,e){return bs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function LM(t,e,n){return bs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Vi(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const sd=t=>t==="reset"||t==="none",Hm=(t,e)=>e?t:Object.assign({},t),OM=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:b1(n,!0),values:null};class ai{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=nd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Vi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(d,f,g,v)=>d==="x"?f:d==="r"?v:g,i=n.xAxisID=xe(r.xAxisID,rd(e,"x")),o=n.yAxisID=xe(r.yAxisID,rd(e,"y")),a=n.rAxisID=xe(r.rAxisID,rd(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,i,o,a),u=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&km(this._data,this),e._stacked&&Vi(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(fe(n)){const s=this._cachedMeta;this._data=CM(n,s)}else if(r!==n){if(r){km(r,this);const s=this._cachedMeta;Vi(s),s._parsed=[]}n&&Object.isExtensible(n)&&dP(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=nd(n.vScale,n),n.stack!==r.stack&&(s=!0,Vi(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(Um(this,n._parsed),n._stacked=nd(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=e===0&&n===s.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{nt(s[e])?f=this.parseArrayData(r,s,e,n):fe(s[e])?f=this.parseObjectData(r,s,e,n):f=this.parsePrimitiveData(r,s,e,n);const g=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=d=f[u],l&&(g()&&(l=!1),c=d);r._sorted=l}o&&Um(this,f)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,c=i.getLabels(),u=i===o,d=new Array(s);let f,g,v;for(f=0,g=s;f<g;++f)v=f+r,d[f]={[a]:u||i.parse(c[v],v),[l]:o.parse(n[v],v)};return d}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+r,d=n[u],a[l]={x:i.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,d,f,g;for(u=0,d=s;u<d;++u)f=u+r,g=n[f],c[u]={x:i.parse(ra(g,a),f),y:o.parse(ra(g,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:b1(s,!0),values:n._stacks[e.axis]._visualValues};return $m(a,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=$m(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),l=OM(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=MM(a);let f,g;function v(){g=s[f];const m=g[a.axis];return!ut(g[e.axis])||u>m||d<m}for(f=0;f<o&&!(!v()&&(this.updateRangeFromParsed(c,e,g,l),i));++f);if(i){for(f=o-1;f>=0;--f)if(!v()){this.updateRangeFromParsed(c,e,g,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],ut(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=EM(xe(this.options.clip,jM(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,i,a,l),u=a;u<a+l;++u){const d=s[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=LM(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=RM(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&_c(r);if(a)return Hm(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),g=Object.keys(Ke.elements[e]),v=()=>this.getContext(r,s,n),m=c.resolveNamedOptions(f,g,v,d);return m.$shared&&(m.$shared=l,i[o]=Object.freeze(Hm(m,l))),m}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,r,n))}const c=new w1(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||sd(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){sd(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!sd(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Vi(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}V(ai,"defaults",{}),V(ai,"datasetElementType",null),V(ai,"dataElementType",null);function DM(t,e,n){let r=1,s=1,i=0,o=0;if(e<We){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),g=(_,w,k)=>ia(_,a,l,!0)?1:Math.max(w,w*n,k,k*n),v=(_,w,k)=>ia(_,a,l,!0)?-1:Math.min(w,w*n,k,k*n),m=g(0,c,d),x=g(Je,u,f),p=v($e,c,d),y=v($e+Je,u,f);r=(m-p)/2,s=(x-y)/2,i=-(m+p)/2,o=-(x+y)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:o}}class ro extends ai{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=l=>+r[l];if(fe(r[e])){const{key:l="value"}=this._parsing;i=c=>+ra(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=i(o)}}_getRotation(){return zn(this.options.rotation-90)}_getCircumference(){return zn(this.options.circumference)}_getRotationExtents(){let e=We,n=-We;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),o=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(GC(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:v,offsetY:m}=DM(d,u,l),x=(r.width-o)/f,p=(r.height-o)/g,y=Math.max(Math.min(x,p)/2,0),_=r1(this.options.radius,y),w=Math.max(_*l,0),k=(_-w)/this._getVisibleDatasetWeightTotal();this.offsetX=v*_,this.offsetY=m*_,s.total=this.calculateTotal(),this.outerRadius=_-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/We)}updateElements(e,n,r,s){const i=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=i&&c.animateScale,g=f?0:this.innerRadius,v=f?0:this.outerRadius,{sharedOptions:m,includeOptions:x}=this._getSharedOptions(n,s);let p=this._getRotation(),y;for(y=0;y<n;++y)p+=this._circumference(y,i);for(y=n;y<n+r;++y){const _=this._circumference(y,i),w=e[y],k={x:u+this.offsetX,y:d+this.offsetY,startAngle:p,endAngle:p+_,circumference:_,outerRadius:v,innerRadius:g};x&&(k.options=m||this.resolveDataElementOptions(y,w.active?"active":s)),p+=_,this.updateElement(w,y,k,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?We*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=ou(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,o,a,l;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){o=r.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(xe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}V(ro,"id","doughnut"),V(ro,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),V(ro,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),V(ro,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Al extends ai{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=pP(n,s,o);this._drawStart=a,this._drawCount=l,gP(n)&&(a=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,s),f=o.axis,g=a.axis,{spanGaps:v,segment:m}=this.options,x=sa(v)?v:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||i||s==="none",y=n+r,_=e.length;let w=n>0&&this.getParsed(n-1);for(let k=0;k<_;++k){const j=e[k],C=p?j:{};if(k<n||k>=y){C.skip=!0;continue}const S=this.getParsed(k),M=ze(S[g]),L=C[f]=o.getPixelForValue(S[f],k),N=C[g]=i||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[g],k);C.skip=isNaN(L)||isNaN(N)||M,C.stop=k>0&&Math.abs(S[f]-w[f])>x,m&&(C.parsed=S,C.raw=c.data[k]),d&&(C.options=u||this.resolveDataElementOptions(k,j.active?"active":s)),p||this.updateElement(j,k,C,s),w=S}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}V(Al,"id","line"),V(Al,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),V(Al,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Wr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ep{constructor(e){V(this,"options");this.options=e||{}}static override(e){Object.assign(ep.prototype,e)}init(){}formats(){return Wr()}parse(){return Wr()}format(){return Wr()}add(){return Wr()}diff(){return Wr()}startOf(){return Wr()}endOf(){return Wr()}}var NM={_date:ep};function AM(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const l=a._reversePixels?cP:ss;if(r){if(s._sharedOptions){const c=i[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(i,e,n-u),f=l(i,e,n+u);return{lo:d.lo,hi:f.hi}}}}else return l(i,e,n)}return{lo:0,hi:i.length-1}}function ka(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:c,data:u}=i[a],{lo:d,hi:f}=AM(i[a],e,o,s);for(let g=d;g<=f;++g){const v=u[g];v.skip||r(v,c,g)}}}function IM(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function id(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||ka(t,n,e,function(a,l,c){!s&&!oa(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function FM(t,e,n,r){let s=[];function i(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=o1(o,{x:e.x,y:e.y});ia(d,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return ka(t,n,e,i),s}function zM(t,e,n,r,s,i){let o=[];const a=IM(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const g=u.inRange(e.x,e.y,s);if(r&&!g)return;const v=u.getCenterPoint(s);if(!(!!i||t.isPointInArea(v))&&!g)return;const x=a(e,v);x<l?(o=[{element:u,datasetIndex:d,index:f}],l=x):x===l&&o.push({element:u,datasetIndex:d,index:f})}return ka(t,n,e,c),o}function od(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?FM(t,e,n,s):zM(t,e,n,r,s,i)}function Wm(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return ka(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],s)&&(i.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),r&&!a?[]:i}var $M={evaluateInteractionItems:ka,modes:{index(t,e,n,r){const s=Gr(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?id(t,s,i,r,o):od(t,s,i,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const s=Gr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?id(t,s,i,r,o):od(t,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const s=Gr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return id(t,s,i,r,o)},nearest(t,e,n,r){const s=Gr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return od(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=Gr(e,t);return Wm(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Gr(e,t);return Wm(t,s,"y",n.intersect,r)}}};const k1=["left","top","right","bottom"];function Yi(t,e){return t.filter(n=>n.pos===e)}function Vm(t,e){return t.filter(n=>k1.indexOf(n.pos)===-1&&n.box.axis===e)}function Ki(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function BM(t){const e=[];let n,r,s,i,o,a;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function UM(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!k1.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function HM(t,e){const n=UM(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=s):(a.width=r,a.height=u?u*s:l&&e.availableHeight)}return n}function WM(t){const e=BM(t),n=Ki(e.filter(c=>c.box.fullSize),!0),r=Ki(Yi(e,"left"),!0),s=Ki(Yi(e,"right")),i=Ki(Yi(e,"top"),!0),o=Ki(Yi(e,"bottom")),a=Vm(e,"x"),l=Vm(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Yi(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function Ym(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function S1(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function VM(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!fe(s)){n.size&&(t[s]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?i.height:i.width),n.size=d.size/d.count,t[s]+=n.size}i.getPadding&&S1(o,i.getPadding());const a=Math.max(0,e.outerWidth-Ym(o,t,"left","right")),l=Math.max(0,e.outerHeight-Ym(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function YM(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function KM(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function so(t,e,n,r){const s=[];let i,o,a,l,c,u;for(i=0,o=t.length,c=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,KM(a.horizontal,e));const{same:d,other:f}=VM(e,n,a,r);c|=d&&s.length,u=u||f,l.fullSize||s.push(a)}return c&&so(s,e,n,r)||u}function fl(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function Km(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;_c(c.start)&&(o=c.start),l.fullSize?fl(l,s.left,o,n.outerWidth-s.right-s.left,f):fl(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;_c(c.start)&&(i=c.start),l.fullSize?fl(l,i,s.top,f,n.outerHeight-s.bottom-s.top):fl(l,i,e.top+c.placed,f,d),c.start=i,c.placed+=d,i=l.right}}e.x=i,e.y=o}var vr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Yn(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=WM(t.boxes),l=a.vertical,c=a.horizontal;ye(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,x)=>x.box.options&&x.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);S1(f,Yn(r));const g=Object.assign({maxPadding:f,w:i,h:o,x:s.left,y:s.top},s),v=HM(l.concat(c),d);so(a.fullSize,g,d,v),so(l,g,d,v),so(c,g,d,v)&&so(l,g,d,v),YM(g),Km(a.leftAndTop,g,d,v),g.x+=g.w,g.y+=g.h,Km(a.rightAndBottom,g,d,v),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},ye(a.chartArea,m=>{const x=m.box;Object.assign(x,t.chartArea),x.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class j1{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class qM extends j1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Il="$chartjs",XM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qm=t=>t===null||t==="";function GM(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Il]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",qm(s)){const i=Dm(t,"width");i!==void 0&&(t.width=i)}if(qm(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Dm(t,"height");i!==void 0&&(t.height=i)}return t}const E1=iM?{passive:!0}:!1;function JM(t,e,n){t&&t.addEventListener(e,n,E1)}function QM(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,E1)}function ZM(t,e){const n=XM[t.type]||t.type,{x:r,y:s}=Gr(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function kc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function eT(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||kc(a.addedNodes,r),o=o&&!kc(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function tT(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||kc(a.removedNodes,r),o=o&&!kc(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const aa=new Map;let Xm=0;function C1(){const t=window.devicePixelRatio;t!==Xm&&(Xm=t,aa.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function nT(t,e){aa.size||window.addEventListener("resize",C1),aa.set(t,e)}function rT(t){aa.delete(t),aa.size||window.removeEventListener("resize",C1)}function sT(t,e,n){const r=t.canvas,s=r&&Zf(r);if(!s)return;const i=u1((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return o.observe(s),nT(t,i),o}function ad(t,e,n){n&&n.disconnect(),e==="resize"&&rT(t)}function iT(t,e,n){const r=t.canvas,s=u1(i=>{t.ctx!==null&&n(ZM(i,t))},t);return JM(r,e,s),s}class oT extends j1{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(GM(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Il])return!1;const r=n[Il].initial;["height","width"].forEach(i=>{const o=r[i];ze(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Il],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:eT,detach:tT,resize:sT}[n]||iT;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:ad,detach:ad,resize:ad}[n]||QM)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return sM(e,n,r,s)}isAttached(e){const n=e&&Zf(e);return!!(n&&n.isConnected)}}function aT(t){return!Qf()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?qM:oT}class Kn{constructor(){V(this,"x");V(this,"y");V(this,"active",!1);V(this,"options");V(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return sa(this.x)&&sa(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}V(Kn,"defaults",{}),V(Kn,"defaultRoutes");function lT(t,e){const n=t.options.ticks,r=cT(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?dT(e):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>s)return hT(e,c,i,o/s),c;const u=uT(i,e,s);if(o>0){let d,f;const g=o>1?Math.round((l-a)/(o-1)):null;for(pl(e,c,u,ze(g)?0:a-g,a),d=0,f=o-1;d<f;d++)pl(e,c,u,i[d],i[d+1]);return pl(e,c,u,l,ze(g)?e.length:l+g),c}return pl(e,c,u),c}function cT(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function uT(t,e,n){const r=fT(t),s=e.length/n;if(!r)return Math.max(s,1);const i=sP(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function dT(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function hT(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function pl(t,e,n,r,s){const i=xe(r,0),o=Math.min(xe(s,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),u=i;u<0;)a++,u=Math.round(i+a*n);for(c=Math.max(i,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(i+a*n))}function fT(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const pT=t=>t==="left"?"right":t==="right"?"left":t,Gm=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Jm=(t,e)=>Math.min(e||t,t);function Qm(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function gT(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(r===1?c=Math.max(l-i,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-a||l>o+a)))return l}function mT(t,e){ye(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function qi(t){return t.drawTicks?t.tickLength:0}function Zm(t,e){if(!t.display)return 0;const n=Gt(t.font,e),r=Yn(t.padding);return(nt(t.text)?t.text.length:1)*n.lineHeight+r.height}function yT(t,e){return bs(t,{scale:e,type:"scale"})}function vT(t,e,n){return bs(t,{tick:n,index:e,type:"tick"})}function xT(t,e,n){let r=d1(t);return(n&&e!=="right"||!n&&e==="right")&&(r=pT(r)),r}function _T(t,e,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,g,v;const m=o-s,x=a-i;if(t.isHorizontal()){if(g=Eo(r,i,a),fe(n)){const p=Object.keys(n)[0],y=n[p];v=u[p].getPixelForValue(y)+m-e}else n==="center"?v=(c.bottom+c.top)/2+m-e:v=Gm(t,n,e);f=a-i}else{if(fe(n)){const p=Object.keys(n)[0],y=n[p];g=u[p].getPixelForValue(y)-x+e}else n==="center"?g=(c.left+c.right)/2-x+e:g=Gm(t,n,e);v=Eo(r,o,s),d=n==="left"?-Je:Je}return{titleX:g,titleY:v,maxWidth:f,rotation:d}}class ks extends Kn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Nt(e,Number.POSITIVE_INFINITY),n=Nt(n,Number.NEGATIVE_INFINITY),r=Nt(r,Number.POSITIVE_INFINITY),s=Nt(s,Number.NEGATIVE_INFINITY),{min:Nt(e,r),max:Nt(n,s),minDefined:ut(e),maxDefined:ut(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Nt(n,Nt(r,n)),max:Nt(r,Nt(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ue(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=AP(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Qm(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=lT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ue(this.options.afterUpdate,[this])}beforeSetDimensions(){Ue(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ue(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ue(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ue(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Ue(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Ue(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ue(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Jm(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,g=yt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:g/(r-1),d+6>a&&(a=g/(r-(e.offset?.5:1)),l=this.maxHeight-qi(e.grid)-n.padding-Zm(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=oP(Math.min(Math.asin(yt((u.highest.height+6)/a,-1,1)),Math.asin(yt(l/c,-1,1))-Math.asin(yt(f/c,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ue(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ue(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Zm(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=qi(i)+l):(e.height=this.maxHeight,e.width=qi(i)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),g=r.padding*2,v=zn(this.labelRotation),m=Math.cos(v),x=Math.sin(v);if(a){const p=r.mirror?0:x*d.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+p+g)}else{const p=r.mirror?0:m*d.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+p+g)}this._calculatePadding(c,u,x,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?c?(f=s*e.width,g=r*n.height):(f=r*e.height,g=s*n.width):i==="start"?g=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ue(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ze(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Qm(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/Jm(n,r));let c=0,u=0,d,f,g,v,m,x,p,y,_,w,k;for(d=0;d<n;d+=l){if(v=e[d].label,m=this._resolveTickFontOptions(d),s.font=x=m.string,p=i[x]=i[x]||{data:{},gc:[]},y=m.lineHeight,_=w=0,!ze(v)&&!nt(v))_=Pm(s,p.data,p.gc,_,v),w=y;else if(nt(v))for(f=0,g=v.length;f<g;++f)k=v[f],!ze(k)&&!nt(k)&&(_=Pm(s,p.data,p.gc,_,k),w+=y);o.push(_),a.push(w),c=Math.max(_,c),u=Math.max(w,u)}mT(i,n);const j=o.indexOf(c),C=a.indexOf(u),S=M=>({width:o[M]||0,height:a[M]||0});return{first:S(0),last:S(n-1),widest:S(j),highest:S(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return lP(this._alignToPixels?Hr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=vT(this.getContext(),e,r))}return this.$context||(this.$context=yT(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=zn(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=qi(i),g=[],v=a.setContext(this.getContext()),m=v.display?v.width:0,x=m/2,p=function(te){return Hr(r,te,m)};let y,_,w,k,j,C,S,M,L,N,R,K;if(o==="top")y=p(this.bottom),C=this.bottom-f,M=y-x,N=p(e.top)+x,K=e.bottom;else if(o==="bottom")y=p(this.top),N=e.top,K=p(e.bottom)-x,C=y+x,M=this.top+f;else if(o==="left")y=p(this.right),j=this.right-f,S=y-x,L=p(e.left)+x,R=e.right;else if(o==="right")y=p(this.left),L=e.left,R=p(e.right)-x,j=y+x,S=this.left+f;else if(n==="x"){if(o==="center")y=p((e.top+e.bottom)/2+.5);else if(fe(o)){const te=Object.keys(o)[0],ne=o[te];y=p(this.chart.scales[te].getPixelForValue(ne))}N=e.top,K=e.bottom,C=y+x,M=C+f}else if(n==="y"){if(o==="center")y=p((e.left+e.right)/2);else if(fe(o)){const te=Object.keys(o)[0],ne=o[te];y=p(this.chart.scales[te].getPixelForValue(ne))}j=y-x,S=j-f,L=e.left,R=e.right}const X=xe(s.ticks.maxTicksLimit,d),Q=Math.max(1,Math.ceil(d/X));for(_=0;_<d;_+=Q){const te=this.getContext(_),ne=i.setContext(te),A=a.setContext(te),F=ne.lineWidth,O=ne.color,U=A.dash||[],J=A.dashOffset,se=ne.tickWidth,ae=ne.tickColor,ke=ne.tickBorderDash||[],ue=ne.tickBorderDashOffset;w=gT(this,_,l),w!==void 0&&(k=Hr(r,w,F),c?j=S=L=R=k:C=M=N=K=k,g.push({tx1:j,ty1:C,tx2:S,ty2:M,x1:L,y1:N,x2:R,y2:K,width:F,color:O,borderDash:U,borderDashOffset:J,tickWidth:se,tickColor:ae,tickBorderDash:ke,tickBorderDashOffset:ue}))}return this._ticksLength=d,this._borderValue=y,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,f=qi(r.grid),g=f+u,v=d?-u:g,m=-zn(this.labelRotation),x=[];let p,y,_,w,k,j,C,S,M,L,N,R,K="middle";if(s==="top")j=this.bottom-v,C=this._getXAxisLabelAlignment();else if(s==="bottom")j=this.top+v,C=this._getXAxisLabelAlignment();else if(s==="left"){const Q=this._getYAxisLabelAlignment(f);C=Q.textAlign,k=Q.x}else if(s==="right"){const Q=this._getYAxisLabelAlignment(f);C=Q.textAlign,k=Q.x}else if(n==="x"){if(s==="center")j=(e.top+e.bottom)/2+g;else if(fe(s)){const Q=Object.keys(s)[0],te=s[Q];j=this.chart.scales[Q].getPixelForValue(te)+g}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")k=(e.left+e.right)/2-g;else if(fe(s)){const Q=Object.keys(s)[0],te=s[Q];k=this.chart.scales[Q].getPixelForValue(te)}C=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?K="top":l==="end"&&(K="bottom"));const X=this._getLabelSizes();for(p=0,y=a.length;p<y;++p){_=a[p],w=_.label;const Q=i.setContext(this.getContext(p));S=this.getPixelForTick(p)+i.labelOffset,M=this._resolveTickFontOptions(p),L=M.lineHeight,N=nt(w)?w.length:1;const te=N/2,ne=Q.color,A=Q.textStrokeColor,F=Q.textStrokeWidth;let O=C;o?(k=S,C==="inner"&&(p===y-1?O=this.options.reverse?"left":"right":p===0?O=this.options.reverse?"right":"left":O="center"),s==="top"?c==="near"||m!==0?R=-N*L+L/2:c==="center"?R=-X.highest.height/2-te*L+L:R=-X.highest.height+L/2:c==="near"||m!==0?R=L/2:c==="center"?R=X.highest.height/2-te*L:R=X.highest.height-N*L,d&&(R*=-1),m!==0&&!Q.showLabelBackdrop&&(k+=L/2*Math.sin(m))):(j=S,R=(1-N)*L/2);let U;if(Q.showLabelBackdrop){const J=Yn(Q.backdropPadding),se=X.heights[p],ae=X.widths[p];let ke=R-J.top,ue=0-J.left;switch(K){case"middle":ke-=se/2;break;case"bottom":ke-=se;break}switch(C){case"center":ue-=ae/2;break;case"right":ue-=ae;break;case"inner":p===y-1?ue-=ae:p>0&&(ue-=ae/2);break}U={left:ue,top:ke,width:ae+J.width,height:se+J.height,color:Q.backdropColor}}x.push({label:w,font:M,textOffset:R,options:{rotation:m,color:ne,strokeColor:A,strokeWidth:F,textAlign:O,textBaseline:K,translation:[k,j],backdrop:U}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-zn(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+i,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+i,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=Hr(e,this.left,o)-o/2,u=Hr(e,this.right,a)+a/2,d=f=l):(d=Hr(e,this.top,o)-o/2,f=Hr(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&f1(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,c=o.label,u=o.textOffset;jh(r,c,0,u,l,a)}s&&p1(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Gt(r.font),o=Yn(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||fe(n)?(l+=o.bottom,nt(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=_T(this,l,n,a);jh(e,r.text,0,0,i,{color:r.color,maxWidth:d,rotation:f,textAlign:xT(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=xe(e.grid&&e.grid.z,-1),s=xe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ks.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Gt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class gl{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;kT(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,wT(e,o,r),this.override&&Ke.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Ke[s]&&(delete Ke[s][r],this.override&&delete ys[r])}}function wT(t,e,n){const r=na(Object.create(null),[n?Ke.get(n):{},Ke.get(e),t.defaults]);Ke.set(e,r),t.defaultRoutes&&bT(e,t.defaultRoutes),t.descriptors&&Ke.describe(e,t.descriptors)}function bT(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ke.route(i,s,l,a)})}function kT(t){return"id"in t&&"defaults"in t}class ST{constructor(){this.controllers=new gl(ai,"datasets",!0),this.elements=new gl(Kn,"elements"),this.plugins=new gl(Object,"plugins"),this.scales=new gl(ks,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):ye(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const s=Wf(e);Ue(r["before"+s],[],r),n[e](r),Ue(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var xn=new ST;class jT{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],l=[n,s,i.options];if(Ue(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=xe(r.options&&r.options.plugins,{}),i=ET(r);return s===!1&&!n?[]:PT(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function ET(t){const e={},n=[],r=Object.keys(xn.plugins.items);for(let i=0;i<r.length;i++)n.push(xn.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function CT(t,e){return!e&&t===!1?null:t===!0?{}:t}function PT(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const a of e){const l=a.id,c=CT(r[l],s);c!==null&&i.push({plugin:a,options:MT(t.config,{plugin:a,local:n[l]},c,o)})}return i}function MT(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Eh(t,e){const n=Ke.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function TT(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function RT(t,e){return t===e?"_index_":"_value_"}function e0(t){if(t==="x"||t==="y"||t==="r")return t}function LT(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ch(t,...e){if(e0(t))return t;for(const n of e){const r=n.axis||LT(n.position)||t.length>1&&e0(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function t0(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function OT(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return t0(t,"x",n[0])||t0(t,"y",n[0])}return{}}function DT(t,e){const n=ys[t.type]||{scales:{}},r=e.scales||{},s=Eh(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!fe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Ch(o,a,OT(o,t),Ke.scales[a.type]),c=RT(l,s),u=n.scales||{};i[o]=So(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Eh(a,e),u=(ys[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=TT(d,l),g=o[f+"AxisID"]||f;i[g]=i[g]||Object.create(null),So(i[g],[{axis:f},r[g],u[d]])})}),Object.keys(i).forEach(o=>{const a=i[o];So(a,[Ke.scales[a.type],Ke.scale])}),i}function P1(t){const e=t.options||(t.options={});e.plugins=xe(e.plugins,{}),e.scales=DT(t,e)}function M1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function NT(t){return t=t||{},t.data=M1(t.data),P1(t),t}const n0=new Map,T1=new Set;function ml(t,e){let n=n0.get(t);return n||(n=e(),n0.set(t,n),T1.add(n)),n}const Xi=(t,e,n)=>{const r=ra(e,n);r!==void 0&&t.add(r)};class AT{constructor(e){this._config=NT(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=M1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),P1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ml(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ml(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ml(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return ml(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Xi(l,e,d))),u.forEach(d=>Xi(l,s,d)),u.forEach(d=>Xi(l,ys[i]||{},d)),u.forEach(d=>Xi(l,Ke,d)),u.forEach(d=>Xi(l,kh,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),T1.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,ys[n]||{},Ke.datasets[n]||{},{type:n},Ke,kh]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=r0(this._resolverCache,e,s);let l=o;if(FT(o,n)){i.$shared=!1,r=Rr(r)?r():r;const c=this.createResolver(e,r,a);l=wi(o,r,c)}for(const c of n)i[c]=l[c];return i}createResolver(e,n,r=[""],s){const{resolver:i}=r0(this._resolverCache,e,r);return fe(n)?wi(i,n,void 0,s):i}}function r0(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:Xf(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const IT=t=>fe(t)&&Object.getOwnPropertyNames(t).some(e=>Rr(t[e]));function FT(t,e){const{isScriptable:n,isIndexable:r}=g1(t);for(const s of e){const i=n(s),o=r(s),a=(o||i)&&t[s];if(i&&(Rr(a)||IT(a))||o&&nt(a))return!0}return!1}var zT="4.4.6";const $T=["top","bottom","left","right","chartArea"];function s0(t,e){return t==="top"||t==="bottom"||$T.indexOf(t)===-1&&e==="x"}function i0(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function o0(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ue(n&&n.onComplete,[t],e)}function BT(t){const e=t.chart,n=e.options.animation;Ue(n&&n.onProgress,[t],e)}function R1(t){return Qf()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Fl={},a0=t=>{const e=R1(t);return Object.values(Fl).filter(n=>n.canvas===e).pop()};function UT(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function HT(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function yl(t,e,n){return t.options.clip?t[n]:e[n]}function WT(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:yl(n,e,"left"),right:yl(n,e,"right"),top:yl(r,e,"top"),bottom:yl(r,e,"bottom")}:e}var tr;let Mi=(tr=class{static register(...e){xn.add(...e),l0()}static unregister(...e){xn.remove(...e),l0()}constructor(e,n){const r=this.config=new AT(n),s=R1(e),i=a0(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||aT(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=XC(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new jT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=fP(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Fl[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Rn.listen(this,"complete",o0),Rn.listen(this,"progress",BT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return ze(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return xn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Om(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Mm(this.canvas,this.ctx),this}stop(){return Rn.stop(this),this}resize(e,n){Rn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Om(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ue(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ye(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=Ch(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ye(i,o=>{const a=o.options,l=a.id,c=Ch(l,a),u=xe(a.type,o.dtype);(a.position===void 0||s0(a.position,c)!==s0(o.dposition))&&(a.position=o.dposition),s[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const f=xn.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),ye(s,(o,a)=>{o||delete r[a]}),ye(r,o=>{vr.configure(this,o,o.options),vr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(i0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||Eh(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=xn.getController(a),{datasetElementType:c,dataElementType:u}=Ke.datasets[a];Object.assign(l,{dataElementType:xn.getElement(u),datasetElementType:c&&xn.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ye(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!s&&i.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||ye(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(i0("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ye(this.scales,e=>{vr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!xm(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;UT(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!xm(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;vr.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],ye(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Rr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Rn.has(this)?this.attached&&!Rn.running(this)&&Rn.start(this):(this.draw(),o0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,s=!r.disabled,i=WT(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&f1(n,{left:r.left===!1?0:i.left-r.left,right:r.right===!1?this.width:i.right+r.right,top:r.top===!1?0:i.top-r.top,bottom:r.bottom===!1?this.height:i.bottom+r.bottom}),e.controller.draw(),s&&p1(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return oa(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=$M.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=bs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);_c(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Rn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Mm(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Fl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};ye(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ye(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ye(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!vc(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=i(n,e),a=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(e,s,r,o),l=tP(e),c=HT(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Ue(i.onHover,[e,a,this],this),l&&Ue(i.onClick,[e,a,this],this));const u=!vc(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},V(tr,"defaults",Ke),V(tr,"instances",Fl),V(tr,"overrides",ys),V(tr,"registry",xn),V(tr,"version",zT),V(tr,"getChart",a0),tr);function l0(){return ye(Mi.instances,t=>t._plugins.invalidate())}function VT(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;t.beginPath(),t.arc(i,o,a,r-c,n+c),l>s?(c=s/l,t.arc(i,o,l,n+c,r-c,!0)):t.arc(i,o,s,n+Je,r-Je),t.closePath(),t.clip()}function YT(t){return qf(t,["outerStart","outerEnd","innerStart","innerEnd"])}function KT(t,e,n,r){const s=YT(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,r*e/2),a=l=>{const c=(n-Math.min(i,l))*r/2;return yt(l,0,Math.min(i,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:yt(s.innerStart,0,o),innerEnd:yt(s.innerEnd,0,o)}}function Os(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Sc(t,e,n,r,s,i){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+n-c,0),f=u>0?u+r+n+c:0;let g=0;const v=s-l;if(r){const Q=u>0?u-r:0,te=d>0?d-r:0,ne=(Q+te)/2,A=ne!==0?v*ne/(ne+r):v;g=(v-A)/2}const m=Math.max(.001,v*d-n/$e)/d,x=(v-m)/2,p=l+x+g,y=s-x-g,{outerStart:_,outerEnd:w,innerStart:k,innerEnd:j}=KT(e,f,d,y-p),C=d-_,S=d-w,M=p+_/C,L=y-w/S,N=f+k,R=f+j,K=p+k/N,X=y-j/R;if(t.beginPath(),i){const Q=(M+L)/2;if(t.arc(o,a,d,M,Q),t.arc(o,a,d,Q,L),w>0){const F=Os(S,L,o,a);t.arc(F.x,F.y,w,L,y+Je)}const te=Os(R,y,o,a);if(t.lineTo(te.x,te.y),j>0){const F=Os(R,X,o,a);t.arc(F.x,F.y,j,y+Je,X+Math.PI)}const ne=(y-j/f+(p+k/f))/2;if(t.arc(o,a,f,y-j/f,ne,!0),t.arc(o,a,f,ne,p+k/f,!0),k>0){const F=Os(N,K,o,a);t.arc(F.x,F.y,k,K+Math.PI,p-Je)}const A=Os(C,p,o,a);if(t.lineTo(A.x,A.y),_>0){const F=Os(C,M,o,a);t.arc(F.x,F.y,_,p-Je,M)}}else{t.moveTo(o,a);const Q=Math.cos(M)*d+o,te=Math.sin(M)*d+a;t.lineTo(Q,te);const ne=Math.cos(L)*d+o,A=Math.sin(L)*d+a;t.lineTo(ne,A)}t.closePath()}function qT(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a}=e;let l=e.endAngle;if(i){Sc(t,e,n,r,l,s);for(let c=0;c<i;++c)t.fill();isNaN(a)||(l=o+(a%We||We))}return Sc(t,e,n,r,l,s),t.fill(),l}function XT(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f}=l,g=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=f,g?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let v=e.endAngle;if(i){Sc(t,e,n,r,v,s);for(let m=0;m<i;++m)t.stroke();isNaN(a)||(v=o+(a%We||We))}g&&VT(t,e,v),i||(Sc(t,e,n,r,v,s),t.stroke())}class io extends Kn{constructor(n){super();V(this,"circumference");V(this,"endAngle");V(this,"fullCircles");V(this,"innerRadius");V(this,"outerRadius");V(this,"pixelMargin");V(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:o,distance:a}=o1(i,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),g=(this.options.spacing+this.options.borderWidth)/2,v=xe(f,c-l),m=ia(o,l,c)&&l!==c,x=v>=We||m,p=a1(a,u+g,d+g);return x&&p}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(i+o)/2,f=(a+l+u+c)/2;return{x:r+Math.cos(d)*f,y:s+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>We?Math.floor(s/We):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min($e,s||0)),u=i*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,qT(n,this,u,o,a),XT(n,this,u,o,a),n.restore()}}V(io,"id","arc"),V(io,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),V(io,"defaultRoutes",{backgroundColor:"backgroundColor"}),V(io,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function L1(t,e,n=e){t.lineCap=xe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(xe(n.borderDash,e.borderDash)),t.lineDashOffset=xe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=xe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=xe(n.borderWidth,e.borderWidth),t.strokeStyle=xe(n.borderColor,e.borderColor)}function GT(t,e,n){t.lineTo(n.x,n.y)}function JT(t){return t.stepped?EP:t.tension||t.cubicInterpolationMode==="monotone"?CP:GT}function O1(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(i,a),u=s<o&&i<o||s>a&&i>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function QT(t,e,n,r){const{points:s,options:i}=e,{count:o,start:a,loop:l,ilen:c}=O1(s,n,r),u=JT(i);let{move:d=!0,reverse:f}=r||{},g,v,m;for(g=0;g<=c;++g)v=s[(a+(f?c-g:g))%o],!v.skip&&(d?(t.moveTo(v.x,v.y),d=!1):u(t,m,v,f,i.stepped),m=v);return l&&(v=s[(a+(f?c:0))%o],u(t,m,v,f,i.stepped)),!!l}function ZT(t,e,n,r){const s=e.points,{count:i,start:o,ilen:a}=O1(s,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,f,g,v,m,x,p;const y=w=>(o+(c?a-w:w))%i,_=()=>{m!==x&&(t.lineTo(u,x),t.lineTo(u,m),t.lineTo(u,p))};for(l&&(g=s[y(0)],t.moveTo(g.x,g.y)),f=0;f<=a;++f){if(g=s[y(f)],g.skip)continue;const w=g.x,k=g.y,j=w|0;j===v?(k<m?m=k:k>x&&(x=k),u=(d*u+w)/++d):(_(),t.lineTo(w,k),v=j,d=0,m=x=k),p=k}_()}function Ph(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?ZT:QT}function eR(t){return t.stepped?oM:t.tension||t.cubicInterpolationMode==="monotone"?aM:Jr}function tR(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),L1(t,e.options),t.stroke(s)}function nR(t,e,n,r){const{segments:s,options:i}=e,o=Ph(e);for(const a of s)L1(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const rR=typeof Path2D=="function";function sR(t,e,n,r){rR&&!e.options.segment?tR(t,e,n,r):nR(t,e,n,r)}class Gs extends Kn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;QP(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=yM(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,o=pM(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=eR(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],g=i[d],v=i[f];if(g===v){a.push(g);continue}const m=Math.abs((s-g[n])/(v[n]-g[n])),x=l(g,v,m,r.stepped);x[n]=e[n],a.push(x)}return a.length===1?a[0]:a}pathSegment(e,n,r){return Ph(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=Ph(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of s)o&=i(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),sR(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}V(Gs,"id","line"),V(Gs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),V(Gs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),V(Gs,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function c0(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class Mo extends Kn{constructor(n){super();V(this,"parsed");V(this,"skip");V(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return c0(this,n,"x",r)}inYRange(n,r){return c0(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!oa(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Sh(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}V(Mo,"id","point"),V(Mo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),V(Mo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class D1 extends Kn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=nt(r.text)?r.text.length:1;this._padding=Yn(r.padding);const i=s*Gt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Eo(a,r,i),d=n+e,c=i-r):(o.position==="left"?(u=r+e,d=Eo(a,s,n),l=$e*-.5):(u=i-e,d=Eo(a,n,s),l=$e*.5),c=s-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Gt(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);jh(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:d1(n.align),textBaseline:"middle",translation:[o,a]})}}function iR(t,e){const n=new D1({ctx:t.ctx,options:e,chart:t});vr.configure(t,n,e),vr.addBox(t,n),t.titleBlock=n}var tp={id:"title",_element:D1,start(t,e,n){iR(t,n)},stop(t){const e=t.titleBlock;vr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;vr.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const oo={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=bh(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function yn(t,e){return e&&(nt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ln(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function oR(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function u0(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=Gt(e.bodyFont),c=Gt(e.titleFont),u=Gt(e.footerFont),d=i.length,f=s.length,g=r.length,v=Yn(e.padding);let m=v.height,x=0,p=r.reduce((w,k)=>w+k.before.length+k.lines.length+k.after.length,0);if(p+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),p){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=g*w+(p-g)*l.lineHeight+(p-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let y=0;const _=function(w){x=Math.max(x,n.measureText(w).width+y)};return n.save(),n.font=c.string,ye(t.title,_),n.font=l.string,ye(t.beforeBody.concat(t.afterBody),_),y=e.displayColors?o+2+e.boxPadding:0,ye(r,w=>{ye(w.before,_),ye(w.lines,_),ye(w.after,_)}),y=0,n.font=u.string,ye(t.footer,_),n.restore(),x+=v.width,{width:x,height:m}}function aR(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function lR(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function cR(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=s<=(a+l)/2?"left":"right":s<=i/2?c="left":s>=o-i/2&&(c="right"),lR(c,t,e,n)&&(c="center"),c}function d0(t,e,n){const r=n.yAlign||e.yAlign||aR(t,n);return{xAlign:n.xAlign||e.xAlign||cR(t,e,n,r),yAlign:r}}function uR(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function dR(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function h0(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=Nl(o);let v=uR(e,a);const m=dR(e,l,c);return l==="center"?a==="left"?v+=c:a==="right"&&(v-=c):a==="left"?v-=Math.max(u,f)+s:a==="right"&&(v+=Math.max(d,g)+s),{x:yt(v,0,r.width-e.width),y:yt(m,0,r.height-e.height)}}function vl(t,e,n){const r=Yn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function f0(t){return yn([],Ln(t))}function hR(t,e,n){return bs(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function p0(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const N1={beforeTitle:Mn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Mn,beforeBody:Mn,beforeLabel:Mn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ze(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Mn,afterBody:Mn,beforeFooter:Mn,footer:Mn,afterFooter:Mn};function bt(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?N1[e].call(n,r):s}class Mh extends Kn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new w1(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=hR(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=bt(r,"beforeTitle",this,e),i=bt(r,"title",this,e),o=bt(r,"afterTitle",this,e);let a=[];return a=yn(a,Ln(s)),a=yn(a,Ln(i)),a=yn(a,Ln(o)),a}getBeforeBody(e,n){return f0(bt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return ye(e,i=>{const o={before:[],lines:[],after:[]},a=p0(r,i);yn(o.before,Ln(bt(a,"beforeLabel",this,i))),yn(o.lines,bt(a,"label",this,i)),yn(o.after,Ln(bt(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return f0(bt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=bt(r,"beforeFooter",this,e),i=bt(r,"footer",this,e),o=bt(r,"afterFooter",this,e);let a=[];return a=yn(a,Ln(s)),a=yn(a,Ln(i)),a=yn(a,Ln(o)),a}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(oR(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,r))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,r))),ye(a,u=>{const d=p0(e.callbacks,u);s.push(bt(d,"labelColor",this,u)),i.push(bt(d,"labelPointStyle",this,u)),o.push(bt(d,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=oo[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=u0(this,r),c=Object.assign({},a,l),u=d0(this.chart,r,c),d=h0(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Nl(a),{x:f,y:g}=e,{width:v,height:m}=n;let x,p,y,_,w,k;return i==="center"?(w=g+m/2,s==="left"?(x=f,p=x-o,_=w+o,k=w-o):(x=f+v,p=x+o,_=w-o,k=w+o),y=x):(s==="left"?p=f+Math.max(l,u)+o:s==="right"?p=f+v-Math.max(c,d)-o:p=this.caretX,i==="top"?(_=g,w=_-o,x=p-o,y=p+o):(_=g+m,w=_+o,x=p+o,y=p-o),k=_),{x1:x,x2:p,x3:y,y1:_,y2:w,y3:k}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const c=td(r.rtl,this.x,this.width);for(e.x=vl(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Gt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,u=Gt(i.bodyFont),d=vl(this,"left",i),f=s.x(d),g=l<u.lineHeight?(u.lineHeight-l)/2:0,v=n.y+g;if(i.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=s.leftForLtr(f,c)+c/2,p=v+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Sh(e,m,x,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Sh(e,m,x,p)}else{e.lineWidth=fe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=s.leftForLtr(f,c),x=s.leftForLtr(s.xPlus(f,1),c-2),p=Nl(o.borderRadius);Object.values(p).some(y=>y!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Tm(e,{x:m,y:v,w:c,h:l,radius:p}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Tm(e,{x,y:v+1,w:c-2,h:l-2,radius:p}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(m,v,c,l),e.strokeRect(m,v,c,l),e.fillStyle=o.backgroundColor,e.fillRect(x,v+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=Gt(r.bodyFont);let f=d.lineHeight,g=0;const v=td(r.rtl,this.x,this.width),m=function(S){n.fillText(S,v.x(e.x+g),e.y+f/2),e.y+=f+i},x=v.textAlign(o);let p,y,_,w,k,j,C;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=vl(this,x,r),n.fillStyle=r.bodyColor,ye(this.beforeBody,m),g=a&&x!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,j=s.length;w<j;++w){for(p=s[w],y=this.labelTextColors[w],n.fillStyle=y,ye(p.before,m),_=p.lines,a&&_.length&&(this._drawColorBox(n,e,w,v,r),f=Math.max(d.lineHeight,l)),k=0,C=_.length;k<C;++k)m(_[k]),f=d.lineHeight;ye(p.after,m)}g=0,f=d.lineHeight,ye(this.afterBody,m),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=td(r.rtl,this.x,this.width);for(e.x=vl(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Gt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:v}=Nl(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(a+c,l+u-v),n.quadraticCurveTo(a+c,l+u,a+c-v,l+u),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(a+g,l+u),n.quadraticCurveTo(a,l+u,a,l+u-g),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=oo[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=u0(this,e),l=Object.assign({},o,this._size),c=d0(n,e,l),u=h0(e,l,c,n);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Yn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),uM(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),dM(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!vc(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),a=this._positionChanged(o,e),l=n||!vc(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=oo[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}}V(Mh,"positioners",oo);var np={id:"tooltip",_element:Mh,positioners:oo,afterInit(t,e,n){n&&(t.tooltip=new Mh({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:N1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const fR=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function pR(t,e,n,r){const s=t.indexOf(e);if(s===-1)return fR(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const gR=(t,e)=>t===null?null:yt(Math.round(t),0,e);function g0(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class la extends ks{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ze(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:pR(r,e,xe(n,e),this._addedLabels),gR(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return g0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}V(la,"id","category"),V(la,"defaults",{ticks:{callback:g0}});function mR(t,e){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,g=i||1,v=u-1,{min:m,max:x}=e,p=!ze(o),y=!ze(a),_=!ze(c),w=(x-m)/(d+1);let k=wm((x-m)/v/g)*g,j,C,S,M;if(k<1e-14&&!p&&!y)return[{value:m},{value:x}];M=Math.ceil(x/k)-Math.floor(m/k),M>v&&(k=wm(M*k/v/g)*g),ze(l)||(j=Math.pow(10,l),k=Math.ceil(k*j)/j),s==="ticks"?(C=Math.floor(m/k)*k,S=Math.ceil(x/k)*k):(C=m,S=x),p&&y&&i&&iP((a-o)/i,k/1e3)?(M=Math.round(Math.min((a-o)/k,u)),k=(a-o)/M,C=o,S=a):_?(C=p?o:C,S=y?a:S,M=c-1,k=(S-C)/M):(M=(S-C)/k,jo(M,Math.round(M),k/1e3)?M=Math.round(M):M=Math.ceil(M));const L=Math.max(bm(k),bm(C));j=Math.pow(10,ze(l)?L:l),C=Math.round(C*j)/j,S=Math.round(S*j)/j;let N=0;for(p&&(f&&C!==o?(n.push({value:o}),C<o&&N++,jo(Math.round((C+N*k)*j)/j,o,m0(o,w,t))&&N++):C<o&&N++);N<M;++N){const R=Math.round((C+N*k)*j)/j;if(y&&R>a)break;n.push({value:R})}return y&&f&&S!==a?n.length&&jo(n[n.length-1].value,a,m0(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!y||S===a)&&n.push({value:S}),n}function m0(t,e,{horizontal:n,minRotation:r}){const s=zn(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class A1 extends ks{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ze(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(e){const l=_i(s),c=_i(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=mR(s,i);return e.bounds==="ticks"&&i1(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return ou(e,this.chart.options.locale,this.options.ticks.format)}}class ca extends A1{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ut(e)?e:0,this.max=ut(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=zn(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}V(ca,"id","linear"),V(ca,"defaults",{ticks:{callback:Kf.formatters.numeric}});const ua=t=>Math.floor(yr(t)),Vr=(t,e)=>Math.pow(10,ua(t)+e);function y0(t){return t/Math.pow(10,ua(t))===1}function v0(t,e,n){const r=Math.pow(10,n),s=Math.floor(t/r);return Math.ceil(e/r)-s}function yR(t,e){const n=e-t;let r=ua(n);for(;v0(t,e,r)>10;)r++;for(;v0(t,e,r)<10;)r--;return Math.min(r,ua(t))}function vR(t,{min:e,max:n}){e=Nt(t.min,e);const r=[],s=ua(e);let i=yR(e,n),o=i<0?Math.pow(10,Math.abs(i)):1;const a=Math.pow(10,i),l=s>i?Math.pow(10,s):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,i)),f=Nt(t.min,Math.round((l+u+d*Math.pow(10,i))*o)/o);for(;f<n;)r.push({value:f,major:y0(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(i++,d=2,o=i>=0?1:o),f=Math.round((l+u+d*Math.pow(10,i))*o)/o;const g=Nt(t.max,f);return r.push({value:g,major:y0(g),significand:d}),r}class jc extends ks{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=A1.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return ut(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ut(e)?Math.max(0,e):null,this.max=ut(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ut(this._userMin)&&(this.min=e===Vr(this.min,0)?Vr(this.min,-1):Vr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,s=this.max;const i=a=>r=e?r:a,o=a=>s=n?s:a;r===s&&(r<=0?(i(1),o(10)):(i(Vr(r,-1)),o(Vr(s,1)))),r<=0&&i(Vr(s,-1)),s<=0&&o(Vr(r,1)),this.min=r,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=vR(n,this);return e.bounds==="ticks"&&i1(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":ou(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=yr(e),this._valueRange=yr(this.max)-yr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(yr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}V(jc,"id","logarithmic"),V(jc,"defaults",{ticks:{callback:Kf.formatters.logarithmic,major:{enabled:!0}}});const lu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},jt=Object.keys(lu);function x0(t,e){return t-e}function _0(t,e){if(ze(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),ut(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(sa(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function w0(t,e,n,r){const s=jt.length;for(let i=jt.indexOf(t);i<s-1;++i){const o=lu[jt[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return jt[i]}return jt[s-1]}function xR(t,e,n,r,s){for(let i=jt.length-1;i>=jt.indexOf(n);i--){const o=jt[i];if(lu[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return jt[n?jt.indexOf(n):0]}function _R(t){for(let e=jt.indexOf(t)+1,n=jt.length;e<n;++e)if(lu[jt[e]].common)return jt[e]}function b0(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=Vf(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function wR(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function k0(t,e,n){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:wR(t,r,s,n)}class Ec extends ks{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new NM._date(e.adapters.date);s.init(n),So(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:_0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=ut(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=ut(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=uP(s,i,o);return this._unit=n.unit||(r.autoSkip?w0(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):xR(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:_R(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),k0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=yt(n,0,o),r=yt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||w0(i.minUnit,n,r,this._getLabelCapacity(n)),a=xe(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=sa(l)||l===!0,u={};let d=n,f,g;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const v=s.ticks.source==="data"&&this.getDataTimestamps();for(f=d,g=0;f<r;f=+e.add(f,a,o),g++)b0(u,f,v);return(f===r||s.bounds==="ticks"||g===1)&&b0(u,f,v),Object.keys(u).sort(x0).map(m=>+m)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return Ue(o,[e,n,r],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=r[n],g=c&&d&&f&&f.major;return this._adapter.format(e,s||(g?d:u))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=zn(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,k0(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(_0(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return hP(e.sort(x0))}}V(Ec,"id","time"),V(Ec,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function xl(t,e,n){let r=0,s=t.length-1,i,o,a,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=ss(t,"pos",e)),{pos:i,time:a}=t[r],{pos:o,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=ss(t,"time",e)),{time:i,pos:a}=t[r],{time:o,pos:l}=t[s]);const c=o-i;return c?a+(l-a)*(e-i)/c:a}class S0 extends Ec{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=xl(n,this.min),this._tableRange=xl(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(xl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return xl(this._table,r*this._tableRange+this._minPos,!0)}}V(S0,"id","timeseries"),V(S0,"defaults",Ec.defaults);const I1="label";function j0(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function bR(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function F1(t,e){t.labels=e}function z1(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I1;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function kR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I1;const n={labels:[],datasets:[]};return F1(n,t.labels),z1(n,t.datasets,e),n}function SR(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,g=b.useRef(null),v=b.useRef(),m=()=>{g.current&&(v.current=new Mi(g.current,{type:o,data:kR(a,i),options:l&&{...l},plugins:c}),j0(e,v.current))},x=()=>{j0(e,null),v.current&&(v.current.destroy(),v.current=null)};return b.useEffect(()=>{!s&&v.current&&l&&bR(v.current,l)},[s,l]),b.useEffect(()=>{!s&&v.current&&F1(v.current.config.data,a.labels)},[s,a.labels]),b.useEffect(()=>{!s&&v.current&&a.datasets&&z1(v.current.config.data,a.datasets,i)},[s,a.datasets]),b.useEffect(()=>{v.current&&(s?(x(),setTimeout(m)):v.current.update(d))},[s,l,a.labels,a.datasets,d]),b.useEffect(()=>{v.current&&(x(),setTimeout(m))},[o]),b.useEffect(()=>(m(),()=>x()),[]),ge.createElement("canvas",Object.assign({ref:g,role:"img",height:n,width:r},f),u)}const jR=b.forwardRef(SR);function $1(t,e){return Mi.register(e),b.forwardRef((n,r)=>ge.createElement(jR,Object.assign({},n,{ref:r,type:t})))}const B1=$1("line",Al),ER=$1("doughnut",ro),ld=["#FF5733","#3498DB","#2ECC71","#F1C40F","#E67E22","#9B59B6","#FF69B4","#1ABC9C","#F39C12","#5DADE2","#58D68D","#48C9B0","#8E44AD","#7F8C8D","#BFC1C2"];Mi.register(tp,np,io,la,ca);const CR=gn(),PR=new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}),cd=()=>{const t=CR.get($t),e=new Date;return!(t!=null&&t.month_end_date)||e.getDate()<=t.month_end_date||(e.setDate(1),e.setMonth(e.getMonth()+1)),e},MR=()=>{const[t]=Z(Lt),[e,n]=b.useState(!1),[r,s]=b.useState([]),[i,o]=b.useState(!1),[a,l]=b.useState(0),[c,u]=b.useState(cd),d=b.useMemo(()=>r.reduce((v,m)=>v+(m.amount??0),0),[r]),f=b.useMemo(()=>r.map((v,m)=>ld[m]??ld[ld.length-1]),[r]),g=b.useMemo(()=>({labels:r.map(v=>{var m;return((m=v.category)==null?void 0:m.name)??"unknown"}),datasets:[{data:r.map(v=>v.amount??0),backgroundColor:f,borderWidth:1}]}),[r,f]);return b.useEffect(()=>{t!=null&&t.user.id&&(async()=>{n(!0);const v=await Fn.getExpenseOverview(t.user.id,c);if(n(!1),v.error){Y.error(v.error.message);return}s(v.data??[])})()},[c,t]),b.useEffect(()=>{t!=null&&t.user.id&&(async()=>{o(!0);const v=await Fn.getIncomeTotal(t.user.id,c);if(o(!1),v.error){Y.error(v.error.message);return}l(v.data??0)})()},[c,t]),h.jsxs("div",{className:"flex flex-1 flex-col items-center gap-4 p-2",children:[h.jsxs("div",{className:"flex w-full items-center rounded-xl bg-base-100 p-2",children:[h.jsx("div",{className:"flex-1"}),h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("button",{disabled:e||!c,onClick:()=>u(v=>v?new Date(v.setMonth(v.getMonth()-1)):void 0),className:"text-xl disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-left"})}),h.jsx("span",{className:"w-[10rem] text-center",children:c?PR.format(c):"All time"}),h.jsx("button",{disabled:e||!c||c.getMonth()===cd().getMonth(),onClick:()=>u(v=>v?new Date(v.setMonth(v.getMonth()+1)):void 0),className:"text-xl disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-right"})})]}),h.jsx("div",{className:"flex flex-1 justify-end",children:h.jsx(Gn,{options:[{icon:"lucide:calendar-days",label:c?"All time":"This month",onClick:()=>u(v=>v?void 0:cd())}]})})]}),h.jsx("div",{className:"aspect-square w-[60vw] max-w-[20rem]",children:e?h.jsx(ve,{className:"h-full w-full rounded-full",children:h.jsx("div",{})}):r.length===0?h.jsx("div",{className:"h-full w-full rounded-full bg-base-300"}):h.jsx(ER,{data:g,options:{responsive:!0,plugins:{tooltip:{callbacks:{label:function(v){return`${v.label}: ${Tt(parseFloat(v.raw))}`}}}}}})}),h.jsxs("div",{className:"flex w-full items-center justify-evenly gap-2 rounded-xl px-3 py-2 text-xs font-medium "+(e||i?"dai-skeleton":"bg-base-100"),children:[h.jsx("span",{className:e?"text-transparent":"text-error",children:h.jsx(hn,{count:6,amount:e?-1e6:-1*d})}),h.jsx("div",{className:"h-full w-[1px] bg-base-300"}),h.jsx("span",{className:i?"text-transparent":"text-success",children:h.jsx(hn,{count:6,amount:i?1e6:a})}),h.jsx("div",{className:"h-full w-[1px] bg-base-300"}),h.jsx("span",{className:e||i?"text-transparent":d>a?"text-error":"text-success",children:h.jsx(hn,{count:6,amount:e||i?1e6:a-d})})]}),h.jsx("div",{className:"grid w-full grid-cols-1 gap-1 md:grid-cols-2",children:e?Array.from({length:14}).map((v,m)=>h.jsx(RR,{},m)):r.length===0?null:r.map((v,m)=>h.jsx(TR,{el:v,total:d,color:f[m]??f[f.length-1]},m))})]})},TR=({el:t,total:e,color:n})=>{var r,s;return h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 shadow",children:[h.jsx("img",{className:"size-9 xs:size-12",src:ru+"/"+((r=t.category)==null?void 0:r.logo),alt:""}),h.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm xs:text-base",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("span",{style:{backgroundColor:n},className:"h-2 w-4"}),h.jsx("span",{children:(s=t.category)==null?void 0:s.name})]}),h.jsx("span",{className:"font-medium text-error",children:h.jsx(hn,{amount:-1*(t.amount??0)})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("progress",{className:"dai-progress dai-progress-primary",value:t.amount??0,max:e}),h.jsxs("span",{className:"text-xs sm:text-sm",children:[Math.round(100*(e===0?0:(t.amount??0)/e)),"%"]})]})]})]})},RR=()=>h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 shadow",children:[h.jsx(ve,{children:h.jsx("div",{className:"size-9 xs:size-12"})}),h.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[h.jsxs("div",{className:"flex justify-between text-sm xs:text-base",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(ve,{children:h.jsx("div",{className:"h-2 w-[1rem]"})}),h.jsx(ve,{children:h.jsx("span",{children:"Transportation"})})]}),h.jsx(ve,{children:h.jsx("span",{className:"font-medium text-error",children:Tt(-1*1e4)})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("progress",{className:"dai-progress dai-progress-primary dai-skeleton",value:0,max:0}),h.jsx("span",{className:"text-xs sm:text-sm",children:h.jsx(ve,{children:"28%"})})]})]})]});function U1(t,{minimumFractionDigits:e=0,maximumFractionDigits:n=2}={}){return t.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:n})}Mi.register(la,ca,Mo,Gs,tp,np,jc);const LR=gn(),OR=new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}),DR=new Intl.DateTimeFormat("en-US",{year:"numeric"}),Tn=()=>{const t=LR.get($t),e=new Date;return!(t!=null&&t.month_end_date)||e.getDate()<=t.month_end_date||(e.setDate(1),e.setMonth(e.getMonth()+1)),e},NR=()=>{const[t]=Z(Lt),[e]=Z(Zx),{data:n,fetched:r,refresh:s}=iu(),[i,o]=b.useState(""),[a,l]=b.useState(""),[c,u]=b.useState(Tn()),[d,f]=b.useState("everyday"),[g,v]=b.useState(!0),[m,x]=b.useState(!1),[p,y]=b.useState(!1),[_,w]=b.useState(!1),[k,j]=b.useState([]),[C,S]=b.useState([]),M=b.useMemo(()=>p||_,[p,_]),L=b.useMemo(()=>[...new Set([...k.map(R=>parseInt(R.occurred_at.split("-").join(""))),...C.map(R=>parseInt(R.occurred_at.split("-").join("")))])],[C,k]),N=b.useMemo(()=>({labels:L,datasets:[{label:"Expense Flow",fill:!1,tension:.2,borderColor:e.error,data:k.map(R=>({y:R.amount,x:parseInt(R.occurred_at.split("-").join(""))})),pointHitRadius:10},{label:"Income Flow",fill:!1,tension:.2,borderColor:e.success,data:C.map(R=>({y:R.amount,x:parseInt(R.occurred_at.split("-").join(""))}))}]}),[k,C,e,L]);return b.useEffect(()=>{r||(async()=>{const R=await s();R&&Y.error(R)})()},[]),b.useEffect(()=>{if(!g){j([]);return}(async()=>{var K;y(!0);let R;if(d==="everyday"?R=await Fn.getCashFlowEveryDay({trx_type:["expense"],userId:(t==null?void 0:t.user.id)??"",month:c??Tn(),categories:i?[i]:[]}):R=await Fn.getCashFlowEveryMonth({trx_type:["expense"],userId:(t==null?void 0:t.user.id)??"",year:(c==null?void 0:c.getFullYear())??Tn().getFullYear(),categories:i?[i]:[]}),y(!1),R.error){Y.error(R.error.message);return}(K=R.data)==null||K.forEach(X=>X.amount=Math.abs(X.amount)),j(R.data??[])})()},[t,c,g,i]),b.useEffect(()=>{if(!m){S([]);return}(async()=>{var K;w(!0);let R;if(d==="everyday"?R=await Fn.getCashFlowEveryDay({trx_type:["income"],userId:(t==null?void 0:t.user.id)??"",month:c??Tn(),categories:a?[a]:[]}):R=await Fn.getCashFlowEveryMonth({trx_type:["income"],userId:(t==null?void 0:t.user.id)??"",year:(c==null?void 0:c.getFullYear())??Tn().getFullYear(),categories:a?[a]:[]}),w(!1),R.error){Y.error(R.error.message);return}(K=R.data)==null||K.forEach(X=>X.amount=Math.abs(X.amount)),S(R.data??[])})()},[t,c,m,a]),h.jsxs("div",{className:"flex flex-1 flex-col items-center gap-2 overflow-x-auto p-2",children:[h.jsxs("div",{className:"flex w-full flex-col items-center gap-2 rounded-xl bg-base-100 p-2",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("select",{disabled:M,value:d,onChange:R=>{u(Tn()),f(R.target.value)},className:"dai-select dai-select-bordered dai-select-xs xs:dai-select-sm",children:[h.jsx("option",{value:"everyday",children:"Every Day"}),h.jsx("option",{value:"everymonth",children:"Every Month"})]}),h.jsx("div",{className:"dai-form-control",children:h.jsxs("label",{className:"dai-cursor-pointer dai-label justify-start gap-2",children:[h.jsx("input",{disabled:M,type:"checkbox",checked:g,onChange:R=>v(R.target.checked),className:"dai-checkbox-error dai-checkbox dai-checkbox-sm"}),h.jsx("span",{className:"dai-label-text",children:"Expense"})]})}),h.jsx("div",{className:"dai-form-control",children:h.jsxs("label",{className:"dai-cursor-pointer dai-label justify-start gap-2",children:[h.jsx("input",{disabled:M,type:"checkbox",checked:m,onChange:R=>x(R.target.checked),className:"dai-checkbox-success dai-checkbox dai-checkbox-sm"}),h.jsx("span",{className:"dai-label-text",children:"Income"})]})})]}),h.jsxs("div",{className:"flex w-full items-center",children:[h.jsx("div",{className:"flex flex-1 items-center pl-2",children:M&&h.jsx("span",{className:"dai-loading dai-loading-sm bg-primary"})}),h.jsxs("div",{className:"flex items-center justify-center gap-4",children:[h.jsx("button",{disabled:M||!c,onClick:()=>u(R=>R?new Date(d==="everymonth"?R.setFullYear(R.getFullYear()-1):R.setMonth(R.getMonth()-1)):void 0),className:"text-lg disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-left"})}),h.jsx("span",{className:"w-[8rem] text-center",children:c?d==="everymonth"?DR.format(c):OR.format(c):"All time"}),h.jsx("button",{disabled:M||!c||d==="everymonth"&&c.getFullYear()===Tn().getFullYear()||d==="everyday"&&c.getMonth()===Tn().getMonth(),onClick:()=>u(R=>R?new Date(d==="everymonth"?R.setFullYear(R.getFullYear()+1):R.setMonth(R.getMonth()+1)):void 0),className:"text-lg disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-right"})})]}),h.jsx("div",{className:"flex flex-1 justify-end",children:h.jsx(Gn,{disabled:M,options:[{icon:"lucide:calendar-days",label:c?"All time":d==="everymonth"?"This year":"This month",onClick:()=>u(R=>R?void 0:Tn())}]})})]})]}),h.jsx("div",{className:"w-full rounded-xl bg-base-100 p-4",children:h.jsx(B1,{data:N,className:"h-56",options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{type:"logarithmic",ticks:{color:e["base-content"],callback:R=>typeof R=="string"?R:U1(R/(R>=1e3?1e3:1))+(R>=1e3?"K":"")}},x:{ticks:{color:e["base-content"],callback:(R,K)=>typeof R=="string"?R:L[K]%100}}}}})}),(g||m)&&h.jsxs("div",{className:"grid w-full gap-2 rounded-xl bg-base-100 p-4",children:[h.jsx("span",{className:"font-semibold",children:"Filter category"}),h.jsxs("div",{className:"grid w-full gap-2 text-xs xs:text-sm",children:[h.jsxs("select",{disabled:!g||M,value:i,onChange:R=>o(R.target.value),className:"dai-select dai-select-bordered w-full",children:[h.jsx("option",{value:"",children:"Select expense"}),n.filter(R=>R.type==="expense").map((R,K)=>h.jsx("option",{value:R.id,children:R.name},K))]}),h.jsxs("select",{disabled:!m||M,value:a,onChange:R=>l(R.target.value),className:"dai-select dai-select-bordered w-full",children:[h.jsx("option",{value:"",children:"Select income"}),n.filter(R=>R.type==="income").map((R,K)=>h.jsx("option",{value:R.id,children:R.name},K))]})]})]})]})},AR=({onClose:t,reports:e})=>{const n=b.useRef();b.useEffect(()=>()=>t(n.current),[]);const r=s=>{n.current=s,xi()};return h.jsx(Vx,{title:"Select Report",children:h.jsx("div",{className:"mt-4 flex flex-col items-center gap-3",children:e.map(s=>h.jsx("button",{onClick:()=>r(s.value),className:"dai-btn dai-btn-primary dai-btn-block",children:s.label},s.value))})})};Mi.register(la,ca,Mo,Gs,tp,np,jc);const IR=gn(),FR=new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}),zR=new Intl.DateTimeFormat("en-US",{year:"numeric"}),_l=()=>{const t=IR.get($t),e=new Date;return!(t!=null&&t.month_end_date)||e.getDate()<=t.month_end_date||(e.setDate(1),e.setMonth(e.getMonth()+1)),e},$R=()=>{const[t]=Z(Lt),[e]=Z(Zx),[n]=Z($t),[r,s]=b.useState(_l()),[i,o]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState([]),[d,f]=b.useState(!1),[g,v]=b.useState(null),m=b.useMemo(()=>a||d,[a,d]),x=b.useMemo(()=>{if(!g)return[];let k=g;return c.map(j=>(k+=j.amount,{...j,amount:k}))},[c,g]),p=b.useMemo(()=>{if(!a&&g!=null)return x.length===0?g:x[0].amount},[x,g,a]),y=b.useMemo(()=>{if(!a&&g!=null)return x.length===0?g:x[x.length-1].amount},[x,g,a]),_=b.useMemo(()=>[...new Set([...x.map(k=>parseInt(k.occurred_at.split("-").join("")))])],[x]),w=b.useMemo(()=>({labels:_,datasets:[{label:"Expense Flow",fill:!1,tension:.2,borderColor:e.error,data:x.map(k=>({y:k.amount,x:parseInt(k.occurred_at.split("-").join(""))})),pointHitRadius:10}]}),[x,e,_]);return b.useEffect(()=>{(async()=>{const k=r?i?new Date(r.getFullYear(),n!=null&&n.month_end_date?r.getMonth()-1:r.getMonth(),n!=null&&n.month_end_date?n.month_end_date:0):new Date(r.getFullYear(),0,0):new Date(1970,0,2);f(!0);const j=await Fn.getCurrentBalanceAt({userId:(t==null?void 0:t.user.id)??"",lastDate:k});if(f(!1),j.error){Y.error(j.error.message);return}v(j.data??null)})()},[r]),b.useEffect(()=>{(async()=>{l(!0);let k;if(i?k=await Fn.getCashFlowEveryDay({trx_type:["expense","income"],userId:(t==null?void 0:t.user.id)??"",month:r??new Date,categories:[]}):k=await Fn.getCashFlowEveryMonth({trx_type:["expense","income"],userId:(t==null?void 0:t.user.id)??"",year:(r==null?void 0:r.getFullYear())??new Date().getFullYear(),categories:[]}),l(!1),k.error){Y.error(k.error.message);return}u(k.data??[])})()},[t,r]),h.jsxs("div",{className:"flex flex-1 flex-col items-center gap-2 overflow-x-auto p-2",children:[h.jsx("div",{className:"flex w-full flex-col items-center gap-2 rounded-xl bg-base-100 p-2",children:h.jsxs("div",{className:"flex w-full items-center",children:[h.jsx("div",{className:"flex flex-1 items-center pl-2",children:m&&h.jsx("span",{className:"dai-loading dai-loading-sm bg-primary"})}),h.jsxs("div",{className:"flex items-center justify-center gap-4",children:[h.jsx("button",{disabled:m||!r,onClick:()=>s(k=>k?new Date(i?k.setMonth(k.getMonth()-1):k.setFullYear(k.getFullYear()-1)):void 0),className:"text-lg disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-left"})}),h.jsx("span",{className:"w-[8rem] text-center",children:r?i?FR.format(r):zR.format(r):"All time"}),h.jsx("button",{disabled:m||!r||!i&&r.getFullYear()===new Date().getFullYear()||i&&r.getMonth()===_l().getMonth(),onClick:()=>s(k=>k?new Date(i?k.setMonth(k.getMonth()+1):k.setFullYear(k.getFullYear()+1)):void 0),className:"text-lg disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-right"})})]}),h.jsx("div",{className:"flex flex-1 justify-end",children:h.jsx(Gn,{disabled:m,options:[{icon:"lucide:calendar-days",label:i?"Every Month":"Every Day",onClick:()=>{s(_l()),o(k=>!k)}},{icon:"lucide:infinity",label:r?"All time":i?"This month":"This year",onClick:()=>s(k=>k?void 0:_l())}]})})]})}),h.jsxs("div",{className:"w-full space-y-1 rounded-xl bg-base-100 p-4 text-sm",children:[h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("span",{children:d?h.jsx(ve,{children:"Previous:"}):"Previous:"}),h.jsx("span",{className:"font-semibold "+(g?g<0?"text-error":"text-success":""),children:d?h.jsx(ve,{children:Tt(1e7)}):h.jsx(hn,{amount:g??0})})]}),h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("span",{children:p==null?h.jsx(ve,{children:"Start:"}):"Start:"}),h.jsx("span",{className:"font-semibold "+(p?p<0?"text-error":"text-success":""),children:p==null?h.jsx(ve,{children:Tt(1e7)}):h.jsx(hn,{amount:p})})]}),h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("span",{children:y==null?h.jsx(ve,{children:"Last:"}):"Last:"}),h.jsx("span",{className:"font-semibold "+(y?y<0?"text-error":"text-success":""),children:y==null?h.jsx(ve,{children:Tt(1e7)}):h.jsx(hn,{amount:y})})]})]}),h.jsx("div",{className:"w-full rounded-xl bg-base-100 p-4",children:h.jsx(B1,{data:w,className:"h-56",options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{type:"linear",ticks:{color:e["base-content"],callback:k=>{if(typeof k=="string")return k;const j=Math.abs(k);return U1(k/(j>=1e3?1e3:1))+(j>=1e3?"K":"")}}},x:{ticks:{color:e["base-content"],callback:(k,j)=>typeof k=="string"?k:_[j]%100}}}}})})]})},BR=()=>{const[,t]=Z(kn),e=Rt(),{pathname:n}=Ir(),r=b.useMemo(()=>[{value:"/report",label:"Expense Overview"},{value:"/report/cash-flow",label:"Cash Flow"},{value:"/report/assets-flow",label:"Assets Flow"}],[]),s=b.useMemo(()=>r.find(i=>n===i.value),[r,n]);return b.useEffect(()=>{t({title:(s==null?void 0:s.label)??"Report",revealer:!0,actions:[h.jsx("button",{onClick:()=>nu(AR,{reports:r,onClose:i=>i&&e(i)}),className:"ml-2 text-2xl",children:h.jsx(we,{icon:"lucide:menu"})})]})},[s]),h.jsxs(Ei,{children:[h.jsx(Ge,{path:"/",element:h.jsx(MR,{})}),h.jsx(Ge,{path:"/cash-flow",element:h.jsx(NR,{})}),h.jsx(Ge,{path:"/assets-flow",element:h.jsx($R,{})})]})},UR=({category:t,categoryType:e,onDeleted:n})=>{const r=Rt(),s=async()=>{if(!await wa({title:"Delete category",body:"Are you sure you want to delete this category?"}))return;je(!0);const o=await bo.deleteCategory(t.id);if(je(!1),o.error){Y.error(o.error.message);return}n(t.id)};return h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md hover:cursor-pointer",children:[h.jsx("img",{onClick:()=>r(`/accounts/transaction?category=${t.id}`),src:`${ru}/${t.logo}`,className:"size-9 xs:size-12"}),h.jsx("div",{className:"flex flex-1 flex-col gap-0.5",children:h.jsx("p",{className:"text-sm xs:text-base",children:t.name})}),h.jsx(Gn,{options:[{icon:"lucide:pencil",label:"Edit",onClick:()=>r(`/category/${t.id}?type=${e}`)},{icon:"lucide:trash",label:"Delete",onClick:s}]})]})},HR=()=>h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md",children:[h.jsx(ve,{children:h.jsx("div",{className:"size-9 xs:size-12"})}),h.jsx("div",{className:"flex flex-1 flex-col gap-0.5",children:h.jsx(ve,{children:h.jsx("p",{className:"text-sm xs:text-base",children:"Transportation"})})}),h.jsx(ve,{children:h.jsx(Gn,{options:[]})})]}),WR=()=>{const[,t]=Z(kn),e=Rt(),{data:n,loading:r,refresh:s,fetched:i,setData:o}=iu(),[a,l]=Yc(),c=b.useMemo(()=>a.get("type")==="income"?"income":"expense",[a]),u=b.useMemo(()=>n.filter(d=>d.type===c),[n,c]);return b.useEffect(()=>{t({title:"Categories",actions:[h.jsx("button",{onClick:()=>e(`/category/new?type=${c}`),className:"dai-btn dai-btn-success dai-btn-xs xs:dai-btn-sm",children:"Create"})]})},[c]),b.useEffect(()=>{i||(async()=>{const d=await s();d&&Y.error(d)})()},[]),h.jsxs("div",{className:"flex flex-1 flex-col gap-2 p-2",children:[h.jsx("div",{role:"tablist",className:"dai-tabs-boxed dai-tabs bg-base-100",children:["expense","income"].map((d,f)=>h.jsx("button",{role:"tab",onClick:()=>l({type:d}),className:"dai-tab capitalize "+(d===c?"dai-tab-active":""),children:d},f))}),h.jsx("div",{className:"grid grid-cols-1 gap-2",children:r?Array.from({length:14}).map((d,f)=>h.jsx(HR,{},f)):u.length===0?h.jsx("p",{className:"text-center",children:"No categories found"}):u.map((d,f)=>h.jsx(UR,{category:d,categoryType:c,onDeleted:g=>o(v=>v.filter(m=>m.id!==g))},f))})]})},To=gn(),li=Ne({loading:!1,fetched:!1,data:[]});async function VR(){To.set(li,e=>({...e,loading:!0,fetched:!1}));const t=await Ut.storage.from("images").list("categories");if(t.error)return To.set(li,e=>({...e,loading:!1})),t.error.message;To.set(li,{loading:!1,fetched:!0,data:(t.data??[]).map(e=>e.name)})}function YR(t){const e=To.get(li);e.fetched&&To.set(li,{...e,data:typeof t=="function"?t(e.data):t})}const KR=Ne(t=>({refresh:VR,setData:YR,...t(li)})),qR=()=>{const[t]=Z(KR);return t},E0=()=>{const[t]=Z(Lt),[,e]=Z(kn),n=Rt(),[r]=Yc(),{id:s}=Zv(),[i,o]=b.useState(),{setData:a}=iu(),{data:l,refresh:c,fetched:u,loading:d}=qR(),[f,g]=b.useState(!1),[v,m]=b.useState((i==null?void 0:i.name)??""),[x,p]=b.useState(0),y=b.useMemo(()=>!v,[v]);b.useEffect(()=>{e({title:s?"Update Category":"Create "+(r.get("type")==="income"?"Income":"Expense"),back:!0})},[r]),b.useEffect(()=>{u||(async()=>{const w=await c();if(w)return Y.error(w)})()},[]),b.useEffect(()=>{s&&(async()=>{je(!0);const{data:w,error:k}=await bo.getCategory(s);if(je(!1),w)return o(w);Y.error(!w||!k?"Category not found":k.message),n("/category",{replace:!0})})()},[]),b.useEffect(()=>{i&&m(i.name)},[i]),b.useEffect(()=>{u&&p(i!=null&&i.logo?l.indexOf(i.logo):0)},[u,l,i]);const _=async()=>{g(!0);let w;if(!s||!i?w=await bo.createCategory({name:v,logo:l[x],type:r.get("type")==="income"?"income":"expense",user_id:t.user.id}):w=await bo.updateCategory(s,{name:v,logo:l[x],type:i.type}),g(!1),w.error||!w.data){Y.error(!w.data||!w.error?"Something went wrong":w.error.message);return}a(k=>s?k.map(j=>j.id===s?w.data:j):[w.data,...k]),history.back()};return h.jsx("div",{className:"flex flex-1 flex-col gap-4 p-2",children:h.jsxs("form",{onSubmit:w=>{w.preventDefault(),_()},className:"grid grid-cols-1 gap-2",children:[h.jsxs("label",{className:"dai-form-control w-full",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Name"})}),h.jsx("input",{value:v,onChange:w=>m(w.target.value),type:"text",placeholder:"Category Name",className:"dai-input dai-input-bordered"})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Logo"})}),h.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2",children:d?Array.from({length:10}).map((w,k)=>h.jsx("button",{type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 outline-transparent",children:h.jsx("div",{className:"dai-skeleton size-12 rounded-lg"})},k)):l.length===0?h.jsx("div",{}):l.map((w,k)=>h.jsx("button",{onClick:()=>p(k),type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 "+(k===x?"outline-primary":"outline-transparent"),children:h.jsx("img",{className:"size-12 rounded-lg",src:`${ru}/${w}`,alt:""},k)},k))})]}),h.jsx("div",{className:"flex justify-end pt-2",children:h.jsx(su,{size:"sm",disabled:y,loading:f,type:"submit",className:"dai-btn-primary",children:"Submit"})})]})})},XR=()=>h.jsxs(Ei,{children:[h.jsx(Ge,{path:"/",element:h.jsx(WR,{})}),h.jsx(Ge,{path:"/new",element:h.jsx(E0,{})}),h.jsx(Ge,{path:"/:id",element:h.jsx(E0,{})})]}),H1=[{icon:"lucide:notebook-text",link:"/transaction",title:"Trx",el:fC,layout:!0},{icon:"lucide:chart-pie",link:"/report",title:"Report",el:BR,layout:!0},{icon:"lucide:wallet",link:"/accounts",title:"Account",el:EC,layout:!0},{icon:"lucide:group",link:"/category",title:"Categories",el:XR,layout:!0},{icon:"lucide:settings",link:"/settings",title:"Settings",el:vC}],GR=()=>{const t=Rt(),[e,n]=Z(Lt),[r,s]=b.useState(!1),[i,o]=b.useState(""),[a,l]=b.useState(""),c=b.useDeferredValue(!i||!a);b.useEffect(()=>{if(!e)return;let f=new URLSearchParams(window.location.search).get("to");f&&(f=Bx(f,Tr.BASE_URL));const g=f??H1[0].link;t(g)},[e]);const u=async()=>{const f=await Ut.auth.signInWithOAuth({provider:"google"});if(f.error){Y.error(f.error.message);return}},d=async()=>{s(!0);const{error:f,data:g}=await Ut.auth.signInWithPassword({email:i,password:a});if(s(!1),f){Y.error(f.message);return}n(g.session)};return h.jsx("div",{className:"flex min-h-dvh items-center justify-center",children:h.jsxs("div",{className:"flex w-80 flex-col items-center gap-4 rounded-xl border border-base-300 bg-base-100 p-6 shadow-md",children:[h.jsxs("form",{onSubmit:f=>{f.preventDefault(),d()},className:"flex w-full flex-col items-center gap-4",children:[h.jsx("h2",{className:"text-center text-2xl font-medium",children:"Login"}),h.jsx("input",{type:"email",value:i,onChange:f=>o(f.target.value),placeholder:"Email",className:"dai-input dai-input-sm dai-input-bordered w-full xs:dai-input-md",required:!0}),h.jsx("input",{type:"password",value:a,onChange:f=>l(f.target.value),placeholder:"Password",className:"dai-input dai-input-sm dai-input-bordered w-full xs:dai-input-md",required:!0}),h.jsx(su,{size:"sm",disabled:c,loading:r,className:"dai-btn-primary",children:"Submit"})]}),h.jsxs("span",{className:"flex w-full items-center gap-2 text-sm",children:[h.jsx("hr",{className:"flex-1 border-base-300"}),h.jsx("span",{children:"OR"}),h.jsx("hr",{className:"flex-1 border-base-300"})]}),h.jsx("div",{children:h.jsx("button",{disabled:!0,onClick:u,className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide",children:"Login with Google"})})]})})},JR=()=>{const[t]=Z(Lt),e=Rt();return b.useEffect(()=>{if(!t)return;const r=new URLSearchParams(window.location.search).get("to")??"/";e(r)},[t]),h.jsx("h1",{children:"Register"})},QR=({home:t})=>{const[,e]=Z(kn);return b.useEffect(()=>{e({title:"Not found"})},[]),h.jsx("div",{className:"grid flex-1 place-items-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-10",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-3xl font-bold",children:"404 | Not Found"}),h.jsx("p",{children:"Sorry, the page you are looking for does not exist."})]}),h.jsx(Of,{replace:!0,to:t,className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide",children:"Back to home"})]})})},C0=8,ZR=()=>{var l,c;const[t]=Z(kn),[e,n]=b.useState(!1),[r,s]=b.useState(0),[i]=Z($t),[o,a]=Z(Yx);return b.useEffect(()=>{const u=()=>s(window.scrollY);return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]),b.useEffect(()=>{if(r<=C0&&e)return n(!1);if(r>C0&&!e)return n(!0)},[r]),h.jsxs("div",{children:[h.jsx("div",{className:"fixed left-0 top-0 z-20 grid h-14 w-full place-items-center bg-secondary text-secondary-content shadow-md xs:h-16 "+(e?"opacity-90":""),children:h.jsxs("div",{className:"flex w-full items-center justify-between px-6 md:w-[47rem]",children:[h.jsxs("div",{className:"flex items-center gap-4 text-3xl",children:[t.back&&h.jsx("button",{onClick:()=>history.back(),className:"flex items-center gap-4 text-xl xs:text-2xl",children:h.jsx(we,{icon:"mdi:arrow-left"})}),t.title?typeof t.title!="string"?t.title:h.jsx("span",{className:"text-lg font-semibold xs:text-xl",children:t.title}):null,(l=t.leftActions)==null?void 0:l.map((u,d)=>h.jsx(b.Fragment,{children:u},d))]}),h.jsxs("div",{className:"flex items-center gap-4 text-3xl",children:[(i==null?void 0:i.hide_amount)&&t.revealer&&h.jsx("button",{onClick:()=>a(u=>!u),className:"text-lg text-secondary-content xs:text-xl",children:o?h.jsx(we,{icon:"lucide:eye"}):h.jsx(we,{icon:"lucide:eye-off"})}),(c=t.actions)==null?void 0:c.map((u,d)=>h.jsx(b.Fragment,{children:u},d))]})]})}),h.jsx("div",{className:"h-14 xs:h-16"})]})};function eL(){const[t,e]=b.useState({width:window.innerWidth,height:window.innerHeight});return b.useLayoutEffect(()=>{const n=()=>{e({width:window.innerWidth,height:window.innerHeight})};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),t}const tL=({icon:t,title:e,href:n})=>h.jsxs(v2,{to:n,className:({isActive:r})=>["group flex w-[4rem] flex-col items-center rounded-2xl px-3 py-1 transition-all duration-300 xs:w-[5rem]",r?"is-active bg-secondary/10 font-semibold text-secondary":""].join(" "),children:[h.jsx(we,{icon:t,className:"text-xl xs:text-2xl"}),h.jsx("span",{className:"hidden text-center text-xxs group-[.is-active]:block xs:text-xs",children:e})]}),nL=({routes:t})=>{const[e,n,r]=xh(!0),s=b.useRef(0),i=eL();return b.useEffect(()=>{const o=()=>{const a=window.scrollY;if(a<=0){n(!0);return}a>s.current&&r.current?n(!1):a<s.current&&!r.current&&n(!0),s.current=a};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),h.jsx("div",{children:h.jsx("div",{className:`${i.height<600||!e?"translate-y-full":"transform-none"} fixed bottom-0 left-0 z-20 grid h-16 w-full place-items-center bg-base-100 shadow-t-md transition-transform`,children:h.jsx("div",{className:"flex w-full items-center justify-evenly py-1 md:w-[47rem]",children:t.map((o,a)=>h.jsx(tL,{href:o.link,title:o.title,icon:o.icon},a))})})})},rL=()=>{const{pathname:t}=Ir();return b.useEffect(()=>{window.scrollTo(0,0)},[t]),null},rp=()=>h.jsxs("div",{className:"relative grid place-items-center",children:[h.jsx("span",{className:"fixed size-20 animate-spin rounded-full border-4 border-b-transparent border-l-transparent border-r-primary border-t-primary"}),h.jsx("span",{className:"fixed size-16 animate-reverse-spin rounded-full border-4 border-b-transparent border-l-warning border-r-transparent border-t-warning"}),h.jsx("span",{className:"fixed size-12 animate-spin rounded-full border-4 border-b-primary border-l-primary border-r-transparent border-t-transparent"})]}),W1="/duitify/error.svg",sL=()=>{const[t]=Z($t),[,e]=Z(zf);b.useEffect(()=>{n()},[]);const n=()=>{nu(Xx,{onClose:r,dismissible:!1})},r=async s=>{if(!(t!=null&&t.pin))return;je(!0);const[i,o]=t.pin.split(":"),a=o+t.user_id,l=await Gx(s,a);if(je(!1),!l||i!==l){Y.error(l?"Invalid PIN":"Failed to generate hash"),n();return}e(!0)};return h.jsx("div",{className:"grid min-h-dvh place-items-center bg-base-200"})};function iL(){return/Mobi|Android|iPhone|iPad|iPod|Windows Phone/i.test(navigator.userAgent)}const oL=()=>{const t=Rt(),[e]=Z(Lt),[n]=b.useState(H1),[r,s]=b.useState(!0),[i,o]=Z($t),[a]=Z(zf),[l,c]=b.useState(""),[u,d]=b.useState(0),f=b.useMemo(()=>n[0].link,[n]),g=sx(({historyAction:v,currentLocation:m,nextLocation:x})=>v==="POP"&&m.pathname===f&&x.pathname!==f);return b.useEffect(()=>{g.state==="blocked"&&_h()},[g]),b.useEffect(()=>{let v=window.location.pathname;if(!e){const x=v!=="/"?`/login?${new URLSearchParams({to:v}).toString()}`:"/login";t(x,{replace:!0});return}if(f==="/")return;Ux(v,"/")===Tr.BASE_URL&&t(f,{replace:!0})},[e]),b.useEffect(()=>{e&&(async()=>{s(!0);const{data:v,error:m}=await Xr.getSetting(e.user.id);if(s(!1),m){c(m.message);return}if(!v){c("Something went wrong, please try again");return}o(v)})()},[e,u]),e?i&&i.pin&&!a&&(!i.pin_desktop_only||!iL())?h.jsx(sL,{}):r||l?h.jsx("div",{className:"grid min-h-dvh place-items-center",children:r?h.jsx(rp,{}):h.jsxs("div",{className:"flex flex-col items-center gap-6",children:[h.jsx("img",{className:"h-64",src:W1,alt:""}),h.jsx("span",{className:"text-xl font-semibold",children:l}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("button",{onClick:()=>d(v=>v+1),className:"dai-btn dai-btn-primary",children:"Try again"}),h.jsx("button",{onClick:_h,className:"dai-btn dai-btn-ghost underline",children:"Relogin"})]})]})}):h.jsxs("div",{className:"flex min-h-dvh flex-col items-center bg-base-200 text-base-content",children:[h.jsx(rL,{}),h.jsx(ZR,{}),h.jsx("main",{className:"grid w-full flex-1 md:w-[47rem]",children:h.jsxs(Ei,{children:[n.map(v=>h.jsx(Ge,{path:v.link+(v.layout?"/*":""),element:h.jsx(v.el,{})},v.link)),h.jsx(Ge,{path:"*",element:h.jsx(QR,{home:f})})]})}),h.jsx(nL,{routes:n})]}):null},aL=()=>h.jsxs(Ei,{children:[h.jsx(Ge,{path:"/login",element:h.jsx(GR,{})}),h.jsx(Ge,{path:"/register",element:h.jsx(JR,{})}),h.jsx(Ge,{path:"*",element:h.jsx(oL,{})})]}),lL=()=>{const[t,e]=Z(hx);return t?h.jsx("div",{className:"fixed left-0 top-0 z-50 grid h-dvh w-full place-items-center bg-black bg-opacity-40",children:h.jsx(rp,{})}):null},cL=({})=>{const[t]=Z(Wx),e=sx(t.length>0),n=()=>{t.length!==0&&t[t.length-1].dismissible&&xi()};b.useEffect(()=>(window.addEventListener("keyup",r),()=>window.removeEventListener("keyup",r)),[]);const r=s=>{s.key==="Escape"&&n()};return b.useEffect(()=>{const s=()=>{e.state==="blocked"&&n()};return window.addEventListener("popstate",s),()=>window.removeEventListener("popstate",s)},[e]),h.jsxs("div",{onClick:n,className:"fixed left-0 top-0 z-30 flex min-h-dvh w-full items-center justify-center bg-black bg-opacity-60 sm:items-center",children:[...t.map((s,i)=>h.jsx("div",{onClick:o=>o.stopPropagation(),hidden:i!==t.length-1,className:"absolute w-full px-3 sm:w-fit sm:px-0",children:h.jsx(s.Element,{...s.props,isOpen:i===t.length-1})},i))]})},uL=()=>{const[t]=Z(Wx);return b.useEffect(()=>{if(t.length===0){document.body.style.overflowY="auto";return}document.body.style.overflowY="hidden"},[t]),t.length===0?null:h.jsx(cL,{})};function dL(){const[t]=Z(Qx),[e,n]=b.useState(!0),[r,s]=b.useState(!1),[,i]=Z(Lt);b.useEffect(()=>{document.documentElement.setAttribute("data-theme",t)},[t]),b.useEffect(()=>{o()},[]);const o=async()=>{n(!0),s(!1);const{error:a,data:l}=await Ut.auth.getSession();if(a){n(!1),s(!0);return}i(l.session),n(!1)};return h.jsxs(h.Fragment,{children:[!e&&!r?h.jsx(aL,{}):e?h.jsx("div",{className:"grid min-h-dvh w-full place-items-center",children:h.jsx(rp,{})}):r?h.jsx("div",{className:"grid min-h-dvh w-full place-items-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-6",children:[h.jsx("img",{className:"h-64",src:W1,alt:""}),h.jsx("span",{className:"text-xl font-semibold",children:"It's looks like something went wrong"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("button",{onClick:()=>o(),className:"dai-btn dai-btn-primary",children:"Try again"}),h.jsx("button",{onClick:()=>{s(!1)},className:"dai-btn dai-btn-ghost underline",children:"Relogin"})]})]})}):null,h.jsx(q2,{position:"top-center",theme:t}),h.jsx(uL,{}),h.jsx(lL,{})]})}function hL(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t;let a,l,c;const u=async(f=!0)=>{await l,await(c==null?void 0:c())};async function d(){if("serviceWorker"in navigator){if(a=await ms(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/duitify/sw.js",{scope:"/duitify/",type:"classic"})).catch(f=>{o==null||o(f)}),!a)return;c=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let f=!1;const g=()=>{f=!0,a==null||a.addEventListener("controlling",v=>{v.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",v=>{typeof v.isUpdate>"u"?typeof v.isExternal<"u"?v.isExternal?g():!f&&(r==null||r()):v.isExternal?window.location.reload():!f&&(r==null||r()):v.isUpdate||r==null||r()}),a.addEventListener("waiting",g),a.addEventListener("externalwaiting",g)}a.register({immediate:e}).then(f=>{i?i("/duitify/sw.js",f):s==null||s(f)}).catch(f=>{o==null||o(f)})}}return l=d(),u}const fL=hL({onNeedRefresh(){console.log("Content is ready to be updated."),alert("New content is available, please refresh."),fL(!0)},onOfflineReady(){console.log("Content is now offline ready.")},onRegisteredSW(){console.log("Service worker has been registered.")}}),pL=i2(dc(h.jsx(Ge,{path:"*",element:h.jsx(dL,{})})),{basename:"/duitify"});ud.createRoot(document.getElementById("root")).render(h.jsx(f2,{router:pL}));export{M0 as g};
