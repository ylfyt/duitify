var r_=Object.defineProperty;var s_=(t,e,n)=>e in t?r_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ne=(t,e,n)=>s_(t,typeof e!="symbol"?e+"":e,n);function k0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function S0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function i_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var j0={exports:{}},kc={},E0={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sa=Symbol.for("react.element"),o_=Symbol.for("react.portal"),a_=Symbol.for("react.fragment"),l_=Symbol.for("react.strict_mode"),c_=Symbol.for("react.profiler"),u_=Symbol.for("react.provider"),d_=Symbol.for("react.context"),h_=Symbol.for("react.forward_ref"),f_=Symbol.for("react.suspense"),p_=Symbol.for("react.memo"),m_=Symbol.for("react.lazy"),up=Symbol.iterator;function g_(t){return t===null||typeof t!="object"?null:(t=up&&t[up]||t["@@iterator"],typeof t=="function"?t:null)}var C0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P0=Object.assign,M0={};function ki(t,e,n){this.props=t,this.context=e,this.refs=M0,this.updater=n||C0}ki.prototype.isReactComponent={};ki.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ki.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function T0(){}T0.prototype=ki.prototype;function jh(t,e,n){this.props=t,this.context=e,this.refs=M0,this.updater=n||C0}var Eh=jh.prototype=new T0;Eh.constructor=jh;P0(Eh,ki.prototype);Eh.isPureReactComponent=!0;var dp=Array.isArray,L0=Object.prototype.hasOwnProperty,Ch={current:null},N0={key:!0,ref:!0,__self:!0,__source:!0};function R0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)L0.call(e,r)&&!N0.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:sa,type:t,key:i,ref:o,props:s,_owner:Ch.current}}function y_(t,e){return{$$typeof:sa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ph(t){return typeof t=="object"&&t!==null&&t.$$typeof===sa}function v_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hp=/\/+/g;function lu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?v_(""+t.key):e.toString(36)}function pl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sa:case o_:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+lu(o,0):r,dp(s)?(n="",t!=null&&(n=t.replace(hp,"$&/")+"/"),pl(s,e,n,"",function(c){return c})):s!=null&&(Ph(s)&&(s=y_(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hp,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",dp(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+lu(i,a);o+=pl(i,e,n,l,s)}else if(l=g_(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+lu(i,a++),o+=pl(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pa(t,e,n){if(t==null)return t;var r=[],s=0;return pl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function x_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xt={current:null},ml={transition:null},__={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:ml,ReactCurrentOwner:Ch};function O0(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Pa,forEach:function(t,e,n){Pa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pa(t,function(){e++}),e},toArray:function(t){return Pa(t,function(e){return e})||[]},only:function(t){if(!Ph(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=ki;oe.Fragment=a_;oe.Profiler=c_;oe.PureComponent=jh;oe.StrictMode=l_;oe.Suspense=f_;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=__;oe.act=O0;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=P0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ch.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)L0.call(e,l)&&!N0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:sa,type:t.type,key:s,ref:i,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:d_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:u_,_context:t},t.Consumer=t};oe.createElement=R0;oe.createFactory=function(t){var e=R0.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:h_,render:t}};oe.isValidElement=Ph;oe.lazy=function(t){return{$$typeof:m_,_payload:{_status:-1,_result:t},_init:x_}};oe.memo=function(t,e){return{$$typeof:p_,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=ml.transition;ml.transition={};try{t()}finally{ml.transition=e}};oe.unstable_act=O0;oe.useCallback=function(t,e){return xt.current.useCallback(t,e)};oe.useContext=function(t){return xt.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return xt.current.useDeferredValue(t)};oe.useEffect=function(t,e){return xt.current.useEffect(t,e)};oe.useId=function(){return xt.current.useId()};oe.useImperativeHandle=function(t,e,n){return xt.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return xt.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return xt.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return xt.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return xt.current.useReducer(t,e,n)};oe.useRef=function(t){return xt.current.useRef(t)};oe.useState=function(t){return xt.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return xt.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return xt.current.useTransition()};oe.version="18.3.1";E0.exports=oe;var b=E0.exports;const de=S0(b),w_=k0({__proto__:null,default:de},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_=b,k_=Symbol.for("react.element"),S_=Symbol.for("react.fragment"),j_=Object.prototype.hasOwnProperty,E_=b_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C_={key:!0,ref:!0,__self:!0,__source:!0};function D0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)j_.call(e,r)&&!C_.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:k_,type:t,key:i,ref:o,props:s,_owner:E_.current}}kc.Fragment=S_;kc.jsx=D0;kc.jsxs=D0;j0.exports=kc;var d=j0.exports,id={},A0={exports:{}},Ut={},I0={exports:{}},F0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,F){var H=I.length;I.push(F);e:for(;0<H;){var A=H-1>>>1,$=I[A];if(0<s($,F))I[A]=F,I[H]=$,H=A;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var F=I[0],H=I.pop();if(H!==F){I[0]=H;e:for(var A=0,$=I.length,Z=$>>>1;A<Z;){var X=2*(A+1)-1,le=I[X],ce=X+1,Qe=I[ce];if(0>s(le,H))ce<$&&0>s(Qe,le)?(I[A]=Qe,I[ce]=H,A=ce):(I[A]=le,I[X]=H,A=X);else if(ce<$&&0>s(Qe,H))I[A]=Qe,I[ce]=H,A=ce;else break e}}return F}function s(I,F){var H=I.sortIndex-F.sortIndex;return H!==0?H:I.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(I){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=I)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function w(I){if(g=!1,_(I),!v)if(n(l)!==null)v=!0,ae(S);else{var F=n(c);F!==null&&he(w,F.startTime-I)}}function S(I,F){v=!1,g&&(g=!1,m(k),k=-1),p=!0;var H=f;try{for(_(F),h=n(l);h!==null&&(!(h.expirationTime>F)||I&&!O());){var A=h.callback;if(typeof A=="function"){h.callback=null,f=h.priorityLevel;var $=A(h.expirationTime<=F);F=t.unstable_now(),typeof $=="function"?h.callback=$:h===n(l)&&r(l),_(F)}else r(l);h=n(l)}if(h!==null)var Z=!0;else{var X=n(c);X!==null&&he(w,X.startTime-F),Z=!1}return Z}finally{h=null,f=H,p=!1}}var j=!1,C=null,k=-1,M=5,N=-1;function O(){return!(t.unstable_now()-N<M)}function L(){if(C!==null){var I=t.unstable_now();N=I;var F=!0;try{F=C(!0,I)}finally{F?q():(j=!1,C=null)}}else j=!1}var q;if(typeof y=="function")q=function(){y(L)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,re=Q.port2;Q.port1.onmessage=L,q=function(){re.postMessage(null)}}else q=function(){x(L,0)};function ae(I){C=I,j||(j=!0,q())}function he(I,F){k=x(function(){I(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,ae(S))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var H=f;f=F;try{return I()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,F){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var H=f;f=I;try{return F()}finally{f=H}},t.unstable_scheduleCallback=function(I,F,H){var A=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?A+H:A):H=A,I){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=H+$,I={id:u++,callback:F,priorityLevel:I,startTime:H,expirationTime:$,sortIndex:-1},H>A?(I.sortIndex=H,e(c,I),n(l)===null&&I===n(c)&&(g?(m(k),k=-1):g=!0,he(w,H-A))):(I.sortIndex=$,e(l,I),v||p||(v=!0,ae(S))),I},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(I){var F=f;return function(){var H=f;f=F;try{return I.apply(this,arguments)}finally{f=H}}}})(F0);I0.exports=F0;var P_=I0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_=b,Bt=P_;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z0=new Set,Mo={};function xs(t,e){ci(t,e),ci(t+"Capture",e)}function ci(t,e){for(Mo[t]=e,t=0;t<e.length;t++)z0.add(e[t])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),od=Object.prototype.hasOwnProperty,T_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fp={},pp={};function L_(t){return od.call(pp,t)?!0:od.call(fp,t)?!1:T_.test(t)?pp[t]=!0:(fp[t]=!0,!1)}function N_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function R_(t,e,n,r){if(e===null||typeof e>"u"||N_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _t(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ot[t]=new _t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ot[e]=new _t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ot[t]=new _t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ot[t]=new _t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ot[t]=new _t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ot[t]=new _t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ot[t]=new _t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ot[t]=new _t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ot[t]=new _t(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mh=/[\-:]([a-z])/g;function Th(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mh,Th);ot[e]=new _t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mh,Th);ot[e]=new _t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mh,Th);ot[e]=new _t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ot[t]=new _t(t,1,!1,t.toLowerCase(),null,!1,!1)});ot.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ot[t]=new _t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lh(t,e,n,r){var s=ot.hasOwnProperty(e)?ot[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(R_(e,n,s,r)&&(n=null),r||s===null?L_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yn=M_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ma=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),As=Symbol.for("react.fragment"),Nh=Symbol.for("react.strict_mode"),ad=Symbol.for("react.profiler"),$0=Symbol.for("react.provider"),B0=Symbol.for("react.context"),Rh=Symbol.for("react.forward_ref"),ld=Symbol.for("react.suspense"),cd=Symbol.for("react.suspense_list"),Oh=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),U0=Symbol.for("react.offscreen"),mp=Symbol.iterator;function Li(t){return t===null||typeof t!="object"?null:(t=mp&&t[mp]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,cu;function Qi(t){if(cu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cu=e&&e[1]||""}return`
`+cu+t}var uu=!1;function du(t,e){if(!t||uu)return"";uu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{uu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qi(t):""}function O_(t){switch(t.tag){case 5:return Qi(t.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 2:case 15:return t=du(t.type,!1),t;case 11:return t=du(t.type.render,!1),t;case 1:return t=du(t.type,!0),t;default:return""}}function ud(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case As:return"Fragment";case Ds:return"Portal";case ad:return"Profiler";case Nh:return"StrictMode";case ld:return"Suspense";case cd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case B0:return(t.displayName||"Context")+".Consumer";case $0:return(t._context.displayName||"Context")+".Provider";case Rh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Oh:return e=t.displayName||null,e!==null?e:ud(t.type)||"Memo";case rr:e=t._payload,t=t._init;try{return ud(t(e))}catch{}}return null}function D_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ud(e);case 8:return e===Nh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function H0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function A_(t){var e=H0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ta(t){t._valueTracker||(t._valueTracker=A_(t))}function W0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=H0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dd(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function V0(t,e){e=e.checked,e!=null&&Lh(t,"checked",e,!1)}function hd(t,e){V0(t,e);var n=jr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fd(t,e.type,n):e.hasOwnProperty("defaultValue")&&fd(t,e.type,jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fd(t,e,n){(e!=="number"||Rl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ji=Array.isArray;function Xs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function pd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Ji(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jr(n)}}function Y0(t,e){var n=jr(e.value),r=jr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function K0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function md(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?K0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var La,q0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(La=La||document.createElement("div"),La.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=La.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function To(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I_=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(t){I_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),io[e]=io[t]})});function G0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||io.hasOwnProperty(t)&&io[t]?(""+e).trim():e+"px"}function Q0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=G0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var F_=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gd(t,e){if(e){if(F_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function yd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vd=null;function Dh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xd=null,Zs=null,ei=null;function _p(t){if(t=aa(t)){if(typeof xd!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Pc(e),xd(t.stateNode,t.type,e))}}function J0(t){Zs?ei?ei.push(t):ei=[t]:Zs=t}function X0(){if(Zs){var t=Zs,e=ei;if(ei=Zs=null,_p(t),e)for(t=0;t<e.length;t++)_p(e[t])}}function Z0(t,e){return t(e)}function ey(){}var hu=!1;function ty(t,e,n){if(hu)return t(e,n);hu=!0;try{return Z0(t,e,n)}finally{hu=!1,(Zs!==null||ei!==null)&&(ey(),X0())}}function Lo(t,e){var n=t.stateNode;if(n===null)return null;var r=Pc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var _d=!1;if(Bn)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){_d=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{_d=!1}function z_(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var oo=!1,Ol=null,Dl=!1,wd=null,$_={onError:function(t){oo=!0,Ol=t}};function B_(t,e,n,r,s,i,o,a,l){oo=!1,Ol=null,z_.apply($_,arguments)}function U_(t,e,n,r,s,i,o,a,l){if(B_.apply(this,arguments),oo){if(oo){var c=Ol;oo=!1,Ol=null}else throw Error(D(198));Dl||(Dl=!0,wd=c)}}function _s(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ny(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wp(t){if(_s(t)!==t)throw Error(D(188))}function H_(t){var e=t.alternate;if(!e){if(e=_s(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return wp(s),t;if(i===r)return wp(s),e;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function ry(t){return t=H_(t),t!==null?sy(t):null}function sy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sy(t);if(e!==null)return e;t=t.sibling}return null}var iy=Bt.unstable_scheduleCallback,bp=Bt.unstable_cancelCallback,W_=Bt.unstable_shouldYield,V_=Bt.unstable_requestPaint,He=Bt.unstable_now,Y_=Bt.unstable_getCurrentPriorityLevel,Ah=Bt.unstable_ImmediatePriority,oy=Bt.unstable_UserBlockingPriority,Al=Bt.unstable_NormalPriority,K_=Bt.unstable_LowPriority,ay=Bt.unstable_IdlePriority,Sc=null,wn=null;function q_(t){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Sc,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:J_,G_=Math.log,Q_=Math.LN2;function J_(t){return t>>>=0,t===0?32:31-(G_(t)/Q_|0)|0}var Na=64,Ra=4194304;function Xi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Il(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Xi(a):(i&=o,i!==0&&(r=Xi(i)))}else o=n&~s,o!==0?r=Xi(o):i!==0&&(r=Xi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dn(e),s=1<<n,r|=t[n],e&=~s;return r}function X_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-dn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=X_(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function bd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ly(){var t=Na;return Na<<=1,!(Na&4194240)&&(Na=64),t}function fu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ia(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dn(e),t[e]=n}function ew(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-dn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ih(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var _e=0;function cy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uy,Fh,dy,hy,fy,kd=!1,Oa=[],gr=null,yr=null,vr=null,No=new Map,Ro=new Map,or=[],tw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kp(t,e){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":No.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(e.pointerId)}}function Ri(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=aa(e),e!==null&&Fh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function nw(t,e,n,r,s){switch(e){case"focusin":return gr=Ri(gr,t,e,n,r,s),!0;case"dragenter":return yr=Ri(yr,t,e,n,r,s),!0;case"mouseover":return vr=Ri(vr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return No.set(i,Ri(No.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ro.set(i,Ri(Ro.get(i)||null,t,e,n,r,s)),!0}return!1}function py(t){var e=Zr(t.target);if(e!==null){var n=_s(e);if(n!==null){if(e=n.tag,e===13){if(e=ny(n),e!==null){t.blockedOn=e,fy(t.priority,function(){dy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vd=r,n.target.dispatchEvent(r),vd=null}else return e=aa(n),e!==null&&Fh(e),t.blockedOn=n,!1;e.shift()}return!0}function Sp(t,e,n){gl(t)&&n.delete(e)}function rw(){kd=!1,gr!==null&&gl(gr)&&(gr=null),yr!==null&&gl(yr)&&(yr=null),vr!==null&&gl(vr)&&(vr=null),No.forEach(Sp),Ro.forEach(Sp)}function Oi(t,e){t.blockedOn===e&&(t.blockedOn=null,kd||(kd=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,rw)))}function Oo(t){function e(s){return Oi(s,t)}if(0<Oa.length){Oi(Oa[0],t);for(var n=1;n<Oa.length;n++){var r=Oa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gr!==null&&Oi(gr,t),yr!==null&&Oi(yr,t),vr!==null&&Oi(vr,t),No.forEach(e),Ro.forEach(e),n=0;n<or.length;n++)r=or[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<or.length&&(n=or[0],n.blockedOn===null);)py(n),n.blockedOn===null&&or.shift()}var ti=Yn.ReactCurrentBatchConfig,Fl=!0;function sw(t,e,n,r){var s=_e,i=ti.transition;ti.transition=null;try{_e=1,zh(t,e,n,r)}finally{_e=s,ti.transition=i}}function iw(t,e,n,r){var s=_e,i=ti.transition;ti.transition=null;try{_e=4,zh(t,e,n,r)}finally{_e=s,ti.transition=i}}function zh(t,e,n,r){if(Fl){var s=Sd(t,e,n,r);if(s===null)ku(t,e,r,zl,n),kp(t,r);else if(nw(s,t,e,n,r))r.stopPropagation();else if(kp(t,r),e&4&&-1<tw.indexOf(t)){for(;s!==null;){var i=aa(s);if(i!==null&&uy(i),i=Sd(t,e,n,r),i===null&&ku(t,e,r,zl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ku(t,e,r,null,n)}}var zl=null;function Sd(t,e,n,r){if(zl=null,t=Dh(r),t=Zr(t),t!==null)if(e=_s(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ny(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zl=t,null}function my(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y_()){case Ah:return 1;case oy:return 4;case Al:case K_:return 16;case ay:return 536870912;default:return 16}default:return 16}}var cr=null,$h=null,yl=null;function gy(){if(yl)return yl;var t,e=$h,n=e.length,r,s="value"in cr?cr.value:cr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return yl=s.slice(t,1<r?1-r:void 0)}function vl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Da(){return!0}function jp(){return!1}function Ht(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Da:jp,this.isPropagationStopped=jp,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),e}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bh=Ht(Si),oa=De({},Si,{view:0,detail:0}),ow=Ht(oa),pu,mu,Di,jc=De({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(pu=t.screenX-Di.screenX,mu=t.screenY-Di.screenY):mu=pu=0,Di=t),pu)},movementY:function(t){return"movementY"in t?t.movementY:mu}}),Ep=Ht(jc),aw=De({},jc,{dataTransfer:0}),lw=Ht(aw),cw=De({},oa,{relatedTarget:0}),gu=Ht(cw),uw=De({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),dw=Ht(uw),hw=De({},Si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fw=Ht(hw),pw=De({},Si,{data:0}),Cp=Ht(pw),mw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yw[t])?!!e[t]:!1}function Uh(){return vw}var xw=De({},oa,{key:function(t){if(t.key){var e=mw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uh,charCode:function(t){return t.type==="keypress"?vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_w=Ht(xw),ww=De({},jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pp=Ht(ww),bw=De({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uh}),kw=Ht(bw),Sw=De({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),jw=Ht(Sw),Ew=De({},jc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cw=Ht(Ew),Pw=[9,13,27,32],Hh=Bn&&"CompositionEvent"in window,ao=null;Bn&&"documentMode"in document&&(ao=document.documentMode);var Mw=Bn&&"TextEvent"in window&&!ao,yy=Bn&&(!Hh||ao&&8<ao&&11>=ao),Mp=" ",Tp=!1;function vy(t,e){switch(t){case"keyup":return Pw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function Tw(t,e){switch(t){case"compositionend":return xy(e);case"keypress":return e.which!==32?null:(Tp=!0,Mp);case"textInput":return t=e.data,t===Mp&&Tp?null:t;default:return null}}function Lw(t,e){if(Is)return t==="compositionend"||!Hh&&vy(t,e)?(t=gy(),yl=$h=cr=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yy&&e.locale!=="ko"?null:e.data;default:return null}}var Nw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Nw[t.type]:e==="textarea"}function _y(t,e,n,r){J0(r),e=$l(e,"onChange"),0<e.length&&(n=new Bh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lo=null,Do=null;function Rw(t){Ly(t,0)}function Ec(t){var e=$s(t);if(W0(e))return t}function Ow(t,e){if(t==="change")return e}var wy=!1;if(Bn){var yu;if(Bn){var vu="oninput"in document;if(!vu){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),vu=typeof Np.oninput=="function"}yu=vu}else yu=!1;wy=yu&&(!document.documentMode||9<document.documentMode)}function Rp(){lo&&(lo.detachEvent("onpropertychange",by),Do=lo=null)}function by(t){if(t.propertyName==="value"&&Ec(Do)){var e=[];_y(e,Do,t,Dh(t)),ty(Rw,e)}}function Dw(t,e,n){t==="focusin"?(Rp(),lo=e,Do=n,lo.attachEvent("onpropertychange",by)):t==="focusout"&&Rp()}function Aw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ec(Do)}function Iw(t,e){if(t==="click")return Ec(e)}function Fw(t,e){if(t==="input"||t==="change")return Ec(e)}function zw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fn=typeof Object.is=="function"?Object.is:zw;function Ao(t,e){if(fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!od.call(e,s)||!fn(t[s],e[s]))return!1}return!0}function Op(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dp(t,e){var n=Op(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Op(n)}}function ky(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ky(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sy(){for(var t=window,e=Rl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rl(t.document)}return e}function Wh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $w(t){var e=Sy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ky(n.ownerDocument.documentElement,n)){if(r!==null&&Wh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Dp(n,i);var o=Dp(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Bw=Bn&&"documentMode"in document&&11>=document.documentMode,Fs=null,jd=null,co=null,Ed=!1;function Ap(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ed||Fs==null||Fs!==Rl(r)||(r=Fs,"selectionStart"in r&&Wh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),co&&Ao(co,r)||(co=r,r=$l(jd,"onSelect"),0<r.length&&(e=new Bh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fs)))}function Aa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zs={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionend:Aa("Transition","TransitionEnd")},xu={},jy={};Bn&&(jy=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Cc(t){if(xu[t])return xu[t];if(!zs[t])return t;var e=zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jy)return xu[t]=e[n];return t}var Ey=Cc("animationend"),Cy=Cc("animationiteration"),Py=Cc("animationstart"),My=Cc("transitionend"),Ty=new Map,Ip="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(t,e){Ty.set(t,e),xs(e,[t])}for(var _u=0;_u<Ip.length;_u++){var wu=Ip[_u],Uw=wu.toLowerCase(),Hw=wu[0].toUpperCase()+wu.slice(1);Tr(Uw,"on"+Hw)}Tr(Ey,"onAnimationEnd");Tr(Cy,"onAnimationIteration");Tr(Py,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(My,"onTransitionEnd");ci("onMouseEnter",["mouseout","mouseover"]);ci("onMouseLeave",["mouseout","mouseover"]);ci("onPointerEnter",["pointerout","pointerover"]);ci("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ww=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function Fp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,U_(r,e,void 0,t),t.currentTarget=null}function Ly(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Fp(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Fp(s,a,c),i=l}}}if(Dl)throw t=wd,Dl=!1,wd=null,t}function Ce(t,e){var n=e[Ld];n===void 0&&(n=e[Ld]=new Set);var r=t+"__bubble";n.has(r)||(Ny(e,t,2,!1),n.add(r))}function bu(t,e,n){var r=0;e&&(r|=4),Ny(n,t,r,e)}var Ia="_reactListening"+Math.random().toString(36).slice(2);function Io(t){if(!t[Ia]){t[Ia]=!0,z0.forEach(function(n){n!=="selectionchange"&&(Ww.has(n)||bu(n,!1,t),bu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ia]||(e[Ia]=!0,bu("selectionchange",!1,e))}}function Ny(t,e,n,r){switch(my(e)){case 1:var s=sw;break;case 4:s=iw;break;default:s=zh}n=s.bind(null,e,n,t),s=void 0,!_d||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ku(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Zr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ty(function(){var c=i,u=Dh(n),h=[];e:{var f=Ty.get(t);if(f!==void 0){var p=Bh,v=t;switch(t){case"keypress":if(vl(n)===0)break e;case"keydown":case"keyup":p=_w;break;case"focusin":v="focus",p=gu;break;case"focusout":v="blur",p=gu;break;case"beforeblur":case"afterblur":p=gu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ep;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kw;break;case Ey:case Cy:case Py:p=dw;break;case My:p=jw;break;case"scroll":p=ow;break;case"wheel":p=Cw;break;case"copy":case"cut":case"paste":p=fw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Pp}var g=(e&4)!==0,x=!g&&t==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var y=c,_;y!==null;){_=y;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,m!==null&&(w=Lo(y,m),w!=null&&g.push(Fo(y,w,_)))),x)break;y=y.return}0<g.length&&(f=new p(f,v,null,n,u),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==vd&&(v=n.relatedTarget||n.fromElement)&&(Zr(v)||v[Un]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?Zr(v):null,v!==null&&(x=_s(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(g=Ep,w="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=Pp,w="onPointerLeave",m="onPointerEnter",y="pointer"),x=p==null?f:$s(p),_=v==null?f:$s(v),f=new g(w,y+"leave",p,n,u),f.target=x,f.relatedTarget=_,w=null,Zr(u)===c&&(g=new g(m,y+"enter",v,n,u),g.target=_,g.relatedTarget=x,w=g),x=w,p&&v)t:{for(g=p,m=v,y=0,_=g;_;_=Cs(_))y++;for(_=0,w=m;w;w=Cs(w))_++;for(;0<y-_;)g=Cs(g),y--;for(;0<_-y;)m=Cs(m),_--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=Cs(g),m=Cs(m)}g=null}else g=null;p!==null&&zp(h,f,p,g,!1),v!==null&&x!==null&&zp(h,x,v,g,!0)}}e:{if(f=c?$s(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=Ow;else if(Lp(f))if(wy)S=Fw;else{S=Aw;var j=Dw}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Iw);if(S&&(S=S(t,c))){_y(h,S,n,u);break e}j&&j(t,f,c),t==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&fd(f,"number",f.value)}switch(j=c?$s(c):window,t){case"focusin":(Lp(j)||j.contentEditable==="true")&&(Fs=j,jd=c,co=null);break;case"focusout":co=jd=Fs=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,Ap(h,n,u);break;case"selectionchange":if(Bw)break;case"keydown":case"keyup":Ap(h,n,u)}var C;if(Hh)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Is?vy(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(yy&&n.locale!=="ko"&&(Is||k!=="onCompositionStart"?k==="onCompositionEnd"&&Is&&(C=gy()):(cr=u,$h="value"in cr?cr.value:cr.textContent,Is=!0)),j=$l(c,k),0<j.length&&(k=new Cp(k,t,null,n,u),h.push({event:k,listeners:j}),C?k.data=C:(C=xy(n),C!==null&&(k.data=C)))),(C=Mw?Tw(t,n):Lw(t,n))&&(c=$l(c,"onBeforeInput"),0<c.length&&(u=new Cp("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=C))}Ly(h,e)})}function Fo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $l(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Lo(t,n),i!=null&&r.unshift(Fo(t,i,s)),i=Lo(t,e),i!=null&&r.push(Fo(t,i,s))),t=t.return}return r}function Cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zp(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Lo(n,i),l!=null&&o.unshift(Fo(n,l,a))):s||(l=Lo(n,i),l!=null&&o.push(Fo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Vw=/\r\n?/g,Yw=/\u0000|\uFFFD/g;function $p(t){return(typeof t=="string"?t:""+t).replace(Vw,`
`).replace(Yw,"")}function Fa(t,e,n){if(e=$p(e),$p(t)!==e&&n)throw Error(D(425))}function Bl(){}var Cd=null,Pd=null;function Md(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Td=typeof setTimeout=="function"?setTimeout:void 0,Kw=typeof clearTimeout=="function"?clearTimeout:void 0,Bp=typeof Promise=="function"?Promise:void 0,qw=typeof queueMicrotask=="function"?queueMicrotask:typeof Bp<"u"?function(t){return Bp.resolve(null).then(t).catch(Gw)}:Td;function Gw(t){setTimeout(function(){throw t})}function Su(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Oo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Oo(e)}function xr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Up(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ji=Math.random().toString(36).slice(2),xn="__reactFiber$"+ji,zo="__reactProps$"+ji,Un="__reactContainer$"+ji,Ld="__reactEvents$"+ji,Qw="__reactListeners$"+ji,Jw="__reactHandles$"+ji;function Zr(t){var e=t[xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Un]||n[xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Up(t);t!==null;){if(n=t[xn])return n;t=Up(t)}return e}t=n,n=t.parentNode}return null}function aa(t){return t=t[xn]||t[Un],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Pc(t){return t[zo]||null}var Nd=[],Bs=-1;function Lr(t){return{current:t}}function Me(t){0>Bs||(t.current=Nd[Bs],Nd[Bs]=null,Bs--)}function je(t,e){Bs++,Nd[Bs]=t.current,t.current=e}var Er={},dt=Lr(Er),Mt=Lr(!1),us=Er;function ui(t,e){var n=t.type.contextTypes;if(!n)return Er;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Tt(t){return t=t.childContextTypes,t!=null}function Ul(){Me(Mt),Me(dt)}function Hp(t,e,n){if(dt.current!==Er)throw Error(D(168));je(dt,e),je(Mt,n)}function Ry(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(D(108,D_(t)||"Unknown",s));return De({},n,r)}function Hl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Er,us=dt.current,je(dt,t),je(Mt,Mt.current),!0}function Wp(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=Ry(t,e,us),r.__reactInternalMemoizedMergedChildContext=t,Me(Mt),Me(dt),je(dt,t)):Me(Mt),je(Mt,n)}var On=null,Mc=!1,ju=!1;function Oy(t){On===null?On=[t]:On.push(t)}function Xw(t){Mc=!0,Oy(t)}function Nr(){if(!ju&&On!==null){ju=!0;var t=0,e=_e;try{var n=On;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}On=null,Mc=!1}catch(s){throw On!==null&&(On=On.slice(t+1)),iy(Ah,Nr),s}finally{_e=e,ju=!1}}return null}var Us=[],Hs=0,Wl=null,Vl=0,Vt=[],Yt=0,ds=null,An=1,In="";function Vr(t,e){Us[Hs++]=Vl,Us[Hs++]=Wl,Wl=t,Vl=e}function Dy(t,e,n){Vt[Yt++]=An,Vt[Yt++]=In,Vt[Yt++]=ds,ds=t;var r=An;t=In;var s=32-dn(r)-1;r&=~(1<<s),n+=1;var i=32-dn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,An=1<<32-dn(e)+s|n<<s|r,In=i+t}else An=1<<i|n<<s|r,In=t}function Vh(t){t.return!==null&&(Vr(t,1),Dy(t,1,0))}function Yh(t){for(;t===Wl;)Wl=Us[--Hs],Us[Hs]=null,Vl=Us[--Hs],Us[Hs]=null;for(;t===ds;)ds=Vt[--Yt],Vt[Yt]=null,In=Vt[--Yt],Vt[Yt]=null,An=Vt[--Yt],Vt[Yt]=null}var $t=null,Ft=null,Te=!1,ln=null;function Ay(t,e){var n=Kt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,Ft=xr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,Ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ds!==null?{id:An,overflow:In}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$t=t,Ft=null,!0):!1;default:return!1}}function Rd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Od(t){if(Te){var e=Ft;if(e){var n=e;if(!Vp(t,e)){if(Rd(t))throw Error(D(418));e=xr(n.nextSibling);var r=$t;e&&Vp(t,e)?Ay(r,n):(t.flags=t.flags&-4097|2,Te=!1,$t=t)}}else{if(Rd(t))throw Error(D(418));t.flags=t.flags&-4097|2,Te=!1,$t=t}}}function Yp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function za(t){if(t!==$t)return!1;if(!Te)return Yp(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Md(t.type,t.memoizedProps)),e&&(e=Ft)){if(Rd(t))throw Iy(),Error(D(418));for(;e;)Ay(t,e),e=xr(e.nextSibling)}if(Yp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ft=xr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ft=null}}else Ft=$t?xr(t.stateNode.nextSibling):null;return!0}function Iy(){for(var t=Ft;t;)t=xr(t.nextSibling)}function di(){Ft=$t=null,Te=!1}function Kh(t){ln===null?ln=[t]:ln.push(t)}var Zw=Yn.ReactCurrentBatchConfig;function Ai(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function $a(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kp(t){var e=t._init;return e(t._payload)}function Fy(t){function e(m,y){if(t){var _=m.deletions;_===null?(m.deletions=[y],m.flags|=16):_.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function s(m,y){return m=kr(m,y),m.index=0,m.sibling=null,m}function i(m,y,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<y?(m.flags|=2,y):_):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,y,_,w){return y===null||y.tag!==6?(y=Nu(_,m.mode,w),y.return=m,y):(y=s(y,_),y.return=m,y)}function l(m,y,_,w){var S=_.type;return S===As?u(m,y,_.props.children,w,_.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===rr&&Kp(S)===y.type)?(w=s(y,_.props),w.ref=Ai(m,y,_),w.return=m,w):(w=jl(_.type,_.key,_.props,null,m.mode,w),w.ref=Ai(m,y,_),w.return=m,w)}function c(m,y,_,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Ru(_,m.mode,w),y.return=m,y):(y=s(y,_.children||[]),y.return=m,y)}function u(m,y,_,w,S){return y===null||y.tag!==7?(y=os(_,m.mode,w,S),y.return=m,y):(y=s(y,_),y.return=m,y)}function h(m,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Nu(""+y,m.mode,_),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ma:return _=jl(y.type,y.key,y.props,null,m.mode,_),_.ref=Ai(m,null,y),_.return=m,_;case Ds:return y=Ru(y,m.mode,_),y.return=m,y;case rr:var w=y._init;return h(m,w(y._payload),_)}if(Ji(y)||Li(y))return y=os(y,m.mode,_,null),y.return=m,y;$a(m,y)}return null}function f(m,y,_,w){var S=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(m,y,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ma:return _.key===S?l(m,y,_,w):null;case Ds:return _.key===S?c(m,y,_,w):null;case rr:return S=_._init,f(m,y,S(_._payload),w)}if(Ji(_)||Li(_))return S!==null?null:u(m,y,_,w,null);$a(m,_)}return null}function p(m,y,_,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(_)||null,a(y,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ma:return m=m.get(w.key===null?_:w.key)||null,l(y,m,w,S);case Ds:return m=m.get(w.key===null?_:w.key)||null,c(y,m,w,S);case rr:var j=w._init;return p(m,y,_,j(w._payload),S)}if(Ji(w)||Li(w))return m=m.get(_)||null,u(y,m,w,S,null);$a(y,w)}return null}function v(m,y,_,w){for(var S=null,j=null,C=y,k=y=0,M=null;C!==null&&k<_.length;k++){C.index>k?(M=C,C=null):M=C.sibling;var N=f(m,C,_[k],w);if(N===null){C===null&&(C=M);break}t&&C&&N.alternate===null&&e(m,C),y=i(N,y,k),j===null?S=N:j.sibling=N,j=N,C=M}if(k===_.length)return n(m,C),Te&&Vr(m,k),S;if(C===null){for(;k<_.length;k++)C=h(m,_[k],w),C!==null&&(y=i(C,y,k),j===null?S=C:j.sibling=C,j=C);return Te&&Vr(m,k),S}for(C=r(m,C);k<_.length;k++)M=p(C,m,k,_[k],w),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?k:M.key),y=i(M,y,k),j===null?S=M:j.sibling=M,j=M);return t&&C.forEach(function(O){return e(m,O)}),Te&&Vr(m,k),S}function g(m,y,_,w){var S=Li(_);if(typeof S!="function")throw Error(D(150));if(_=S.call(_),_==null)throw Error(D(151));for(var j=S=null,C=y,k=y=0,M=null,N=_.next();C!==null&&!N.done;k++,N=_.next()){C.index>k?(M=C,C=null):M=C.sibling;var O=f(m,C,N.value,w);if(O===null){C===null&&(C=M);break}t&&C&&O.alternate===null&&e(m,C),y=i(O,y,k),j===null?S=O:j.sibling=O,j=O,C=M}if(N.done)return n(m,C),Te&&Vr(m,k),S;if(C===null){for(;!N.done;k++,N=_.next())N=h(m,N.value,w),N!==null&&(y=i(N,y,k),j===null?S=N:j.sibling=N,j=N);return Te&&Vr(m,k),S}for(C=r(m,C);!N.done;k++,N=_.next())N=p(C,m,k,N.value,w),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?k:N.key),y=i(N,y,k),j===null?S=N:j.sibling=N,j=N);return t&&C.forEach(function(L){return e(m,L)}),Te&&Vr(m,k),S}function x(m,y,_,w){if(typeof _=="object"&&_!==null&&_.type===As&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ma:e:{for(var S=_.key,j=y;j!==null;){if(j.key===S){if(S=_.type,S===As){if(j.tag===7){n(m,j.sibling),y=s(j,_.props.children),y.return=m,m=y;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===rr&&Kp(S)===j.type){n(m,j.sibling),y=s(j,_.props),y.ref=Ai(m,j,_),y.return=m,m=y;break e}n(m,j);break}else e(m,j);j=j.sibling}_.type===As?(y=os(_.props.children,m.mode,w,_.key),y.return=m,m=y):(w=jl(_.type,_.key,_.props,null,m.mode,w),w.ref=Ai(m,y,_),w.return=m,m=w)}return o(m);case Ds:e:{for(j=_.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(m,y.sibling),y=s(y,_.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=Ru(_,m.mode,w),y.return=m,m=y}return o(m);case rr:return j=_._init,x(m,y,j(_._payload),w)}if(Ji(_))return v(m,y,_,w);if(Li(_))return g(m,y,_,w);$a(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(m,y.sibling),y=s(y,_),y.return=m,m=y):(n(m,y),y=Nu(_,m.mode,w),y.return=m,m=y),o(m)):n(m,y)}return x}var hi=Fy(!0),zy=Fy(!1),Yl=Lr(null),Kl=null,Ws=null,qh=null;function Gh(){qh=Ws=Kl=null}function Qh(t){var e=Yl.current;Me(Yl),t._currentValue=e}function Dd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ni(t,e){Kl=t,qh=Ws=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ct=!0),t.firstContext=null)}function Xt(t){var e=t._currentValue;if(qh!==t)if(t={context:t,memoizedValue:e,next:null},Ws===null){if(Kl===null)throw Error(D(308));Ws=t,Kl.dependencies={lanes:0,firstContext:t}}else Ws=Ws.next=t;return e}var es=null;function Jh(t){es===null?es=[t]:es.push(t)}function $y(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Jh(e)):(n.next=s.next,s.next=n),e.interleaved=n,Hn(t,r)}function Hn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sr=!1;function Xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function By(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _r(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Hn(t,n)}return s=r.interleaved,s===null?(e.next=e,Jh(r)):(e.next=s.next,s.next=e),r.interleaved=e,Hn(t,n)}function xl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ih(t,n)}}function qp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ql(t,e,n,r){var s=t.updateQueue;sr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,g=a;switch(f=e,p=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=De({},h,f);break e;case 2:sr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);fs|=o,t.lanes=o,t.memoizedState=h}}function Gp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var la={},bn=Lr(la),$o=Lr(la),Bo=Lr(la);function ts(t){if(t===la)throw Error(D(174));return t}function Zh(t,e){switch(je(Bo,e),je($o,t),je(bn,la),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:md(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=md(e,t)}Me(bn),je(bn,e)}function fi(){Me(bn),Me($o),Me(Bo)}function Uy(t){ts(Bo.current);var e=ts(bn.current),n=md(e,t.type);e!==n&&(je($o,t),je(bn,n))}function ef(t){$o.current===t&&(Me(bn),Me($o))}var Ne=Lr(0);function Gl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Eu=[];function tf(){for(var t=0;t<Eu.length;t++)Eu[t]._workInProgressVersionPrimary=null;Eu.length=0}var _l=Yn.ReactCurrentDispatcher,Cu=Yn.ReactCurrentBatchConfig,hs=0,Oe=null,qe=null,Ze=null,Ql=!1,uo=!1,Uo=0,eb=0;function at(){throw Error(D(321))}function nf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fn(t[n],e[n]))return!1;return!0}function rf(t,e,n,r,s,i){if(hs=i,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_l.current=t===null||t.memoizedState===null?sb:ib,t=n(r,s),uo){i=0;do{if(uo=!1,Uo=0,25<=i)throw Error(D(301));i+=1,Ze=qe=null,e.updateQueue=null,_l.current=ob,t=n(r,s)}while(uo)}if(_l.current=Jl,e=qe!==null&&qe.next!==null,hs=0,Ze=qe=Oe=null,Ql=!1,e)throw Error(D(300));return t}function sf(){var t=Uo!==0;return Uo=0,t}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Oe.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function Zt(){if(qe===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var e=Ze===null?Oe.memoizedState:Ze.next;if(e!==null)Ze=e,qe=t;else{if(t===null)throw Error(D(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ze===null?Oe.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function Ho(t,e){return typeof e=="function"?e(t):e}function Pu(t){var e=Zt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=qe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((hs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Oe.lanes|=u,fs|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,fn(r,e.memoizedState)||(Ct=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Oe.lanes|=i,fs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mu(t){var e=Zt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);fn(i,e.memoizedState)||(Ct=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Hy(){}function Wy(t,e){var n=Oe,r=Zt(),s=e(),i=!fn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ct=!0),r=r.queue,of(Ky.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,Wo(9,Yy.bind(null,n,r,s,e),void 0,null),tt===null)throw Error(D(349));hs&30||Vy(n,e,s)}return s}function Vy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yy(t,e,n,r){e.value=n,e.getSnapshot=r,qy(e)&&Gy(t)}function Ky(t,e,n){return n(function(){qy(e)&&Gy(t)})}function qy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fn(t,n)}catch{return!0}}function Gy(t){var e=Hn(t,1);e!==null&&hn(e,t,1,-1)}function Qp(t){var e=yn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:t},e.queue=t,t=t.dispatch=rb.bind(null,Oe,t),[e.memoizedState,t]}function Wo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Qy(){return Zt().memoizedState}function wl(t,e,n,r){var s=yn();Oe.flags|=t,s.memoizedState=Wo(1|e,n,void 0,r===void 0?null:r)}function Tc(t,e,n,r){var s=Zt();r=r===void 0?null:r;var i=void 0;if(qe!==null){var o=qe.memoizedState;if(i=o.destroy,r!==null&&nf(r,o.deps)){s.memoizedState=Wo(e,n,i,r);return}}Oe.flags|=t,s.memoizedState=Wo(1|e,n,i,r)}function Jp(t,e){return wl(8390656,8,t,e)}function of(t,e){return Tc(2048,8,t,e)}function Jy(t,e){return Tc(4,2,t,e)}function Xy(t,e){return Tc(4,4,t,e)}function Zy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ev(t,e,n){return n=n!=null?n.concat([t]):null,Tc(4,4,Zy.bind(null,e,t),n)}function af(){}function tv(t,e){var n=Zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nv(t,e){var n=Zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rv(t,e,n){return hs&21?(fn(n,e)||(n=ly(),Oe.lanes|=n,fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ct=!0),t.memoizedState=n)}function tb(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=Cu.transition;Cu.transition={};try{t(!1),e()}finally{_e=n,Cu.transition=r}}function sv(){return Zt().memoizedState}function nb(t,e,n){var r=br(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iv(t))ov(e,n);else if(n=$y(t,e,n,r),n!==null){var s=vt();hn(n,t,r,s),av(n,e,r)}}function rb(t,e,n){var r=br(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iv(t))ov(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,fn(a,o)){var l=e.interleaved;l===null?(s.next=s,Jh(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=$y(t,e,s,r),n!==null&&(s=vt(),hn(n,t,r,s),av(n,e,r))}}function iv(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function ov(t,e){uo=Ql=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function av(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ih(t,n)}}var Jl={readContext:Xt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},sb={readContext:Xt,useCallback:function(t,e){return yn().memoizedState=[t,e===void 0?null:e],t},useContext:Xt,useEffect:Jp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wl(4194308,4,Zy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wl(4194308,4,t,e)},useInsertionEffect:function(t,e){return wl(4,2,t,e)},useMemo:function(t,e){var n=yn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nb.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=yn();return t={current:t},e.memoizedState=t},useState:Qp,useDebugValue:af,useDeferredValue:function(t){return yn().memoizedState=t},useTransition:function(){var t=Qp(!1),e=t[0];return t=tb.bind(null,t[1]),yn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,s=yn();if(Te){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),tt===null)throw Error(D(349));hs&30||Vy(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Jp(Ky.bind(null,r,i,t),[t]),r.flags|=2048,Wo(9,Yy.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=yn(),e=tt.identifierPrefix;if(Te){var n=In,r=An;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=eb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ib={readContext:Xt,useCallback:tv,useContext:Xt,useEffect:of,useImperativeHandle:ev,useInsertionEffect:Jy,useLayoutEffect:Xy,useMemo:nv,useReducer:Pu,useRef:Qy,useState:function(){return Pu(Ho)},useDebugValue:af,useDeferredValue:function(t){var e=Zt();return rv(e,qe.memoizedState,t)},useTransition:function(){var t=Pu(Ho)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:Hy,useSyncExternalStore:Wy,useId:sv,unstable_isNewReconciler:!1},ob={readContext:Xt,useCallback:tv,useContext:Xt,useEffect:of,useImperativeHandle:ev,useInsertionEffect:Jy,useLayoutEffect:Xy,useMemo:nv,useReducer:Mu,useRef:Qy,useState:function(){return Mu(Ho)},useDebugValue:af,useDeferredValue:function(t){var e=Zt();return qe===null?e.memoizedState=t:rv(e,qe.memoizedState,t)},useTransition:function(){var t=Mu(Ho)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:Hy,useSyncExternalStore:Wy,useId:sv,unstable_isNewReconciler:!1};function rn(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ad(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lc={isMounted:function(t){return(t=t._reactInternals)?_s(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vt(),s=br(t),i=Fn(r,s);i.payload=e,n!=null&&(i.callback=n),e=_r(t,i,s),e!==null&&(hn(e,t,s,r),xl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vt(),s=br(t),i=Fn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=_r(t,i,s),e!==null&&(hn(e,t,s,r),xl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),r=br(t),s=Fn(n,r);s.tag=2,e!=null&&(s.callback=e),e=_r(t,s,r),e!==null&&(hn(e,t,r,n),xl(e,t,r))}};function Xp(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ao(n,r)||!Ao(s,i):!0}function lv(t,e,n){var r=!1,s=Er,i=e.contextType;return typeof i=="object"&&i!==null?i=Xt(i):(s=Tt(e)?us:dt.current,r=e.contextTypes,i=(r=r!=null)?ui(t,s):Er),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Zp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lc.enqueueReplaceState(e,e.state,null)}function Id(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Xh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Xt(i):(i=Tt(e)?us:dt.current,s.context=ui(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ad(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Lc.enqueueReplaceState(s,s.state,null),ql(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function pi(t,e){try{var n="",r=e;do n+=O_(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Tu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ab=typeof WeakMap=="function"?WeakMap:Map;function cv(t,e,n){n=Fn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zl||(Zl=!0,qd=r),Fd(t,e)},n}function uv(t,e,n){n=Fn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Fd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Fd(t,e),typeof r!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function em(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ab;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=wb.bind(null,t,e,n),e.then(t,t))}function tm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nm(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fn(-1,1),e.tag=2,_r(n,e,1))),n.lanes|=1),t)}var lb=Yn.ReactCurrentOwner,Ct=!1;function pt(t,e,n,r){e.child=t===null?zy(e,null,n,r):hi(e,t.child,n,r)}function rm(t,e,n,r,s){n=n.render;var i=e.ref;return ni(e,s),r=rf(t,e,n,r,i,s),n=sf(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wn(t,e,s)):(Te&&n&&Vh(e),e.flags|=1,pt(t,e,r,s),e.child)}function sm(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!mf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,dv(t,e,i,r,s)):(t=jl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ao,n(o,r)&&t.ref===e.ref)return Wn(t,e,s)}return e.flags|=1,t=kr(i,r),t.ref=e.ref,t.return=e,e.child=t}function dv(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ao(i,r)&&t.ref===e.ref)if(Ct=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ct=!0);else return e.lanes=t.lanes,Wn(t,e,s)}return zd(t,e,n,r,s)}function hv(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Ys,At),At|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Ys,At),At|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,je(Ys,At),At|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,je(Ys,At),At|=r;return pt(t,e,s,n),e.child}function fv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zd(t,e,n,r,s){var i=Tt(n)?us:dt.current;return i=ui(e,i),ni(e,s),n=rf(t,e,n,r,i,s),r=sf(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wn(t,e,s)):(Te&&r&&Vh(e),e.flags|=1,pt(t,e,n,s),e.child)}function im(t,e,n,r,s){if(Tt(n)){var i=!0;Hl(e)}else i=!1;if(ni(e,s),e.stateNode===null)bl(t,e),lv(e,n,r),Id(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xt(c):(c=Tt(n)?us:dt.current,c=ui(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Zp(e,o,r,c),sr=!1;var f=e.memoizedState;o.state=f,ql(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Mt.current||sr?(typeof u=="function"&&(Ad(e,n,u,r),l=e.memoizedState),(a=sr||Xp(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,By(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xt(l):(l=Tt(n)?us:dt.current,l=ui(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Zp(e,o,r,l),sr=!1,f=e.memoizedState,o.state=f,ql(e,r,o,s);var v=e.memoizedState;a!==h||f!==v||Mt.current||sr?(typeof p=="function"&&(Ad(e,n,p,r),v=e.memoizedState),(c=sr||Xp(e,n,c,r,f,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return $d(t,e,n,r,i,s)}function $d(t,e,n,r,s,i){fv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Wp(e,n,!1),Wn(t,e,i);r=e.stateNode,lb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=hi(e,t.child,null,i),e.child=hi(e,null,a,i)):pt(t,e,a,i),e.memoizedState=r.state,s&&Wp(e,n,!0),e.child}function pv(t){var e=t.stateNode;e.pendingContext?Hp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hp(t,e.context,!1),Zh(t,e.containerInfo)}function om(t,e,n,r,s){return di(),Kh(s),e.flags|=256,pt(t,e,n,r),e.child}var Bd={dehydrated:null,treeContext:null,retryLane:0};function Ud(t){return{baseLanes:t,cachePool:null,transitions:null}}function mv(t,e,n){var r=e.pendingProps,s=Ne.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),je(Ne,s&1),t===null)return Od(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Oc(o,r,0,null),t=os(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ud(n),e.memoizedState=Bd,t):lf(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return cb(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=kr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=kr(a,i):(i=os(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ud(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Bd,r}return i=t.child,t=i.sibling,r=kr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lf(t,e){return e=Oc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ba(t,e,n,r){return r!==null&&Kh(r),hi(e,t.child,null,n),t=lf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cb(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Tu(Error(D(422))),Ba(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Oc({mode:"visible",children:r.children},s,0,null),i=os(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&hi(e,t.child,null,o),e.child.memoizedState=Ud(o),e.memoizedState=Bd,i);if(!(e.mode&1))return Ba(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(D(419)),r=Tu(i,r,void 0),Ba(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ct||a){if(r=tt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Hn(t,s),hn(r,t,s,-1))}return pf(),r=Tu(Error(D(421))),Ba(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=bb.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ft=xr(s.nextSibling),$t=e,Te=!0,ln=null,t!==null&&(Vt[Yt++]=An,Vt[Yt++]=In,Vt[Yt++]=ds,An=t.id,In=t.overflow,ds=e),e=lf(e,r.children),e.flags|=4096,e)}function am(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dd(t.return,e,n)}function Lu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function gv(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(pt(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&am(t,n,e);else if(t.tag===19)am(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Ne,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Gl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Lu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Gl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Lu(e,!0,n,null,i);break;case"together":Lu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=kr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=kr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ub(t,e,n){switch(e.tag){case 3:pv(e),di();break;case 5:Uy(e);break;case 1:Tt(e.type)&&Hl(e);break;case 4:Zh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;je(Yl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Ne,Ne.current&1),e.flags|=128,null):n&e.child.childLanes?mv(t,e,n):(je(Ne,Ne.current&1),t=Wn(t,e,n),t!==null?t.sibling:null);je(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gv(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Ne,Ne.current),r)break;return null;case 22:case 23:return e.lanes=0,hv(t,e,n)}return Wn(t,e,n)}var yv,Hd,vv,xv;yv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hd=function(){};vv=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ts(bn.current);var i=null;switch(n){case"input":s=dd(t,s),r=dd(t,r),i=[];break;case"select":s=De({},s,{value:void 0}),r=De({},r,{value:void 0}),i=[];break;case"textarea":s=pd(t,s),r=pd(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bl)}gd(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Mo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Mo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ce("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};xv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ii(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function db(t,e,n){var r=e.pendingProps;switch(Yh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return Tt(e.type)&&Ul(),lt(e),null;case 3:return r=e.stateNode,fi(),Me(Mt),Me(dt),tf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(za(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ln!==null&&(Jd(ln),ln=null))),Hd(t,e),lt(e),null;case 5:ef(e);var s=ts(Bo.current);if(n=e.type,t!==null&&e.stateNode!=null)vv(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return lt(e),null}if(t=ts(bn.current),za(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[xn]=e,r[zo]=i,t=(e.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(s=0;s<Zi.length;s++)Ce(Zi[s],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":gp(r,i),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ce("invalid",r);break;case"textarea":vp(r,i),Ce("invalid",r)}gd(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Fa(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Fa(r.textContent,a,t),s=["children",""+a]):Mo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ce("scroll",r)}switch(n){case"input":Ta(r),yp(r,i,!0);break;case"textarea":Ta(r),xp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Bl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=K0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xn]=e,t[zo]=r,yv(t,e,!1,!1),e.stateNode=t;e:{switch(o=yd(n,r),n){case"dialog":Ce("cancel",t),Ce("close",t),s=r;break;case"iframe":case"object":case"embed":Ce("load",t),s=r;break;case"video":case"audio":for(s=0;s<Zi.length;s++)Ce(Zi[s],t);s=r;break;case"source":Ce("error",t),s=r;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),s=r;break;case"details":Ce("toggle",t),s=r;break;case"input":gp(t,r),s=dd(t,r),Ce("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=De({},r,{value:void 0}),Ce("invalid",t);break;case"textarea":vp(t,r),s=pd(t,r),Ce("invalid",t);break;default:s=r}gd(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Q0(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&q0(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&To(t,l):typeof l=="number"&&To(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mo.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ce("scroll",t):l!=null&&Lh(t,i,l,o))}switch(n){case"input":Ta(t),yp(t,r,!1);break;case"textarea":Ta(t),xp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Xs(t,!!r.multiple,i,!1):r.defaultValue!=null&&Xs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Bl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)xv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=ts(Bo.current),ts(bn.current),za(e)){if(r=e.stateNode,n=e.memoizedProps,r[xn]=e,(i=r.nodeValue!==n)&&(t=$t,t!==null))switch(t.tag){case 3:Fa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fa(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=e,e.stateNode=r}return lt(e),null;case 13:if(Me(Ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&Ft!==null&&e.mode&1&&!(e.flags&128))Iy(),di(),e.flags|=98560,i=!1;else if(i=za(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(D(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[xn]=e}else di(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),i=!1}else ln!==null&&(Jd(ln),ln=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?Ge===0&&(Ge=3):pf())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return fi(),Hd(t,e),t===null&&Io(e.stateNode.containerInfo),lt(e),null;case 10:return Qh(e.type._context),lt(e),null;case 17:return Tt(e.type)&&Ul(),lt(e),null;case 19:if(Me(Ne),i=e.memoizedState,i===null)return lt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ii(i,!1);else{if(Ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gl(t),o!==null){for(e.flags|=128,Ii(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Ne,Ne.current&1|2),e.child}t=t.sibling}i.tail!==null&&He()>mi&&(e.flags|=128,r=!0,Ii(i,!1),e.lanes=4194304)}else{if(!r)if(t=Gl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ii(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Te)return lt(e),null}else 2*He()-i.renderingStartTime>mi&&n!==1073741824&&(e.flags|=128,r=!0,Ii(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=He(),e.sibling=null,n=Ne.current,je(Ne,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return ff(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?At&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function hb(t,e){switch(Yh(e),e.tag){case 1:return Tt(e.type)&&Ul(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fi(),Me(Mt),Me(dt),tf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ef(e),null;case 13:if(Me(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));di()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Ne),null;case 4:return fi(),null;case 10:return Qh(e.type._context),null;case 22:case 23:return ff(),null;case 24:return null;default:return null}}var Ua=!1,ct=!1,fb=typeof WeakSet=="function"?WeakSet:Set,U=null;function Vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function Wd(t,e,n){try{n()}catch(r){ze(t,e,r)}}var lm=!1;function pb(t,e){if(Cd=Fl,t=Sy(),Wh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pd={focusedElem:t,selectionRange:n},Fl=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:rn(e.type,g),x);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(w){ze(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return v=lm,lm=!1,v}function ho(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wd(e,n,i)}s=s.next}while(s!==r)}}function Nc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _v(t){var e=t.alternate;e!==null&&(t.alternate=null,_v(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xn],delete e[zo],delete e[Ld],delete e[Qw],delete e[Jw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wv(t){return t.tag===5||t.tag===3||t.tag===4}function cm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bl));else if(r!==4&&(t=t.child,t!==null))for(Yd(t,e,n),t=t.sibling;t!==null;)Yd(t,e,n),t=t.sibling}function Kd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kd(t,e,n),t=t.sibling;t!==null;)Kd(t,e,n),t=t.sibling}var rt=null,sn=!1;function Jn(t,e,n){for(n=n.child;n!==null;)bv(t,e,n),n=n.sibling}function bv(t,e,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Sc,n)}catch{}switch(n.tag){case 5:ct||Vs(n,e);case 6:var r=rt,s=sn;rt=null,Jn(t,e,n),rt=r,sn=s,rt!==null&&(sn?(t=rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(sn?(t=rt,n=n.stateNode,t.nodeType===8?Su(t.parentNode,n):t.nodeType===1&&Su(t,n),Oo(t)):Su(rt,n.stateNode));break;case 4:r=rt,s=sn,rt=n.stateNode.containerInfo,sn=!0,Jn(t,e,n),rt=r,sn=s;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wd(n,e,o),s=s.next}while(s!==r)}Jn(t,e,n);break;case 1:if(!ct&&(Vs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,e,a)}Jn(t,e,n);break;case 21:Jn(t,e,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,Jn(t,e,n),ct=r):Jn(t,e,n);break;default:Jn(t,e,n)}}function um(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fb),e.forEach(function(r){var s=kb.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rt=a.stateNode,sn=!1;break e;case 3:rt=a.stateNode.containerInfo,sn=!0;break e;case 4:rt=a.stateNode.containerInfo,sn=!0;break e}a=a.return}if(rt===null)throw Error(D(160));bv(i,o,s),rt=null,sn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ze(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kv(e,t),e=e.sibling}function kv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tn(e,t),mn(t),r&4){try{ho(3,t,t.return),Nc(3,t)}catch(g){ze(t,t.return,g)}try{ho(5,t,t.return)}catch(g){ze(t,t.return,g)}}break;case 1:tn(e,t),mn(t),r&512&&n!==null&&Vs(n,n.return);break;case 5:if(tn(e,t),mn(t),r&512&&n!==null&&Vs(n,n.return),t.flags&32){var s=t.stateNode;try{To(s,"")}catch(g){ze(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&V0(s,i),yd(a,o);var c=yd(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Q0(s,h):u==="dangerouslySetInnerHTML"?q0(s,h):u==="children"?To(s,h):Lh(s,u,h,c)}switch(a){case"input":hd(s,i);break;case"textarea":Y0(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Xs(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Xs(s,!!i.multiple,i.defaultValue,!0):Xs(s,!!i.multiple,i.multiple?[]:"",!1))}s[zo]=i}catch(g){ze(t,t.return,g)}}break;case 6:if(tn(e,t),mn(t),r&4){if(t.stateNode===null)throw Error(D(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){ze(t,t.return,g)}}break;case 3:if(tn(e,t),mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oo(e.containerInfo)}catch(g){ze(t,t.return,g)}break;case 4:tn(e,t),mn(t);break;case 13:tn(e,t),mn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(df=He())),r&4&&um(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(c=ct)||u,tn(e,t),ct=c):tn(e,t),mn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(U=t,u=t.child;u!==null;){for(h=U=u;U!==null;){switch(f=U,p=f.child,f.tag){case 0:case 11:case 14:case 15:ho(4,f,f.return);break;case 1:Vs(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){ze(r,n,g)}}break;case 5:Vs(f,f.return);break;case 22:if(f.memoizedState!==null){hm(h);continue}}p!==null?(p.return=f,U=p):hm(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=G0("display",o))}catch(g){ze(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){ze(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tn(e,t),mn(t),r&4&&um(t);break;case 21:break;default:tn(e,t),mn(t)}}function mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wv(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(To(s,""),r.flags&=-33);var i=cm(t);Kd(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cm(t);Yd(t,a,o);break;default:throw Error(D(161))}}catch(l){ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mb(t,e,n){U=t,Sv(t)}function Sv(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ua;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ct;a=Ua;var c=ct;if(Ua=o,(ct=l)&&!c)for(U=s;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?fm(s):l!==null?(l.return=o,U=l):fm(s);for(;i!==null;)U=i,Sv(i),i=i.sibling;U=s,Ua=a,ct=c}dm(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):dm(t)}}function dm(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||Nc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:rn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Gp(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gp(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Oo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}ct||e.flags&512&&Vd(e)}catch(f){ze(e,e.return,f)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function hm(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function fm(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nc(4,e)}catch(l){ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ze(e,s,l)}}var i=e.return;try{Vd(e)}catch(l){ze(e,i,l)}break;case 5:var o=e.return;try{Vd(e)}catch(l){ze(e,o,l)}}}catch(l){ze(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var gb=Math.ceil,Xl=Yn.ReactCurrentDispatcher,cf=Yn.ReactCurrentOwner,Qt=Yn.ReactCurrentBatchConfig,me=0,tt=null,Ve=null,it=0,At=0,Ys=Lr(0),Ge=0,Vo=null,fs=0,Rc=0,uf=0,fo=null,St=null,df=0,mi=1/0,Rn=null,Zl=!1,qd=null,wr=null,Ha=!1,ur=null,ec=0,po=0,Gd=null,kl=-1,Sl=0;function vt(){return me&6?He():kl!==-1?kl:kl=He()}function br(t){return t.mode&1?me&2&&it!==0?it&-it:Zw.transition!==null?(Sl===0&&(Sl=ly()),Sl):(t=_e,t!==0||(t=window.event,t=t===void 0?16:my(t.type)),t):1}function hn(t,e,n,r){if(50<po)throw po=0,Gd=null,Error(D(185));ia(t,n,r),(!(me&2)||t!==tt)&&(t===tt&&(!(me&2)&&(Rc|=n),Ge===4&&ar(t,it)),Lt(t,r),n===1&&me===0&&!(e.mode&1)&&(mi=He()+500,Mc&&Nr()))}function Lt(t,e){var n=t.callbackNode;Z_(t,e);var r=Il(t,t===tt?it:0);if(r===0)n!==null&&bp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bp(n),e===1)t.tag===0?Xw(pm.bind(null,t)):Oy(pm.bind(null,t)),qw(function(){!(me&6)&&Nr()}),n=null;else{switch(cy(r)){case 1:n=Ah;break;case 4:n=oy;break;case 16:n=Al;break;case 536870912:n=ay;break;default:n=Al}n=Nv(n,jv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jv(t,e){if(kl=-1,Sl=0,me&6)throw Error(D(327));var n=t.callbackNode;if(ri()&&t.callbackNode!==n)return null;var r=Il(t,t===tt?it:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tc(t,r);else{e=r;var s=me;me|=2;var i=Cv();(tt!==t||it!==e)&&(Rn=null,mi=He()+500,is(t,e));do try{xb();break}catch(a){Ev(t,a)}while(!0);Gh(),Xl.current=i,me=s,Ve!==null?e=0:(tt=null,it=0,e=Ge)}if(e!==0){if(e===2&&(s=bd(t),s!==0&&(r=s,e=Qd(t,s))),e===1)throw n=Vo,is(t,0),ar(t,r),Lt(t,He()),n;if(e===6)ar(t,r);else{if(s=t.current.alternate,!(r&30)&&!yb(s)&&(e=tc(t,r),e===2&&(i=bd(t),i!==0&&(r=i,e=Qd(t,i))),e===1))throw n=Vo,is(t,0),ar(t,r),Lt(t,He()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:Yr(t,St,Rn);break;case 3:if(ar(t,r),(r&130023424)===r&&(e=df+500-He(),10<e)){if(Il(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){vt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Td(Yr.bind(null,t,St,Rn),e);break}Yr(t,St,Rn);break;case 4:if(ar(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-dn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gb(r/1960))-r,10<r){t.timeoutHandle=Td(Yr.bind(null,t,St,Rn),r);break}Yr(t,St,Rn);break;case 5:Yr(t,St,Rn);break;default:throw Error(D(329))}}}return Lt(t,He()),t.callbackNode===n?jv.bind(null,t):null}function Qd(t,e){var n=fo;return t.current.memoizedState.isDehydrated&&(is(t,e).flags|=256),t=tc(t,e),t!==2&&(e=St,St=n,e!==null&&Jd(e)),t}function Jd(t){St===null?St=t:St.push.apply(St,t)}function yb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ar(t,e){for(e&=~uf,e&=~Rc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dn(e),r=1<<n;t[n]=-1,e&=~r}}function pm(t){if(me&6)throw Error(D(327));ri();var e=Il(t,0);if(!(e&1))return Lt(t,He()),null;var n=tc(t,e);if(t.tag!==0&&n===2){var r=bd(t);r!==0&&(e=r,n=Qd(t,r))}if(n===1)throw n=Vo,is(t,0),ar(t,e),Lt(t,He()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yr(t,St,Rn),Lt(t,He()),null}function hf(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(mi=He()+500,Mc&&Nr())}}function ps(t){ur!==null&&ur.tag===0&&!(me&6)&&ri();var e=me;me|=1;var n=Qt.transition,r=_e;try{if(Qt.transition=null,_e=1,t)return t()}finally{_e=r,Qt.transition=n,me=e,!(me&6)&&Nr()}}function ff(){At=Ys.current,Me(Ys)}function is(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Kw(n)),Ve!==null)for(n=Ve.return;n!==null;){var r=n;switch(Yh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ul();break;case 3:fi(),Me(Mt),Me(dt),tf();break;case 5:ef(r);break;case 4:fi();break;case 13:Me(Ne);break;case 19:Me(Ne);break;case 10:Qh(r.type._context);break;case 22:case 23:ff()}n=n.return}if(tt=t,Ve=t=kr(t.current,null),it=At=e,Ge=0,Vo=null,uf=Rc=fs=0,St=fo=null,es!==null){for(e=0;e<es.length;e++)if(n=es[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}es=null}return t}function Ev(t,e){do{var n=Ve;try{if(Gh(),_l.current=Jl,Ql){for(var r=Oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ql=!1}if(hs=0,Ze=qe=Oe=null,uo=!1,Uo=0,cf.current=null,n===null||n.return===null){Ge=1,Vo=e,Ve=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=it,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=tm(o);if(p!==null){p.flags&=-257,nm(p,o,a,i,e),p.mode&1&&em(i,c,e),e=p,l=c;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){em(i,c,e),pf();break e}l=Error(D(426))}}else if(Te&&a.mode&1){var x=tm(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),nm(x,o,a,i,e),Kh(pi(l,a));break e}}i=l=pi(l,a),Ge!==4&&(Ge=2),fo===null?fo=[i]:fo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=cv(i,l,e);qp(i,m);break e;case 1:a=l;var y=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(wr===null||!wr.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=uv(i,a,e);qp(i,w);break e}}i=i.return}while(i!==null)}Mv(n)}catch(S){e=S,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(!0)}function Cv(){var t=Xl.current;return Xl.current=Jl,t===null?Jl:t}function pf(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),tt===null||!(fs&268435455)&&!(Rc&268435455)||ar(tt,it)}function tc(t,e){var n=me;me|=2;var r=Cv();(tt!==t||it!==e)&&(Rn=null,is(t,e));do try{vb();break}catch(s){Ev(t,s)}while(!0);if(Gh(),me=n,Xl.current=r,Ve!==null)throw Error(D(261));return tt=null,it=0,Ge}function vb(){for(;Ve!==null;)Pv(Ve)}function xb(){for(;Ve!==null&&!W_();)Pv(Ve)}function Pv(t){var e=Lv(t.alternate,t,At);t.memoizedProps=t.pendingProps,e===null?Mv(t):Ve=e,cf.current=null}function Mv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hb(n,e),n!==null){n.flags&=32767,Ve=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,Ve=null;return}}else if(n=db(n,e,At),n!==null){Ve=n;return}if(e=e.sibling,e!==null){Ve=e;return}Ve=e=t}while(e!==null);Ge===0&&(Ge=5)}function Yr(t,e,n){var r=_e,s=Qt.transition;try{Qt.transition=null,_e=1,_b(t,e,n,r)}finally{Qt.transition=s,_e=r}return null}function _b(t,e,n,r){do ri();while(ur!==null);if(me&6)throw Error(D(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ew(t,i),t===tt&&(Ve=tt=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ha||(Ha=!0,Nv(Al,function(){return ri(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qt.transition,Qt.transition=null;var o=_e;_e=1;var a=me;me|=4,cf.current=null,pb(t,n),kv(n,t),$w(Pd),Fl=!!Cd,Pd=Cd=null,t.current=n,mb(n),V_(),me=a,_e=o,Qt.transition=i}else t.current=n;if(Ha&&(Ha=!1,ur=t,ec=s),i=t.pendingLanes,i===0&&(wr=null),q_(n.stateNode),Lt(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Zl)throw Zl=!1,t=qd,qd=null,t;return ec&1&&t.tag!==0&&ri(),i=t.pendingLanes,i&1?t===Gd?po++:(po=0,Gd=t):po=0,Nr(),null}function ri(){if(ur!==null){var t=cy(ec),e=Qt.transition,n=_e;try{if(Qt.transition=null,_e=16>t?16:t,ur===null)var r=!1;else{if(t=ur,ur=null,ec=0,me&6)throw Error(D(331));var s=me;for(me|=4,U=t.current;U!==null;){var i=U,o=i.child;if(U.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(U=c;U!==null;){var u=U;switch(u.tag){case 0:case 11:case 15:ho(8,u,i)}var h=u.child;if(h!==null)h.return=u,U=h;else for(;U!==null;){u=U;var f=u.sibling,p=u.return;if(_v(u),u===c){U=null;break}if(f!==null){f.return=p,U=f;break}U=p}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}U=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,U=o;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ho(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,U=m;break e}U=i.return}}var y=t.current;for(U=y;U!==null;){o=U;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,U=_;else e:for(o=y;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nc(9,a)}}catch(S){ze(a,a.return,S)}if(a===o){U=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,U=w;break e}U=a.return}}if(me=s,Nr(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Sc,t)}catch{}r=!0}return r}finally{_e=n,Qt.transition=e}}return!1}function mm(t,e,n){e=pi(n,e),e=cv(t,e,1),t=_r(t,e,1),e=vt(),t!==null&&(ia(t,1,e),Lt(t,e))}function ze(t,e,n){if(t.tag===3)mm(t,t,n);else for(;e!==null;){if(e.tag===3){mm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wr===null||!wr.has(r))){t=pi(n,t),t=uv(e,t,1),e=_r(e,t,1),t=vt(),e!==null&&(ia(e,1,t),Lt(e,t));break}}e=e.return}}function wb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&n,tt===t&&(it&n)===n&&(Ge===4||Ge===3&&(it&130023424)===it&&500>He()-df?is(t,0):uf|=n),Lt(t,e)}function Tv(t,e){e===0&&(t.mode&1?(e=Ra,Ra<<=1,!(Ra&130023424)&&(Ra=4194304)):e=1);var n=vt();t=Hn(t,e),t!==null&&(ia(t,e,n),Lt(t,n))}function bb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Tv(t,n)}function kb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),Tv(t,n)}var Lv;Lv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)Ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ct=!1,ub(t,e,n);Ct=!!(t.flags&131072)}else Ct=!1,Te&&e.flags&1048576&&Dy(e,Vl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bl(t,e),t=e.pendingProps;var s=ui(e,dt.current);ni(e,n),s=rf(null,e,r,t,s,n);var i=sf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tt(r)?(i=!0,Hl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xh(e),s.updater=Lc,e.stateNode=s,s._reactInternals=e,Id(e,r,t,n),e=$d(null,e,r,!0,i,n)):(e.tag=0,Te&&i&&Vh(e),pt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=jb(r),t=rn(r,t),s){case 0:e=zd(null,e,r,t,n);break e;case 1:e=im(null,e,r,t,n);break e;case 11:e=rm(null,e,r,t,n);break e;case 14:e=sm(null,e,r,rn(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rn(r,s),zd(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rn(r,s),im(t,e,r,s,n);case 3:e:{if(pv(e),t===null)throw Error(D(387));r=e.pendingProps,i=e.memoizedState,s=i.element,By(t,e),ql(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=pi(Error(D(423)),e),e=om(t,e,r,n,s);break e}else if(r!==s){s=pi(Error(D(424)),e),e=om(t,e,r,n,s);break e}else for(Ft=xr(e.stateNode.containerInfo.firstChild),$t=e,Te=!0,ln=null,n=zy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(di(),r===s){e=Wn(t,e,n);break e}pt(t,e,r,n)}e=e.child}return e;case 5:return Uy(e),t===null&&Od(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Md(r,s)?o=null:i!==null&&Md(r,i)&&(e.flags|=32),fv(t,e),pt(t,e,o,n),e.child;case 6:return t===null&&Od(e),null;case 13:return mv(t,e,n);case 4:return Zh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hi(e,null,r,n):pt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rn(r,s),rm(t,e,r,s,n);case 7:return pt(t,e,e.pendingProps,n),e.child;case 8:return pt(t,e,e.pendingProps.children,n),e.child;case 12:return pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,je(Yl,r._currentValue),r._currentValue=o,i!==null)if(fn(i.value,o)){if(i.children===s.children&&!Mt.current){e=Wn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Fn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Dd(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dd(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ni(e,n),s=Xt(s),r=r(s),e.flags|=1,pt(t,e,r,n),e.child;case 14:return r=e.type,s=rn(r,e.pendingProps),s=rn(r.type,s),sm(t,e,r,s,n);case 15:return dv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rn(r,s),bl(t,e),e.tag=1,Tt(r)?(t=!0,Hl(e)):t=!1,ni(e,n),lv(e,r,s),Id(e,r,s,n),$d(null,e,r,!0,t,n);case 19:return gv(t,e,n);case 22:return hv(t,e,n)}throw Error(D(156,e.tag))};function Nv(t,e){return iy(t,e)}function Sb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,n,r){return new Sb(t,e,n,r)}function mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jb(t){if(typeof t=="function")return mf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rh)return 11;if(t===Oh)return 14}return 2}function kr(t,e){var n=t.alternate;return n===null?(n=Kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")mf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case As:return os(n.children,s,i,e);case Nh:o=8,s|=8;break;case ad:return t=Kt(12,n,e,s|2),t.elementType=ad,t.lanes=i,t;case ld:return t=Kt(13,n,e,s),t.elementType=ld,t.lanes=i,t;case cd:return t=Kt(19,n,e,s),t.elementType=cd,t.lanes=i,t;case U0:return Oc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $0:o=10;break e;case B0:o=9;break e;case Rh:o=11;break e;case Oh:o=14;break e;case rr:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Kt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function os(t,e,n,r){return t=Kt(7,t,r,e),t.lanes=n,t}function Oc(t,e,n,r){return t=Kt(22,t,r,e),t.elementType=U0,t.lanes=n,t.stateNode={isHidden:!1},t}function Nu(t,e,n){return t=Kt(6,t,null,e),t.lanes=n,t}function Ru(t,e,n){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Eb(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fu(0),this.expirationTimes=fu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gf(t,e,n,r,s,i,o,a,l){return t=new Eb(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Kt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xh(i),t}function Cb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Rv(t){if(!t)return Er;t=t._reactInternals;e:{if(_s(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(Tt(n))return Ry(t,n,e)}return e}function Ov(t,e,n,r,s,i,o,a,l){return t=gf(n,r,!0,t,s,i,o,a,l),t.context=Rv(null),n=t.current,r=vt(),s=br(n),i=Fn(r,s),i.callback=e??null,_r(n,i,s),t.current.lanes=s,ia(t,s,r),Lt(t,r),t}function Dc(t,e,n,r){var s=e.current,i=vt(),o=br(s);return n=Rv(n),e.context===null?e.context=n:e.pendingContext=n,e=Fn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_r(s,e,o),t!==null&&(hn(t,s,o,i),xl(t,s,o)),o}function nc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yf(t,e){gm(t,e),(t=t.alternate)&&gm(t,e)}function Pb(){return null}var Dv=typeof reportError=="function"?reportError:function(t){console.error(t)};function vf(t){this._internalRoot=t}Ac.prototype.render=vf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Dc(t,e,null,null)};Ac.prototype.unmount=vf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ps(function(){Dc(null,t,null,null)}),e[Un]=null}};function Ac(t){this._internalRoot=t}Ac.prototype.unstable_scheduleHydration=function(t){if(t){var e=hy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<or.length&&e!==0&&e<or[n].priority;n++);or.splice(n,0,t),n===0&&py(t)}};function xf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ic(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ym(){}function Mb(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=nc(o);i.call(c)}}var o=Ov(e,r,t,0,null,!1,!1,"",ym);return t._reactRootContainer=o,t[Un]=o.current,Io(t.nodeType===8?t.parentNode:t),ps(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=nc(l);a.call(c)}}var l=gf(t,0,!1,null,null,!1,!1,"",ym);return t._reactRootContainer=l,t[Un]=l.current,Io(t.nodeType===8?t.parentNode:t),ps(function(){Dc(e,l,n,r)}),l}function Fc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=nc(o);a.call(l)}}Dc(e,o,t,s)}else o=Mb(n,e,t,s,r);return nc(o)}uy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xi(e.pendingLanes);n!==0&&(Ih(e,n|1),Lt(e,He()),!(me&6)&&(mi=He()+500,Nr()))}break;case 13:ps(function(){var r=Hn(t,1);if(r!==null){var s=vt();hn(r,t,1,s)}}),yf(t,1)}};Fh=function(t){if(t.tag===13){var e=Hn(t,134217728);if(e!==null){var n=vt();hn(e,t,134217728,n)}yf(t,134217728)}};dy=function(t){if(t.tag===13){var e=br(t),n=Hn(t,e);if(n!==null){var r=vt();hn(n,t,e,r)}yf(t,e)}};hy=function(){return _e};fy=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};xd=function(t,e,n){switch(e){case"input":if(hd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Pc(r);if(!s)throw Error(D(90));W0(r),hd(r,s)}}}break;case"textarea":Y0(t,n);break;case"select":e=n.value,e!=null&&Xs(t,!!n.multiple,e,!1)}};Z0=hf;ey=ps;var Tb={usingClientEntryPoint:!1,Events:[aa,$s,Pc,J0,X0,hf]},Fi={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lb={bundleType:Fi.bundleType,version:Fi.version,rendererPackageName:Fi.rendererPackageName,rendererConfig:Fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ry(t),t===null?null:t.stateNode},findFiberByHostInstance:Fi.findFiberByHostInstance||Pb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wa.isDisabled&&Wa.supportsFiber)try{Sc=Wa.inject(Lb),wn=Wa}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tb;Ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xf(e))throw Error(D(200));return Cb(t,e,null,n)};Ut.createRoot=function(t,e){if(!xf(t))throw Error(D(299));var n=!1,r="",s=Dv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=gf(t,1,!1,null,null,n,!1,r,s),t[Un]=e.current,Io(t.nodeType===8?t.parentNode:t),new vf(e)};Ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=ry(e),t=t===null?null:t.stateNode,t};Ut.flushSync=function(t){return ps(t)};Ut.hydrate=function(t,e,n){if(!Ic(e))throw Error(D(200));return Fc(null,t,e,!0,n)};Ut.hydrateRoot=function(t,e,n){if(!xf(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Dv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ov(e,null,t,1,n??null,s,!1,i,o),t[Un]=e.current,Io(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ac(e)};Ut.render=function(t,e,n){if(!Ic(e))throw Error(D(200));return Fc(null,t,e,!1,n)};Ut.unmountComponentAtNode=function(t){if(!Ic(t))throw Error(D(40));return t._reactRootContainer?(ps(function(){Fc(null,null,t,!1,function(){t._reactRootContainer=null,t[Un]=null})}),!0):!1};Ut.unstable_batchedUpdates=hf;Ut.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ic(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Fc(t,e,n,!1,r)};Ut.version="18.3.1-next-f1338f8080-20240426";function Av(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Av)}catch(t){console.error(t)}}Av(),A0.exports=Ut;var _f=A0.exports;const Nb=S0(_f),Rb=k0({__proto__:null,default:Nb},[_f]);var vm=_f;id.createRoot=vm.createRoot,id.hydrateRoot=vm.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Le(){return Le=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Le.apply(this,arguments)}var Be;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Be||(Be={}));const xm="popstate";function Ob(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Yo("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ms(s)}return Ab(e,n,null,t)}function te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Db(){return Math.random().toString(36).substr(2,8)}function _m(t,e){return{usr:t.state,key:t.key,idx:e}}function Yo(t,e,n,r){return n===void 0&&(n=null),Le({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Kn(e):e,{state:n,key:e&&e.key||r||Db()})}function ms(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Kn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ab(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Be.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Le({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Be.Pop;let x=u(),m=x==null?null:x-c;c=x,l&&l({action:a,location:g.location,delta:m})}function f(x,m){a=Be.Push;let y=Yo(g.location,x,m);c=u()+1;let _=_m(y,c),w=g.createHref(y);try{o.pushState(_,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(w)}i&&l&&l({action:a,location:g.location,delta:1})}function p(x,m){a=Be.Replace;let y=Yo(g.location,x,m);c=u();let _=_m(y,c),w=g.createHref(y);o.replaceState(_,"",w),i&&l&&l({action:a,location:g.location,delta:0})}function v(x){let m=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:ms(x);return y=y.replace(/ $/,"%20"),te(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(xm,h),l=x,()=>{s.removeEventListener(xm,h),l=null}},createHref(x){return e(s,x)},createURL:v,encodeLocation(x){let m=v(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(x){return o.go(x)}};return g}var we;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(we||(we={}));const Ib=new Set(["lazy","caseSensitive","path","id","index","children"]);function Fb(t){return t.index===!0}function Ko(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(te(s.index!==!0||!s.children,"Cannot specify children on an index route"),te(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Fb(s)){let l=Le({},s,e(s),{id:a});return r[a]=l,l}else{let l=Le({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=Ko(s.children,e,o,r)),l}})}function Jr(t,e,n){return n===void 0&&(n="/"),El(t,e,n,!1)}function El(t,e,n,r){let s=typeof e=="string"?Kn(e):e,i=pn(s.pathname||"/",n);if(i==null)return null;let o=Iv(t);$b(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Jb(i);a=Gb(o[l],c,r)}return a}function zb(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function Iv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(te(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=zn([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(te(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Iv(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Kb(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Fv(i.path))s(i,o,l)}),e}function Fv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Fv(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function $b(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Bb=/^:[\w-]+$/,Ub=3,Hb=2,Wb=1,Vb=10,Yb=-2,wm=t=>t==="*";function Kb(t,e){let n=t.split("/"),r=n.length;return n.some(wm)&&(r+=Yb),e&&(r+=Hb),n.filter(s=>!wm(s)).reduce((s,i)=>s+(Bb.test(i)?Ub:i===""?Wb:Vb),r)}function qb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Gb(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=rc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=rc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:zn([i,h.pathname]),pathnameBase:e2(zn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=zn([i,h.pathnameBase]))}return o}function rc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Qb(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=a[h];return p&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function Qb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),gi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Jb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Xb(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Kn(t):t;return{pathname:n?n.startsWith("/")?n:Zb(n,e):e,search:t2(r),hash:n2(s)}}function Zb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ou(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wf(t,e){let n=zv(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bf(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Kn(t):(s=Le({},t),te(!s.pathname||!s.pathname.includes("?"),Ou("?","pathname","search",s)),te(!s.pathname||!s.pathname.includes("#"),Ou("#","pathname","hash",s)),te(!s.search||!s.search.includes("#"),Ou("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Xb(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const zn=t=>t.join("/").replace(/\/\/+/g,"/"),e2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),t2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,n2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class sc{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function zc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $v=["post","put","patch","delete"],r2=new Set($v),s2=["get",...$v],i2=new Set(s2),o2=new Set([301,302,303,307,308]),a2=new Set([307,308]),Du={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},l2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Os={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},kf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c2=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Bv="remix-router-transitions";function u2(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;te(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let E=t.detectErrorBoundary;s=P=>({hasErrorBoundary:E(P)})}else s=c2;let i={},o=Ko(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||g2,u=t.unstable_patchRoutesOnNavigation,h=Le({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,p=new Set,v=1e3,g=new Set,x=null,m=null,y=null,_=t.hydrationData!=null,w=Jr(o,t.history.location,l),S=null;if(w==null&&!u){let E=ft(404,{pathname:t.history.location.pathname}),{matches:P,route:T}=Tm(o);w=P,S={[T.id]:E}}w&&!t.hydrationData&&ba(w,o,t.history.location.pathname).active&&(w=null);let j;if(w)if(w.some(E=>E.route.lazy))j=!1;else if(!w.some(E=>E.route.loader))j=!0;else if(h.v7_partialHydration){let E=t.hydrationData?t.hydrationData.loaderData:null,P=t.hydrationData?t.hydrationData.errors:null,T=R=>R.route.loader?typeof R.route.loader=="function"&&R.route.loader.hydrate===!0?!1:E&&E[R.route.id]!==void 0||P&&P[R.route.id]!==void 0:!0;if(P){let R=w.findIndex(B=>P[B.route.id]!==void 0);j=w.slice(0,R+1).every(T)}else j=w.every(T)}else j=t.hydrationData!=null;else if(j=!1,w=[],h.v7_partialHydration){let E=ba(null,o,t.history.location.pathname);E.active&&E.matches&&(w=E.matches)}let C,k={historyAction:t.history.action,location:t.history.location,matches:w,initialized:j,navigation:Du,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},M=Be.Pop,N=!1,O,L=!1,q=new Map,Q=null,re=!1,ae=!1,he=[],I=new Set,F=new Map,H=0,A=-1,$=new Map,Z=new Set,X=new Map,le=new Map,ce=new Set,Qe=new Map,Sn=new Map,z1=new Map,va;function $1(){if(f=t.history.listen(E=>{let{action:P,location:T,delta:R}=E;if(va){va(),va=void 0;return}gi(Sn.size===0||R!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let B=ip({currentLocation:k.location,nextLocation:T,historyAction:P});if(B&&R!=null){let K=new Promise(ee=>{va=ee});t.history.go(R*-1),_a(B,{state:"blocked",location:T,proceed(){_a(B,{state:"proceeding",proceed:void 0,reset:void 0,location:T}),K.then(()=>t.history.go(R))},reset(){let ee=new Map(k.blockers);ee.set(B,Os),ht({blockers:ee})}});return}return Ir(P,T)}),n){L2(e,q);let E=()=>N2(e,q);e.addEventListener("pagehide",E),Q=()=>e.removeEventListener("pagehide",E)}return k.initialized||Ir(Be.Pop,k.location,{initialHydration:!0}),C}function B1(){f&&f(),Q&&Q(),p.clear(),O&&O.abort(),k.fetchers.forEach((E,P)=>xa(P)),k.blockers.forEach((E,P)=>sp(P))}function U1(E){return p.add(E),()=>p.delete(E)}function ht(E,P){P===void 0&&(P={}),k=Le({},k,E);let T=[],R=[];h.v7_fetcherPersist&&k.fetchers.forEach((B,K)=>{B.state==="idle"&&(ce.has(K)?R.push(K):T.push(K))}),[...p].forEach(B=>B(k,{deletedFetchers:R,unstable_viewTransitionOpts:P.viewTransitionOpts,unstable_flushSync:P.flushSync===!0})),h.v7_fetcherPersist&&(T.forEach(B=>k.fetchers.delete(B)),R.forEach(B=>xa(B)))}function js(E,P,T){var R,B;let{flushSync:K}=T===void 0?{}:T,ee=k.actionData!=null&&k.navigation.formMethod!=null&&on(k.navigation.formMethod)&&k.navigation.state==="loading"&&((R=E.state)==null?void 0:R._isRedirect)!==!0,z;P.actionData?Object.keys(P.actionData).length>0?z=P.actionData:z=null:ee?z=k.actionData:z=null;let G=P.loaderData?Pm(k.loaderData,P.loaderData,P.matches||[],P.errors):k.loaderData,W=k.blockers;W.size>0&&(W=new Map(W),W.forEach((ve,Ee)=>W.set(Ee,Os)));let V=N===!0||k.navigation.formMethod!=null&&on(k.navigation.formMethod)&&((B=E.state)==null?void 0:B._isRedirect)!==!0;a&&(o=a,a=void 0),re||M===Be.Pop||(M===Be.Push?t.history.push(E,E.state):M===Be.Replace&&t.history.replace(E,E.state));let ge;if(M===Be.Pop){let ve=q.get(k.location.pathname);ve&&ve.has(E.pathname)?ge={currentLocation:k.location,nextLocation:E}:q.has(E.pathname)&&(ge={currentLocation:E,nextLocation:k.location})}else if(L){let ve=q.get(k.location.pathname);ve?ve.add(E.pathname):(ve=new Set([E.pathname]),q.set(k.location.pathname,ve)),ge={currentLocation:k.location,nextLocation:E}}ht(Le({},P,{actionData:z,loaderData:G,historyAction:M,location:E,initialized:!0,navigation:Du,revalidation:"idle",restoreScrollPosition:ap(E,P.matches||k.matches),preventScrollReset:V,blockers:W}),{viewTransitionOpts:ge,flushSync:K===!0}),M=Be.Pop,N=!1,L=!1,re=!1,ae=!1,he=[]}async function Jf(E,P){if(typeof E=="number"){t.history.go(E);return}let T=Xd(k.location,k.matches,l,h.v7_prependBasename,E,h.v7_relativeSplatPath,P==null?void 0:P.fromRouteId,P==null?void 0:P.relative),{path:R,submission:B,error:K}=bm(h.v7_normalizeFormMethod,!1,T,P),ee=k.location,z=Yo(k.location,R,P&&P.state);z=Le({},z,t.history.encodeLocation(z));let G=P&&P.replace!=null?P.replace:void 0,W=Be.Push;G===!0?W=Be.Replace:G===!1||B!=null&&on(B.formMethod)&&B.formAction===k.location.pathname+k.location.search&&(W=Be.Replace);let V=P&&"preventScrollReset"in P?P.preventScrollReset===!0:void 0,ge=(P&&P.unstable_flushSync)===!0,ve=ip({currentLocation:ee,nextLocation:z,historyAction:W});if(ve){_a(ve,{state:"blocked",location:z,proceed(){_a(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),Jf(E,P)},reset(){let Ee=new Map(k.blockers);Ee.set(ve,Os),ht({blockers:Ee})}});return}return await Ir(W,z,{submission:B,pendingError:K,preventScrollReset:V,replace:P&&P.replace,enableViewTransition:P&&P.unstable_viewTransition,flushSync:ge})}function H1(){if(iu(),ht({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){Ir(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}Ir(M||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:L===!0})}}async function Ir(E,P,T){O&&O.abort(),O=null,M=E,re=(T&&T.startUninterruptedRevalidation)===!0,Z1(k.location,k.matches),N=(T&&T.preventScrollReset)===!0,L=(T&&T.enableViewTransition)===!0;let R=a||o,B=T&&T.overrideNavigation,K=Jr(R,P,l),ee=(T&&T.flushSync)===!0,z=ba(K,R,P.pathname);if(z.active&&z.matches&&(K=z.matches),!K){let{error:fe,notFoundMatches:Je,route:We}=ou(P.pathname);js(P,{matches:Je,loaderData:{},errors:{[We.id]:fe}},{flushSync:ee});return}if(k.initialized&&!ae&&b2(k.location,P)&&!(T&&T.submission&&on(T.submission.formMethod))){js(P,{matches:K},{flushSync:ee});return}O=new AbortController;let G=Ps(t.history,P,O.signal,T&&T.submission),W;if(T&&T.pendingError)W=[Ks(K).route.id,{type:we.error,error:T.pendingError}];else if(T&&T.submission&&on(T.submission.formMethod)){let fe=await W1(G,P,T.submission,K,z.active,{replace:T.replace,flushSync:ee});if(fe.shortCircuited)return;if(fe.pendingActionResult){let[Je,We]=fe.pendingActionResult;if(It(We)&&zc(We.error)&&We.error.status===404){O=null,js(P,{matches:fe.matches,loaderData:{},errors:{[Je]:We.error}});return}}K=fe.matches||K,W=fe.pendingActionResult,B=Au(P,T.submission),ee=!1,z.active=!1,G=Ps(t.history,G.url,G.signal)}let{shortCircuited:V,matches:ge,loaderData:ve,errors:Ee}=await V1(G,P,K,z.active,B,T&&T.submission,T&&T.fetcherSubmission,T&&T.replace,T&&T.initialHydration===!0,ee,W);V||(O=null,js(P,Le({matches:ge||K},Mm(W),{loaderData:ve,errors:Ee})))}async function W1(E,P,T,R,B,K){K===void 0&&(K={}),iu();let ee=M2(P,T);if(ht({navigation:ee},{flushSync:K.flushSync===!0}),B){let W=await ka(R,P.pathname,E.signal);if(W.type==="aborted")return{shortCircuited:!0};if(W.type==="error"){let{boundaryId:V,error:ge}=wa(P.pathname,W);return{matches:W.partialMatches,pendingActionResult:[V,{type:we.error,error:ge}]}}else if(W.matches)R=W.matches;else{let{notFoundMatches:V,error:ge,route:ve}=ou(P.pathname);return{matches:V,pendingActionResult:[ve.id,{type:we.error,error:ge}]}}}let z,G=eo(R,P);if(!G.route.action&&!G.route.lazy)z={type:we.error,error:ft(405,{method:E.method,pathname:P.pathname,routeId:G.route.id})};else if(z=(await Mi("action",k,E,[G],R,null))[G.route.id],E.signal.aborted)return{shortCircuited:!0};if(ns(z)){let W;return K&&K.replace!=null?W=K.replace:W=jm(z.response.headers.get("Location"),new URL(E.url),l)===k.location.pathname+k.location.search,await Fr(E,z,!0,{submission:T,replace:W}),{shortCircuited:!0}}if(dr(z))throw ft(400,{type:"defer-action"});if(It(z)){let W=Ks(R,G.route.id);return(K&&K.replace)!==!0&&(M=Be.Push),{matches:R,pendingActionResult:[W.route.id,z]}}return{matches:R,pendingActionResult:[G.route.id,z]}}async function V1(E,P,T,R,B,K,ee,z,G,W,V){let ge=B||Au(P,K),ve=K||ee||Nm(ge),Ee=!re&&(!h.v7_partialHydration||!G);if(R){if(Ee){let Ie=Xf(V);ht(Le({navigation:ge},Ie!==void 0?{actionData:Ie}:{}),{flushSync:W})}let se=await ka(T,P.pathname,E.signal);if(se.type==="aborted")return{shortCircuited:!0};if(se.type==="error"){let{boundaryId:Ie,error:Rt}=wa(P.pathname,se);return{matches:se.partialMatches,loaderData:{},errors:{[Ie]:Rt}}}else if(se.matches)T=se.matches;else{let{error:Ie,notFoundMatches:Rt,route:Fe}=ou(P.pathname);return{matches:Rt,loaderData:{},errors:{[Fe.id]:Ie}}}}let fe=a||o,[Je,We]=km(t.history,k,T,ve,P,h.v7_partialHydration&&G===!0,h.v7_skipActionErrorRevalidation,ae,he,I,ce,X,Z,fe,l,V);if(au(se=>!(T&&T.some(Ie=>Ie.route.id===se))||Je&&Je.some(Ie=>Ie.route.id===se)),A=++H,Je.length===0&&We.length===0){let se=np();return js(P,Le({matches:T,loaderData:{},errors:V&&It(V[1])?{[V[0]]:V[1].error}:null},Mm(V),se?{fetchers:new Map(k.fetchers)}:{}),{flushSync:W}),{shortCircuited:!0}}if(Ee){let se={};if(!R){se.navigation=ge;let Ie=Xf(V);Ie!==void 0&&(se.actionData=Ie)}We.length>0&&(se.fetchers=Y1(We)),ht(se,{flushSync:W})}We.forEach(se=>{F.has(se.key)&&Gn(se.key),se.controller&&F.set(se.key,se.controller)});let Ti=()=>We.forEach(se=>Gn(se.key));O&&O.signal.addEventListener("abort",Ti);let{loaderResults:En,fetcherResults:Es}=await Zf(k,T,Je,We,E);if(E.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Ti),We.forEach(se=>F.delete(se.key));let Qn=Va(En);if(Qn)return await Fr(E,Qn.result,!0,{replace:z}),{shortCircuited:!0};if(Qn=Va(Es),Qn)return Z.add(Qn.key),await Fr(E,Qn.result,!0,{replace:z}),{shortCircuited:!0};let{loaderData:Sa,errors:Cn}=Cm(k,T,Je,En,V,We,Es,Qe);Qe.forEach((se,Ie)=>{se.subscribe(Rt=>{(Rt||se.done)&&Qe.delete(Ie)})}),h.v7_partialHydration&&G&&k.errors&&Object.entries(k.errors).filter(se=>{let[Ie]=se;return!Je.some(Rt=>Rt.route.id===Ie)}).forEach(se=>{let[Ie,Rt]=se;Cn=Object.assign(Cn||{},{[Ie]:Rt})});let ja=np(),Ea=rp(A),Ca=ja||Ea||We.length>0;return Le({matches:T,loaderData:Sa,errors:Cn},Ca?{fetchers:new Map(k.fetchers)}:{})}function Xf(E){if(E&&!It(E[1]))return{[E[0]]:E[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function Y1(E){return E.forEach(P=>{let T=k.fetchers.get(P.key),R=zi(void 0,T?T.data:void 0);k.fetchers.set(P.key,R)}),new Map(k.fetchers)}function K1(E,P,T,R){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");F.has(E)&&Gn(E);let B=(R&&R.unstable_flushSync)===!0,K=a||o,ee=Xd(k.location,k.matches,l,h.v7_prependBasename,T,h.v7_relativeSplatPath,P,R==null?void 0:R.relative),z=Jr(K,ee,l),G=ba(z,K,ee);if(G.active&&G.matches&&(z=G.matches),!z){jn(E,P,ft(404,{pathname:ee}),{flushSync:B});return}let{path:W,submission:V,error:ge}=bm(h.v7_normalizeFormMethod,!0,ee,R);if(ge){jn(E,P,ge,{flushSync:B});return}let ve=eo(z,W);if(N=(R&&R.preventScrollReset)===!0,V&&on(V.formMethod)){q1(E,P,W,ve,z,G.active,B,V);return}X.set(E,{routeId:P,path:W}),G1(E,P,W,ve,z,G.active,B,V)}async function q1(E,P,T,R,B,K,ee,z){iu(),X.delete(E);function G(Fe){if(!Fe.route.action&&!Fe.route.lazy){let Pn=ft(405,{method:z.formMethod,pathname:T,routeId:P});return jn(E,P,Pn,{flushSync:ee}),!0}return!1}if(!K&&G(R))return;let W=k.fetchers.get(E);qn(E,T2(z,W),{flushSync:ee});let V=new AbortController,ge=Ps(t.history,T,V.signal,z);if(K){let Fe=await ka(B,T,ge.signal);if(Fe.type==="aborted")return;if(Fe.type==="error"){let{error:Pn}=wa(T,Fe);jn(E,P,Pn,{flushSync:ee});return}else if(Fe.matches){if(B=Fe.matches,R=eo(B,T),G(R))return}else{jn(E,P,ft(404,{pathname:T}),{flushSync:ee});return}}F.set(E,V);let ve=H,fe=(await Mi("action",k,ge,[R],B,E))[R.route.id];if(ge.signal.aborted){F.get(E)===V&&F.delete(E);return}if(h.v7_fetcherPersist&&ce.has(E)){if(ns(fe)||It(fe)){qn(E,Zn(void 0));return}}else{if(ns(fe))if(F.delete(E),A>ve){qn(E,Zn(void 0));return}else return Z.add(E),qn(E,zi(z)),Fr(ge,fe,!1,{fetcherSubmission:z});if(It(fe)){jn(E,P,fe.error);return}}if(dr(fe))throw ft(400,{type:"defer-action"});let Je=k.navigation.location||k.location,We=Ps(t.history,Je,V.signal),Ti=a||o,En=k.navigation.state!=="idle"?Jr(Ti,k.navigation.location,l):k.matches;te(En,"Didn't find any matches after fetcher action");let Es=++H;$.set(E,Es);let Qn=zi(z,fe.data);k.fetchers.set(E,Qn);let[Sa,Cn]=km(t.history,k,En,z,Je,!1,h.v7_skipActionErrorRevalidation,ae,he,I,ce,X,Z,Ti,l,[R.route.id,fe]);Cn.filter(Fe=>Fe.key!==E).forEach(Fe=>{let Pn=Fe.key,cp=k.fetchers.get(Pn),n_=zi(void 0,cp?cp.data:void 0);k.fetchers.set(Pn,n_),F.has(Pn)&&Gn(Pn),Fe.controller&&F.set(Pn,Fe.controller)}),ht({fetchers:new Map(k.fetchers)});let ja=()=>Cn.forEach(Fe=>Gn(Fe.key));V.signal.addEventListener("abort",ja);let{loaderResults:Ea,fetcherResults:Ca}=await Zf(k,En,Sa,Cn,We);if(V.signal.aborted)return;V.signal.removeEventListener("abort",ja),$.delete(E),F.delete(E),Cn.forEach(Fe=>F.delete(Fe.key));let se=Va(Ea);if(se)return Fr(We,se.result,!1);if(se=Va(Ca),se)return Z.add(se.key),Fr(We,se.result,!1);let{loaderData:Ie,errors:Rt}=Cm(k,En,Sa,Ea,void 0,Cn,Ca,Qe);if(k.fetchers.has(E)){let Fe=Zn(fe.data);k.fetchers.set(E,Fe)}rp(Es),k.navigation.state==="loading"&&Es>A?(te(M,"Expected pending action"),O&&O.abort(),js(k.navigation.location,{matches:En,loaderData:Ie,errors:Rt,fetchers:new Map(k.fetchers)})):(ht({errors:Rt,loaderData:Pm(k.loaderData,Ie,En,Rt),fetchers:new Map(k.fetchers)}),ae=!1)}async function G1(E,P,T,R,B,K,ee,z){let G=k.fetchers.get(E);qn(E,zi(z,G?G.data:void 0),{flushSync:ee});let W=new AbortController,V=Ps(t.history,T,W.signal);if(K){let fe=await ka(B,T,V.signal);if(fe.type==="aborted")return;if(fe.type==="error"){let{error:Je}=wa(T,fe);jn(E,P,Je,{flushSync:ee});return}else if(fe.matches)B=fe.matches,R=eo(B,T);else{jn(E,P,ft(404,{pathname:T}),{flushSync:ee});return}}F.set(E,W);let ge=H,Ee=(await Mi("loader",k,V,[R],B,E))[R.route.id];if(dr(Ee)&&(Ee=await Sf(Ee,V.signal,!0)||Ee),F.get(E)===W&&F.delete(E),!V.signal.aborted){if(ce.has(E)){qn(E,Zn(void 0));return}if(ns(Ee))if(A>ge){qn(E,Zn(void 0));return}else{Z.add(E),await Fr(V,Ee,!1);return}if(It(Ee)){jn(E,P,Ee.error);return}te(!dr(Ee),"Unhandled fetcher deferred data"),qn(E,Zn(Ee.data))}}async function Fr(E,P,T,R){let{submission:B,fetcherSubmission:K,replace:ee}=R===void 0?{}:R;P.response.headers.has("X-Remix-Revalidate")&&(ae=!0);let z=P.response.headers.get("Location");te(z,"Expected a Location header on the redirect Response"),z=jm(z,new URL(E.url),l);let G=Yo(k.location,z,{_isRedirect:!0});if(n){let fe=!1;if(P.response.headers.has("X-Remix-Reload-Document"))fe=!0;else if(kf.test(z)){const Je=t.history.createURL(z);fe=Je.origin!==e.location.origin||pn(Je.pathname,l)==null}if(fe){ee?e.location.replace(z):e.location.assign(z);return}}O=null;let W=ee===!0||P.response.headers.has("X-Remix-Replace")?Be.Replace:Be.Push,{formMethod:V,formAction:ge,formEncType:ve}=k.navigation;!B&&!K&&V&&ge&&ve&&(B=Nm(k.navigation));let Ee=B||K;if(a2.has(P.response.status)&&Ee&&on(Ee.formMethod))await Ir(W,G,{submission:Le({},Ee,{formAction:z}),preventScrollReset:N,enableViewTransition:T?L:void 0});else{let fe=Au(G,B);await Ir(W,G,{overrideNavigation:fe,fetcherSubmission:K,preventScrollReset:N,enableViewTransition:T?L:void 0})}}async function Mi(E,P,T,R,B,K){let ee,z={};try{ee=await y2(c,E,P,T,R,B,K,i,s)}catch(G){return R.forEach(W=>{z[W.route.id]={type:we.error,error:G}}),z}for(let[G,W]of Object.entries(ee))if(S2(W)){let V=W.result;z[G]={type:we.redirect,response:_2(V,T,G,B,l,h.v7_relativeSplatPath)}}else z[G]=await x2(W);return z}async function Zf(E,P,T,R,B){let K=E.matches,ee=Mi("loader",E,B,T,P,null),z=Promise.all(R.map(async V=>{if(V.matches&&V.match&&V.controller){let ve=(await Mi("loader",E,Ps(t.history,V.path,V.controller.signal),[V.match],V.matches,V.key))[V.match.route.id];return{[V.key]:ve}}else return Promise.resolve({[V.key]:{type:we.error,error:ft(404,{pathname:V.path})}})})),G=await ee,W=(await z).reduce((V,ge)=>Object.assign(V,ge),{});return await Promise.all([C2(P,G,B.signal,K,E.loaderData),P2(P,W,R)]),{loaderResults:G,fetcherResults:W}}function iu(){ae=!0,he.push(...au()),X.forEach((E,P)=>{F.has(P)&&(I.add(P),Gn(P))})}function qn(E,P,T){T===void 0&&(T={}),k.fetchers.set(E,P),ht({fetchers:new Map(k.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function jn(E,P,T,R){R===void 0&&(R={});let B=Ks(k.matches,P);xa(E),ht({errors:{[B.route.id]:T},fetchers:new Map(k.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function ep(E){return h.v7_fetcherPersist&&(le.set(E,(le.get(E)||0)+1),ce.has(E)&&ce.delete(E)),k.fetchers.get(E)||l2}function xa(E){let P=k.fetchers.get(E);F.has(E)&&!(P&&P.state==="loading"&&$.has(E))&&Gn(E),X.delete(E),$.delete(E),Z.delete(E),ce.delete(E),I.delete(E),k.fetchers.delete(E)}function Q1(E){if(h.v7_fetcherPersist){let P=(le.get(E)||0)-1;P<=0?(le.delete(E),ce.add(E)):le.set(E,P)}else xa(E);ht({fetchers:new Map(k.fetchers)})}function Gn(E){let P=F.get(E);te(P,"Expected fetch controller: "+E),P.abort(),F.delete(E)}function tp(E){for(let P of E){let T=ep(P),R=Zn(T.data);k.fetchers.set(P,R)}}function np(){let E=[],P=!1;for(let T of Z){let R=k.fetchers.get(T);te(R,"Expected fetcher: "+T),R.state==="loading"&&(Z.delete(T),E.push(T),P=!0)}return tp(E),P}function rp(E){let P=[];for(let[T,R]of $)if(R<E){let B=k.fetchers.get(T);te(B,"Expected fetcher: "+T),B.state==="loading"&&(Gn(T),$.delete(T),P.push(T))}return tp(P),P.length>0}function J1(E,P){let T=k.blockers.get(E)||Os;return Sn.get(E)!==P&&Sn.set(E,P),T}function sp(E){k.blockers.delete(E),Sn.delete(E)}function _a(E,P){let T=k.blockers.get(E)||Os;te(T.state==="unblocked"&&P.state==="blocked"||T.state==="blocked"&&P.state==="blocked"||T.state==="blocked"&&P.state==="proceeding"||T.state==="blocked"&&P.state==="unblocked"||T.state==="proceeding"&&P.state==="unblocked","Invalid blocker state transition: "+T.state+" -> "+P.state);let R=new Map(k.blockers);R.set(E,P),ht({blockers:R})}function ip(E){let{currentLocation:P,nextLocation:T,historyAction:R}=E;if(Sn.size===0)return;Sn.size>1&&gi(!1,"A router only supports one blocker at a time");let B=Array.from(Sn.entries()),[K,ee]=B[B.length-1],z=k.blockers.get(K);if(!(z&&z.state==="proceeding")&&ee({currentLocation:P,nextLocation:T,historyAction:R}))return K}function ou(E){let P=ft(404,{pathname:E}),T=a||o,{matches:R,route:B}=Tm(T);return au(),{notFoundMatches:R,route:B,error:P}}function wa(E,P){return{boundaryId:Ks(P.partialMatches).route.id,error:ft(400,{type:"route-discovery",pathname:E,message:P.error!=null&&"message"in P.error?P.error:String(P.error)})}}function au(E){let P=[];return Qe.forEach((T,R)=>{(!E||E(R))&&(T.cancel(),P.push(R),Qe.delete(R))}),P}function X1(E,P,T){if(x=E,y=P,m=T||null,!_&&k.navigation===Du){_=!0;let R=ap(k.location,k.matches);R!=null&&ht({restoreScrollPosition:R})}return()=>{x=null,y=null,m=null}}function op(E,P){return m&&m(E,P.map(R=>zb(R,k.loaderData)))||E.key}function Z1(E,P){if(x&&y){let T=op(E,P);x[T]=y()}}function ap(E,P){if(x){let T=op(E,P),R=x[T];if(typeof R=="number")return R}return null}function ba(E,P,T){if(u){if(g.has(T))return{active:!1,matches:E};if(E){if(Object.keys(E[0].params).length>0)return{active:!0,matches:El(P,T,l,!0)}}else return{active:!0,matches:El(P,T,l,!0)||[]}}return{active:!1,matches:null}}async function ka(E,P,T){let R=E;for(;;){let B=a==null,K=a||o;try{await p2(u,P,R,K,i,s,z1,T)}catch(G){return{type:"error",error:G,partialMatches:R}}finally{B&&(o=[...o])}if(T.aborted)return{type:"aborted"};let ee=Jr(K,P,l);if(ee)return lp(P,g),{type:"success",matches:ee};let z=El(K,P,l,!0);if(!z||R.length===z.length&&R.every((G,W)=>G.route.id===z[W].route.id))return lp(P,g),{type:"success",matches:null};R=z}}function lp(E,P){if(P.size>=v){let T=P.values().next().value;P.delete(T)}P.add(E)}function e_(E){i={},a=Ko(E,s,void 0,i)}function t_(E,P){let T=a==null;Hv(E,P,a||o,i,s),T&&(o=[...o],ht({}))}return C={get basename(){return l},get future(){return h},get state(){return k},get routes(){return o},get window(){return e},initialize:$1,subscribe:U1,enableScrollRestoration:X1,navigate:Jf,fetch:K1,revalidate:H1,createHref:E=>t.history.createHref(E),encodeLocation:E=>t.history.encodeLocation(E),getFetcher:ep,deleteFetcher:Q1,dispose:B1,getBlocker:J1,deleteBlocker:sp,patchRoutes:t_,_internalFetchControllers:F,_internalActiveDeferreds:Qe,_internalSetRoutes:e_},C}function d2(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Xd(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){c=h;break}}else l=e,c=e[e.length-1];let u=bf(s||".",wf(l,i),pn(t.pathname,n)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!jf(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:zn([n,u.pathname])),ms(u)}function bm(t,e,n,r){if(!r||!d2(r))return{path:n};if(r.formMethod&&!E2(r.formMethod))return{path:n,error:ft(405,{method:r.formMethod})};let s=()=>({path:n,error:ft(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=Wv(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!on(o))return s();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,v)=>{let[g,x]=v;return""+p+g+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!on(o))return s();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return s()}}}te(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Zd(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Zd(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Em(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Em(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(on(u.formMethod))return{path:n,submission:u};let h=Kn(n);return e&&h.search&&jf(h.search)&&l.append("index",""),h.search="?"+l,{path:ms(h),submission:u}}function h2(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function km(t,e,n,r,s,i,o,a,l,c,u,h,f,p,v,g){let x=g?It(g[1])?g[1].error:g[1].data:void 0,m=t.createURL(e.location),y=t.createURL(s),_=g&&It(g[1])?g[0]:void 0,w=_?h2(n,_):n,S=g?g[1].statusCode:void 0,j=o&&S&&S>=400,C=w.filter((M,N)=>{let{route:O}=M;if(O.lazy)return!0;if(O.loader==null)return!1;if(i)return typeof O.loader!="function"||O.loader.hydrate?!0:e.loaderData[O.id]===void 0&&(!e.errors||e.errors[O.id]===void 0);if(f2(e.loaderData,e.matches[N],M)||l.some(Q=>Q===M.route.id))return!0;let L=e.matches[N],q=M;return Sm(M,Le({currentUrl:m,currentParams:L.params,nextUrl:y,nextParams:q.params},r,{actionResult:x,actionStatus:S,defaultShouldRevalidate:j?!1:a||m.pathname+m.search===y.pathname+y.search||m.search!==y.search||Uv(L,q)}))}),k=[];return h.forEach((M,N)=>{if(i||!n.some(re=>re.route.id===M.routeId)||u.has(N))return;let O=Jr(p,M.path,v);if(!O){k.push({key:N,routeId:M.routeId,path:M.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(N),q=eo(O,M.path),Q=!1;f.has(N)?Q=!1:c.has(N)?(c.delete(N),Q=!0):L&&L.state!=="idle"&&L.data===void 0?Q=a:Q=Sm(q,Le({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:S,defaultShouldRevalidate:j?!1:a})),Q&&k.push({key:N,routeId:M.routeId,path:M.path,matches:O,match:q,controller:new AbortController})}),[C,k]}function f2(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function Uv(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Sm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function p2(t,e,n,r,s,i,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(u,h)=>{a.aborted||Hv(u,h,r,s,i)}}),o.set(l,c)),c&&k2(c)&&await c}finally{o.delete(l)}}function Hv(t,e,n,r,s){if(t){var i;let o=r[t];te(o,"No route found to patch children into: routeId = "+t);let a=Ko(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Ko(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function m2(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];te(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";gi(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Ib.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,Le({},e(s),{lazy:void 0}))}async function g2(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function y2(t,e,n,r,s,i,o,a,l,c){let u=i.map(p=>p.route.lazy?m2(p.route,l,a):void 0),h=i.map((p,v)=>{let g=u[v],x=s.some(y=>y.route.id===p.route.id);return Le({},p,{shouldLoad:x,resolve:async y=>(y&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(x=!0),x?v2(e,r,p,g,y,c):Promise.resolve({type:we.data,result:void 0}))})}),f=await t({matches:h,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return f}async function v2(t,e,n,r,s,i){let o,a,l=c=>{let u,h=new Promise((v,g)=>u=g);a=()=>u(),e.signal.addEventListener("abort",a);let f=v=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...v!==void 0?[v]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(g=>f(g)):f())}}catch(v){return{type:"error",result:v}}})();return Promise.race([p,h])};try{let c=n.route[t];if(r)if(c){let u,[h]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;o=h}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),h=u.pathname+u.search;throw ft(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:we.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),h=u.pathname+u.search;throw ft(404,{pathname:h})}te(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:we.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function x2(t){let{result:e,type:n}=t;if(Vv(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:we.error,error:u}}return n===we.error?{type:we.error,error:new sc(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:we.data,data:c,statusCode:e.status,headers:e.headers}}if(n===we.error){if(Lm(e)){var r;if(e.data instanceof Error){var s;return{type:we.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new sc(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:we.error,error:e,statusCode:zc(e)?e.status:void 0}}if(j2(e)){var i,o;return{type:we.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Lm(e)){var a,l;return{type:we.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:we.data,data:e}}function _2(t,e,n,r,s,i){let o=t.headers.get("Location");if(te(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!kf.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Xd(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function jm(t,e,n){if(kf.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=pn(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Ps(t,e,n,r){let s=t.createURL(Wv(e)).toString(),i={signal:n};if(r&&on(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=Zd(r.formData):i.body=r.formData}return new Request(s,i)}function Zd(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Em(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function w2(t,e,n,r,s){let i={},o=null,a,l=!1,c={},u=n&&It(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,p=e[f];if(te(!ns(p),"Cannot handle redirect results in processLoaderData"),It(p)){let v=p.error;u!==void 0&&(v=u,u=void 0),o=o||{};{let g=Ks(t,f);o[g.route.id]==null&&(o[g.route.id]=v)}i[f]=void 0,l||(l=!0,a=zc(p.error)?p.error.status:500),p.headers&&(c[f]=p.headers)}else dr(p)?(r.set(f,p.deferredData),i[f]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[f]=p.headers)):(i[f]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[f]=p.headers))}),u!==void 0&&n&&(o={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function Cm(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=w2(e,r,s,a);return i.forEach(u=>{let{key:h,match:f,controller:p}=u,v=o[h];if(te(v,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(It(v)){let g=Ks(t.matches,f==null?void 0:f.route.id);c&&c[g.route.id]||(c=Le({},c,{[g.route.id]:v.error})),t.fetchers.delete(h)}else if(ns(v))te(!1,"Unhandled fetcher revalidation redirect");else if(dr(v))te(!1,"Unhandled fetcher deferred data");else{let g=Zn(v.data);t.fetchers.set(h,g)}}),{loaderData:l,errors:c}}function Pm(t,e,n,r){let s=Le({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function Mm(t){return t?It(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ks(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Tm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ft(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new sc(t||500,a,new Error(l),!0)}function Va(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(ns(s))return{key:r,result:s}}}function Wv(t){let e=typeof t=="string"?Kn(t):t;return ms(Le({},e,{hash:""}))}function b2(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function k2(t){return typeof t=="object"&&t!=null&&"then"in t}function S2(t){return Vv(t.result)&&o2.has(t.result.status)}function dr(t){return t.type===we.deferred}function It(t){return t.type===we.error}function ns(t){return(t&&t.type)===we.redirect}function Lm(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function j2(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Vv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function E2(t){return i2.has(t.toLowerCase())}function on(t){return r2.has(t.toLowerCase())}async function C2(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),h=u!=null&&!Uv(u,c)&&(s&&s[c.route.id])!==void 0;dr(l)&&h&&await Sf(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function P2(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&dr(a)&&(te(o,"Expected an AbortController for revalidating fetcher deferred result"),await Sf(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function Sf(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:we.data,data:t.deferredData.unwrappedData}}catch(s){return{type:we.error,error:s}}return{type:we.data,data:t.deferredData.data}}}function jf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function eo(t,e){let n=typeof e=="string"?Kn(e).search:e.search;if(t[t.length-1].route.index&&jf(n||""))return t[t.length-1];let r=zv(t);return r[r.length-1]}function Nm(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Au(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function M2(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zi(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function T2(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Zn(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function L2(t,e){try{let n=t.sessionStorage.getItem(Bv);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function N2(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(Bv,JSON.stringify(n))}catch(r){gi(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gs(){return gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gs.apply(this,arguments)}const ca=b.createContext(null),Ef=b.createContext(null),Rr=b.createContext(null),$c=b.createContext(null),Or=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Yv=b.createContext(null);function R2(t,e){let{relative:n}=e===void 0?{}:e;ua()||te(!1);let{basename:r,navigator:s}=b.useContext(Rr),{hash:i,pathname:o,search:a}=Bc(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:zn([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ua(){return b.useContext($c)!=null}function Dr(){return ua()||te(!1),b.useContext($c).location}function Kv(t){b.useContext(Rr).static||b.useLayoutEffect(t)}function Nt(){let{isDataRoute:t}=b.useContext(Or);return t?W2():O2()}function O2(){ua()||te(!1);let t=b.useContext(ca),{basename:e,future:n,navigator:r}=b.useContext(Rr),{matches:s}=b.useContext(Or),{pathname:i}=Dr(),o=JSON.stringify(wf(s,n.v7_relativeSplatPath)),a=b.useRef(!1);return Kv(()=>{a.current=!0}),b.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=bf(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:zn([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}function qv(){let{matches:t}=b.useContext(Or),e=t[t.length-1];return e?e.params:{}}function Bc(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Rr),{matches:s}=b.useContext(Or),{pathname:i}=Dr(),o=JSON.stringify(wf(s,r.v7_relativeSplatPath));return b.useMemo(()=>bf(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function D2(t,e){return Gv(t,e)}function Gv(t,e,n,r){ua()||te(!1);let{navigator:s}=b.useContext(Rr),{matches:i}=b.useContext(Or),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Dr(),u;if(e){var h;let x=typeof e=="string"?Kn(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||te(!1),u=x}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=Jr(t,{pathname:p}),g=$2(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:zn([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:zn([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&g?b.createElement($c.Provider,{value:{location:gs({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Be.Pop}},g):g}function A2(){let t=U2(),e=zc(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const I2=b.createElement(A2,null);class F2 extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Or.Provider,{value:this.props.routeContext},b.createElement(Yv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z2(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(ca);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Or.Provider,{value:e},r)}function $2(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||te(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,v=!1,g=null,x=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||I2,l&&(c<0&&f===0?(v=!0,x=null):c===f&&(v=!0,x=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),y=()=>{let _;return p?_=g:v?_=x:h.route.Component?_=b.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=u,b.createElement(z2,{match:h,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(F2,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var Cf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Cf||{}),qo=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qo||{});function Qv(t){let e=b.useContext(ca);return e||te(!1),e}function Jv(t){let e=b.useContext(Ef);return e||te(!1),e}function B2(t){let e=b.useContext(Or);return e||te(!1),e}function Xv(t){let e=B2(),n=e.matches[e.matches.length-1];return n.route.id||te(!1),n.route.id}function U2(){var t;let e=b.useContext(Yv),n=Jv(qo.UseRouteError),r=Xv(qo.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}let H2=0;function Zv(t){let{router:e,basename:n}=Qv(Cf.UseBlocker),r=Jv(qo.UseBlocker),[s,i]=b.useState(""),o=b.useCallback(a=>{if(typeof t!="function")return!!t;if(n==="/")return t(a);let{currentLocation:l,nextLocation:c,historyAction:u}=a;return t({currentLocation:gs({},l,{pathname:pn(l.pathname,n)||l.pathname}),nextLocation:gs({},c,{pathname:pn(c.pathname,n)||c.pathname}),historyAction:u})},[n,t]);return b.useEffect(()=>{let a=String(++H2);return i(a),()=>e.deleteBlocker(a)},[e]),b.useEffect(()=>{s!==""&&e.getBlocker(s,o)},[e,s,o]),s&&r.blockers.has(s)?r.blockers.get(s):Os}function W2(){let{router:t}=Qv(Cf.UseNavigateStable),e=Xv(qo.UseNavigateStable),n=b.useRef(!1);return Kv(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,gs({fromRouteId:e},i)))},[t,e])}function Ye(t){te(!1)}function V2(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Be.Pop,navigator:i,static:o=!1,future:a}=t;ua()&&te(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:i,static:o,future:gs({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Kn(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:v="default"}=r,g=b.useMemo(()=>{let x=pn(u,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:v},navigationType:s}},[l,u,h,f,p,v,s]);return g==null?null:b.createElement(Rr.Provider,{value:c},b.createElement($c.Provider,{children:n,value:g}))}function Ei(t){let{children:e,location:n}=t;return D2(ic(e),n)}new Promise(()=>{});function ic(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,ic(r.props.children,i));return}r.type!==Ye&&te(!1),!r.props.index||!r.props.children||te(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ic(r.props.children,i)),n.push(o)}),n}function Y2(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:b.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:b.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:b.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yi(){return yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yi.apply(this,arguments)}function ex(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function K2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function q2(t,e){return t.button===0&&(!e||e==="_self")&&!K2(t)}function eh(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function G2(t,e){let n=eh(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const Q2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],J2=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],X2="6";try{window.__reactRouterVersion=X2}catch{}function Z2(t,e){return u2({basename:e==null?void 0:e.basename,future:yi({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Ob({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||ek(),routes:t,mapRouteProperties:Y2,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function ek(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=yi({},e,{errors:tk(e.errors)})),e}function tk(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new sc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const tx=b.createContext({isTransitioning:!1}),nk=b.createContext(new Map),rk="startTransition",Rm=w_[rk],sk="flushSync",Om=Rb[sk];function ik(t){Rm?Rm(t):t()}function $i(t){Om?Om(t):t()}let ok=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function ak(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=b.useState(n.state),[o,a]=b.useState(),[l,c]=b.useState({isTransitioning:!1}),[u,h]=b.useState(),[f,p]=b.useState(),[v,g]=b.useState(),x=b.useRef(new Map),{v7_startTransition:m}=r||{},y=b.useCallback(k=>{m?ik(k):k()},[m]),_=b.useCallback((k,M)=>{let{deletedFetchers:N,unstable_flushSync:O,unstable_viewTransitionOpts:L}=M;N.forEach(Q=>x.current.delete(Q)),k.fetchers.forEach((Q,re)=>{Q.data!==void 0&&x.current.set(re,Q.data)});let q=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!L||q){O?$i(()=>i(k)):y(()=>i(k));return}if(O){$i(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let Q=n.window.document.startViewTransition(()=>{$i(()=>i(k))});Q.finished.finally(()=>{$i(()=>{h(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),$i(()=>p(Q));return}f?(u&&u.resolve(),f.skipTransition(),g({state:k,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(a(k),c({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[n.window,f,u,x,y]);b.useLayoutEffect(()=>n.subscribe(_),[n,_]),b.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new ok)},[l]),b.useEffect(()=>{if(u&&o&&n.window){let k=o,M=u.promise,N=n.window.document.startViewTransition(async()=>{y(()=>i(k)),await M});N.finished.finally(()=>{h(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(N)}},[y,o,u,n.window]),b.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,f,s.location,o]),b.useEffect(()=>{!l.isTransitioning&&v&&(a(v.state),c({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),g(void 0))},[l.isTransitioning,v]),b.useEffect(()=>{},[]);let w=b.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:k=>n.navigate(k),push:(k,M,N)=>n.navigate(k,{state:M,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(k,M,N)=>n.navigate(k,{replace:!0,state:M,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[n]),S=n.basename||"/",j=b.useMemo(()=>({router:n,navigator:w,static:!1,basename:S}),[n,w,S]),C=b.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return b.createElement(b.Fragment,null,b.createElement(ca.Provider,{value:j},b.createElement(Ef.Provider,{value:s},b.createElement(nk.Provider,{value:x.current},b.createElement(tx.Provider,{value:l},b.createElement(V2,{basename:S,location:s.location,navigationType:s.historyAction,navigator:w,future:C},s.initialized||n.future.v7_partialHydration?b.createElement(lk,{routes:n.routes,future:n.future,state:s}):e))))),null)}const lk=b.memo(ck);function ck(t){let{routes:e,future:n,state:r}=t;return Gv(e,void 0,r,n)}const uk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pf=b.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,f=ex(e,Q2),{basename:p}=b.useContext(Rr),v,g=!1;if(typeof c=="string"&&dk.test(c)&&(v=c,uk))try{let _=new URL(window.location.href),w=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=pn(w.pathname,p);w.origin===_.origin&&S!=null?c=S+w.search+w.hash:g=!0}catch{}let x=R2(c,{relative:s}),m=pk(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:h});function y(_){r&&r(_),_.defaultPrevented||m(_)}return b.createElement("a",yi({},f,{href:v||x,onClick:g||i?r:y,ref:n,target:l}))}),hk=b.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,h=ex(e,J2),f=Bc(l,{relative:h.relative}),p=Dr(),v=b.useContext(Ef),{navigator:g,basename:x}=b.useContext(Rr),m=v!=null&&mk(f)&&c===!0,y=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,_=p.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(_=_.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&x&&(w=pn(w,x)||w);const S=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let j=_===y||!o&&_.startsWith(y)&&_.charAt(S)==="/",C=w!=null&&(w===y||!o&&w.startsWith(y)&&w.charAt(y.length)==="/"),k={isActive:j,isPending:C,isTransitioning:m},M=j?r:void 0,N;typeof i=="function"?N=i(k):N=[i,j?"active":null,C?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(k):a;return b.createElement(Pf,yi({},h,{"aria-current":M,className:N,ref:n,style:O,to:l,unstable_viewTransition:c}),typeof u=="function"?u(k):u)});var th;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(th||(th={}));var Dm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Dm||(Dm={}));function fk(t){let e=b.useContext(ca);return e||te(!1),e}function pk(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Nt(),c=Dr(),u=Bc(t,{relative:o});return b.useCallback(h=>{if(q2(h,n)){h.preventDefault();let f=r!==void 0?r:ms(c)===ms(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}function Uc(t){let e=b.useRef(eh(t)),n=b.useRef(!1),r=Dr(),s=b.useMemo(()=>G2(r.search,n.current?null:e.current),[r.search]),i=Nt(),o=b.useCallback((a,l)=>{const c=eh(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}function mk(t,e){e===void 0&&(e={});let n=b.useContext(tx);n==null&&te(!1);let{basename:r}=fk(th.useViewTransitionState),s=Bc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=pn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=pn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return rc(s.pathname,o)!=null||rc(s.pathname,i)!=null}const cn={BASE_URL:"/duitify",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobGxzdmxxZHpncmhqamZnZXdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI2MDI1MjcsImV4cCI6MjA0ODE3ODUyN30.sgz9zSOQRqOzjWojV2acr6f3OQNNZ88D5zT-TSmYEIM",VITE_SUPABASE_PROJECT_URL:"https://xhllsvlqdzgrhjjfgewk.supabase.co"};let gk=0;function Ae(t,e){const n=`atom${++gk}`,r={toString(){return(cn?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=yk,r.write=vk),e&&(r.write=e),r}function yk(t){return t(this)}function vk(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}const Am=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,Iu=t=>"init"in t,Fu=t=>!!t.write,oc=new WeakMap,nh=t=>{var e;return rh(t)&&!((e=oc.get(t))!=null&&e[1])},xk=(t,e)=>{const n=oc.get(t);if(n)n[1]=!0,n[0].forEach(r=>r(e));else if((cn?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},_k=t=>{if(oc.has(t))return;const e=[new Set,!1];oc.set(t,e);const n=()=>{e[1]=!0};t.then(n,n),t.onCancel=r=>{e[0].add(r)}},rh=t=>typeof(t==null?void 0:t.then)=="function",Im=t=>"v"in t||"e"in t,Ya=t=>{if("e"in t)throw t.e;if((cn?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},nx=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},Fm=(t,e,n,r,s)=>{var i;if((cn?"production":void 0)!=="production"&&r===e)throw new Error("[Bug] atom cannot depend on itself");n.d.set(r,s.n),nh(n.v)&&nx(e,n.v,s),(i=s.m)==null||i.t.add(e),t&&wk(t,r,e)},Ms=()=>[new Map,new Map,new Set],zu=(t,e,n)=>{t[0].has(e)||t[0].set(e,new Set),t[1].set(e,n)},wk=(t,e,n)=>{const r=t[0].get(e);r&&r.add(n)},bk=(t,e)=>t[0].get(e),zm=(t,e)=>{t[2].add(e)},zr=t=>{for(;t[1].size||t[2].size;){t[0].clear();const e=new Set(t[1].values());t[1].clear();const n=new Set(t[2]);t[2].clear(),e.forEach(r=>{var s;return(s=r.m)==null?void 0:s.l.forEach(i=>i())}),n.forEach(r=>r())}},rx=t=>{let e;(cn?"production":void 0)!=="production"&&(e=new Set);const n=(g,x,m)=>{const y="v"in x,_=x.v,w=nh(x.v)?x.v:null;if(rh(m)){_k(m);for(const S of x.d.keys())nx(g,m,t(S,x));x.v=m,delete x.e}else x.v=m,delete x.e;(!y||!Object.is(_,x.v))&&(++x.n,w&&xk(w,m))},r=(g,x,m,y)=>{var _;if(!(y!=null&&y(x))&&Im(m)&&(m.m||Array.from(m.d).every(([M,N])=>r(g,M,t(M,m),y).n===N)))return m;m.d.clear();let w=!0;const S=M=>{if(Am(x,M)){const O=t(M,m);if(!Im(O))if(Iu(M))n(M,O,M.init);else throw new Error("no atom init");return Ya(O)}const N=r(g,M,t(M,m),y);if(w)Fm(g,x,m,M,N);else{const O=Ms();Fm(O,x,m,M,N),c(O,x,m),zr(O)}return Ya(N)};let j,C;const k={get signal(){return j||(j=new AbortController),j.signal},get setSelf(){return(cn?"production":void 0)!=="production"&&!Fu(x)&&console.warn("setSelf function cannot be used with read-only atom"),!C&&Fu(x)&&(C=(...M)=>{if((cn?"production":void 0)!=="production"&&w&&console.warn("setSelf function cannot be called in sync"),!w)return l(x,...M)}),C}};try{const M=x.read(S,k);if(n(x,m,M),rh(M)){(_=M.onCancel)==null||_.call(M,()=>j==null?void 0:j.abort());const N=()=>{if(m.m){const O=Ms();c(O,x,m),zr(O)}};M.then(N,N)}return m}catch(M){return delete m.v,m.e=M,++m.n,m}finally{w=!1}},s=g=>Ya(r(void 0,g,t(g))),i=(g,x,m)=>{var y,_;const w=new Map;for(const S of((y=m.m)==null?void 0:y.t)||[])w.set(S,t(S,m));for(const S of m.p)w.set(S,t(S,m));return(_=bk(g,x))==null||_.forEach(S=>{w.set(S,t(S,m))}),w},o=(g,x,m)=>{const y=[],_=new Set,w=(C,k)=>{if(!_.has(C)){_.add(C);for(const[M,N]of i(g,C,k))C!==M&&w(M,N);y.push([C,k,k.n])}};w(x,m);const S=new Set([x]),j=C=>_.has(C);for(let C=y.length-1;C>=0;--C){const[k,M,N]=y[C];let O=!1;for(const L of M.d.keys())if(L!==k&&S.has(L)){O=!0;break}O&&(r(g,k,M,j),c(g,k,M),N!==M.n&&(zu(g,k,M),S.add(k))),_.delete(k)}},a=(g,x,m,...y)=>{const _=j=>Ya(r(g,j,t(j,m))),w=(j,...C)=>{const k=t(j,m);let M;if(Am(x,j)){if(!Iu(j))throw new Error("atom not writable");const N="v"in k,O=k.v,L=C[0];n(j,k,L),c(g,j,k),(!N||!Object.is(O,k.v))&&(zu(g,j,k),o(g,j,k))}else M=a(g,j,k,...C);return zr(g),M};return x.write(_,w,...y)},l=(g,...x)=>{const m=Ms(),y=a(m,g,t(g),...x);return zr(m),y},c=(g,x,m)=>{if(m.m&&!nh(m.v)){for(const y of m.d.keys())m.m.d.has(y)||(u(g,y,t(y,m)).t.add(x),m.m.d.add(y));for(const y of m.m.d||[])if(!m.d.has(y)){m.m.d.delete(y);const _=h(g,y,t(y,m));_==null||_.t.delete(x)}}},u=(g,x,m)=>{if(!m.m){r(g,x,m);for(const y of m.d.keys())u(g,y,t(y,m)).t.add(x);if(m.m={l:new Set,d:new Set(m.d.keys()),t:new Set},(cn?"production":void 0)!=="production"&&e.add(x),Fu(x)&&x.onMount){const y=m.m,{onMount:_}=x;zm(g,()=>{const w=_((...S)=>a(g,x,m,...S));w&&(y.u=w)})}}return m.m},h=(g,x,m)=>{if(m.m&&!m.m.l.size&&!Array.from(m.m.t).some(y=>{var _;return(_=t(y,m).m)==null?void 0:_.d.has(x)})){const y=m.m.u;y&&zm(g,y),delete m.m,(cn?"production":void 0)!=="production"&&e.delete(x);for(const _ of m.d.keys()){const w=h(g,_,t(_,m));w==null||w.t.delete(x)}return}return m.m},v={get:s,set:l,sub:(g,x)=>{const m=Ms(),y=t(g),_=u(m,g,y);zr(m);const w=_.l;return w.add(x),()=>{w.delete(x);const S=Ms();h(S,g,y),zr(S)}},unstable_derive:g=>rx(...g(t))};return(cn?"production":void 0)!=="production"&&Object.assign(v,{dev4_get_internal_weak_map:()=>({get:x=>{const m=t(x);if(m.n!==0)return m}}),dev4_get_mounted_atoms:()=>e,dev4_restore_atoms:x=>{const m=Ms();for(const[y,_]of x)if(Iu(y)){const w=t(y),S="v"in w,j=w.v;n(y,w,_),c(m,y,w),(!S||!Object.is(j,w.v))&&(zu(m,y,w),o(m,y,w))}zr(m)}}),v},kk=()=>{const t=new WeakMap;return rx(n=>{let r=t.get(n);return r||(r={d:new Map,p:new Set,n:0},t.set(n,r)),r})};let Bi;const en=()=>(Bi||(Bi=kk(),(cn?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Bi),globalThis.__JOTAI_DEFAULT_STORE__!==Bi&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Bi),sx={BASE_URL:"/duitify",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobGxzdmxxZHpncmhqamZnZXdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI2MDI1MjcsImV4cCI6MjA0ODE3ODUyN30.sgz9zSOQRqOzjWojV2acr6f3OQNNZ88D5zT-TSmYEIM",VITE_SUPABASE_PROJECT_URL:"https://xhllsvlqdzgrhjjfgewk.supabase.co"},Sk=b.createContext(void 0),ix=t=>b.useContext(Sk)||en(),ox=t=>typeof(t==null?void 0:t.then)=="function",jk=t=>{t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e})},Ek=de.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(jk(t),t)}),$u=new WeakMap,Ck=t=>{let e=$u.get(t);return e||(e=new Promise((n,r)=>{let s=t;const i=l=>c=>{s===l&&n(c)},o=l=>c=>{s===l&&r(c)},a=l=>{"onCancel"in l&&typeof l.onCancel=="function"&&l.onCancel(c=>{if((sx?"production":void 0)!=="production"&&c===l)throw new Error("[Bug] p is not updated even after cancelation");ox(c)?($u.set(c,e),s=c,c.then(i(c),o(c)),a(c)):n(c)})};t.then(i(t),o(t)),a(t)}),$u.set(t,e)),e};function Pk(t,e){const n=ix(),[[r,s,i],o]=b.useReducer(c=>{const u=n.get(t);return Object.is(c[0],u)&&c[1]===n&&c[2]===t?c:[u,n,t]},void 0,()=>[n.get(t),n,t]);let a=r;if((s!==n||i!==t)&&(o(),a=n.get(t)),b.useEffect(()=>{const c=n.sub(t,()=>{o()});return o(),c},[n,t,void 0]),b.useDebugValue(a),ox(a)){const c=Ck(a);return Ek(c)}return a}function Mk(t,e){const n=ix();return b.useCallback((...s)=>{if((sx?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...s)},[n,t])}function J(t,e){return[Pk(t),Mk(t)]}const Tk=en(),ax=Ae(!1);function Se(t){return Tk.set(ax,t),t}Ae(!0);Ae(!1);const kn=Ae({title:"Duitify",actions:[]}),qs=Intl.DateTimeFormat().resolvedOptions().timeZone;function st(t,{placeholder:e="-",lang:n,format:r="yyyy-MM-dd",timeZone:s}={}){if(!t||(typeof t=="string"&&(t=new Date(t)),typeof t=="number"&&(t=new Date(t)),!(t instanceof Date)))return e;if(s||(s=qs),n)return new Intl.DateTimeFormat(n,{day:"2-digit",month:"short",year:"numeric",weekday:"short",timeZone:s}).format(t);s!==qs&&(t=new Date(t.toLocaleString("en-US",{timeZone:s})));const i=t.getFullYear(),o=t.getMonth()+1,a=t.getDate(),l=t.getHours(),c=t.getMinutes(),u=t.getSeconds();return r.replace("yyyy",i.toString()).replace("MM",o.toString().padStart(2,"0")).replace("dd",a.toString().padStart(2,"0")).replace("HH",l.toString().padStart(2,"0")).replace("mm",c.toString().padStart(2,"0")).replace("ss",u.toString().padStart(2,"0"))}function lx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=lx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hr(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=lx(t))&&(r&&(r+=" "),r+=e);return r}const Go=t=>typeof t=="number"&&!isNaN(t),as=t=>typeof t=="string",zt=t=>typeof t=="function",Cl=t=>as(t)||zt(t)?t:null,sh=t=>b.isValidElement(t)||as(t)||zt(t)||Go(t);function Lk(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function Hc(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:h,isIn:f,playToast:p}=o;const v=r?`${e}--${l}`:e,g=r?`${n}--${l}`:n,x=b.useRef(0);return b.useLayoutEffect(()=>{const m=h.current,y=v.split(" "),_=w=>{w.target===h.current&&(p(),m.removeEventListener("animationend",_),m.removeEventListener("animationcancel",_),x.current===0&&w.type!=="animationcancel"&&m.classList.remove(...y))};m.classList.add(...y),m.addEventListener("animationend",_),m.addEventListener("animationcancel",_)},[]),b.useEffect(()=>{const m=h.current,y=()=>{m.removeEventListener("animationend",y),s?Lk(m,u,i):u()};f||(c?y():(x.current=1,m.className+=` ${g}`,m.addEventListener("animationend",y)))},[f]),de.createElement(de.Fragment,null,a)}}function $m(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const gt=new Map;let Qo=[];const ih=new Set,Nk=t=>ih.forEach(e=>e(t)),cx=()=>gt.size>0;function ux(t,e){var n;if(e)return!((n=gt.get(e))==null||!n.isToastActive(t));let r=!1;return gt.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function dx(t,e){sh(t)&&(cx()||Qo.push({content:t,options:e}),gt.forEach(n=>{n.buildToast(t,e)}))}function Bm(t,e){gt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function Rk(t){const{subscribe:e,getSnapshot:n,setProps:r}=b.useRef(function(i){const o=i.containerId||1;return{subscribe(a){const l=function(u,h,f){let p=1,v=0,g=[],x=[],m=[],y=h;const _=new Map,w=new Set,S=()=>{m=Array.from(_.values()),w.forEach(k=>k())},j=k=>{x=k==null?[]:x.filter(M=>M!==k),S()},C=k=>{const{toastId:M,onOpen:N,updateId:O,children:L}=k.props,q=O==null;k.staleId&&_.delete(k.staleId),_.set(M,k),x=[...x,k.props.toastId].filter(Q=>Q!==k.staleId),S(),f($m(k,q?"added":"updated")),q&&zt(N)&&N(b.isValidElement(L)&&L.props)};return{id:u,props:y,observe:k=>(w.add(k),()=>w.delete(k)),toggle:(k,M)=>{_.forEach(N=>{M!=null&&M!==N.props.toastId||zt(N.toggle)&&N.toggle(k)})},removeToast:j,toasts:_,clearQueue:()=>{v-=g.length,g=[]},buildToast:(k,M)=>{if(($=>{let{containerId:Z,toastId:X,updateId:le}=$;const ce=Z?Z!==u:u!==1,Qe=_.has(X)&&le==null;return ce||Qe})(M))return;const{toastId:N,updateId:O,data:L,staleId:q,delay:Q}=M,re=()=>{j(N)},ae=O==null;ae&&v++;const he={...y,style:y.toastStyle,key:p++,...Object.fromEntries(Object.entries(M).filter($=>{let[Z,X]=$;return X!=null})),toastId:N,updateId:O,data:L,closeToast:re,isIn:!1,className:Cl(M.className||y.toastClassName),bodyClassName:Cl(M.bodyClassName||y.bodyClassName),progressClassName:Cl(M.progressClassName||y.progressClassName),autoClose:!M.isLoading&&(I=M.autoClose,F=y.autoClose,I===!1||Go(I)&&I>0?I:F),deleteToast(){const $=_.get(N),{onClose:Z,children:X}=$.props;zt(Z)&&Z(b.isValidElement(X)&&X.props),f($m($,"removed")),_.delete(N),v--,v<0&&(v=0),g.length>0?C(g.shift()):S()}};var I,F;he.closeButton=y.closeButton,M.closeButton===!1||sh(M.closeButton)?he.closeButton=M.closeButton:M.closeButton===!0&&(he.closeButton=!sh(y.closeButton)||y.closeButton);let H=k;b.isValidElement(k)&&!as(k.type)?H=b.cloneElement(k,{closeToast:re,toastProps:he,data:L}):zt(k)&&(H=k({closeToast:re,toastProps:he,data:L}));const A={content:H,props:he,staleId:q};y.limit&&y.limit>0&&v>y.limit&&ae?g.push(A):Go(Q)?setTimeout(()=>{C(A)},Q):C(A)},setProps(k){y=k},setToggle:(k,M)=>{_.get(k).toggle=M},isToastActive:k=>x.some(M=>M===k),getSnapshot:()=>y.newestOnTop?m.reverse():m}}(o,i,Nk);gt.set(o,l);const c=l.observe(a);return Qo.forEach(u=>dx(u.content,u.options)),Qo=[],()=>{c(),gt.delete(o)}},setProps(a){var l;(l=gt.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=gt.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const s=b.useSyncExternalStore(e,n,n);return{getToastToRender:function(i){if(!s)return[];const o=new Map;return s.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>i(a[0],a[1]))},isToastActive:ux,count:s==null?void 0:s.length}}function Ok(t){const[e,n]=b.useState(!1),[r,s]=b.useState(!1),i=b.useRef(null),o=b.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:h}=t;var f,p;function v(){n(!0)}function g(){n(!1)}function x(_){const w=i.current;o.canDrag&&w&&(o.didMove=!0,e&&g(),o.delta=t.draggableDirection==="x"?_.clientX-o.start:_.clientY-o.start,o.start!==_.clientX&&(o.canCloseOnClick=!1),w.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,w.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function m(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",m);const _=i.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),t.closeToast(),void t.collapseAll();_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}(p=gt.get((f={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||p.setToggle(f.id,f.fn),b.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||g(),window.addEventListener("focus",v),window.addEventListener("blur",g),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",g)}},[t.pauseOnFocusLoss]);const y={onPointerDown:function(_){if(t.draggable===!0||t.draggable===_.pointerType){o.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",m);const w=i.current;o.canCloseOnClick=!0,o.canDrag=!0,w.style.transition="none",t.draggableDirection==="x"?(o.start=_.clientX,o.removalDistance=w.offsetWidth*(t.draggablePercent/100)):(o.start=_.clientY,o.removalDistance=w.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(_){const{top:w,bottom:S,left:j,right:C}=i.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&_.clientX>=j&&_.clientX<=C&&_.clientY>=w&&_.clientY<=S?g():v()}};return a&&l&&(y.onMouseEnter=g,t.stacked||(y.onMouseLeave=v)),h&&(y.onClick=_=>{u&&u(_),o.canCloseOnClick&&c()}),{playToast:v,pauseToast:g,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:y}}function Dk(t){let{delay:e,isRunning:n,closeToast:r,type:s="default",hide:i,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:h,theme:f}=t;const p=i||l&&c===0,v={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(v.transform=`scaleX(${c})`);const g=hr("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),x=zt(o)?o({rtl:u,type:s,defaultClassName:g}):hr(g,o),m={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&r()}};return de.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},de.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${s}`}),de.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:x,style:v,...m}))}let Ak=1;const hx=()=>""+Ak++;function Ik(t){return t&&(as(t.toastId)||Go(t.toastId))?t.toastId:hx()}function mo(t,e){return dx(t,e),e.toastId}function ac(t,e){return{...e,type:e&&e.type||t,toastId:Ik(e)}}function Ka(t){return(e,n)=>mo(e,ac(t,n))}function Y(t,e){return mo(t,ac("default",e))}Y.loading=(t,e)=>mo(t,ac("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Y.promise=function(t,e,n){let r,{pending:s,error:i,success:o}=e;s&&(r=as(s)?Y.loading(s,n):Y.loading(s.render,{...n,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,h,f)=>{if(h==null)return void Y.dismiss(r);const p={type:u,...a,...n,data:f},v=as(h)?{render:h}:h;return r?Y.update(r,{...p,...v}):Y(v.render,{...p,...v}),f},c=zt(t)?t():t;return c.then(u=>l("success",o,u)).catch(u=>l("error",i,u)),c},Y.success=Ka("success"),Y.info=Ka("info"),Y.error=Ka("error"),Y.warning=Ka("warning"),Y.warn=Y.warning,Y.dark=(t,e)=>mo(t,ac("default",{theme:"dark",...e})),Y.dismiss=function(t){(function(e){var n;if(cx()){if(e==null||as(n=e)||Go(n))gt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=gt.get(e.containerId);r?r.removeToast(e.id):gt.forEach(s=>{s.removeToast(e.id)})}}else Qo=Qo.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Y.clearWaitingQueue=function(t){t===void 0&&(t={}),gt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Y.isActive=ux,Y.update=function(t,e){e===void 0&&(e={});const n=((r,s)=>{var i;let{containerId:o}=s;return(i=gt.get(o||1))==null?void 0:i.toasts.get(r)})(t,e);if(n){const{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:hx()};i.toastId!==t&&(i.staleId=t);const o=i.render||s;delete i.render,mo(o,i)}},Y.done=t=>{Y.update(t,{progress:1})},Y.onChange=function(t){return ih.add(t),()=>{ih.delete(t)}},Y.play=t=>Bm(!0,t),Y.pause=t=>Bm(!1,t);const Fk=typeof window<"u"?b.useLayoutEffect:b.useEffect,qa=t=>{let{theme:e,type:n,isLoading:r,...s}=t;return de.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...s})},Bu={info:function(t){return de.createElement(qa,{...t},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return de.createElement(qa,{...t},de.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return de.createElement(qa,{...t},de.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return de.createElement(qa,{...t},de.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return de.createElement("div",{className:"Toastify__spinner"})}},zk=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=Ok(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:h,closeToast:f,transition:p,position:v,className:g,style:x,bodyClassName:m,bodyStyle:y,progressClassName:_,progressStyle:w,updateId:S,role:j,progress:C,rtl:k,toastId:M,deleteToast:N,isIn:O,isLoading:L,closeOnClick:q,theme:Q}=t,re=hr("Toastify__toast",`Toastify__toast-theme--${Q}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":q}),ae=zt(g)?g({rtl:k,position:v,type:u,defaultClassName:re}):hr(re,g),he=function(A){let{theme:$,type:Z,isLoading:X,icon:le}=A,ce=null;const Qe={theme:$,type:Z};return le===!1||(zt(le)?ce=le({...Qe,isLoading:X}):b.isValidElement(le)?ce=b.cloneElement(le,Qe):X?ce=Bu.spinner():(Sn=>Sn in Bu)(Z)&&(ce=Bu[Z](Qe))),ce}(t),I=!!C||!l,F={closeToast:f,type:u,theme:Q};let H=null;return o===!1||(H=zt(o)?o(F):b.isValidElement(o)?b.cloneElement(o,F):function(A){let{closeToast:$,theme:Z,ariaLabel:X="close"}=A;return de.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Z}`,type:"button",onClick:le=>{le.stopPropagation(),$(le)},"aria-label":X},de.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},de.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(F)),de.createElement(p,{isIn:O,done:N,position:v,preventExitTransition:n,nodeRef:r,playToast:i},de.createElement("div",{id:M,onClick:c,"data-in":O,className:ae,...s,style:x,ref:r},de.createElement("div",{...O&&{role:j},className:zt(m)?m({type:u}):hr("Toastify__toast-body",m),style:y},he!=null&&de.createElement("div",{className:hr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!L})},he),de.createElement("div",null,a)),H,de.createElement(Dk,{...S&&!I?{key:`pb-${S}`}:{},rtl:k,theme:Q,delay:l,isRunning:e,isIn:O,closeToast:f,hide:h,type:u,style:w,className:_,controlledProgress:I,progress:C||0})))},Wc=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},$k=Hc(Wc("bounce",!0));Hc(Wc("slide",!0));Hc(Wc("zoom"));Hc(Wc("flip"));const Bk={position:"top-right",transition:$k,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Uk(t){let e={...Bk,...t};const n=t.stacked,[r,s]=b.useState(!0),i=b.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=Rk(e),{className:c,style:u,rtl:h,containerId:f}=e;function p(g){const x=hr("Toastify__toast-container",`Toastify__toast-container--${g}`,{"Toastify__toast-container--rtl":h});return zt(c)?c({position:g,rtl:h,defaultClassName:x}):hr(x,Cl(c))}function v(){n&&(s(!0),Y.play())}return Fk(()=>{if(n){var g;const x=i.current.querySelectorAll('[data-in="true"]'),m=12,y=(g=e.position)==null?void 0:g.includes("top");let _=0,w=0;Array.from(x).reverse().forEach((S,j)=>{const C=S;C.classList.add("Toastify__toast--stacked"),j>0&&(C.dataset.collapsed=`${r}`),C.dataset.pos||(C.dataset.pos=y?"top":"bot");const k=_*(r?.2:1)+(r?0:m*j);C.style.setProperty("--y",`${y?k:-1*k}px`),C.style.setProperty("--g",`${m}`),C.style.setProperty("--s",""+(1-(r?w:0))),_+=C.offsetHeight,w+=.025})}},[r,l,n]),de.createElement("div",{ref:i,className:"Toastify",id:f,onMouseEnter:()=>{n&&(s(!1),Y.pause())},onMouseLeave:v},o((g,x)=>{const m=x.length?{...u}:{...u,pointerEvents:"none"};return de.createElement("div",{className:p(g),style:m,key:`container-${g}`},x.map(y=>{let{content:_,props:w}=y;return de.createElement(zk,{...w,stacked:n,collapseAll:v,isIn:a(w.toastId,w.containerId),style:w.style,key:`toast-${w.key}`},_)}))}))}const Hk=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}),d.jsx("path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"})]})}),Wk=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z"}),d.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"})]})}),Vk=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("path",{d:"M3 12a9 9 0 1 0 9-9a9.75 9.75 0 0 0-6.74 2.74L3 8"}),d.jsx("path",{d:"M3 3v5h5m4-1v5l4 2"})]})}),Yk=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,children:[d.jsx("path",{d:"M10.11 3.9a1 1 0 0 1 .995-.9h1.79a1 1 0 0 1 .995.9l.033.333a8 8 0 0 1 2.209.915l.259-.212a1 1 0 0 1 1.34.067l1.266 1.266a1 1 0 0 1 .067 1.34l-.212.26c.409.676.72 1.419.915 2.208l.332.033a1 1 0 0 1 .901.995v1.79a1 1 0 0 1-.9.995l-.333.033a8 8 0 0 1-.915 2.209l.212.259a1 1 0 0 1-.067 1.34l-1.266 1.266a1 1 0 0 1-1.34.067l-.26-.212a8 8 0 0 1-2.208.915l-.033.332a1 1 0 0 1-.995.901h-1.79a1 1 0 0 1-.995-.9l-.033-.333a8 8 0 0 1-2.209-.915l-.259.212a1 1 0 0 1-1.34-.067L5.003 17.73a1 1 0 0 1-.067-1.34l.212-.26a8 8 0 0 1-.915-2.208L3.9 13.89a1 1 0 0 1-.9-.995v-1.79a1 1 0 0 1 .9-.995l.333-.033a8 8 0 0 1 .915-2.209l-.212-.259a1 1 0 0 1 .067-1.34L6.27 5.003a1 1 0 0 1 1.34-.067l.26.212a8 8 0 0 1 2.208-.915z"}),d.jsx("path",{d:"M14.5 12a2.5 2.5 0 1 0-5 0a2.5 2.5 0 0 0 5 0"})]})}),Kk=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("circle",{cx:12,cy:12,r:10}),d.jsx("path",{d:"M12 8v4m0 4h.01"})]})}),qk=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"currentColor",d:"m13 21l2-1l2 1v-7h-4m4-5V7l-2 1l-2-1v2l-2 1l2 1v2l2-1l2 1v-2l2-1m1-7H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7v-2H4V5h16v10h-1v2h1a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 5H5V6h6m-2 5H5V9h4m2 5H5v-2h6Z"})}),Gk=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),d.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]})}),Qk=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"currentColor",d:"M12 8a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4m0 2a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2m-2 12c-.25 0-.46-.18-.5-.42l-.37-2.65c-.63-.25-1.17-.59-1.69-.99l-2.49 1.01c-.22.08-.49 0-.61-.22l-2-3.46a.493.493 0 0 1 .12-.64l2.11-1.66L4.5 12l.07-1l-2.11-1.63a.493.493 0 0 1-.12-.64l2-3.46c.12-.22.39-.31.61-.22l2.49 1c.52-.39 1.06-.73 1.69-.98l.37-2.65c.04-.24.25-.42.5-.42h4c.25 0 .46.18.5.42l.37 2.65c.63.25 1.17.59 1.69.98l2.49-1c.22-.09.49 0 .61.22l2 3.46c.13.22.07.49-.12.64L19.43 11l.07 1l-.07 1l2.11 1.63c.19.15.25.42.12.64l-2 3.46c-.12.22-.39.31-.61.22l-2.49-1c-.52.39-1.06.73-1.69.98l-.37 2.65c-.04.24-.25.42-.5.42zm1.25-18l-.37 2.61c-1.2.25-2.26.89-3.03 1.78L5.44 7.35l-.75 1.3L6.8 10.2a5.55 5.55 0 0 0 0 3.6l-2.12 1.56l.75 1.3l2.43-1.04c.77.88 1.82 1.52 3.01 1.76l.37 2.62h1.52l.37-2.61c1.19-.25 2.24-.89 3.01-1.77l2.43 1.04l.75-1.3l-2.12-1.55c.4-1.17.4-2.44 0-3.61l2.11-1.55l-.75-1.3l-2.41 1.04a5.42 5.42 0 0 0-3.03-1.77L12.75 4z"})}),Jk=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"currentColor",d:"M20 11v2H8l5.5 5.5l-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5L8 11z"})}),Xk=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"currentColor",d:"M14.94 19.5L12 17.77L9.06 19.5l.78-3.34l-2.59-2.24l3.41-.29L12 10.5l1.34 3.13l3.41.29l-2.59 2.24M20 2H4v2l4.86 3.64a8 8 0 1 0 6.28 0L20 4m-2 11a6 6 0 1 1-7.18-5.88a5.9 5.9 0 0 1 2.36 0A6 6 0 0 1 18 15m-5.37-8h-1.26l-4-3h9.34Z"})}),Zk=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"currentColor",d:"M12 5c3.87 0 7 3.13 7 7s-3.13 7-7 7s-7-3.13-7-7s3.13-7 7-7m0-3c5.5 0 10 4.5 10 10s-4.5 10-10 10S2 17.5 2 12S6.5 2 12 2m0 2c-4.42 0-8 3.58-8 8s3.58 8 8 8s8-3.58 8-8s-3.58-8-8-8"})}),eS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4m7 14l5-5l-5-5m5 5H9"})}),tS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("circle",{cx:11,cy:11,r:8}),d.jsx("path",{d:"m21 21l-4.3-4.3"})]})}),nS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("path",{d:"M20 7h-9m3 10H5"}),d.jsx("circle",{cx:17,cy:17,r:3}),d.jsx("circle",{cx:7,cy:7,r:3})]})}),rS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"currentColor",d:"M5 20h14v-2H5m14-9h-4V3H9v6H5l7 7z"})}),sS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("path",{d:"M2.062 12.348a1 1 0 0 1 0-.696a10.75 10.75 0 0 1 19.876 0a1 1 0 0 1 0 .696a10.75 10.75 0 0 1-19.876 0"}),d.jsx("circle",{cx:12,cy:12,r:3})]})}),iS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575a1 1 0 0 1 0 .696a10.8 10.8 0 0 1-1.444 2.49m-6.41-.679a3 3 0 0 1-4.242-4.242"}),d.jsx("path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151a1 1 0 0 1 0-.696a10.75 10.75 0 0 1 4.446-5.143M2 2l20 20"})]})}),oS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),d.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"})]})}),aS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}),d.jsx("path",{d:"m9 11l3 3L22 4"})]})}),lS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("circle",{cx:12,cy:12,r:10}),d.jsx("path",{d:"m15 9l-6 6m0-6l6 6"})]})}),cS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("circle",{cx:12,cy:12,r:10}),d.jsx("path",{d:"m9 12l2 2l4-4"})]})}),uS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 16h.01M12 8v4m3.312-10a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z"})}),dS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m21.73 18l-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3M12 9v4m0 4h.01"})}),hS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("circle",{cx:12,cy:12,r:10}),d.jsx("path",{d:"M12 16v-4m0-4h.01"})]})}),fS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"}),d.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"})]})}),pS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("circle",{cx:12,cy:12,r:1}),d.jsx("circle",{cx:12,cy:5,r:1}),d.jsx("circle",{cx:12,cy:19,r:1})]})}),mS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497zM15 5l4 4"})}),gS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m-7-7v14"})}),yS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("circle",{cx:12,cy:12,r:4}),d.jsx("path",{d:"M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"})]})}),vS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3a6 6 0 0 0 9 9a9 9 0 1 1-9-9"})}),xS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6h18m-2 0v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6m3 0V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})}),_S=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("path",{d:"M3 7V5c0-1.1.9-2 2-2h2m10 0h2c1.1 0 2 .9 2 2v2m0 10v2c0 1.1-.9 2-2 2h-2M7 21H5c-1.1 0-2-.9-2-2v-2"}),d.jsx("rect",{width:7,height:5,x:7,y:7,rx:1}),d.jsx("rect",{width:7,height:5,x:10,y:12,rx:1})]})}),wS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m-7-7l7 7l-7 7"})}),bS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 6L6 18M6 6l12 12"})}),kS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2"}),d.jsx("circle",{cx:12,cy:12,r:3})]})}),SS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4m4-5l5 5l5-5m-5 5V3"})}),jS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4m14-7l-5-5l-5 5m5-5v12"})}),ES=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m9 18l6-6l-6-6"})}),CS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m15 18l-6-6l6-6"})}),PS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v20m5-17H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),MS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("path",{d:"M10 8h.01M12 12h.01M14 8h.01M16 12h.01M18 8h.01M6 8h.01M7 16h10m-9-4h.01"}),d.jsx("rect",{width:20,height:16,x:2,y:4,rx:2})]})}),TS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 6L9 17l-5-5"})}),LS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("path",{d:"M8 2v4m8-4v4"}),d.jsx("rect",{width:18,height:18,x:3,y:4,rx:2}),d.jsx("path",{d:"M3 10h18M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01M16 18h.01"})]})}),NS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 12h16M4 6h16M4 18h16"})}),RS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("circle",{cx:12,cy:12,r:10}),d.jsx("path",{d:"M8 12h8m-4-4v8"})]})}),OS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("circle",{cx:12,cy:12,r:10}),d.jsx("path",{d:"M8 12h8"})]})}),DS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("rect",{width:20,height:16,x:2,y:4,rx:2}),d.jsx("path",{d:"M10 4v4M2 8h20M6 4v4"})]})}),AS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4m0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4"})}),IS=t=>d.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:d.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[d.jsx("path",{d:"M2 6h4m-4 4h4m-4 4h4m-4 4h4"}),d.jsx("rect",{width:16,height:20,x:4,y:2,rx:2}),d.jsx("path",{d:"M9.5 8h5m-5 4H16m-6.5 4H14"})]})}),FS={"lucide:house":Hk,"lucide:chart-pie":Wk,"lucide:history":Vk,"mynaui:cog":Yk,"lucide:circle-alert":Kk,"mdi:certificate-outline":qk,"lucide:pie-chart":Gk,"mdi:gear-outline":Qk,"mdi:arrow-left":Jk,"mdi:medal-outline":Xk,"mdi:circle-slice-8":Zk,"lucide:log-out":eS,"lucide:search":tS,"lucide:settings-2":nS,"mdi:download":rS,"lucide:eye":sS,"lucide:eye-off":iS,"lucide:file":oS,"lucide:check-circle":aS,"lucide:x-circle":lS,"lucide:circle-check":cS,"lucide:octagon-alert":uS,"lucide:triangle-alert":dS,"lucide:info":hS,"lucide:wallet":fS,"lucide:more-vertical":pS,"lucide:pencil":mS,"lucide:plus":gS,"lucide:sun":yS,"lucide:moon":vS,"lucide:trash":xS,"lucide:group":_S,"lucide:arrow-right":wS,"lucide:x":bS,"lucide:settings":kS,"lucide:download":SS,"lucide:chevron-right":ES,"lucide:dollar-sign":PS,"lucide:keyboard":MS,"lucide:check":TS,"lucide:chevron-left":CS,"lucide:calendar-days":LS,"lucide:menu":NS,"lucide:circle-plus":RS,"lucide:circle-minus":OS,"lucide:app-window":DS,"lucide:infinity":AS,"lucide:notebook-text":IS,"lucide:upload":jS},pe=({icon:t,...e})=>{const n=b.useMemo(()=>FS[t],[t]);return d.jsx(n,{...e})};function Re(t,{currency:e="IDR"}={}){return new Intl.NumberFormat("id-ID",{style:"decimal",currency:e,maximumFractionDigits:2}).format(t)}const Pe=({children:t,className:e})=>d.jsx("div",{className:"dai-skeleton w-fit "+e,children:d.jsx("div",{className:"invisible",children:t})}),mt=({skel:t,children:e,placeholder:n})=>t?d.jsx(Pe,{children:n??e}):e,fx=Ae(!1),yt=Ae(),Mf=Ae(!1),ls=({amount:t,count:e})=>{const[n]=J(yt),[r]=J(fx),s=b.useMemo(()=>Math.abs(t),[t]);return!(n!=null&&n.hide_amount)||r||s<=(n.max_visible_amount??0)?Re(t):e?d.jsx(Uu,{num:e}):s>=1e6?d.jsx(Uu,{num:6}):d.jsx(Uu,{num:7})},Uu=({num:t})=>d.jsxs("div",{className:"flex items-center justify-end",children:[d.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:t}).map((e,n)=>d.jsx("span",{className:"size-1.5 rounded-full bg-current"},n))}),d.jsx("p",{className:"invisible w-[0px]",children:"r"})]}),zS="modulepreload",$S=function(t){return"/duitify/"+t},Um={},ys=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=$S(l),l in Um)return;Um[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":zS,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},BS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ys(async()=>{const{default:r}=await Promise.resolve().then(()=>Ci);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Tf extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class US extends Tf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class HS extends Tf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class WS extends Tf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var oh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(oh||(oh={}));var VS=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class YS{constructor(e,{headers:n={},customFetch:r,region:s=oh.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=BS(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return VS(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(v=>{throw new US(v)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new HS(u);if(!u.ok)throw new WS(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var jt={},Lf={},Vc={},da={},Yc={},Kc={},KS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vi=KS();const qS=vi.fetch,px=vi.fetch.bind(vi),mx=vi.Headers,GS=vi.Request,QS=vi.Response,Ci=Object.freeze(Object.defineProperty({__proto__:null,Headers:mx,Request:GS,Response:QS,default:px,fetch:qS},Symbol.toStringTag,{value:"Module"})),JS=i_(Ci);var qc={};Object.defineProperty(qc,"__esModule",{value:!0});class XS extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}qc.default=XS;var gx=Jt&&Jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kc,"__esModule",{value:!0});const ZS=gx(JS),ej=gx(qc);let tj=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=ZS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=m:u=JSON.parse(m))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await i.text();try{c=JSON.parse(g),Array.isArray(c)&&i.status===404&&(u=[],c=null,f=200,p="OK")}catch{i.status===404&&g===""?(f=204,p="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new ej.default(c)}return{error:c,data:u,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};Kc.default=tj;var nj=Jt&&Jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yc,"__esModule",{value:!0});const rj=nj(Kc);let sj=class extends rj.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Yc.default=sj;var ij=Jt&&Jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(da,"__esModule",{value:!0});const oj=ij(Yc);let aj=class extends oj.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};da.default=aj;var lj=Jt&&Jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vc,"__esModule",{value:!0});const Ui=lj(da);let cj=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Ui.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ui.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ui.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Ui.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ui.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Vc.default=cj;var Gc={},Qc={};Object.defineProperty(Qc,"__esModule",{value:!0});Qc.version=void 0;Qc.version="0.0.0-automated";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.DEFAULT_HEADERS=void 0;const uj=Qc;Gc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${uj.version}`};var yx=Jt&&Jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lf,"__esModule",{value:!0});const dj=yx(Vc),hj=yx(da),fj=Gc;let pj=class vx{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},fj.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new dj.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new vx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new hj.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Lf.default=pj;var Pi=Jt&&Jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jt,"__esModule",{value:!0});jt.PostgrestError=jt.PostgrestBuilder=jt.PostgrestTransformBuilder=jt.PostgrestFilterBuilder=jt.PostgrestQueryBuilder=jt.PostgrestClient=void 0;const xx=Pi(Lf);jt.PostgrestClient=xx.default;const _x=Pi(Vc);jt.PostgrestQueryBuilder=_x.default;const wx=Pi(da);jt.PostgrestFilterBuilder=wx.default;const bx=Pi(Yc);jt.PostgrestTransformBuilder=bx.default;const kx=Pi(Kc);jt.PostgrestBuilder=kx.default;const Sx=Pi(qc);jt.PostgrestError=Sx.default;var mj=jt.default={PostgrestClient:xx.default,PostgrestQueryBuilder:_x.default,PostgrestFilterBuilder:wx.default,PostgrestTransformBuilder:bx.default,PostgrestBuilder:kx.default,PostgrestError:Sx.default};const{PostgrestClient:gj,PostgrestQueryBuilder:mN,PostgrestFilterBuilder:gN,PostgrestTransformBuilder:yN,PostgrestBuilder:vN}=mj,yj="2.10.7",vj={"X-Client-Info":`realtime-js/${yj}`},xj="1.0.0",jx=1e4,_j=1e3;var si;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(si||(si={}));var Ot;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ot||(Ot={}));var an;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(an||(an={}));var ah;(function(t){t.websocket="websocket"})(ah||(ah={}));var Xr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xr||(Xr={}));class wj{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Ex{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ke||(ke={}));const Hm=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=bj(o,t,e,s),i),{})},bj=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Cx(i,o):lh(o)},Cx=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Ej(e,n)}switch(t){case ke.bool:return kj(e);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return Sj(e);case ke.json:case ke.jsonb:return jj(e);case ke.timestamp:return Cj(e);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return lh(e);default:return lh(e)}},lh=t=>t,kj=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Sj=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},jj=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ej=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Cx(e,a))}return t},Cj=t=>typeof t=="string"?t.replace(" ","T"):t,Px=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Hu{constructor(e,n,r={},s=jx){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Wm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Wm||(Wm={}));class go{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=go.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=go.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=go.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const f=u.map(x=>x.presence_ref),p=h.map(x=>x.presence_ref),v=u.filter(x=>p.indexOf(x.presence_ref)<0),g=h.filter(x=>f.indexOf(x.presence_ref)<0);v.length>0&&(a[c]=v),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Vm||(Vm={}));var Ym;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ym||(Ym={}));var Km;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Km||(Km={}));class Nf{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hu(this,an.join,this.params,this.timeout),this.rejoinTimer=new Ex(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ot.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new go(this),this.broadcastEndpointURL=Px(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let g=0;g<p;g++){const x=f[g],{filter:{event:m,schema:y,table:_,filter:w}}=x,S=u&&u[g];if(S&&S.event===m&&S.schema===y&&S.table===_&&S.filter===w)v.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ot.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Hu(this,an.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Hu(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=an;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,g,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(g=p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,g,x,m,y,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const w=p.id,S=(v=p.filter)===null||v===void 0?void 0:v.event;return w&&((g=n.ids)===null||g===void 0?void 0:g.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(y=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return w==="*"||w===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:g,table:x,commit_timestamp:m,type:y,errors:_}=v;f=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:m,eventType:y,new:{},old:{},errors:_}),this._getPayloadRecords(v))}p.callback(f,r)})}_isClosed(){return this.state===Ot.closed}_isJoined(){return this.state===Ot.joined}_isJoining(){return this.state===Ot.joining}_isLeaving(){return this.state===Ot.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Nf.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(an.close,{},e)}_onError(e){this._on(an.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ot.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Hm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Hm(e.columns,e.old_record)),n}}const Pj=()=>{},Mj=typeof WebSocket<"u",Tj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lj{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=vj,this.params={},this.timeout=jx,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Pj,this.conn=null,this.sendBuffer=[],this.serializer=new wj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>ys(async()=>{const{default:l}=await Promise.resolve().then(()=>Ci);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${ah.websocket}`,this.httpEndpoint=Px(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ex(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Mj){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Nj(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),ys(async()=>{const{default:e}=await import("./browser-DURlz1xu.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case si.connecting:return Xr.Connecting;case si.open:return Xr.Open;case si.closing:return Xr.Closing;default:return Xr.Closed}}isConnected(){return this.connectionState()===Xr.Open}channel(e,n={config:{}}){const r=new Nf(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(an.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xj}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(an.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(_j,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Tj],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Nj{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=si.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Rf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Xe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Rj extends Rf{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ch extends Rf{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Oj=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Mx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ys(async()=>{const{default:r}=await Promise.resolve().then(()=>Ci);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Dj=()=>Oj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ys(()=>Promise.resolve().then(()=>Ci),void 0)).Response:Response}),uh=t=>{if(Array.isArray(t))return t.map(n=>uh(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=uh(r)}),e};var ws=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Wu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Aj=(t,e,n)=>ws(void 0,void 0,void 0,function*(){const r=yield Dj();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Rj(Wu(s),t.status||500))}).catch(s=>{e(new ch(Wu(s),s))}):e(new ch(Wu(t),t))}),Ij=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ha(t,e,n,r,s,i){return ws(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Ij(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Aj(l,a,r))})})}function lc(t,e,n,r){return ws(this,void 0,void 0,function*(){return ha(t,"GET",e,n,r)})}function ir(t,e,n,r,s){return ws(this,void 0,void 0,function*(){return ha(t,"POST",e,r,s,n)})}function Fj(t,e,n,r,s){return ws(this,void 0,void 0,function*(){return ha(t,"PUT",e,r,s,n)})}function zj(t,e,n,r){return ws(this,void 0,void 0,function*(){return ha(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Tx(t,e,n,r,s){return ws(this,void 0,void 0,function*(){return ha(t,"DELETE",e,r,s,n)})}var bt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const $j={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Bj{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Mx(s)}uploadOrUpdate(e,n,r,s){return bt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},qm),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Xe(i))return{data:null,error:i};throw i}})}upload(e,n,r){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return bt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:qm.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Xe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return bt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield ir(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Rf("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}update(e,n,r){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return bt(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}copy(e,n,r){return bt(this,void 0,void 0,function*(){try{return{data:{path:(yield ir(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return bt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ir(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return bt(this,void 0,void 0,function*(){try{const s=yield ir(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}download(e,n){return bt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield lc(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Xe(a))return{data:null,error:a};throw a}})}info(e){return bt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield lc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:uh(r),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}exists(e){return bt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield zj(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Xe(r)&&r instanceof ch){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return bt(this,void 0,void 0,function*(){try{return{data:yield Tx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}list(e,n,r){return bt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},$j),n),{prefix:e||""});return{data:yield ir(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Xe(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Uj="2.7.1",Hj={"X-Client-Info":`storage-js/${Uj}`};var Ts=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Wj{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Hj),n),this.fetch=Mx(r)}listBuckets(){return Ts(this,void 0,void 0,function*(){try{return{data:yield lc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Xe(e))return{data:null,error:e};throw e}})}getBucket(e){return Ts(this,void 0,void 0,function*(){try{return{data:yield lc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ts(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Ts(this,void 0,void 0,function*(){try{return{data:yield Fj(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ts(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ts(this,void 0,void 0,function*(){try{return{data:yield Tx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}})}}class Vj extends Wj{constructor(e,n={},r){super(e,n,r)}from(e){return new Bj(this.url,this.headers,e,this.fetch)}}const Yj="2.46.1";let to="";typeof Deno<"u"?to="deno":typeof document<"u"?to="web":typeof navigator<"u"&&navigator.product==="ReactNative"?to="react-native":to="node";const Kj={"X-Client-Info":`supabase-js-${to}/${Yj}`},qj={headers:Kj},Gj={schema:"public"},Qj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Jj={};var Xj=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Zj=t=>{let e;return t?e=t:typeof fetch>"u"?e=px:e=fetch,(...n)=>e(...n)},eE=()=>typeof Headers>"u"?mx:Headers,tE=(t,e,n)=>{const r=Zj(n),s=eE();return(i,o)=>Xj(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var nE=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function rE(t){return t.replace(/\/$/,"")}function sE(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>nE(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Lx="2.65.1",iE="http://localhost:9999",oE="supabase.auth.token",aE={"X-Client-Info":`gotrue-js/${Lx}`},Gm=10,dh="X-Supabase-Api-Version",Nx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function lE(t){return Math.round(Date.now()/1e3)+t}function cE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const nn=()=>typeof document<"u",$r={tested:!1,writable:!1},yo=()=>{if(!nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($r.tested)return $r.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$r.tested=!0,$r.writable=!0}catch{$r.tested=!0,$r.writable=!1}return $r.writable};function Vu(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Rx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ys(async()=>{const{default:r}=await Promise.resolve().then(()=>Ci);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},uE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ox=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ga=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Qa=async(t,e)=>{await t.removeItem(e)};function dE(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class Jc{constructor(){this.promise=new Jc.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Jc.promiseConstructor=Promise;function Qm(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(dE(r))}async function hE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function fE(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function pE(t){return("0"+t.toString(16)).substr(-2)}function mE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,pE).join("")}async function gE(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function yE(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await gE(t);return yE(n)}async function Ls(t,e,n=!1){const r=mE();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ox(t,`${e}-code-verifier`,s);const i=await vE(r);return[i,r===i?"plain":"s256"]}const xE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _E(t){const e=t.headers.get(dh);if(!e||!e.match(xE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Of extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ie(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wE extends Of{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function bE(t){return ie(t)&&t.name==="AuthApiError"}class Dx extends Of{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class bs extends Of{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class er extends bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kE(t){return ie(t)&&t.name==="AuthSessionMissingError"}class Yu extends bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ja extends bs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xa extends bs{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jm extends bs{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hh extends bs{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ku(t){return ie(t)&&t.name==="AuthRetryableFetchError"}class Xm extends bs{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var SE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Kr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jE=[502,503,504];async function Zm(t){var e;if(!uE(t))throw new hh(Kr(t),0);if(jE.includes(t.status))throw new hh(Kr(t),t.status);let n;try{n=await t.json()}catch(i){throw new Dx(Kr(i),i)}let r;const s=_E(t);if(s&&s.getTime()>=Nx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Xm(Kr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new er}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Xm(Kr(n),t.status,n.weak_password.reasons);throw new wE(Kr(n),t.status||500,r)}const EE=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ue(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[dh]||(i[dh]=Nx["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await CE(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function CE(t,e,n,r,s,i){const o=EE(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new hh(Kr(l),0)}if(a.ok||await Zm(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Zm(l)}}function tr(t){var e;let n=null;LE(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=lE(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function eg(t){const e=tr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function lr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function PE(t){return{data:t,error:null}}function ME(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=SE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function TE(t){return t}function LE(t){return t.access_token&&t.refresh_token&&t.expires_in}var NE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class RE{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Rx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:lr})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=NE(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ME,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:lr})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:TE});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(ie(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:lr})}catch(n){if(ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:lr})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:lr})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await ue(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}}const OE={getItem:t=>yo()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{yo()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{yo()&&globalThis.localStorage.removeItem(t)}};function tg(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function DE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ns={debug:!!(globalThis&&yo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ax extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class AE extends Ax{}async function IE(t,e,n){Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new AE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ns.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}DE();const FE={url:iE,storageKey:oE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Hi=30*1e3,ng=3;async function rg(t,e,n){return await n()}class Jo{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jo.nextInstanceID,Jo.nextInstanceID+=1,this.instanceID>0&&nn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},FE),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new RE({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Rx(s.fetch),this.lock=s.lock||rg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:nn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=IE:this.lock=rg,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:yo()?this.storage=OE:(this.memoryStorage={},this.storage=tg(this.memoryStorage)):(this.memoryStorage={},this.storage=tg(this.memoryStorage)),nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=nn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return ie(e)?{error:e}:{error:new Dx("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:tr}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:h,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Ls(this.storage,this.storageKey)),i=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:tr})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:tr})}else throw new Ja("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ie(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:eg})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:eg})}else throw new Ja("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Yu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ie(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Ga(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:tr});if(await Qa(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Yu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ie(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:tr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Yu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(ie(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ls(this.storage,this.storageKey));const{error:h}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Ja("You must provide either an email or phone number.")}catch(a){if(ie(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:tr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ls(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:PE})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new er;const{error:s}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ie(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await ue(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await ue(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ja("You must provide either an email or phone number and a type")}catch(n){if(ie(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ga(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:lr}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new er}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:lr})})}catch(n){if(ie(n))return kE(n)&&(await this._removeSession(),await Qa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new er;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ls(this.storage,this.storageKey));const{data:c,error:u}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:lr});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Qm(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new er;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=Qm(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ie(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new er;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ie(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!nn())throw new Xa("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Xa("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Jm("Not a valid PKCE flow url.");const n=Vu(window.location.href);if(e){if(!n.code)throw new Jm("No code detected.");const{data:y,error:_}=await this._exchangeCodeForSession(n.code);if(_)throw _;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Xa(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=n;if(!i||!a||!o||!c)throw new Xa("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const p=f-u;p*1e3<=Hi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=f-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,u);const{data:g,error:x}=await this._getUser(i);if(x)throw x;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:n.type},error:null}}catch(n){if(ie(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=Vu(window.location.href);return!!(nn()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Vu(window.location.href),n=await Ga(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(bE(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Qa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=cE(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ls(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return nn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ie(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await fE(async s=>(s>0&&await hE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ku(i)&&Date.now()+o-r<Hi})}catch(r){if(this._debug(n,"error",r),ie(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),nn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ga(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+Gm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Gm}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Ku(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new er;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Jc;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new er;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ie(i)){const o={session:null,error:i};return Ku(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ox(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Qa(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Hi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Hi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Hi}ms, refresh threshold is ${ng} ticks`),s<=ng&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ax)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ls(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ue(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ie(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(ie(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ie(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Jo.nextInstanceID=0;const zE=Jo;class $E extends zE{constructor(e){super(e)}}var BE=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class UE{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=rE(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Gj,realtime:Jj,auth:Object.assign(Object.assign({},Qj),{storageKey:l}),global:qj},u=sE(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=tE(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new gj(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new YS(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Vj(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return BE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){var h;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $E({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(e){return new Lj(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const HE=(t,e,n)=>new UE(t,e,n);function Ix(t,e){return e===""?t:t.startsWith(e)?t.slice(e.length):t}function Fx(t,e){return t.endsWith(e)?t.slice(0,-e.length):t}const Cr={SUPABASE_PROJECT_URL:"https://xhllsvlqdzgrhjjfgewk.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobGxzdmxxZHpncmhqamZnZXdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI2MDI1MjcsImV4cCI6MjA0ODE3ODUyN30.sgz9zSOQRqOzjWojV2acr6f3OQNNZ88D5zT-TSmYEIM",BASE_URL:Fx("/duitify","/")},Pt=HE(Cr.SUPABASE_PROJECT_URL,Cr.SUPABASE_ANON_KEY);Pt.storage.from("images").getPublicUrl("accounts").data.publicUrl;const cc=Pt.storage.from("images").getPublicUrl("accounts").data.publicUrl,Xc=Pt.storage.from("images").getPublicUrl("categories").data.publicUrl;function sg({nativeEvent:t}){return window.TouchEvent?t instanceof TouchEvent:"touches"in t}function ig(t){return t.nativeEvent instanceof MouseEvent}function WE(t,e={}){const{threshold:n=400,onStart:r,onFinish:s,onCancel:i}=e,o=de.useRef(!1),a=de.useRef(!1),l=de.useRef();return de.useMemo(()=>{if(typeof t!="function")return{};const c=p=>{!ig(p)&&!sg(p)||(r&&r(p),a.current=!0,l.current=setTimeout(()=>{t(p),o.current=!0},n))},u=p=>{!ig(p)&&!sg(p)||(o.current?s&&s(p):a.current&&i&&i(p),o.current=!1,a.current=!1,l.current&&window.clearTimeout(l.current))};return{...{onMouseDown:c,onMouseUp:u,onMouseLeave:u},...{onTouchStart:c,onTouchEnd:u}}},[t,n,i,s,r])}const VE=({date:t,transactions:e,onDeleted:n})=>{const r=b.useMemo(()=>e.reduce((s,i)=>s+(i.type==="transfer"?0:i.type==="expense"?-1*i.amount:i.amount),0),[e]);return d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex items-center justify-between border-b border-b-primary",children:[d.jsx("span",{className:"text-xs xs:text-sm",children:st(t,{lang:"en-US"})}),d.jsx("span",{className:"dai-badge dai-badge-xs "+(r>0?"dai-badge-success":"dai-badge-error"),children:d.jsx(ls,{amount:r})})]}),d.jsx("div",{className:"flex flex-col gap-1",children:e.map((s,i)=>d.jsx(YE,{el:s,onDeleted:n},i))})]})},YE=({el:t})=>{var i,o,a,l,c,u;const e=Nt(),[,n]=J(Hx),r=WE(()=>{n(t),e("/transaction/create")},{threshold:500}),s=b.useMemo(()=>t.type==="expense"?-1*t.amount:t.amount,[t]);return d.jsxs("div",{...r,className:"flex cursor-pointer select-none flex-col gap-1.5 rounded bg-base-100 px-2 py-1.5 shadow",children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"size-4 xs:size-5",children:d.jsx("img",{className:"aspect-square w-full",src:Xc+"/"+(t.type==="transfer"?"transfer.webp":(i=t.category)==null?void 0:i.logo),loading:"lazy",alt:""})}),d.jsxs("div",{className:"grid flex-1 grid-cols-6 text-xs font-medium xs:text-sm",children:[d.jsx("span",{className:"col-span-2",children:t.type==="transfer"?"Transfer":(o=t.category)==null?void 0:o.name}),d.jsxs("div",{className:"col-span-3 flex flex-wrap items-center gap-0.5",children:[d.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[d.jsx("div",{className:"size-3 xs:size-4",children:d.jsx("img",{className:"aspect-square w-full",loading:"lazy",src:cc+"/"+((a=t.account)==null?void 0:a.logo),alt:""})}),d.jsx("span",{children:(l=t.account)==null?void 0:l.name})]}),t.type==="transfer"&&t.to_account&&d.jsxs(d.Fragment,{children:[d.jsx(pe,{className:"text-[8px] text-base-content",icon:"lucide:arrow-right"}),d.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[d.jsx("div",{className:"size-3 xs:size-4",children:d.jsx("img",{loading:"lazy",className:"aspect-square w-full",src:cc+"/"+((c=t.to_account)==null?void 0:c.logo),alt:""})}),d.jsx("span",{children:(u=t.to_account)==null?void 0:u.name})]})]})]}),d.jsx("span",{className:"select-text text-nowrap text-end "+(t.type==="transfer"?"text-secondary":s>0?"text-success":"text-error"),children:d.jsx(ls,{amount:s})})]})]}),t.description&&d.jsx("span",{className:"line-clamp-1 text-end text-[10px] text-base-content/80",children:t.description})]})},KE=()=>d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:"flex items-center justify-between border-b border-b-primary",children:[d.jsx("span",{className:"text-xs xs:text-sm",children:d.jsx(Pe,{children:"Wed, Sep 20, 2022"})}),d.jsx("span",{className:"dai-badge dai-badge-error dai-skeleton dai-badge-xs text-transparent",children:Re(1e4)})]}),d.jsx("div",{className:"flex flex-col gap-1",children:Array.from({length:6}).map((t,e)=>d.jsx(qE,{},e))})]}),qE=()=>d.jsx("div",{className:"flex flex-col gap-1.5 rounded bg-base-100 px-2 py-1.5 shadow",children:d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx(Pe,{children:d.jsx("div",{className:"size-4 xs:size-5"})}),d.jsxs("div",{className:"grid flex-1 grid-cols-6 text-xs font-medium xs:text-sm",children:[d.jsx("span",{className:"col-span-2",children:d.jsx(Pe,{children:"Transfer"})}),d.jsx("div",{className:"col-span-3 flex flex-wrap items-center gap-0.5",children:d.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[d.jsx(Pe,{children:d.jsx("div",{className:"size-3 xs:size-4"})}),d.jsx("span",{children:d.jsx(Pe,{children:"Shopee Pay"})})]})}),d.jsx("span",{className:"text-nowrap text-end",children:d.jsx(Pe,{children:"24.320"})})]})]})}),GE=({children:t,onInvisible:e,onVisible:n,offset:r=0})=>{const s=b.useRef(null),[i,o]=b.useState(!1);return b.useEffect(()=>{if(i){n==null||n();return}e==null||e()},[i]),b.useEffect(()=>{if(!s.current)return;let a;function l(){const c=s.current;if(!c)return;const u=c.getBoundingClientRect(),h=Math.max(document.documentElement.clientHeight,window.innerHeight)-r,f=!(u.bottom<0||u.top-h>=0);f!==a&&o(f),a=f}return l(),window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[s,r]),d.jsx("div",{ref:s,children:t})};class fa{static get db(){return Pt.schema("public")}}const zx=[25,50,100];class Pl extends fa{static async getTransactions(e,{cursor:n,account:r,category:s}){const i=new Date;i.setMonth(i.getMonth()+1);const o=this.db.from("transaction").select(`*, 
                category(id, name, logo),
                account:account!transaction_account_id_fkey(id, name, logo),
                to_account:account!transaction_to_account_id_fkey(id, name, logo)`).eq("user_id",e);return s&&o.eq("category_id",s),r&&o.or(`account_id.eq.${r}, to_account_id.eq.${r}`),o.order("occurred_at",{ascending:!1}).lt("occurred_at",n||st(i,{format:"yyyy-MM-dd HH:mm:ss"})).limit(zx[0])}static async update(e,n){return this.db.from("transaction").update(n).eq("id",e).select().single()}static async create(e){return this.db.from("transaction").insert(e).select().single()}static async delete(e){return await this.db.from("transaction").delete().eq("id",e)}}const wt=Ae(null),$x=()=>{const[,t]=J(kn),[e]=J(wt),[n]=Uc(),[r,s]=b.useState(n.get("account")),[i,o]=b.useState(n.get("category")),[a,l]=b.useState(void 0),[c,u]=b.useState([]),[h,f]=b.useState(!1),[p,v]=b.useState(!1),[g,x]=b.useState(!0),m=b.useMemo(()=>{var w;return r?(w=c.find(S=>S.account_id===r))==null?void 0:w.account:null},[r,c]),y=b.useMemo(()=>{var w;return i?(w=c.find(S=>S.category_id===i))==null?void 0:w.category:null},[i,c]),_=b.useMemo(()=>c.reduce((w,S)=>{const j=st(S.occurred_at,{format:"yyyy-MM-dd"});return w[j]||(w[j]=[]),w[j].push(S),w},{}),[c]);return b.useEffect(()=>{x(!0),v(!1),u([]),l(void 0),s(n.get("account")),o(n.get("category"))},[n]),b.useEffect(()=>{var w;t({revealer:!0,back:!!m||!!y,title:((w=m||y)==null?void 0:w.name)??d.jsx("img",{className:"size-8",src:Cr.BASE_URL+"/icons/icon-192x192.png"}),actions:[d.jsx(Pf,{to:`/transaction/create?${n.toString()}`,className:"dai-btn dai-btn-success dai-btn-xs ml-2 xs:dai-btn-sm",children:"Create"})]})},[m,y]),b.useEffect(()=>{e!=null&&e.user.id&&(async()=>{f(!0);const{data:w,error:S}=await Pl.getTransactions(e.user.id,{cursor:a,account:r,category:i});if(f(!1),S){v(!1),Y.error(S.message);return}u([...c,...w??[]]),x(!1),v(((w==null?void 0:w.length)??0)>=zx[0])})()},[a,r,e,i]),d.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-2",children:[d.jsx("div",{className:"flex flex-col gap-4",children:h&&g?Array.from({length:4}).map((w,S)=>d.jsx(KE,{},S)):c.length===0?d.jsx("div",{className:"mt-1",children:d.jsx("p",{className:"text-center text-sm text-base-content/40",children:"Oops, you don't have any transaction yet"})}):Object.keys(_).sort((w,S)=>w>S?-1:1).map((w,S)=>d.jsx(VE,{date:w,transactions:_[w],onDeleted:j=>{u(C=>C.filter(k=>k.id!==j))}},S))}),!g&&p&&!h?d.jsx(GE,{onVisible:()=>{var w;return l((w=c[c.length-1])==null?void 0:w.occurred_at)},children:d.jsx("span",{className:"invisible flex justify-center",children:d.jsx("span",{className:"dai-loading dai-loading-dots dai-loading-sm text-primary"})})}):d.jsx("span",{className:"flex justify-center "+(h&&!g?"visible":"invisible"),children:d.jsx("span",{className:"dai-loading dai-loading-dots dai-loading-sm text-primary"})})]})},QE={xs:"dai-btn-xs",sm:"dai-btn-sm",md:"dai-btn-md",lg:"dai-btn-lg",wide:"dai-btn-wide",block:"dai-btn-block"},JE={xs:"dai-loading-xs",sm:"dai-loading-sm",md:"dai-loading-md",lg:"dai-loading-lg",wide:"dai-loading-md",block:"dai-loading-md"},Zc=({children:t,loading:e,className:n,disabled:r,size:s="md",disableWhileLoading:i=!0,...o})=>{const a=b.useMemo(()=>QE[s],[s]),l=b.useMemo(()=>JE[s],[s]);return d.jsxs("button",{disabled:r||i&&e,className:`dai-btn relative grid place-items-center ${n} ${a}`,...o,children:[d.jsx("span",{className:`${e?"opacity-0":""}`,children:t}),e&&d.jsx("span",{className:`dai-loading dai-loading-spinner absolute ${l}`})]})};class vo extends fa{static async getAccounts(e){return this.db.from("account").select("*").eq("user_id",e).order("name",{ascending:!0})}static async getAccount(e){return this.db.from("account").select().eq("id",e).single()}static async createAccount(e){return this.db.from("account").upsert(e).select().single()}static async updateAccount(e,n){return this.db.from("account").update(n).eq("id",e).select().single()}static async deleteAccount(e){return await this.db.from("account").delete().eq("id",e)}}const Gs=en(),ii=Ae({loading:!1,fetched:!1,data:[]});async function XE(){var e;Gs.set(ii,n=>({...n,loading:!0,fetched:!1}));const t=await vo.getAccounts(((e=Gs.get(wt))==null?void 0:e.user.id)??"");if(t.error)return Gs.set(ii,n=>({...n,loading:!1})),t.error.message;Gs.set(ii,{loading:!1,fetched:!0,data:t.data??[]})}function ZE(t){const e=Gs.get(ii);e.fetched&&Gs.set(ii,{...e,data:typeof t=="function"?t(e.data):t})}const eC=Ae(t=>({refresh:XE,setData:ZE,...t(ii)})),uc=()=>{const[t]=J(eC);return t};class xo extends fa{static async getCategories(e){return this.db.from("category").select("*").eq("user_id",e).order("name",{ascending:!0})}static async getCategory(e){return this.db.from("category").select().eq("id",e).single()}static async createCategory(e){return this.db.from("category").insert(e).select().single()}static async updateCategory(e,n){return this.db.from("category").update(n).eq("id",e).select().single()}static async deleteCategory(e){return await this.db.from("category").delete().eq("id",e)}}const Qs=en(),oi=Ae({loading:!1,fetched:!1,data:[]});async function tC(){var e;Qs.set(oi,n=>({...n,loading:!0,fetched:!1}));const t=await xo.getCategories(((e=Qs.get(wt))==null?void 0:e.user.id)??"");if(t.error)return Qs.set(oi,n=>({...n,loading:!1})),t.error.message;Qs.set(oi,{loading:!1,fetched:!0,data:t.data??[]})}function nC(t){const e=Qs.get(oi);e.fetched&&Qs.set(oi,{...e,data:typeof t=="function"?t(e.data):t})}const rC=Ae(t=>({refresh:tC,setData:nC,...t(oi)})),eu=()=>{const[t]=J(rC);return t},Df=({open:t,children:e,text:n})=>{const r=b.useRef(null),s=b.useRef(void 0),[i,o]=b.useState(!1),[a,l]=b.useState(!1),c=b.useMemo(()=>t||i||a,[t,i,a]);b.useEffect(()=>{if(!r.current)return;const h=()=>o(!0),f=()=>o(!1),p=()=>l(!0),v=()=>l(!1);return r.current.addEventListener("mouseenter",h),r.current.addEventListener("mouseleave",f),r.current.addEventListener("focus",p),r.current.addEventListener("blur",v),()=>{var g,x,m,y;(g=r.current)==null||g.removeEventListener("mouseenter",h),(x=r.current)==null||x.removeEventListener("mouseleave",f),(m=r.current)==null||m.removeEventListener("focus",p),(y=r.current)==null||y.removeEventListener("blur",v)}},[r.current]),b.useEffect(()=>()=>{var h;(h=s.current)==null||h.remove()},[]),b.useEffect(()=>{s.current&&(s.current.innerText=n)},[n,s.current]),b.useEffect(()=>{var v;if((v=s.current)==null||v.remove(),s.current=void 0,!c||!r.current)return;const h=document.createElement("div"),{top:f,left:p}=u(r.current);h.style.top=`${f}px`,h.style.left=`${p}px`,h.className="tooltip",h.innerText=n,document.body.appendChild(h),s.current=h},[c,r.current]);const u=h=>{const f=h.getBoundingClientRect();return{top:f.top,left:f.left+f.width/2}};return e(r)},og=["input","textarea","button","a","select","label"];function sC(){const t=b.useRef(null);return b.useEffect(()=>{if(!t.current)return;const e=t.current.tagName.toLowerCase();if(og.includes(e)){t.current.focus();return}for(const n of og){const r=t.current.querySelectorAll(n);if(r.length!==0){r[0].focus();return}}},[t]),t}const fh=en();let iC=0;const dc=Ae([]),Bx=Ae(t=>t(dc));function tu(t,{dismissible:e=!0,...n}){return n.modalId&&fh.get(dc).find(s=>s.modalId===n.modalId)?-1:(n.modalId||(n.modalId=++iC),fh.set(dc,r=>[...r,{Element:t,props:n,dismissible:e,modalId:n.modalId}]),n.modalId??0)}function xi(t){fh.set(dc,e=>(e.pop(),[...e]))}const Ux=({children:t,title:e,useFocus:n=!0,className:r})=>{const s=sC();return d.jsxs("div",{ref:n?s:void 0,className:"flex flex-col gap-1 rounded-2xl bg-base-100 p-6 shadow-xl sm:min-w-[30rem] sm:rounded-2xl "+r,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[e&&d.jsx("h3",{className:"text-lg font-bold",children:e}),d.jsx("button",{type:"button",onClick:()=>xi(),children:d.jsx(pe,{icon:"lucide:x"})})]}),t]})},oC=({title:t,body:e,okText:n,noText:r,onNo:s,onOk:i,onClose:o,hideNo:a})=>(b.useEffect(()=>()=>{o==null||o()},[]),d.jsxs(Ux,{title:t??"Konfirmasi",children:[e&&d.jsx("p",{className:"py-2",children:e}),d.jsxs("div",{className:"mt-2 flex w-full justify-end gap-2",children:[!a&&d.jsx("button",{onClick:s,className:"dai-btn dai-btn-ghost",children:r??"Cancel"}),d.jsx("button",{onClick:i,className:"dai-btn dai-btn-primary min-w-16",children:n??"OK"})]})]}));function pa(t={}){return new Promise(e=>{tu(oC,{onClose:()=>e(!1),onOk:()=>{e(!0),xi()},onNo:()=>{e(!1),xi()},...t})===-1&&e(!1)})}const aC=()=>{var I,F,H;const[,t]=J(kn),[e]=J(wt),n=Nt(),[r]=Uc(),{setData:s}=uc(),[i,o]=J(Hx),{fetched:a,refresh:l,data:c}=uc(),{fetched:u,refresh:h,data:f}=eu(),[p,v]=b.useState((i==null?void 0:i.type)??"expense"),[g,x]=b.useState((i==null?void 0:i.amount.toString())??""),[m,y]=b.useState((i==null?void 0:i.description)??""),[_,w]=b.useState(st((i==null?void 0:i.occurred_at)??new Date,{format:"yyyy-MM-dd HH:mm"})),[S,j]=b.useState(((I=i==null?void 0:i.category)==null?void 0:I.id)??""),[C,k]=b.useState(((F=i==null?void 0:i.account)==null?void 0:F.id)||r.get("account")||""),[M,N]=b.useState(((H=i==null?void 0:i.to_account)==null?void 0:H.id)??""),[O,L]=b.useState(!1),q=b.useMemo(()=>{var A;return!g||!C||isNaN(parseFloat(g))||p==="transfer"&&!M||p!=="transfer"&&!S||p!=="transfer"&&((A=f.find($=>$.id===S))==null?void 0:A.type)!==p},[g,C,S,M,p,f]),Q=b.useMemo(()=>c.map(A=>({label:A.name,value:A.id})),[c]),re=b.useMemo(()=>f.filter(A=>A.type===p).map(A=>({label:A.name,value:A.id})),[f,p]);b.useEffect(()=>(t({title:i?"Edit Transaction":"Create Transaction",back:!0,actions:i&&[d.jsx("button",{onClick:ae,className:"dai-btn dai-btn-error dai-btn-xs",children:d.jsx(pe,{icon:"lucide:trash"})})]}),()=>{o(void 0)}),[i]),b.useEffect(()=>{a||(async()=>{const A=await l();A&&Y.error(A)})()},[]),b.useEffect(()=>{u||(async()=>{const A=await h();A&&Y.error(A)})()},[]);const ae=async()=>{if(!i||!await pa({title:"Delete transaction",body:"Are you sure you want to delete this transaction?"}))return;Se(!0);const{error:$}=await Pl.delete(i.id);if(Se(!1),$){Y.error($.message);return}s(Z=>{const X=Z.find(le=>le.id===i.account_id);if(!X)return Z;if((i.type==="expense"||i.type==="transfer")&&(X.balance+=i.amount),i.type==="income"&&(X.balance-=i.amount),i.type==="transfer"){const le=Z.find(ce=>ce.id===i.to_account_id);if(!le)return Z;le.balance-=i.amount}return[...Z]}),n(-1)},he=async()=>{L(!0);let A;if(i?A=await Pl.update(i.id,{type:p,occurred_at:st(_,{format:"yyyy-MM-dd HH:mm",timeZone:"UTC"}),description:m,amount:parseFloat(g),account_id:C,category_id:S||null,to_account_id:M||null}):A=await Pl.create({type:p,occurred_at:st(_,{format:"yyyy-MM-dd HH:mm",timeZone:"UTC"}),description:m,amount:parseFloat(g),account_id:C,category_id:S||null,to_account_id:M||null,user_id:e.user.id}),L(!1),A.error){Y.error(A.error.message);return}s($=>{const Z=$.find(X=>X.id===C);if(!Z)return $;if(i){if(parseFloat(g)===i.amount)return $;if((p==="expense"||p==="transfer")&&(Z.balance-=parseFloat(g)-i.amount),p==="income"&&(Z.balance+=parseFloat(g)-i.amount),p==="transfer"){const X=$.find(le=>le.id===M);if(!X)return $;X.balance+=parseFloat(g)-i.amount}return[...$]}if((p==="expense"||p==="transfer")&&(Z.balance-=parseFloat(g)),p==="income"&&(Z.balance+=parseFloat(g)),p==="transfer"){const X=$.find(le=>le.id===M);if(!X)return $;X.balance+=parseFloat(g)}return[...$]}),n(-1)};return d.jsx("div",{className:"flex flex-1 flex-col gap-4 p-2",children:d.jsxs("form",{onSubmit:A=>{A.preventDefault(),he()},className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{role:"tablist",className:"dai-tabs-boxed dai-tabs col-span-full bg-base-100",children:["expense","income","transfer"].map((A,$)=>d.jsx("button",{type:"button",role:"tab",disabled:!!i&&A!==i.type,onClick:()=>{j(""),v(A)},className:"dai-tab capitalize "+(A===p?"dai-tab-active":""),children:A},$))}),d.jsxs("label",{className:"dai-form-control",children:[d.jsx("div",{className:"dai-label",children:d.jsx("span",{className:"req dai-label-text",children:"Amount"})}),d.jsx(Df,{open:!!g,text:Re(isNaN(parseFloat(g))?0:parseFloat(g)),children:A=>d.jsx("input",{ref:A,value:g,onChange:$=>x($.target.value),type:"number",placeholder:"Amount",className:"dai-input dai-input-bordered"})})]}),d.jsxs("label",{className:"dai-form-control",children:[d.jsx("div",{className:"dai-label",children:d.jsx("span",{className:"req dai-label-text",children:"Date"})}),d.jsx("input",{value:_,onChange:A=>w(A.target.value),type:"datetime-local",placeholder:"Date",className:"dai-input dai-input-bordered w-full"})]}),d.jsxs("label",{className:"dai-form-control",children:[d.jsx("div",{className:"dai-label",children:d.jsx("span",{className:"req dai-label-text",children:"Account"})}),d.jsxs("select",{value:C,disabled:!!i||!!r.get("account")&&p!=="transfer"&&C===r.get("account"),onChange:A=>k(A.target.value),className:"dai-select dai-select-bordered w-full "+(C?"":"text-base-content/40"),children:[d.jsx("option",{value:"",children:"Select account"}),Q.map((A,$)=>d.jsx("option",{value:A.value,children:A.label},$))]})]}),p==="transfer"&&d.jsxs("label",{className:"dai-form-control",children:[d.jsx("div",{className:"dai-label",children:d.jsx("span",{className:"req dai-label-text",children:"To Account"})}),d.jsxs("select",{value:M,disabled:!!i,onChange:A=>N(A.target.value),className:"dai-select dai-select-bordered w-full "+(M?"":"text-base-content/40"),children:[d.jsx("option",{value:"",children:"Select account"}),Q.map((A,$)=>d.jsx("option",{value:A.value,children:A.label},$))]})]}),p!=="transfer"&&d.jsxs("label",{className:"dai-form-control",children:[d.jsx("div",{className:"dai-label",children:d.jsx("span",{className:"req dai-label-text",children:"Category"})}),d.jsxs("select",{value:S,onChange:A=>j(A.target.value),className:"dai-select dai-select-bordered w-full "+(S?"":"text-base-content/40"),children:[d.jsx("option",{value:"",children:"Select category"}),re.map((A,$)=>d.jsx("option",{value:A.value,children:A.label},$))]})]}),d.jsxs("label",{className:"dai-form-control col-span-full",children:[d.jsx("div",{className:"dai-label",children:d.jsx("span",{className:"dai-label-text",children:"Description"})}),d.jsx("textarea",{value:m,onChange:A=>y(A.target.value),className:"dai-textarea dai-textarea-bordered h-24",placeholder:"Description"})]}),d.jsx("div",{className:"col-span-full flex justify-end pt-4",children:d.jsx(Zc,{size:"sm",disabled:q,loading:O,className:"dai-btn-primary",children:"Submit"})})]})})},Hx=Ae(),lC=()=>d.jsxs(Ei,{children:[d.jsx(Ye,{path:"/",element:d.jsx($x,{})}),d.jsx(Ye,{path:"/create",element:d.jsx(aC,{})})]});function ph(t){const[e,n]=b.useState(t),r=b.useRef(t);return r.current=e,[e,n,r]}const Wx=({onClose:t,desktopOption:e})=>{const n=b.useMemo(()=>6,[]),r=b.useRef([]),[s,i,o]=ph([]),[a,l,c]=ph(!1),u=b.useRef(!0),h=b.useMemo(()=>s.length<n||s.findIndex(g=>!g)!==-1,[s,n]);b.useEffect(()=>{var g;(g=r.current[0])==null||g.focus()},[r.current]),b.useEffect(()=>()=>t(u.current?"":o.current.join(""),c.current),[]);const f=(g,x)=>{if(!/^[0-9]{1}$/.test(g.key)&&g.key!=="Backspace"&&g.key!=="Delete"&&g.key!=="Tab"&&!g.metaKey&&g.key!=="Enter"&&!((g.key==="v"||g.key==="V")&&g.ctrlKey)&&g.preventDefault(),g.key==="Delete"||g.key==="Backspace"){const m=r.current;x>0&&setTimeout(()=>m[x-1].focus())}},p=g=>{!r.current[g].value||g>=r.current.length-1||r.current[g+1].focus()},v=g=>{var y;g.preventDefault();const x=((y=g.clipboardData)==null?void 0:y.getData("text"))??"";if(!new RegExp(`^[0-9]{${r.current.length}}$`).test(x))return;const m=x.split("");i(m),r.current[r.current.length-1].focus()};return d.jsxs("form",{onSubmit:g=>{g.preventDefault(),u.current=!1,xi()},className:"flex flex-col items-center gap-8 rounded-xl border border-base-300 bg-base-100 px-8 py-12 shadow-md",children:[d.jsxs("header",{className:"text-center",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"PIN Verification"}),d.jsxs("p",{className:"text-sm text-base-content/50",children:["Enter the ",n,"-digit PIN code."]})]}),d.jsx("div",{className:"flex items-center justify-center gap-3",children:Array.from({length:n}).map((g,x)=>d.jsx("input",{type:"password",inputMode:"numeric",value:s[x]??"",onChange:m=>i(y=>(y[x]=m.target.value,[...y])),ref:m=>r.current[x]=m,onKeyDown:m=>f(m,x),onInput:()=>p(x),onFocus:m=>m.target.select(),onPaste:m=>v(m),className:"dai-input dai-input-bordered size-9 p-1 text-center text-lg font-medium sm:size-14 sm:text-2xl",pattern:"\\d*",maxLength:1},x))}),d.jsxs("div",{className:"flex w-full flex-col items-center gap-2",children:[d.jsx("button",{type:"submit",disabled:h,className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide sm:dai-btn-md",children:"Submit"}),e&&d.jsxs("label",{className:"dai-label cursor-pointer gap-2",children:[d.jsx("input",{type:"checkbox",checked:a,onChange:g=>l(g.target.checked),className:"dai-checkbox-primary dai-checkbox dai-checkbox-sm"}),d.jsx("span",{className:"dai-label-text",children:"Desktop Only"})]})]})]})};async function Vx(t,e){const n=e+t,s=new TextEncoder().encode(n);try{const i=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(i)).map(o=>o.toString(16).padStart(2,"0")).join("")}catch{return""}}function cC(t=16){const e=new Uint8Array(t);return crypto.getRandomValues(e),Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")}function uC(t){const e=["th","st","nd","rd"],n=t%100,r=n>=11&&n<=13?e[0]:e[t%10]||e[0];return t+r}const mh=async()=>{if(!await pa({body:"Are you sure want to logout?",title:"Logout",okText:"Logout"}))return;Se(!0);const{error:e}=await Pt.auth.signOut();Se(!1),console.error(e);const n=Ix(Cr.SUPABASE_PROJECT_URL,"https://").split(".")[0];localStorage.removeItem(`sb-${n}-auth-token`),window.location.href=Cr.BASE_URL+"/login"};class qr extends fa{static async getSetting(e){return this.db.from("settings").select().eq("user_id",e).single()}static async update(e,n,r){return this.db.from("settings").update({[n]:r}).eq("id",e)}}const dC={light:{primary:"#007bff","primary-content":"#eddaff",secondary:"#007985","secondary-content":"#d3e3e6",accent:"#d20000","accent-content":"#fdd6d0",neutral:"#170600","neutral-content":"#cbc6c3","base-100":"#fff9d6","base-200":"#ded9ba","base-300":"#beb99e","base-content":"#161510",info:"#00f9ff","info-content":"#001516",success:"#00c270","success-content":"#000e04",warning:"#fda200","warning-content":"#160a00",error:"#ff878e","error-content":"#160607"},dark:{primary:"#22d3ee","primary-content":"#001014",secondary:"#007985","secondary-content":"#d3e3e6",accent:"#00df00","accent-content":"#001200",neutral:"#001004","neutral-content":"#c4c9c5","base-100":"#1e2c2f","base-200":"#192527","base-300":"#131e20","base-content":"#cdd0d1",info:"#00dfff","info-content":"#001216",success:"#00d6af","success-content":"#00100b",warning:"#b86900","warning-content":"#0c0400",error:"#ff878e","error-content":"#160607"}};function hC(t,e){let n;n=e;const s=Ae((()=>{const o=localStorage.getItem(t);if(o==null)return n;try{return typeof n=="string"?o:JSON.parse(o)}catch{return n}})());return Ae(o=>o(s),(o,a,l)=>{const c=typeof l=="function"?l(o(s)):l;a(s,c);try{localStorage.setItem(t,typeof c=="string"?c:JSON.stringify(c))}catch(u){console.error(u)}})}const Yx=hC("dark",!1),Kx=Ae(t=>t(Yx)?"dark":"light"),qx=Ae(t=>dC[t(Kx)]),fC=()=>{var w,S;const[,t]=J(kn),[e]=J(wt),[n,r]=J(Yx),[s,i]=J(yt),[,o]=J(Mf),[a,l]=b.useState(!1),[c,u]=b.useState(((w=s==null?void 0:s.max_visible_amount)==null?void 0:w.toString())??""),[h,f]=b.useState(!1),[p,v]=b.useState(((S=s==null?void 0:s.month_end_date)==null?void 0:S.toString())??"");b.useEffect(()=>{t({title:"Settings"})},[]);const g=async()=>{const j=!(s!=null&&s.hide_amount);Se(!0);const C=await qr.update(s.id,"hide_amount",j);if(Se(!1),C.error){Y.error(C.error.message);return}i({...s,hide_amount:j})},x=async()=>{if(!a){l(!0);return}Se(!0);const j=await qr.update(s.id,"max_visible_amount",parseFloat(c));if(Se(!1),j.error){Y.error(j.error.message);return}i({...s,max_visible_amount:parseFloat(c)}),l(!1)},m=async()=>{if(!h){f(!0);return}const j=p?parseInt(p):null;Se(!0);const C=await qr.update(s.id,"month_end_date",j);if(Se(!1),C.error){Y.error(C.error.message);return}i({...s,month_end_date:j}),f(!1)},y=async(j,C)=>{if(!j)return;Se(!0);const k=cC(),M=k+(e==null?void 0:e.user.id),N=await Vx(j,M);if(!N){Se(!1),Y.error("Failed to generate hash");return}const O=await qr.update(s.id,"pin_desktop_only",C??!1);if(O.error){Se(!1),Y.error(O.error.message);return}const{error:L}=await qr.update(s.id,"pin",N+":"+k);if(Se(!1),L){Y.error(L.message);return}o(!0),i({...s,pin:N+":"+k,pin_desktop_only:C??!1})},_=async()=>{if(!await pa({title:"Disable PIN?",body:"Are you sure you want to disable PIN?"}))return;Se(!0);const{error:C}=await qr.update(s.id,"pin",null);if(Se(!1),C){Y.error(C.message);return}i({...s,pin:null})};return d.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-2",children:[d.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 p-4",children:[d.jsx("img",{src:Cr.BASE_URL+"/icons/icon-192x192.png",className:"size-16",alt:""}),d.jsx("div",{className:"flex flex-col gap-0.5",children:d.jsx("span",{children:e==null?void 0:e.user.email})})]}),d.jsxs("div",{className:"flex flex-col gap-4 text-sm",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-medium",children:"Security"}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(pe,{icon:"lucide:keyboard"}),d.jsx("span",{children:"PIN"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[(s==null?void 0:s.pin)&&s.pin_desktop_only&&d.jsx(pe,{className:"text-accent",icon:"lucide:app-window"}),(s==null?void 0:s.pin)&&d.jsx("span",{className:"dai-badge dai-badge-success dai-badge-sm",children:"Enabled"}),(s==null?void 0:s.pin)&&d.jsx("div",{className:"h-5 w-[1px] bg-base-300"}),d.jsx("button",{onClick:()=>{tu(Wx,{onClose:y,desktopOption:!0})},children:d.jsx(pe,{icon:"lucide:pencil"})}),(s==null?void 0:s.pin)&&d.jsx("button",{onClick:_,className:"text-error",children:d.jsx(pe,{icon:"lucide:x-circle"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(pe,{icon:"lucide:eye-off"}),d.jsx("span",{children:"Hide Amount"})]}),d.jsx("input",{type:"checkbox",checked:!!(s!=null&&s.hide_amount),onChange:g,className:"dai-toggle dai-toggle-success dai-toggle-sm"})]}),d.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(pe,{icon:"lucide:eye"}),d.jsx("span",{children:"Max amount always visible"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[a?d.jsx(Df,{open:!!c,text:Re(isNaN(parseFloat(c))?0:parseFloat(c)),children:j=>d.jsx("input",{ref:j,min:0,type:"number",value:c,onChange:C=>u(C.target.value),className:"dai-input dai-input-xs dai-input-bordered max-w-24 text-end"})}):d.jsx("span",{children:Re((s==null?void 0:s.max_visible_amount)??0)}),d.jsx("button",{disabled:a&&(!c||isNaN(parseFloat(c))||parseFloat(c)<0),onClick:x,className:"disabled:opacity-20",children:a?d.jsx(pe,{icon:"lucide:check"}):d.jsx(pe,{icon:"lucide:pencil"})})]})]})]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-medium",children:"Report"}),d.jsx("div",{className:"flex flex-col gap-2",children:d.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(pe,{icon:"lucide:calendar-days"}),d.jsx("span",{children:"End of month"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[h?d.jsx("input",{min:0,type:"number",value:p,onChange:j=>v(j.target.value),className:"dai-input dai-input-xs dai-input-bordered max-w-24 text-end"}):d.jsx("span",{children:s!=null&&s.month_end_date?uC(s.month_end_date):""}),d.jsx("button",{disabled:h&&!!p&&(isNaN(parseFloat(p))||parseFloat(p)<2),onClick:m,className:"disabled:opacity-20",children:h?d.jsx(pe,{icon:"lucide:check"}):d.jsx(pe,{icon:"lucide:pencil"})})]})]})})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("span",{className:"font-medium",children:"Settings"}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(pe,{icon:"lucide:moon"}),d.jsx("span",{children:"Dark Mode"})]}),d.jsx("input",{type:"checkbox",checked:n,onChange:j=>r(j.target.checked),className:"dai-toggle dai-toggle-success dai-toggle-sm"})]}),d.jsx("button",{onClick:mh,className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(pe,{icon:"lucide:log-out"}),d.jsx("span",{children:"Logout"})]})})]})]})]})]})},pC=(t,e,n)=>{b.useEffect(()=>{const r=s=>{!t.current||t.current.contains(s.target)||n!=null&&n.some(i=>{var o;return(o=i.current)==null?void 0:o.contains(s.target)})||e(s)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[t,e,n])},ag=160,Ar=({icon:t,disabled:e,options:n,position:r="bottom"})=>{const[s,i]=b.useState(!1),o=b.useRef(null),a=b.useRef(null),[l,c]=b.useState();return pC(o,()=>{s&&i(!1)},[a]),b.useEffect(()=>{if(!s||!o.current){c(void 0);return}const u=o.current.getBoundingClientRect(),h=u.top<=ag?"bottom":window.innerHeight-u.top<=ag?"top":r,f=h==="bottom"?u.top+u.height:u.top;c({top:f,offset:h,left:u.left+u.width})},[s,o.current,r]),d.jsxs("div",{children:[d.jsx("button",{ref:o,type:"button",disabled:e||!n.length,className:"dai-btn dai-btn-ghost dai-btn-sm text-base",onClick:u=>{i(h=>!h),u.stopPropagation()},children:d.jsx(pe,{icon:t??"lucide:more-vertical"})}),l&&d.jsx("ul",{ref:a,style:{top:l.top,left:l.left,position:"fixed"},className:"dai-menu z-[29] w-56 -translate-x-full rounded-box border-[2px] border-base-200 bg-base-100 shadow-all-lg "+(l.offset==="top"?"-translate-y-full":""),children:n.map((u,h)=>d.jsx("li",{children:d.jsxs("button",{className:"font-semibold "+u.style,onClick:f=>{var p;f.stopPropagation(),(p=u.onClick)==null||p.call(u),i(!1)},children:[d.jsx(pe,{className:"text-lg",icon:u.icon}),u.label]})},h))})]})},mC=({account:t,onDeleted:e})=>{const n=Nt(),r=async()=>{if(!await pa({title:"Delete Account",body:"Are you sure you want to delete this account?"}))return;Se(!0);const{error:i}=await vo.deleteAccount(t.id);if(Se(!1),i){Y.error(i.message);return}e(t.id)};return d.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md hover:cursor-pointer",children:[d.jsx("img",{onClick:()=>n(`/accounts/transaction?account=${t.id}`),src:cc+"/"+t.logo,className:"size-6 xs:size-9"}),d.jsxs("div",{className:"flex flex-1 flex-col gap-0.5",children:[d.jsx("p",{className:"text-sm xs:text-base",children:t.name}),d.jsx("div",{className:"flex items-center gap-2 text-xs xs:text-sm",children:d.jsx("span",{className:"font-semibold "+(t.balance<0?"text-error":"text-success"),children:d.jsx(ls,{amount:t.balance})})})]}),d.jsx(Ar,{options:[{icon:"lucide:pencil",label:"Edit",onClick:()=>n(`/accounts/${t.id}`)},{icon:"lucide:trash",label:"Delete",onClick:r}]})]})},gC=()=>d.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md",children:[d.jsx(Pe,{children:d.jsx("div",{className:"size-6 rounded-full bg-accent xs:size-9"})}),d.jsxs("div",{className:"flex flex-1 flex-col gap-0.5",children:[d.jsx(Pe,{children:d.jsx("p",{className:"text-sm xs:text-base",children:"Gopay"})}),d.jsx(Pe,{children:d.jsxs("div",{className:"flex items-center gap-2 text-xs xs:text-sm",children:[d.jsx("p",{children:"Balance: "}),d.jsx("p",{className:"font-bold",children:Re(1e7)})]})})]}),d.jsx(Pe,{children:d.jsx(Ar,{options:[]})})]}),yC=()=>{const[,t]=J(kn),e=Nt(),{data:n,setData:r,loading:s,fetched:i,refresh:o}=uc(),a=b.useMemo(()=>n.reduce((l,c)=>l+c.balance,0),[n]);return b.useEffect(()=>{t({title:"Accounts",revealer:!0,actions:[d.jsx("button",{onClick:()=>e("/accounts/new"),className:"dai-btn dai-btn-success dai-btn-xs ml-2 xs:dai-btn-sm",children:"Create"})]})},[]),b.useEffect(()=>{i||(async()=>{const l=await o();l&&Y.error(l)})()},[]),d.jsxs("div",{className:"flex flex-1 flex-col gap-2 p-2",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-xl bg-base-100 px-3 py-2 text-sm font-semibold xs:text-base",children:[d.jsx("span",{children:s?d.jsx(Pe,{children:"Total"}):"Total"}),d.jsx("span",{className:"text-success",children:s?d.jsx(Pe,{children:Re(1e7)}):d.jsx(ls,{amount:a})})]}),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:s?Array.from({length:10}).map((l,c)=>d.jsx(gC,{},c)):n.length===0?d.jsx("p",{className:"text-center",children:"No accounts found"}):n.map(l=>d.jsx(mC,{account:l,onDeleted:c=>{r(u=>u.filter(h=>h.id!==c))}},l.id))})]})},_o=en(),ai=Ae({loading:!1,fetched:!1,data:[]});async function vC(){_o.set(ai,e=>({...e,loading:!0,fetched:!1}));const t=await Pt.storage.from("images").list("accounts");if(t.error)return _o.set(ai,e=>({...e,loading:!1})),t.error.message;_o.set(ai,{loading:!1,fetched:!0,data:(t.data??[]).map(e=>e.name)})}function xC(t){const e=_o.get(ai);e.fetched&&_o.set(ai,{...e,data:typeof t=="function"?t(e.data):t})}const _C=Ae(t=>({refresh:vC,setData:xC,...t(ai)})),wC=()=>{const[t]=J(_C);return t},lg=({})=>{const[,t]=J(kn),[e]=J(wt),{id:n}=qv(),r=Nt(),{setData:s,fetched:i}=uc(),{data:o,refresh:a,loading:l,fetched:c}=wC(),[u,h]=b.useState(),[f,p]=b.useState(!1),[v,g]=b.useState(""),[x,m]=b.useState(""),[y,_]=b.useState(0),w=b.useMemo(()=>!v||!x||isNaN(parseFloat(x)),[v,x]);b.useEffect(()=>{t({title:n?"Update Account":"Create Account",back:!0}),!c&&(async()=>{const j=await a();if(j)return Y.error(j)})()},[]),b.useEffect(()=>{n&&(async()=>{Se(!0);const{data:j,error:C}=await vo.getAccount(n);if(Se(!1),j)return h(j);Y.error(!j||!C?"Account not found":C.message),r("/accounts",{replace:!0})})()},[]),b.useEffect(()=>{c&&_(u!=null&&u.logo?o.indexOf(u.logo):0)},[c,u,o]),b.useEffect(()=>{u&&(g(u.name),m(u.initial_balance.toString()))},[u]);const S=async()=>{p(!0);let j;if(n&&u?(j=await vo.updateAccount(n,{name:v,initial_balance:parseFloat(x),logo:o[y]}),j.data&&(j.data.balance+=parseFloat(x)-u.initial_balance)):(j=await vo.createAccount({name:v,initial_balance:parseFloat(x),logo:o[y],user_id:e.user.id}),j.data&&(j.data.balance=parseFloat(x))),p(!1),j.error||!j.data){Y.error(!j.data||!j.error?"Something went wrong":j.error.message);return}i&&s(C=>n?C.map(k=>k.id===n?j.data:k):[j.data,...C]),r("/accounts",{replace:!0})};return d.jsx("div",{className:"flex flex-1 flex-col gap-4 p-2",children:d.jsxs("form",{onSubmit:j=>{j.preventDefault(),S()},className:"grid grid-cols-1 gap-2",children:[d.jsxs("label",{className:"dai-form-control w-full",children:[d.jsx("div",{className:"dai-label",children:d.jsx("span",{className:"req dai-label-text",children:"Name"})}),d.jsx("input",{value:v,onChange:j=>g(j.target.value),type:"text",placeholder:"Account Name",className:"dai-input dai-input-bordered"})]}),d.jsxs("label",{className:"dai-form-control",children:[d.jsx("div",{className:"dai-label",children:d.jsx("span",{className:"req dai-label-text",children:"Initial Balance"})}),d.jsx(Df,{open:!!x,text:Re(isNaN(parseFloat(x))?0:parseFloat(x)),children:j=>d.jsx("input",{ref:j,value:x,onChange:C=>m(C.target.value),type:"number",placeholder:"Initial Balance",className:"dai-input dai-input-bordered"})})]}),d.jsxs("div",{className:"dai-form-control",children:[d.jsx("div",{className:"dai-label",children:d.jsx("span",{className:"req dai-label-text",children:"Logo"})}),d.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2",children:l?Array.from({length:10}).map((j,C)=>d.jsx("button",{type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 outline-transparent",children:d.jsx("div",{className:"dai-skeleton size-12 rounded-lg"})},C)):o.length===0?d.jsx("div",{}):o.map((j,C)=>d.jsx("button",{onClick:()=>_(C),type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 "+(C===y?"outline-primary":"outline-transparent"),children:d.jsx("img",{className:"size-12 rounded-lg",src:cc+"/"+j,alt:""},C)},C))})]}),d.jsx("div",{className:"flex justify-end pt-2",children:d.jsx(Zc,{size:"sm",disabled:w,loading:f,type:"submit",className:"dai-btn-primary",children:"Submit"})})]})})},bC=()=>d.jsxs(Ei,{children:[d.jsx(Ye,{path:"/",element:d.jsx(yC,{})}),d.jsx(Ye,{path:"/transaction",element:d.jsx($x,{})}),d.jsx(Ye,{path:"/new",element:d.jsx(lg,{})}),d.jsx(Ye,{path:"/:id",element:d.jsx(lg,{})})]}),Wi=en();class _n extends fa{static getDateRanges(e,n,r){if(!n)return{start:new Date(0),end:new Date(new Date().getFullYear(),new Date().getMonth()+1,1)};const s=new Date(n.getFullYear(),n.getMonth(),1),i=new Date((r==null?void 0:r.getFullYear())??n.getFullYear(),((r==null?void 0:r.getMonth())??n.getMonth())+1,1),o=Wi.get(yt);return e&&(o!=null&&o.month_end_date)&&(s.setMonth(s.getMonth()-1),s.setDate(o.month_end_date+1),i.setMonth(i.getMonth()-1),i.setDate(o.month_end_date+1)),{start:s,end:i}}static async getExpenseOverview(e,n){const{start:r,end:s}=this.getDateRanges(!0,n),{data:i,error:o}=await this.db.from("transaction").select("amount:amount.sum(), count:id.count(), category(id, name, logo)").eq("user_id",e).eq("type","expense").gte("occurred_at",st(r,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})).lt("occurred_at",st(s,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})),a=i;return a.sort((l,c)=>c.amount-l.amount),[{error:o,data:a},{start:r,end:s}]}static async getIncomeTotal(e,n){const{start:r,end:s}=this.getDateRanges(!0,n),{data:i,error:o}=await this.db.from("transaction").select("amount:amount.sum()").eq("user_id",e).eq("type","income").gte("occurred_at",st(r,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})).lt("occurred_at",st(s,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})).single(),a=i;return{error:o,data:(a==null?void 0:a.amount)??0}}static async getCashFlowEveryMonth({userId:e,trx_type:n,year:r,yearEnd:s,categories:i}){var h;const o=new Date(s??r+1,0);o.setDate(o.getDate()-1);const{start:a,end:l}=this.getDateRanges(!1,new Date(r,0),o);l.setDate(l.getDate()-1);const{data:c,error:u}=await Pt.rpc("get_transaction_flow",{trx_type:n,day_flow:!1,month_end_date:((h=Wi.get(yt))==null?void 0:h.month_end_date)??0,trx_user_id:e,categories:i,time_zone:qs,end_str:st(l,{format:"yyyy-MM"}),start_str:st(a,{format:"yyyy-MM"})});return{data:c,error:u}}static async getCashFlowEveryDay({userId:e,trx_type:n,month:r,monthEnd:s,categories:i}){var u;const{start:o,end:a}=this.getDateRanges(!0,r,s);a.setDate(a.getDate()-1);const{data:l,error:c}=await Pt.rpc("get_transaction_flow",{day_flow:!0,month_end_date:((u=Wi.get(yt))==null?void 0:u.month_end_date)??0,trx_type:n,trx_user_id:e,categories:i,time_zone:qs,end_str:st(a,{format:"yyyy-MM-dd"}),start_str:st(o,{format:"yyyy-MM-dd"})});return{data:l,error:c}}static async getCurrentBalanceAt(e){var s;const{data:n,error:r}=await Pt.rpc("get_current_balance_at",{trx_user_id:e.userId,day_flow:!0,end_str:st(e.lastDate,{format:"yyyy-MM-dd"}),month_end_date:((s=Wi.get(yt))==null?void 0:s.month_end_date)??0,time_zone:qs});return{data:n,error:r}}static async getIncomeExpensePerMonth(e,n){var l;const r=new Date(n+2,0);r.setDate(r.getDate()-1);const{start:s,end:i}=this.getDateRanges(!0,new Date(n-10,0),r);i.setDate(i.getDate()-1);const{data:o,error:a}=await Pt.rpc("get_income_expense_per_month",{start_str:st(s,{format:"yyyy-MM-dd HH:mm:ss"}),end_str:st(i,{format:"yyyy-MM-dd HH:mm:ss"}),month_end_date:((l=Wi.get(yt))==null?void 0:l.month_end_date)??0,time_zone:qs,trx_user_id:e});return{data:o,error:a}}}function nu(t,{minimumFractionDigits:e=0,maximumFractionDigits:n=2}={}){return t.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:n})}const kC=({expenses:t,totalExpense:e,totalIncome:n,loadingIncome:r,loadingExpense:s,ranges:i})=>{const o=b.useMemo(()=>t.reduce((l,c)=>l+c.count,0),[t]),a=b.useMemo(()=>{if(!i)return 0;const l=new Date;return i.end.getMonth()===l.getMonth()&&i.end.getFullYear()===l.getFullYear()?Math.ceil((l.getTime()-i.start.getTime())/(1e3*60*60*24)):Math.ceil((i.end.getTime()-i.start.getTime())/(1e3*60*60*24))},[i]);return d.jsxs("div",{className:"flex w-full flex-col gap-2 text-xs",children:[d.jsxs("div",{className:"rounded-lg border bg-base-100",children:[d.jsxs("div",{className:"flex border-b px-2 text-base-content-accent",children:[d.jsxs("div",{className:"flex flex-1 flex-col items-center gap-0.5 py-2",children:[d.jsx(mt,{skel:r,children:d.jsx("span",{children:"Income "})}),d.jsx(mt,{skel:r,children:d.jsx("span",{className:"text-sm text-success",children:Re(r?10123e3:n)})})]}),d.jsxs("div",{className:"flex flex-1 flex-col items-center gap-0.5 border-x py-2",children:[d.jsx(mt,{skel:s,children:d.jsx("span",{children:"Expense"})}),d.jsx(mt,{skel:s,children:d.jsx("span",{className:"text-sm text-error",children:Re(s?10123e3:-1*e)})})]}),d.jsxs("div",{className:"flex flex-1 flex-col items-center gap-0.5 py-2",children:[d.jsx(mt,{skel:s||r,children:d.jsx("span",{children:"Save"})}),d.jsxs(mt,{skel:s||r,children:[d.jsx("span",{className:"text-sm text-success",children:Re(s||r?10123e3:n-e)})," "]})]})]}),d.jsxs("div",{className:"flex items-center justify-evenly gap-2 p-2",children:[d.jsx(mt,{skel:s,children:d.jsxs("div",{className:"flex items-center gap-1 text-success",children:[d.jsx(pe,{icon:"lucide:calendar-days"}),d.jsx("span",{children:a})]})}),d.jsx(mt,{skel:s,children:d.jsxs("div",{className:"flex items-center gap-1 text-error",children:[d.jsx(pe,{icon:"lucide:upload"}),d.jsx("span",{children:nu(s?1230:o)})]})}),d.jsx(mt,{skel:s,children:d.jsxs("span",{className:"text-error",children:["Avg."," ",Re(s?10123e3:o===0?0:e/o)]})})]})]}),d.jsx("div",{className:"grid grid-cols-1 gap-2 rounded-lg border bg-base-100 p-2",children:s?Array.from({length:10}).map((l,c)=>d.jsxs("div",{className:"flex items-center gap-1 "+(c!==9?"border-b pb-2":""),children:[d.jsxs("div",{className:"flex flex-1 items-center gap-1",children:[d.jsx("div",{className:"dai-skeleton size-4 xs:size-5"}),d.jsx(Pe,{children:d.jsx("span",{children:"Transportation"})})]}),d.jsx(Pe,{children:d.jsx("progress",{className:"dai-progress dai-progress-error h-[5px] w-[4rem] rotate-180",value:0,max:"100"})}),d.jsx("div",{className:"flex flex-1 justify-end",children:d.jsx(Pe,{children:d.jsx("span",{className:"text-error",children:Re(-1*100123)})})})]},c)):t.length===0?d.jsx("div",{className:"text-center text-base-content-accent",children:"No expense found"}):t.map((l,c)=>{var h,f;const u=e===0?0:Math.round(100*(l.amount??0)/e);return d.jsxs("div",{className:"flex items-center gap-1 "+(c!==t.length-1?"border-b pb-2":""),children:[d.jsxs("div",{className:"flex flex-1 items-center gap-1",children:[d.jsx("div",{className:"size-4 xs:size-5",children:d.jsx("img",{className:"aspect-square w-full",src:Xc+"/"+((h=l.category)==null?void 0:h.logo),loading:"lazy",alt:""})}),d.jsx("span",{children:(f=l.category)==null?void 0:f.name})]}),d.jsx("progress",{className:"dai-progress dai-progress-error h-[5px] w-[4rem] rotate-180",value:u,max:"100"}),d.jsx("div",{className:"flex flex-1 justify-end",children:d.jsx("span",{className:"text-error",children:Re(-1*l.amount)})})]},c)})})]})},SC=en(),jC=new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}),qu=()=>{const t=SC.get(yt),e=new Date;return!(t!=null&&t.month_end_date)||e.getDate()<=t.month_end_date||(e.setDate(1),e.setMonth(e.getMonth()+1)),e},EC=()=>{const[t]=J(wt),[e,n]=b.useState(!1),[r,s]=b.useState(),[i,o]=b.useState([]),[a,l]=b.useState(!1),[c,u]=b.useState(0),[h,f]=b.useState(qu),p=b.useMemo(()=>i.reduce((v,g)=>v+(g.amount??0),0),[i]);return b.useEffect(()=>{t!=null&&t.user.id&&(async()=>{n(!0);const[v,g]=await _n.getExpenseOverview(t.user.id,h);if(n(!1),s(g),v.error){Y.error(v.error.message);return}o(v.data??[])})()},[h,t]),b.useEffect(()=>{t!=null&&t.user.id&&(async()=>{l(!0);const v=await _n.getIncomeTotal(t.user.id,h);if(l(!1),v.error){Y.error(v.error.message);return}u(v.data??0)})()},[h,t]),d.jsxs("div",{className:"flex flex-1 flex-col items-center gap-2 p-2",children:[d.jsxs("div",{className:"flex w-full items-center rounded-lg border bg-base-100 p-2",children:[d.jsx("div",{className:"flex-1"}),d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("button",{disabled:e||!h,onClick:()=>f(v=>v?new Date(v.setMonth(v.getMonth()-1)):void 0),className:"text-xl disabled:opacity-20",children:d.jsx(pe,{icon:"lucide:chevron-left"})}),d.jsx("span",{className:"w-[10rem] text-center",children:h?jC.format(h):"All time"}),d.jsx("button",{disabled:e||!h||h.getMonth()===qu().getMonth(),onClick:()=>f(v=>v?new Date(v.setMonth(v.getMonth()+1)):void 0),className:"text-xl disabled:opacity-20",children:d.jsx(pe,{icon:"lucide:chevron-right"})})]}),d.jsx("div",{className:"flex flex-1 justify-end",children:d.jsx(Ar,{options:[{icon:"lucide:calendar-days",label:h?"All time":"This month",onClick:()=>f(v=>v?void 0:qu())}]})})]}),d.jsx(kC,{expenses:i,loadingExpense:e,totalExpense:p,totalIncome:c,loadingIncome:a,ranges:r})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ma(t){return t+.5|0}const fr=(t,e,n)=>Math.max(Math.min(t,n),e);function no(t){return fr(ma(t*2.55),0,255)}function Sr(t){return fr(ma(t*255),0,255)}function Dn(t){return fr(ma(t/2.55)/100,0,1)}function cg(t){return fr(ma(t*100),0,100)}const Wt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},gh=[..."0123456789ABCDEF"],CC=t=>gh[t&15],PC=t=>gh[(t&240)>>4]+gh[t&15],Za=t=>(t&240)>>4===(t&15),MC=t=>Za(t.r)&&Za(t.g)&&Za(t.b)&&Za(t.a);function TC(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Wt[t[1]]*17,g:255&Wt[t[2]]*17,b:255&Wt[t[3]]*17,a:e===5?Wt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Wt[t[1]]<<4|Wt[t[2]],g:Wt[t[3]]<<4|Wt[t[4]],b:Wt[t[5]]<<4|Wt[t[6]],a:e===9?Wt[t[7]]<<4|Wt[t[8]]:255})),n}const LC=(t,e)=>t<255?e(t):"";function NC(t){var e=MC(t)?CC:PC;return t?"#"+e(t.r)+e(t.g)+e(t.b)+LC(t.a,e):void 0}const RC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Gx(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function OC(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function DC(t,e,n){const r=Gx(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function AC(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function Af(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,c,u;return i!==o&&(u=i-o,c=a>.5?u/(2-i-o):u/(i+o),l=AC(n,r,s,u,i),l=l*60+.5),[l|0,c||0,a]}function If(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Sr)}function Ff(t,e,n){return If(Gx,t,e,n)}function IC(t,e,n){return If(DC,t,e,n)}function FC(t,e,n){return If(OC,t,e,n)}function Qx(t){return(t%360+360)%360}function zC(t){const e=RC.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?no(+e[5]):Sr(+e[5]));const s=Qx(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=IC(s,i,o):e[1]==="hsv"?r=FC(s,i,o):r=Ff(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function $C(t,e){var n=Af(t);n[0]=Qx(n[0]+e),n=Ff(n),t.r=n[0],t.g=n[1],t.b=n[2]}function BC(t){if(!t)return;const e=Af(t),n=e[0],r=cg(e[1]),s=cg(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Dn(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const ug={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},dg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function UC(){const t={},e=Object.keys(dg),n=Object.keys(ug);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,ug[i]);i=parseInt(dg[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let el;function HC(t){el||(el=UC(),el.transparent=[0,0,0,0]);const e=el[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const WC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function VC(t){const e=WC.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?no(o):fr(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?no(r):fr(r,0,255)),s=255&(e[4]?no(s):fr(s,0,255)),i=255&(e[6]?no(i):fr(i,0,255)),{r,g:s,b:i,a:n}}}function YC(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Dn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Gu=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Rs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function KC(t,e,n){const r=Rs(Dn(t.r)),s=Rs(Dn(t.g)),i=Rs(Dn(t.b));return{r:Sr(Gu(r+n*(Rs(Dn(e.r))-r))),g:Sr(Gu(s+n*(Rs(Dn(e.g))-s))),b:Sr(Gu(i+n*(Rs(Dn(e.b))-i))),a:t.a+n*(e.a-t.a)}}function tl(t,e,n){if(t){let r=Af(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Ff(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Jx(t,e){return t&&Object.assign(e||{},t)}function hg(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Sr(t[3]))):(e=Jx(t,{r:0,g:0,b:0,a:1}),e.a=Sr(e.a)),e}function qC(t){return t.charAt(0)==="r"?VC(t):zC(t)}class Xo{constructor(e){if(e instanceof Xo)return e;const n=typeof e;let r;n==="object"?r=hg(e):n==="string"&&(r=TC(e)||HC(e)||qC(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Jx(this._rgb);return e&&(e.a=Dn(e.a)),e}set rgb(e){this._rgb=hg(e)}rgbString(){return this._valid?YC(this._rgb):void 0}hexString(){return this._valid?NC(this._rgb):void 0}hslString(){return this._valid?BC(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=KC(this._rgb,e._rgb,n)),this}clone(){return new Xo(this.rgb)}alpha(e){return this._rgb.a=Sr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ma(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return tl(this._rgb,2,e),this}darken(e){return tl(this._rgb,2,-e),this}saturate(e){return tl(this._rgb,1,e),this}desaturate(e){return tl(this._rgb,1,-e),this}rotate(e){return $C(this._rgb,e),this}}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Mn(){}const GC=(()=>{let t=0;return()=>t++})();function $e(t){return t===null||typeof t>"u"}function et(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ye(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ut(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Dt(t,e){return ut(t)?t:e}function be(t,e){return typeof t>"u"?e:t}const QC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ue(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function xe(t,e,n,r){let s,i,o;if(et(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(ye(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function hc(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function fc(t){if(et(t))return t.map(fc);if(ye(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=fc(t[n[s]]);return e}return t}function Xx(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function JC(t,e,n,r){if(!Xx(t))return;const s=e[t],i=n[t];ye(s)&&ye(i)?Zo(s,i,r):e[t]=fc(i)}function Zo(t,e,n){const r=et(e)?e:[e],s=r.length;if(!ye(t))return t;n=n||{};const i=n.merger||JC;let o;for(let a=0;a<s;++a){if(o=r[a],!ye(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)i(l[c],t,o,n)}return t}function wo(t,e){return Zo(t,e,{merger:XC})}function XC(t,e,n){if(!Xx(t))return;const r=e[t],s=n[t];ye(r)&&ye(s)?wo(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=fc(s))}const fg={"":t=>t,x:t=>t.x,y:t=>t.y};function ZC(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function eP(t){const e=ZC(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function pc(t,e){return(fg[e]||(fg[e]=eP(e)))(t)}function zf(t){return t.charAt(0).toUpperCase()+t.slice(1)}const mc=t=>typeof t<"u",Pr=t=>typeof t=="function",pg=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function tP(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const nt=Math.PI,$n=2*nt,nP=$n+nt,gc=Number.POSITIVE_INFINITY,rP=nt/180,un=nt/2,Br=nt/4,mg=nt*2/3,pr=Math.log10,_i=Math.sign;function bo(t,e,n){return Math.abs(t-e)<n}function gg(t){const e=Math.round(t);t=bo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(pr(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function sP(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function ea(t){return!isNaN(parseFloat(t))&&isFinite(t)}function iP(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Zx(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function rs(t){return t*(nt/180)}function oP(t){return t*(180/nt)}function yg(t){if(!ut(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function aP(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*nt&&(i+=$n),{angle:i,distance:s}}function yh(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function lP(t,e){return(t-e+nP)%$n-nt}function nr(t){return(t%$n+$n)%$n}function e1(t,e,n,r){const s=nr(t),i=nr(e),o=nr(n),a=nr(i-s),l=nr(o-s),c=nr(s-i),u=nr(s-o);return s===i||s===o||r&&i===o||a>l&&c<u}function qt(t,e,n){return Math.max(e,Math.min(n,t))}function cP(t){return qt(t,-32768,32767)}function uP(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function $f(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const ss=(t,e,n,r)=>$f(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),dP=(t,e,n)=>$f(t,n,r=>t[r][e]>=n);function hP(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const t1=["push","pop","shift","splice","unshift"];function fP(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),t1.forEach(n=>{const r="_onData"+zf(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function vg(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(t1.forEach(i=>{delete t[i]}),delete t._chartjs)}function pP(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const n1=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function r1(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,n1.call(window,()=>{r=!1,t.apply(e,n)}))}}function mP(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const s1=t=>t==="start"?"left":t==="end"?"right":"center",ko=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2;function gP(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(s=qt(Math.min(ss(a,l,c).lo,n?r:ss(e,l,o.getPixelForValue(c)).lo),0,r-1)),f?i=qt(Math.max(ss(a,o.axis,u,!0).hi+1,n?0:ss(e,l,o.getPixelForValue(u),!0).hi+1),s,r)-s:i=r-s}return{start:s,count:i}}function yP(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const nl=t=>t===0||t===1,xg=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*$n/n)),_g=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*$n/n)+1,So={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*un)+1,easeOutSine:t=>Math.sin(t*un),easeInOutSine:t=>-.5*(Math.cos(nt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>nl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>nl(t)?t:xg(t,.075,.3),easeOutElastic:t=>nl(t)?t:_g(t,.075,.3),easeInOutElastic(t){return nl(t)?t:t<.5?.5*xg(t*2,.1125,.45):.5+.5*_g(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-So.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?So.easeInBounce(t*2)*.5:So.easeOutBounce(t*2-1)*.5+.5};function Bf(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function wg(t){return Bf(t)?t:new Xo(t)}function Qu(t){return Bf(t)?t:new Xo(t).saturate(.5).darken(.1).hexString()}const vP=["x","y","borderWidth","radius","tension"],xP=["color","borderColor","backgroundColor"];function _P(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:xP},numbers:{type:"number",properties:vP}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function wP(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const bg=new Map;function bP(t,e){e=e||{};const n=t+JSON.stringify(e);let r=bg.get(n);return r||(r=new Intl.NumberFormat(t,e),bg.set(n,r)),r}function Uf(t,e,n){return bP(e,n).format(t)}const i1={values(t){return et(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=kP(t,n)}const o=pr(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Uf(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(pr(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?i1.numeric.call(this,t,e,n):""}};function kP(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Hf={formatters:i1};function SP(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Hf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const vs=Object.create(null),vh=Object.create(null);function jo(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function Ju(t,e,n){return typeof e=="string"?Zo(jo(t,e),n):Zo(jo(t,""),e)}class jP{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Qu(s.backgroundColor),this.hoverBorderColor=(r,s)=>Qu(s.borderColor),this.hoverColor=(r,s)=>Qu(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Ju(this,e,n)}get(e){return jo(this,e)}describe(e,n){return Ju(vh,e,n)}override(e,n){return Ju(vs,e,n)}route(e,n,r,s){const i=jo(this,e),o=jo(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return ye(l)?Object.assign({},c,l):be(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ke=new jP({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_P,wP,SP]);function EP(t){return!t||$e(t.size)||$e(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function kg(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Ur(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Sg(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function xh(t,e,n,r){CP(t,e,n,r)}function CP(t,e,n,r,s){let i,o,a,l,c,u,h,f;const p=e.pointStyle,v=e.rotation,g=e.radius;let x=(v||0)*rP;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(x),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),p){default:t.arc(n,r,g,0,$n),t.closePath();break;case"triangle":u=g,t.moveTo(n+Math.sin(x)*u,r-Math.cos(x)*g),x+=mg,t.lineTo(n+Math.sin(x)*u,r-Math.cos(x)*g),x+=mg,t.lineTo(n+Math.sin(x)*u,r-Math.cos(x)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(x+Br)*l,h=Math.cos(x+Br)*l,a=Math.sin(x+Br)*l,f=Math.sin(x+Br)*l,t.arc(n-h,r-a,c,x-nt,x-un),t.arc(n+f,r-o,c,x-un,x),t.arc(n+h,r+a,c,x,x+un),t.arc(n-f,r+o,c,x+un,x+nt),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*g,u=l,t.rect(n-u,r-l,2*u,2*l);break}x+=Br;case"rectRot":h=Math.cos(x)*g,o=Math.cos(x)*g,a=Math.sin(x)*g,f=Math.sin(x)*g,t.moveTo(n-h,r-a),t.lineTo(n+f,r-o),t.lineTo(n+h,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":x+=Br;case"cross":h=Math.cos(x)*g,o=Math.cos(x)*g,a=Math.sin(x)*g,f=Math.sin(x)*g,t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":h=Math.cos(x)*g,o=Math.cos(x)*g,a=Math.sin(x)*g,f=Math.sin(x)*g,t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),x+=Br,h=Math.cos(x)*g,o=Math.cos(x)*g,a=Math.sin(x)*g,f=Math.sin(x)*g,t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=Math.cos(x)*g,a=Math.sin(x)*g,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(x)*g,r+Math.sin(x)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ta(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function o1(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function a1(t){t.restore()}function PP(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function MP(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function TP(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),$e(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function LP(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function NP(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function _h(t,e,n,r,s,i={}){const o=et(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,TP(t,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&NP(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),$e(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,n,r,i.maxWidth)),t.fillText(c,n,r,i.maxWidth),LP(t,n,r,c,i),r+=Number(s.lineHeight);t.restore()}function jg(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*nt,nt,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,nt,un,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,un,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-un,!0),t.lineTo(n+o.topLeft,r)}const RP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function DP(t,e){const n=(""+t).match(RP);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const AP=t=>+t||0;function l1(t,e){const n={},r=ye(e),s=r?Object.keys(e):e,i=ye(t)?r?o=>be(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=AP(i(o));return n}function IP(t){return l1(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ml(t){return l1(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Vn(t){const e=IP(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Gt(t,e){t=t||{},e=e||Ke.font;let n=be(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=be(t.style,e.style);r&&!(""+r).match(OP)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:be(t.family,e.family),lineHeight:DP(be(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:be(t.weight,e.weight),string:""};return s.string=EP(s),s}function rl(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function FP(t,e,n){const{min:r,max:s}=t,i=QC(e,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function ks(t,e){return Object.assign(Object.create(t),e)}function Wf(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=h1("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>Wf([a,...t],e,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return u1(a,l,()=>YP(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Cg(a).includes(l)},ownKeys(a){return Cg(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function wi(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:c1(t,r),setContext:i=>wi(t,i,n,r),override:i=>wi(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return u1(i,o,()=>$P(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function c1(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Pr(n)?n:()=>n,isIndexable:Pr(r)?r:()=>r}}const zP=(t,e)=>t?t+zf(e):e,Vf=(t,e)=>ye(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function u1(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function $P(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let a=r[e];return Pr(a)&&o.isScriptable(e)&&(a=BP(e,a,t,n)),et(a)&&a.length&&(a=UP(e,a,t,o.isIndexable)),Vf(e,a)&&(a=wi(a,s,i&&i[e],o)),a}function BP(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||r);return a.delete(t),Vf(t,l)&&(l=Yf(s._scopes,s,t,l)),l}function UP(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(ye(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=Yf(c,s,t,u);e.push(wi(h,i,o&&o[t],a))}}return e}function d1(t,e,n){return Pr(t)?t(e,n):t}const HP=(t,e)=>t===!0?e:typeof t=="string"?pc(e,t):void 0;function WP(t,e,n,r,s){for(const i of e){const o=HP(n,i);if(o){t.add(o);const a=d1(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Yf(t,e,n,r){const s=e._rootScopes,i=d1(e._fallback,n,r),o=[...t,...s],a=new Set;a.add(r);let l=Eg(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=Eg(a,o,i,l,r),l===null)?!1:Wf(Array.from(a),[""],s,i,()=>VP(e,n,r))}function Eg(t,e,n,r,s){for(;n;)n=WP(t,e,n,r,s);return n}function VP(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return et(s)&&ye(n)?n:s||{}}function YP(t,e,n,r){let s;for(const i of e)if(s=h1(zP(i,t),n),typeof s<"u")return Vf(t,s)?Yf(n,r,t,s):s}function h1(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Cg(t){let e=t._keys;return e||(e=t._keys=KP(t._scopes)),e}function KP(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const qP=Number.EPSILON||1e-14,bi=(t,e)=>e<t.length&&!t[e].skip&&t[e],f1=t=>t==="x"?"y":"x";function GP(t,e,n,r){const s=t.skip?e:t,i=e,o=n.skip?e:n,a=yh(i,s),l=yh(o,i);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,f=r*u;return{previous:{x:i.x-h*(o.x-s.x),y:i.y-h*(o.y-s.y)},next:{x:i.x+f*(o.x-s.x),y:i.y+f*(o.y-s.y)}}}function QP(t,e,n){const r=t.length;let s,i,o,a,l,c=bi(t,0);for(let u=0;u<r-1;++u)if(l=c,c=bi(t,u+1),!(!l||!c)){if(bo(e[u],0,qP)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],i=n[u+1]/e[u],a=Math.pow(s,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*e[u],n[u+1]=i*o*e[u])}}function JP(t,e,n="x"){const r=f1(n),s=t.length;let i,o,a,l=bi(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=bi(t,c+1),!a)continue;const u=a[n],h=a[r];o&&(i=(u-o[n])/3,a[`cp1${n}`]=u-i,a[`cp1${r}`]=h-i*e[c]),l&&(i=(l[n]-u)/3,a[`cp2${n}`]=u+i,a[`cp2${r}`]=h+i*e[c])}}function XP(t,e="x"){const n=f1(e),r=t.length,s=Array(r).fill(0),i=Array(r);let o,a,l,c=bi(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=bi(t,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[n]-l[n])/u:0}i[o]=a?c?_i(s[o-1])!==_i(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}QP(t,s,i),JP(t,i,e)}function sl(t,e,n){return Math.max(Math.min(t,n),e)}function ZP(t,e){let n,r,s,i,o,a=ta(t[0],e);for(n=0,r=t.length;n<r;++n)o=i,i=a,a=n<r-1&&ta(t[n+1],e),i&&(s=t[n],o&&(s.cp1x=sl(s.cp1x,e.left,e.right),s.cp1y=sl(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=sl(s.cp2x,e.left,e.right),s.cp2y=sl(s.cp2y,e.top,e.bottom)))}function eM(t,e,n,r,s){let i,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")XP(t,s);else{let c=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=GP(c,a,t[Math.min(i+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&ZP(t,n)}function Kf(){return typeof window<"u"&&typeof document<"u"}function qf(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function yc(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const ru=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function tM(t,e){return ru(t).getPropertyValue(e)}const nM=["top","right","bottom","left"];function cs(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=nM[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const rM=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function sM(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(rM(s,i,t.target))a=s,l=i;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Gr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=ru(n),i=s.boxSizing==="border-box",o=cs(s,"padding"),a=cs(s,"border","width"),{x:l,y:c,box:u}=sM(t,n),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:v}=e;return i&&(p-=o.width+a.width,v-=o.height+a.height),{x:Math.round((l-h)/p*n.width/r),y:Math.round((c-f)/v*n.height/r)}}function iM(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&qf(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=ru(i),l=cs(a,"border","width"),c=cs(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=yc(a.maxWidth,i,"clientWidth"),s=yc(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||gc,maxHeight:s||gc}}const il=t=>Math.round(t*10)/10;function oM(t,e,n,r){const s=ru(t),i=cs(s,"margin"),o=yc(s.maxWidth,t,"clientWidth")||gc,a=yc(s.maxHeight,t,"clientHeight")||gc,l=iM(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=cs(s,"border","width"),p=cs(s,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-i.width),u=Math.max(0,r?c/r:u-i.height),c=il(Math.min(c,o,l.maxWidth)),u=il(Math.min(u,a,l.maxHeight)),c&&!u&&(u=il(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=il(Math.floor(u*r))),{width:c,height:u}}function Pg(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const aM=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Kf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Mg(t,e){const n=tM(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Qr(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function lM(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function cM(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Qr(t,s,n),a=Qr(s,i,n),l=Qr(i,e,n),c=Qr(o,a,n),u=Qr(a,l,n);return Qr(c,u,n)}const uM=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},dM=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Xu(t,e,n){return t?uM(e,n):dM()}function hM(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function fM(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function p1(t){return t==="angle"?{between:e1,compare:lP,normalize:nr}:{between:uP,compare:(e,n)=>e-n,normalize:e=>e}}function Tg({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function pM(t,e,n){const{property:r,start:s,end:i}=n,{between:o,normalize:a}=p1(r),l=e.length;let{start:c,end:u,loop:h}=t,f,p;if(h){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(e[c%l][r]),s,i);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function mM(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,o=e.length,{compare:a,between:l,normalize:c}=p1(r),{start:u,end:h,loop:f,style:p}=pM(t,e,n),v=[];let g=!1,x=null,m,y,_;const w=()=>l(s,_,m)&&a(s,_)!==0,S=()=>a(i,m)===0||l(i,_,m),j=()=>g||w(),C=()=>!g||S();for(let k=u,M=u;k<=h;++k)y=e[k%o],!y.skip&&(m=c(y[r]),m!==_&&(g=l(m,s,i),x===null&&j()&&(x=a(m,s)===0?k:M),x!==null&&C()&&(v.push(Tg({start:x,end:k,loop:f,count:o,style:p})),x=null),M=k,_=m));return x!==null&&v.push(Tg({start:x,end:h,loop:f,count:o,style:p})),v}function gM(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=mM(r[s],t.points,e);i.length&&n.push(...i)}return n}function yM(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function vM(t,e,n,r){const s=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&i.push({start:e%s,end:o%s,loop:r}),i}function xM(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:o,end:a}=yM(n,s,i,r);if(r===!0)return Lg(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return Lg(t,vM(n,o,l,c),n,e)}function Lg(t,e,n,r){return!r||!r.setContext||!n?e:_M(t,e,n,r)}function _M(t,e,n,r){const s=t._chart.getContext(),i=Ng(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=i,h=e[0].start,f=h;function p(v,g,x,m){const y=a?-1:1;if(v!==g){for(v+=l;n[v%l].skip;)v-=y;for(;n[g%l].skip;)g+=y;v%l!==g%l&&(c.push({start:v%l,end:g%l,loop:x,style:m}),u=m,h=g%l)}}for(const v of e){h=a?h:v.start;let g=n[h%l],x;for(f=h+1;f<=v.end;f++){const m=n[f%l];x=Ng(r.setContext(ks(s,{type:"segment",p0:g,p1:m,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),wM(x,u)&&p(h,f-1,v.loop,u),g=m,u=x}h<f-1&&p(h,f-1,v.loop,u)}return c}function Ng(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function wM(t,e){if(!e)return!1;const n=[],r=function(s,i){return Bf(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class bM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=n1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ln=new bM;const Rg="transparent",kM={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=wg(t||Rg),s=r.valid&&wg(e||Rg);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class SM{constructor(e,n,r,s){const i=n[r];s=rl([e.to,s,i,e.from]);const o=rl([e.from,i,s]);this._active=!0,this._fn=e.fn||kM[e.type||typeof o],this._easing=So[e.easing]||So.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=rl([e.to,n,s,e.from]),this._from=rl([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class m1{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ye(e))return;const n=Object.keys(Ke.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!ye(i))return;const o={};for(const a of n)o[a]=i[a];(et(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,s=EM(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&jM(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let h=i[c];const f=r.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[c]=u;continue}i[c]=h=new SM(f,e,c,u),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Ln.add(this._chart,r),!0}}function jM(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function EM(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Og(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function CM(t,e,n){if(n===!1)return!1;const r=Og(t,n),s=Og(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function PM(t){let e,n,r,s;return ye(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function g1(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function Dg(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],ut(c)&&(i||e===0||_i(e)===_i(c))&&(e+=c)}return!u&&!r.all?0:e}function MM(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[i]:t[u]};return a}function Zu(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function TM(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function LM(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function NM(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Ag(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function Ig(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,c=o.axis,u=TM(i,o,r),h=e.length;let f;for(let p=0;p<h;++p){const v=e[p],{[l]:g,[c]:x}=v,m=v._stacks||(v._stacks={});f=m[c]=NM(s,u,g),f[a]=x,f._top=Ag(f,o,!0,r.type),f._bottom=Ag(f,o,!1,r.type);const y=f._visualValues||(f._visualValues={});y[a]=x}}function ed(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function RM(t,e){return ks(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function OM(t,e,n){return ks(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Vi(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const td=t=>t==="reset"||t==="none",Fg=(t,e)=>e?t:Object.assign({},t),DM=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:g1(n,!0),values:null};class Eo{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Zu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Vi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(h,f,p,v)=>h==="x"?f:h==="r"?v:p,i=n.xAxisID=be(r.xAxisID,ed(e,"x")),o=n.yAxisID=be(r.yAxisID,ed(e,"y")),a=n.rAxisID=be(r.rAxisID,ed(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,i,o,a),u=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&vg(this._data,this),e._stacked&&Vi(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(ye(n)){const s=this._cachedMeta;this._data=MM(n,s)}else if(r!==n){if(r){vg(r,this);const s=this._cachedMeta;Vi(s),s._parsed=[]}n&&Object.isExtensible(n)&&fP(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Zu(n.vScale,n),n.stack!==r.stack&&(s=!0,Vi(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(Ig(this,n._parsed),n._stacked=Zu(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=e===0&&n===s.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,h,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{et(s[e])?f=this.parseArrayData(r,s,e,n):ye(s[e])?f=this.parseObjectData(r,s,e,n):f=this.parsePrimitiveData(r,s,e,n);const p=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=h=f[u],l&&(p()&&(l=!1),c=h);r._sorted=l}o&&Ig(this,f)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,c=i.getLabels(),u=i===o,h=new Array(s);let f,p,v;for(f=0,p=s;f<p;++f)v=f+r,h[f]={[a]:u||i.parse(c[v],v),[l]:o.parse(n[v],v)};return h}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+r,h=n[u],a[l]={x:i.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,f,p;for(u=0,h=s;u<h;++u)f=u+r,p=n[f],c[u]={x:i.parse(pc(p,a),f),y:o.parse(pc(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:g1(s,!0),values:n._stacks[e.axis]._visualValues};return Dg(a,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=Dg(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),l=DM(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=LM(a);let f,p;function v(){p=s[f];const g=p[a.axis];return!ut(p[e.axis])||u>g||h<g}for(f=0;f<o&&!(!v()&&(this.updateRangeFromParsed(c,e,p,l),i));++f);if(i){for(f=o-1;f>=0;--f)if(!v()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],ut(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=PM(be(this.options.clip,CM(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,i,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=OM(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=RM(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&mc(r);if(a)return Fg(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(Ke.elements[e]),v=()=>this.getContext(r,s,n),g=c.resolveNamedOptions(f,p,v,h);return g.$shared&&(g.$shared=l,i[o]=Object.freeze(Fg(g,l))),g}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(e,r,n))}const c=new m1(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||td(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){td(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!td(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Vi(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ne(Eo,"defaults",{}),ne(Eo,"datasetElementType",null),ne(Eo,"dataElementType",null);class Tl extends Eo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=gP(n,s,o);this._drawStart=a,this._drawCount=l,yP(n)&&(a=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),f=o.axis,p=a.axis,{spanGaps:v,segment:g}=this.options,x=ea(v)?v:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||s==="none",y=n+r,_=e.length;let w=n>0&&this.getParsed(n-1);for(let S=0;S<_;++S){const j=e[S],C=m?j:{};if(S<n||S>=y){C.skip=!0;continue}const k=this.getParsed(S),M=$e(k[p]),N=C[f]=o.getPixelForValue(k[f],S),O=C[p]=i||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,k,l):k[p],S);C.skip=isNaN(N)||isNaN(O)||M,C.stop=S>0&&Math.abs(k[f]-w[f])>x,g&&(C.parsed=k,C.raw=c.data[S]),h&&(C.options=u||this.resolveDataElementOptions(S,j.active?"active":s)),m||this.updateElement(j,S,C,s),w=k}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ne(Tl,"id","line"),ne(Tl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ne(Tl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Hr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Gf{constructor(e){ne(this,"options");this.options=e||{}}static override(e){Object.assign(Gf.prototype,e)}init(){}formats(){return Hr()}parse(){return Hr()}format(){return Hr()}add(){return Hr()}diff(){return Hr()}startOf(){return Hr()}endOf(){return Hr()}}var AM={_date:Gf};function IM(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const l=a._reversePixels?dP:ss;if(r){if(s._sharedOptions){const c=i[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(i,e,n-u),f=l(i,e,n+u);return{lo:h.lo,hi:f.hi}}}}else return l(i,e,n)}return{lo:0,hi:i.length-1}}function ga(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:c,data:u}=i[a],{lo:h,hi:f}=IM(i[a],e,o,s);for(let p=h;p<=f;++p){const v=u[p];v.skip||r(v,c,p)}}}function FM(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function nd(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||ga(t,n,e,function(a,l,c){!s&&!ta(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function zM(t,e,n,r){let s=[];function i(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:h}=aP(o,{x:e.x,y:e.y});e1(h,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return ga(t,n,e,i),s}function $M(t,e,n,r,s,i){let o=[];const a=FM(n);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const p=u.inRange(e.x,e.y,s);if(r&&!p)return;const v=u.getCenterPoint(s);if(!(!!i||t.isPointInArea(v))&&!p)return;const x=a(e,v);x<l?(o=[{element:u,datasetIndex:h,index:f}],l=x):x===l&&o.push({element:u,datasetIndex:h,index:f})}return ga(t,n,e,c),o}function rd(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?zM(t,e,n,s):$M(t,e,n,r,s,i)}function zg(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return ga(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],s)&&(i.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),r&&!a?[]:i}var BM={evaluateInteractionItems:ga,modes:{index(t,e,n,r){const s=Gr(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?nd(t,s,i,r,o):rd(t,s,i,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const s=Gr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?nd(t,s,i,r,o):rd(t,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const s=Gr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return nd(t,s,i,r,o)},nearest(t,e,n,r){const s=Gr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return rd(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=Gr(e,t);return zg(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Gr(e,t);return zg(t,s,"y",n.intersect,r)}}};const y1=["left","top","right","bottom"];function Yi(t,e){return t.filter(n=>n.pos===e)}function $g(t,e){return t.filter(n=>y1.indexOf(n.pos)===-1&&n.box.axis===e)}function Ki(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function UM(t){const e=[];let n,r,s,i,o,a;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function HM(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!y1.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function WM(t,e){const n=HM(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=s):(a.width=r,a.height=u?u*s:l&&e.availableHeight)}return n}function VM(t){const e=UM(t),n=Ki(e.filter(c=>c.box.fullSize),!0),r=Ki(Yi(e,"left"),!0),s=Ki(Yi(e,"right")),i=Ki(Yi(e,"top"),!0),o=Ki(Yi(e,"bottom")),a=$g(e,"x"),l=$g(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Yi(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function Bg(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function v1(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function YM(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!ye(s)){n.size&&(t[s]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[s]+=n.size}i.getPadding&&v1(o,i.getPadding());const a=Math.max(0,e.outerWidth-Bg(o,t,"left","right")),l=Math.max(0,e.outerHeight-Bg(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function KM(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function qM(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function ro(t,e,n,r){const s=[];let i,o,a,l,c,u;for(i=0,o=t.length,c=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,qM(a.horizontal,e));const{same:h,other:f}=YM(e,n,a,r);c|=h&&s.length,u=u||f,l.fullSize||s.push(a)}return c&&ro(s,e,n,r)||u}function ol(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function Ug(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,f=c.size||l.height;mc(c.start)&&(o=c.start),l.fullSize?ol(l,s.left,o,n.outerWidth-s.right-s.left,f):ol(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,f=c.size||l.width;mc(c.start)&&(i=c.start),l.fullSize?ol(l,i,s.top,f,n.outerHeight-s.bottom-s.top):ol(l,i,e.top+c.placed,f,h),c.start=i,c.placed+=h,i=l.right}}e.x=i,e.y=o}var mr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Vn(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=VM(t.boxes),l=a.vertical,c=a.horizontal;xe(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,x)=>x.box.options&&x.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);v1(f,Vn(r));const p=Object.assign({maxPadding:f,w:i,h:o,x:s.left,y:s.top},s),v=WM(l.concat(c),h);ro(a.fullSize,p,h,v),ro(l,p,h,v),ro(c,p,h,v)&&ro(l,p,h,v),KM(p),Ug(a.leftAndTop,p,h,v),p.x+=p.w,p.y+=p.h,Ug(a.rightAndBottom,p,h,v),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},xe(a.chartArea,g=>{const x=g.box;Object.assign(x,t.chartArea),x.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class x1{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class GM extends x1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ll="$chartjs",QM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Hg=t=>t===null||t==="";function JM(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Ll]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Hg(s)){const i=Mg(t,"width");i!==void 0&&(t.width=i)}if(Hg(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Mg(t,"height");i!==void 0&&(t.height=i)}return t}const _1=aM?{passive:!0}:!1;function XM(t,e,n){t&&t.addEventListener(e,n,_1)}function ZM(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,_1)}function eT(t,e){const n=QM[t.type]||t.type,{x:r,y:s}=Gr(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function vc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function tT(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||vc(a.addedNodes,r),o=o&&!vc(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function nT(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||vc(a.removedNodes,r),o=o&&!vc(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const na=new Map;let Wg=0;function w1(){const t=window.devicePixelRatio;t!==Wg&&(Wg=t,na.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function rT(t,e){na.size||window.addEventListener("resize",w1),na.set(t,e)}function sT(t){na.delete(t),na.size||window.removeEventListener("resize",w1)}function iT(t,e,n){const r=t.canvas,s=r&&qf(r);if(!s)return;const i=r1((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return o.observe(s),rT(t,i),o}function sd(t,e,n){n&&n.disconnect(),e==="resize"&&sT(t)}function oT(t,e,n){const r=t.canvas,s=r1(i=>{t.ctx!==null&&n(eT(i,t))},t);return XM(r,e,s),s}class aT extends x1{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(JM(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Ll])return!1;const r=n[Ll].initial;["height","width"].forEach(i=>{const o=r[i];$e(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Ll],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:tT,detach:nT,resize:iT}[n]||oT;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:sd,detach:sd,resize:sd}[n]||ZM)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return oM(e,n,r,s)}isAttached(e){const n=e&&qf(e);return!!(n&&n.isConnected)}}function lT(t){return!Kf()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?GM:aT}class Mr{constructor(){ne(this,"x");ne(this,"y");ne(this,"active",!1);ne(this,"options");ne(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return ea(this.x)&&ea(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}ne(Mr,"defaults",{}),ne(Mr,"defaultRoutes");function cT(t,e){const n=t.options.ticks,r=uT(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?hT(e):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>s)return fT(e,c,i,o/s),c;const u=dT(i,e,s);if(o>0){let h,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(al(e,c,u,$e(p)?0:a-p,a),h=0,f=o-1;h<f;h++)al(e,c,u,i[h],i[h+1]);return al(e,c,u,l,$e(p)?e.length:l+p),c}return al(e,c,u),c}function uT(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function dT(t,e,n){const r=pT(t),s=e.length/n;if(!r)return Math.max(s,1);const i=sP(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function hT(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function fT(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function al(t,e,n,r,s){const i=be(r,0),o=Math.min(be(s,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),u=i;u<0;)a++,u=Math.round(i+a*n);for(c=Math.max(i,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(i+a*n))}function pT(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const mT=t=>t==="left"?"right":t==="right"?"left":t,Vg=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Yg=(t,e)=>Math.min(e||t,t);function Kg(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function gT(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(r===1?c=Math.max(l-i,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-a||l>o+a)))return l}function yT(t,e){xe(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function qi(t){return t.drawTicks?t.tickLength:0}function qg(t,e){if(!t.display)return 0;const n=Gt(t.font,e),r=Vn(t.padding);return(et(t.text)?t.text.length:1)*n.lineHeight+r.height}function vT(t,e){return ks(t,{scale:e,type:"scale"})}function xT(t,e,n){return ks(t,{tick:n,index:e,type:"tick"})}function _T(t,e,n){let r=s1(t);return(n&&e!=="right"||!n&&e==="right")&&(r=mT(r)),r}function wT(t,e,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,f,p,v;const g=o-s,x=a-i;if(t.isHorizontal()){if(p=ko(r,i,a),ye(n)){const m=Object.keys(n)[0],y=n[m];v=u[m].getPixelForValue(y)+g-e}else n==="center"?v=(c.bottom+c.top)/2+g-e:v=Vg(t,n,e);f=a-i}else{if(ye(n)){const m=Object.keys(n)[0],y=n[m];p=u[m].getPixelForValue(y)-x+e}else n==="center"?p=(c.left+c.right)/2-x+e:p=Vg(t,n,e);v=ko(r,o,s),h=n==="left"?-un:un}return{titleX:p,titleY:v,maxWidth:f,rotation:h}}class Ss extends Mr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Dt(e,Number.POSITIVE_INFINITY),n=Dt(n,Number.NEGATIVE_INFINITY),r=Dt(r,Number.POSITIVE_INFINITY),s=Dt(s,Number.NEGATIVE_INFINITY),{min:Dt(e,r),max:Dt(n,s),minDefined:ut(e),maxDefined:ut(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Dt(n,Dt(r,n)),max:Dt(r,Dt(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ue(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=FP(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Kg(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=cT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ue(this.options.afterUpdate,[this])}beforeSetDimensions(){Ue(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ue(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ue(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ue(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Ue(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Ue(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ue(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Yg(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=qt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),h+6>a&&(a=p/(r-(e.offset?.5:1)),l=this.maxHeight-qi(e.grid)-n.padding-qg(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=oP(Math.min(Math.asin(qt((u.highest.height+6)/a,-1,1)),Math.asin(qt(l/c,-1,1))-Math.asin(qt(f/c,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ue(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ue(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=qg(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=qi(i)+l):(e.height=this.maxHeight,e.width=qi(i)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),p=r.padding*2,v=rs(this.labelRotation),g=Math.cos(v),x=Math.sin(v);if(a){const m=r.mirror?0:x*h.width+g*f.height;e.height=Math.min(this.maxHeight,e.height+m+p)}else{const m=r.mirror?0:g*h.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+m+p)}this._calculatePadding(c,u,x,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=s*e.width,p=r*n.height):(f=r*e.height,p=s*n.width):i==="start"?p=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;i==="start"?(u=0,h=e.height):i==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ue(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)$e(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Kg(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/Yg(n,r));let c=0,u=0,h,f,p,v,g,x,m,y,_,w,S;for(h=0;h<n;h+=l){if(v=e[h].label,g=this._resolveTickFontOptions(h),s.font=x=g.string,m=i[x]=i[x]||{data:{},gc:[]},y=g.lineHeight,_=w=0,!$e(v)&&!et(v))_=kg(s,m.data,m.gc,_,v),w=y;else if(et(v))for(f=0,p=v.length;f<p;++f)S=v[f],!$e(S)&&!et(S)&&(_=kg(s,m.data,m.gc,_,S),w+=y);o.push(_),a.push(w),c=Math.max(_,c),u=Math.max(w,u)}yT(i,n);const j=o.indexOf(c),C=a.indexOf(u),k=M=>({width:o[M]||0,height:a[M]||0});return{first:k(0),last:k(n-1),widest:k(j),highest:k(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return cP(this._alignToPixels?Ur(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=xT(this.getContext(),e,r))}return this.$context||(this.$context=vT(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=rs(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=qi(i),p=[],v=a.setContext(this.getContext()),g=v.display?v.width:0,x=g/2,m=function(ae){return Ur(r,ae,g)};let y,_,w,S,j,C,k,M,N,O,L,q;if(o==="top")y=m(this.bottom),C=this.bottom-f,M=y-x,O=m(e.top)+x,q=e.bottom;else if(o==="bottom")y=m(this.top),O=e.top,q=m(e.bottom)-x,C=y+x,M=this.top+f;else if(o==="left")y=m(this.right),j=this.right-f,k=y-x,N=m(e.left)+x,L=e.right;else if(o==="right")y=m(this.left),N=e.left,L=m(e.right)-x,j=y+x,k=this.left+f;else if(n==="x"){if(o==="center")y=m((e.top+e.bottom)/2+.5);else if(ye(o)){const ae=Object.keys(o)[0],he=o[ae];y=m(this.chart.scales[ae].getPixelForValue(he))}O=e.top,q=e.bottom,C=y+x,M=C+f}else if(n==="y"){if(o==="center")y=m((e.left+e.right)/2);else if(ye(o)){const ae=Object.keys(o)[0],he=o[ae];y=m(this.chart.scales[ae].getPixelForValue(he))}j=y-x,k=j-f,N=e.left,L=e.right}const Q=be(s.ticks.maxTicksLimit,h),re=Math.max(1,Math.ceil(h/Q));for(_=0;_<h;_+=re){const ae=this.getContext(_),he=i.setContext(ae),I=a.setContext(ae),F=he.lineWidth,H=he.color,A=I.dash||[],$=I.dashOffset,Z=he.tickWidth,X=he.tickColor,le=he.tickBorderDash||[],ce=he.tickBorderDashOffset;w=gT(this,_,l),w!==void 0&&(S=Ur(r,w,F),c?j=k=N=L=S:C=M=O=q=S,p.push({tx1:j,ty1:C,tx2:k,ty2:M,x1:N,y1:O,x2:L,y2:q,width:F,color:H,borderDash:A,borderDashOffset:$,tickWidth:Z,tickColor:X,tickBorderDash:le,tickBorderDashOffset:ce}))}return this._ticksLength=h,this._borderValue=y,p}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=i,f=qi(r.grid),p=f+u,v=h?-u:p,g=-rs(this.labelRotation),x=[];let m,y,_,w,S,j,C,k,M,N,O,L,q="middle";if(s==="top")j=this.bottom-v,C=this._getXAxisLabelAlignment();else if(s==="bottom")j=this.top+v,C=this._getXAxisLabelAlignment();else if(s==="left"){const re=this._getYAxisLabelAlignment(f);C=re.textAlign,S=re.x}else if(s==="right"){const re=this._getYAxisLabelAlignment(f);C=re.textAlign,S=re.x}else if(n==="x"){if(s==="center")j=(e.top+e.bottom)/2+p;else if(ye(s)){const re=Object.keys(s)[0],ae=s[re];j=this.chart.scales[re].getPixelForValue(ae)+p}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")S=(e.left+e.right)/2-p;else if(ye(s)){const re=Object.keys(s)[0],ae=s[re];S=this.chart.scales[re].getPixelForValue(ae)}C=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?q="top":l==="end"&&(q="bottom"));const Q=this._getLabelSizes();for(m=0,y=a.length;m<y;++m){_=a[m],w=_.label;const re=i.setContext(this.getContext(m));k=this.getPixelForTick(m)+i.labelOffset,M=this._resolveTickFontOptions(m),N=M.lineHeight,O=et(w)?w.length:1;const ae=O/2,he=re.color,I=re.textStrokeColor,F=re.textStrokeWidth;let H=C;o?(S=k,C==="inner"&&(m===y-1?H=this.options.reverse?"left":"right":m===0?H=this.options.reverse?"right":"left":H="center"),s==="top"?c==="near"||g!==0?L=-O*N+N/2:c==="center"?L=-Q.highest.height/2-ae*N+N:L=-Q.highest.height+N/2:c==="near"||g!==0?L=N/2:c==="center"?L=Q.highest.height/2-ae*N:L=Q.highest.height-O*N,h&&(L*=-1),g!==0&&!re.showLabelBackdrop&&(S+=N/2*Math.sin(g))):(j=k,L=(1-O)*N/2);let A;if(re.showLabelBackdrop){const $=Vn(re.backdropPadding),Z=Q.heights[m],X=Q.widths[m];let le=L-$.top,ce=0-$.left;switch(q){case"middle":le-=Z/2;break;case"bottom":le-=Z;break}switch(C){case"center":ce-=X/2;break;case"right":ce-=X;break;case"inner":m===y-1?ce-=X:m>0&&(ce-=X/2);break}A={left:ce,top:le,width:X+$.width,height:Z+$.height,color:re.backdropColor}}x.push({label:w,font:M,textOffset:L,options:{rotation:g,color:he,strokeColor:I,strokeWidth:F,textAlign:H,textBaseline:q,translation:[S,j],backdrop:A}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-rs(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+i,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+i,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=Ur(e,this.left,o)-o/2,u=Ur(e,this.right,a)+a/2,h=f=l):(h=Ur(e,this.top,o)-o/2,f=Ur(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&o1(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,c=o.label,u=o.textOffset;_h(r,c,0,u,l,a)}s&&a1(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Gt(r.font),o=Vn(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||ye(n)?(l+=o.bottom,et(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=wT(this,l,n,a);_h(e,r.text,0,0,i,{color:r.color,maxWidth:h,rotation:f,textAlign:_T(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=be(e.grid&&e.grid.z,-1),s=be(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ss.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Gt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ll{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;ST(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,bT(e,o,r),this.override&&Ke.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Ke[s]&&(delete Ke[s][r],this.override&&delete vs[r])}}function bT(t,e,n){const r=Zo(Object.create(null),[n?Ke.get(n):{},Ke.get(e),t.defaults]);Ke.set(e,r),t.defaultRoutes&&kT(e,t.defaultRoutes),t.descriptors&&Ke.describe(e,t.descriptors)}function kT(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ke.route(i,s,l,a)})}function ST(t){return"id"in t&&"defaults"in t}class jT{constructor(){this.controllers=new ll(Eo,"datasets",!0),this.elements=new ll(Mr,"elements"),this.plugins=new ll(Object,"plugins"),this.scales=new ll(Ss,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):xe(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const s=zf(e);Ue(r["before"+s],[],r),n[e](r),Ue(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var vn=new jT;class ET{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],l=[n,s,i.options];if(Ue(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){$e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=be(r.options&&r.options.plugins,{}),i=CT(r);return s===!1&&!n?[]:MT(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function CT(t){const e={},n=[],r=Object.keys(vn.plugins.items);for(let i=0;i<r.length;i++)n.push(vn.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function PT(t,e){return!e&&t===!1?null:t===!0?{}:t}function MT(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const a of e){const l=a.id,c=PT(r[l],s);c!==null&&i.push({plugin:a,options:TT(t.config,{plugin:a,local:n[l]},c,o)})}return i}function TT(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function wh(t,e){const n=Ke.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function LT(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function NT(t,e){return t===e?"_index_":"_value_"}function Gg(t){if(t==="x"||t==="y"||t==="r")return t}function RT(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function bh(t,...e){if(Gg(t))return t;for(const n of e){const r=n.axis||RT(n.position)||t.length>1&&Gg(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Qg(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function OT(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Qg(t,"x",n[0])||Qg(t,"y",n[0])}return{}}function DT(t,e){const n=vs[t.type]||{scales:{}},r=e.scales||{},s=wh(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!ye(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=bh(o,a,OT(o,t),Ke.scales[a.type]),c=NT(l,s),u=n.scales||{};i[o]=wo(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||wh(a,e),u=(vs[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=LT(h,l),p=o[f+"AxisID"]||f;i[p]=i[p]||Object.create(null),wo(i[p],[{axis:f},r[p],u[h]])})}),Object.keys(i).forEach(o=>{const a=i[o];wo(a,[Ke.scales[a.type],Ke.scale])}),i}function b1(t){const e=t.options||(t.options={});e.plugins=be(e.plugins,{}),e.scales=DT(t,e)}function k1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function AT(t){return t=t||{},t.data=k1(t.data),b1(t),t}const Jg=new Map,S1=new Set;function cl(t,e){let n=Jg.get(t);return n||(n=e(),Jg.set(t,n),S1.add(n)),n}const Gi=(t,e,n)=>{const r=pc(e,n);r!==void 0&&t.add(r)};class IT{constructor(e){this._config=AT(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=k1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),b1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return cl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return cl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return cl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>Gi(l,e,h))),u.forEach(h=>Gi(l,s,h)),u.forEach(h=>Gi(l,vs[i]||{},h)),u.forEach(h=>Gi(l,Ke,h)),u.forEach(h=>Gi(l,vh,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),S1.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,vs[n]||{},Ke.datasets[n]||{},{type:n},Ke,vh]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=Xg(this._resolverCache,e,s);let l=o;if(zT(o,n)){i.$shared=!1,r=Pr(r)?r():r;const c=this.createResolver(e,r,a);l=wi(o,r,c)}for(const c of n)i[c]=l[c];return i}createResolver(e,n,r=[""],s){const{resolver:i}=Xg(this._resolverCache,e,r);return ye(n)?wi(i,n,void 0,s):i}}function Xg(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:Wf(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const FT=t=>ye(t)&&Object.getOwnPropertyNames(t).some(e=>Pr(t[e]));function zT(t,e){const{isScriptable:n,isIndexable:r}=c1(t);for(const s of e){const i=n(s),o=r(s),a=(o||i)&&t[s];if(i&&(Pr(a)||FT(a))||o&&et(a))return!0}return!1}var $T="4.4.6";const BT=["top","bottom","left","right","chartArea"];function Zg(t,e){return t==="top"||t==="bottom"||BT.indexOf(t)===-1&&e==="x"}function e0(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function t0(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ue(n&&n.onComplete,[t],e)}function UT(t){const e=t.chart,n=e.options.animation;Ue(n&&n.onProgress,[t],e)}function j1(t){return Kf()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Nl={},n0=t=>{const e=j1(t);return Object.values(Nl).filter(n=>n.canvas===e).pop()};function HT(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function WT(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function ul(t,e,n){return t.options.clip?t[n]:e[n]}function VT(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:ul(n,e,"left"),right:ul(n,e,"right"),top:ul(r,e,"top"),bottom:ul(r,e,"bottom")}:e}var Xn;let ya=(Xn=class{static register(...e){vn.add(...e),r0()}static unregister(...e){vn.remove(...e),r0()}constructor(e,n){const r=this.config=new IT(n),s=j1(e),i=n0(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||lT(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=GC(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ET,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mP(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Nl[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ln.listen(this,"complete",t0),Ln.listen(this,"progress",UT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return $e(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return vn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Pg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Sg(this.canvas,this.ctx),this}stop(){return Ln.stop(this),this}resize(e,n){Ln.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Pg(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ue(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};xe(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=bh(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),xe(i,o=>{const a=o.options,l=a.id,c=bh(l,a),u=be(a.type,o.dtype);(a.position===void 0||Zg(a.position,c)!==Zg(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in r&&r[l].type===u)h=r[l];else{const f=vn.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),xe(s,(o,a)=>{o||delete r[a]}),xe(r,o=>{mr.configure(this,o,o.options),mr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(e0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||wh(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=vn.getController(a),{datasetElementType:c,dataElementType:u}=Ke.datasets[a];Object.assign(l,{dataElementType:vn.getElement(u),datasetElementType:c&&vn.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){xe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!s&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||xe(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(e0("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){xe(this.scales,e=>{mr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!pg(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;HT(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!pg(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mr.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],xe(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Pr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ln.has(this)?this.attached&&!Ln.running(this)&&Ln.start(this):(this.draw(),t0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,s=!r.disabled,i=VT(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&o1(n,{left:r.left===!1?0:i.left-r.left,right:r.right===!1?this.width:i.right+r.right,top:r.top===!1?0:i.top-r.top,bottom:r.bottom===!1?this.height:i.bottom+r.bottom}),e.controller.draw(),s&&a1(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return ta(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=BM.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=ks(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);mc(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ln.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Sg(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Nl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};xe(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){xe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},xe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!hc(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=i(n,e),a=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(e,s,r,o),l=tP(e),c=WT(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Ue(i.onHover,[e,a,this],this),l&&Ue(i.onClick,[e,a,this],this));const u=!hc(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},ne(Xn,"defaults",Ke),ne(Xn,"instances",Nl),ne(Xn,"overrides",vs),ne(Xn,"registry",vn),ne(Xn,"version",$T),ne(Xn,"getChart",n0),Xn);function r0(){return xe(ya.instances,t=>t._plugins.invalidate())}function E1(t,e,n=e){t.lineCap=be(n.borderCapStyle,e.borderCapStyle),t.setLineDash(be(n.borderDash,e.borderDash)),t.lineDashOffset=be(n.borderDashOffset,e.borderDashOffset),t.lineJoin=be(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=be(n.borderWidth,e.borderWidth),t.strokeStyle=be(n.borderColor,e.borderColor)}function YT(t,e,n){t.lineTo(n.x,n.y)}function KT(t){return t.stepped?PP:t.tension||t.cubicInterpolationMode==="monotone"?MP:YT}function C1(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(i,a),u=s<o&&i<o||s>a&&i>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function qT(t,e,n,r){const{points:s,options:i}=e,{count:o,start:a,loop:l,ilen:c}=C1(s,n,r),u=KT(i);let{move:h=!0,reverse:f}=r||{},p,v,g;for(p=0;p<=c;++p)v=s[(a+(f?c-p:p))%o],!v.skip&&(h?(t.moveTo(v.x,v.y),h=!1):u(t,g,v,f,i.stepped),g=v);return l&&(v=s[(a+(f?c:0))%o],u(t,g,v,f,i.stepped)),!!l}function GT(t,e,n,r){const s=e.points,{count:i,start:o,ilen:a}=C1(s,n,r),{move:l=!0,reverse:c}=r||{};let u=0,h=0,f,p,v,g,x,m;const y=w=>(o+(c?a-w:w))%i,_=()=>{g!==x&&(t.lineTo(u,x),t.lineTo(u,g),t.lineTo(u,m))};for(l&&(p=s[y(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=s[y(f)],p.skip)continue;const w=p.x,S=p.y,j=w|0;j===v?(S<g?g=S:S>x&&(x=S),u=(h*u+w)/++h):(_(),t.lineTo(w,S),v=j,h=0,g=x=S),m=S}_()}function kh(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?GT:qT}function QT(t){return t.stepped?lM:t.tension||t.cubicInterpolationMode==="monotone"?cM:Qr}function JT(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),E1(t,e.options),t.stroke(s)}function XT(t,e,n,r){const{segments:s,options:i}=e,o=kh(e);for(const a of s)E1(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const ZT=typeof Path2D=="function";function eL(t,e,n,r){ZT&&!e.options.segment?JT(t,e,n,r):XT(t,e,n,r)}class Js extends Mr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;eM(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=xM(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,o=gM(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=QT(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],p=i[h],v=i[f];if(p===v){a.push(p);continue}const g=Math.abs((s-p[n])/(v[n]-p[n])),x=l(p,v,g,r.stepped);x[n]=e[n],a.push(x)}return a.length===1?a[0]:a}pathSegment(e,n,r){return kh(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=kh(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of s)o&=i(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),eL(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ne(Js,"id","line"),ne(Js,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ne(Js,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ne(Js,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function s0(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class Co extends Mr{constructor(n){super();ne(this,"parsed");ne(this,"skip");ne(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return s0(this,n,"x",r)}inYRange(n,r){return s0(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!ta(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,xh(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ne(Co,"id","point"),ne(Co,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ne(Co,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class P1 extends Mr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=et(r.text)?r.text.length:1;this._padding=Vn(r.padding);const i=s*Gt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=ko(a,r,i),h=n+e,c=i-r):(o.position==="left"?(u=r+e,h=ko(a,s,n),l=nt*-.5):(u=i-e,h=ko(a,n,s),l=nt*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Gt(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);_h(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:s1(n.align),textBaseline:"middle",translation:[o,a]})}}function tL(t,e){const n=new P1({ctx:t.ctx,options:e,chart:t});mr.configure(t,n,e),mr.addBox(t,n),t.titleBlock=n}var M1={id:"title",_element:P1,start(t,e,n){tL(t,n)},stop(t){const e=t.titleBlock;mr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;mr.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const so={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=yh(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function gn(t,e){return e&&(et(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Nn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function nL(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function i0(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=Gt(e.bodyFont),c=Gt(e.titleFont),u=Gt(e.footerFont),h=i.length,f=s.length,p=r.length,v=Vn(e.padding);let g=v.height,x=0,m=r.reduce((w,S)=>w+S.before.length+S.lines.length+S.after.length,0);if(m+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),m){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*w+(m-p)*l.lineHeight+(m-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let y=0;const _=function(w){x=Math.max(x,n.measureText(w).width+y)};return n.save(),n.font=c.string,xe(t.title,_),n.font=l.string,xe(t.beforeBody.concat(t.afterBody),_),y=e.displayColors?o+2+e.boxPadding:0,xe(r,w=>{xe(w.before,_),xe(w.lines,_),xe(w.after,_)}),y=0,n.font=u.string,xe(t.footer,_),n.restore(),x+=v.width,{width:x,height:g}}function rL(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function sL(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function iL(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=s<=(a+l)/2?"left":"right":s<=i/2?c="left":s>=o-i/2&&(c="right"),sL(c,t,e,n)&&(c="center"),c}function o0(t,e,n){const r=n.yAlign||e.yAlign||rL(t,n);return{xAlign:n.xAlign||e.xAlign||iL(t,e,n,r),yAlign:r}}function oL(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function aL(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function a0(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=Ml(o);let v=oL(e,a);const g=aL(e,l,c);return l==="center"?a==="left"?v+=c:a==="right"&&(v-=c):a==="left"?v-=Math.max(u,f)+s:a==="right"&&(v+=Math.max(h,p)+s),{x:qt(v,0,r.width-e.width),y:qt(g,0,r.height-e.height)}}function dl(t,e,n){const r=Vn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function l0(t){return gn([],Nn(t))}function lL(t,e,n){return ks(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function c0(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const T1={beforeTitle:Mn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Mn,beforeBody:Mn,beforeLabel:Mn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return $e(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Mn,afterBody:Mn,beforeFooter:Mn,footer:Mn,afterFooter:Mn};function kt(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?T1[e].call(n,r):s}class Sh extends Mr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new m1(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=lL(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=kt(r,"beforeTitle",this,e),i=kt(r,"title",this,e),o=kt(r,"afterTitle",this,e);let a=[];return a=gn(a,Nn(s)),a=gn(a,Nn(i)),a=gn(a,Nn(o)),a}getBeforeBody(e,n){return l0(kt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return xe(e,i=>{const o={before:[],lines:[],after:[]},a=c0(r,i);gn(o.before,Nn(kt(a,"beforeLabel",this,i))),gn(o.lines,kt(a,"label",this,i)),gn(o.after,Nn(kt(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return l0(kt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=kt(r,"beforeFooter",this,e),i=kt(r,"footer",this,e),o=kt(r,"afterFooter",this,e);let a=[];return a=gn(a,Nn(s)),a=gn(a,Nn(i)),a=gn(a,Nn(o)),a}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(nL(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,f)=>e.filter(u,h,f,r))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,r))),xe(a,u=>{const h=c0(e.callbacks,u);s.push(kt(h,"labelColor",this,u)),i.push(kt(h,"labelPointStyle",this,u)),o.push(kt(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=so[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=i0(this,r),c=Object.assign({},a,l),u=o0(this.chart,r,c),h=a0(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Ml(a),{x:f,y:p}=e,{width:v,height:g}=n;let x,m,y,_,w,S;return i==="center"?(w=p+g/2,s==="left"?(x=f,m=x-o,_=w+o,S=w-o):(x=f+v,m=x+o,_=w-o,S=w+o),y=x):(s==="left"?m=f+Math.max(l,u)+o:s==="right"?m=f+v-Math.max(c,h)-o:m=this.caretX,i==="top"?(_=p,w=_-o,x=m-o,y=m+o):(_=p+g,w=_+o,x=m+o,y=m-o),S=_),{x1:x,x2:m,x3:y,y1:_,y2:w,y3:S}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const c=Xu(r.rtl,this.x,this.width);for(e.x=dl(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Gt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,u=Gt(i.bodyFont),h=dl(this,"left",i),f=s.x(h),p=l<u.lineHeight?(u.lineHeight-l)/2:0,v=n.y+p;if(i.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=s.leftForLtr(f,c)+c/2,m=v+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,xh(e,g,x,m),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,xh(e,g,x,m)}else{e.lineWidth=ye(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(f,c),x=s.leftForLtr(s.xPlus(f,1),c-2),m=Ml(o.borderRadius);Object.values(m).some(y=>y!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,jg(e,{x:g,y:v,w:c,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),jg(e,{x,y:v+1,w:c-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(g,v,c,l),e.strokeRect(g,v,c,l),e.fillStyle=o.backgroundColor,e.fillRect(x,v+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,h=Gt(r.bodyFont);let f=h.lineHeight,p=0;const v=Xu(r.rtl,this.x,this.width),g=function(k){n.fillText(k,v.x(e.x+p),e.y+f/2),e.y+=f+i},x=v.textAlign(o);let m,y,_,w,S,j,C;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=dl(this,x,r),n.fillStyle=r.bodyColor,xe(this.beforeBody,g),p=a&&x!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,j=s.length;w<j;++w){for(m=s[w],y=this.labelTextColors[w],n.fillStyle=y,xe(m.before,g),_=m.lines,a&&_.length&&(this._drawColorBox(n,e,w,v,r),f=Math.max(h.lineHeight,l)),S=0,C=_.length;S<C;++S)g(_[S]),f=h.lineHeight;xe(m.after,g)}p=0,f=h.lineHeight,xe(this.afterBody,g),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=Xu(r.rtl,this.x,this.width);for(e.x=dl(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Gt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:v}=Ml(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(a+c,l+u-v),n.quadraticCurveTo(a+c,l+u,a+c-v,l+u),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=so[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=i0(this,e),l=Object.assign({},o,this._size),c=o0(n,e,l),u=a0(e,l,c,n);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Vn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),hM(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),fM(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!hc(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),a=this._positionChanged(o,e),l=n||!hc(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=so[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}}ne(Sh,"positioners",so);var L1={id:"tooltip",_element:Sh,positioners:so,afterInit(t,e,n){n&&(t.tooltip=new Sh({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:T1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const cL=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function uL(t,e,n,r){const s=t.indexOf(e);if(s===-1)return cL(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const dL=(t,e)=>t===null?null:qt(Math.round(t),0,e);function u0(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class xc extends Ss{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if($e(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:uL(r,e,be(n,e),this._addedLabels),dL(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return u0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ne(xc,"id","category"),ne(xc,"defaults",{ticks:{callback:u0}});function hL(t,e){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=t,p=i||1,v=u-1,{min:g,max:x}=e,m=!$e(o),y=!$e(a),_=!$e(c),w=(x-g)/(h+1);let S=gg((x-g)/v/p)*p,j,C,k,M;if(S<1e-14&&!m&&!y)return[{value:g},{value:x}];M=Math.ceil(x/S)-Math.floor(g/S),M>v&&(S=gg(M*S/v/p)*p),$e(l)||(j=Math.pow(10,l),S=Math.ceil(S*j)/j),s==="ticks"?(C=Math.floor(g/S)*S,k=Math.ceil(x/S)*S):(C=g,k=x),m&&y&&i&&iP((a-o)/i,S/1e3)?(M=Math.round(Math.min((a-o)/S,u)),S=(a-o)/M,C=o,k=a):_?(C=m?o:C,k=y?a:k,M=c-1,S=(k-C)/M):(M=(k-C)/S,bo(M,Math.round(M),S/1e3)?M=Math.round(M):M=Math.ceil(M));const N=Math.max(yg(S),yg(C));j=Math.pow(10,$e(l)?N:l),C=Math.round(C*j)/j,k=Math.round(k*j)/j;let O=0;for(m&&(f&&C!==o?(n.push({value:o}),C<o&&O++,bo(Math.round((C+O*S)*j)/j,o,d0(o,w,t))&&O++):C<o&&O++);O<M;++O){const L=Math.round((C+O*S)*j)/j;if(y&&L>a)break;n.push({value:L})}return y&&f&&k!==a?n.length&&bo(n[n.length-1].value,a,d0(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!y||k===a)&&n.push({value:k}),n}function d0(t,e,{horizontal:n,minRotation:r}){const s=rs(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class N1 extends Ss{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return $e(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(e){const l=_i(s),c=_i(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=hL(s,i);return e.bounds==="ticks"&&Zx(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Uf(e,this.chart.options.locale,this.options.ticks.format)}}class _c extends N1{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ut(e)?e:0,this.max=ut(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=rs(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ne(_c,"id","linear"),ne(_c,"defaults",{ticks:{callback:Hf.formatters.numeric}});const ra=t=>Math.floor(pr(t)),Wr=(t,e)=>Math.pow(10,ra(t)+e);function h0(t){return t/Math.pow(10,ra(t))===1}function f0(t,e,n){const r=Math.pow(10,n),s=Math.floor(t/r);return Math.ceil(e/r)-s}function fL(t,e){const n=e-t;let r=ra(n);for(;f0(t,e,r)>10;)r++;for(;f0(t,e,r)<10;)r--;return Math.min(r,ra(t))}function pL(t,{min:e,max:n}){e=Dt(t.min,e);const r=[],s=ra(e);let i=fL(e,n),o=i<0?Math.pow(10,Math.abs(i)):1;const a=Math.pow(10,i),l=s>i?Math.pow(10,s):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,i)),f=Dt(t.min,Math.round((l+u+h*Math.pow(10,i))*o)/o);for(;f<n;)r.push({value:f,major:h0(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(i++,h=2,o=i>=0?1:o),f=Math.round((l+u+h*Math.pow(10,i))*o)/o;const p=Dt(t.max,f);return r.push({value:p,major:h0(p),significand:h}),r}class wc extends Ss{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=N1.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return ut(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ut(e)?Math.max(0,e):null,this.max=ut(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ut(this._userMin)&&(this.min=e===Wr(this.min,0)?Wr(this.min,-1):Wr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,s=this.max;const i=a=>r=e?r:a,o=a=>s=n?s:a;r===s&&(r<=0?(i(1),o(10)):(i(Wr(r,-1)),o(Wr(s,1)))),r<=0&&i(Wr(s,-1)),s<=0&&o(Wr(r,1)),this.min=r,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=pL(n,this);return e.bounds==="ticks"&&Zx(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Uf(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=pr(e),this._valueRange=pr(this.max)-pr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(pr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}ne(wc,"id","logarithmic"),ne(wc,"defaults",{ticks:{callback:Hf.formatters.logarithmic,major:{enabled:!0}}});const su={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Et=Object.keys(su);function p0(t,e){return t-e}function m0(t,e){if($e(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),ut(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(ea(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function g0(t,e,n,r){const s=Et.length;for(let i=Et.indexOf(t);i<s-1;++i){const o=su[Et[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Et[i]}return Et[s-1]}function mL(t,e,n,r,s){for(let i=Et.length-1;i>=Et.indexOf(n);i--){const o=Et[i];if(su[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return Et[n?Et.indexOf(n):0]}function gL(t){for(let e=Et.indexOf(t)+1,n=Et.length;e<n;++e)if(su[Et[e]].common)return Et[e]}function y0(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=$f(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function yL(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function v0(t,e,n){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:yL(t,r,s,n)}class bc extends Ss{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new AM._date(e.adapters.date);s.init(n),wo(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:m0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=ut(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=ut(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=hP(s,i,o);return this._unit=n.unit||(r.autoSkip?g0(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):mL(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:gL(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),v0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=qt(n,0,o),r=qt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||g0(i.minUnit,n,r,this._getLabelCapacity(n)),a=be(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=ea(l)||l===!0,u={};let h=n,f,p;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const v=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<r;f=+e.add(f,a,o),p++)y0(u,f,v);return(f===r||s.bounds==="ticks"||p===1)&&y0(u,f,v),Object.keys(u).sort(p0).map(g=>+g)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return Ue(o,[e,n,r],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=r[n],p=c&&h&&f&&f.major;return this._adapter.format(e,s||(p?h:u))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=rs(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,v0(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(m0(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return pP(e.sort(p0))}}ne(bc,"id","time"),ne(bc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function hl(t,e,n){let r=0,s=t.length-1,i,o,a,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=ss(t,"pos",e)),{pos:i,time:a}=t[r],{pos:o,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=ss(t,"time",e)),{time:i,pos:a}=t[r],{time:o,pos:l}=t[s]);const c=o-i;return c?a+(l-a)*(e-i)/c:a}class x0 extends bc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=hl(n,this.min),this._tableRange=hl(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(hl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return hl(this._table,r*this._tableRange+this._minPos,!0)}}ne(x0,"id","timeseries"),ne(x0,"defaults",bc.defaults);const R1="label";function _0(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function vL(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function O1(t,e){t.labels=e}function D1(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R1;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function xL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R1;const n={labels:[],datasets:[]};return O1(n,t.labels),D1(n,t.datasets,e),n}function _L(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...f}=t,p=b.useRef(null),v=b.useRef(),g=()=>{p.current&&(v.current=new ya(p.current,{type:o,data:xL(a,i),options:l&&{...l},plugins:c}),_0(e,v.current))},x=()=>{_0(e,null),v.current&&(v.current.destroy(),v.current=null)};return b.useEffect(()=>{!s&&v.current&&l&&vL(v.current,l)},[s,l]),b.useEffect(()=>{!s&&v.current&&O1(v.current.config.data,a.labels)},[s,a.labels]),b.useEffect(()=>{!s&&v.current&&a.datasets&&D1(v.current.config.data,a.datasets,i)},[s,a.datasets]),b.useEffect(()=>{v.current&&(s?(x(),setTimeout(g)):v.current.update(h))},[s,l,a.labels,a.datasets,h]),b.useEffect(()=>{v.current&&(x(),setTimeout(g))},[o]),b.useEffect(()=>(g(),()=>x()),[]),de.createElement("canvas",Object.assign({ref:p,role:"img",height:n,width:r},f),u)}const wL=b.forwardRef(_L);function bL(t,e){return ya.register(e),b.forwardRef((n,r)=>de.createElement(wL,Object.assign({},n,{ref:r,type:t})))}const A1=bL("line",Tl);ya.register(xc,_c,Co,Js,M1,L1,wc);const kL=en(),SL=new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}),jL=new Intl.DateTimeFormat("en-US",{year:"numeric"}),Tn=()=>{const t=kL.get(yt),e=new Date;return!(t!=null&&t.month_end_date)||e.getDate()<=t.month_end_date||(e.setDate(1),e.setMonth(e.getMonth()+1)),e},EL=()=>{const[t]=J(wt),[e]=J(qx),{data:n,fetched:r,refresh:s}=eu(),[i,o]=b.useState(""),[a,l]=b.useState(""),[c,u]=b.useState(Tn()),[h,f]=b.useState("everyday"),[p,v]=b.useState(!0),[g,x]=b.useState(!1),[m,y]=b.useState(!1),[_,w]=b.useState(!1),[S,j]=b.useState([]),[C,k]=b.useState([]),M=b.useMemo(()=>m||_,[m,_]),N=b.useMemo(()=>[...new Set([...S.map(L=>parseInt(L.occurred_at.split("-").join(""))),...C.map(L=>parseInt(L.occurred_at.split("-").join("")))])],[C,S]),O=b.useMemo(()=>({labels:N,datasets:[{label:"Expense Flow",fill:!1,tension:.2,borderColor:e.error,data:S.map(L=>({y:L.amount,x:parseInt(L.occurred_at.split("-").join(""))})),pointHitRadius:10},{label:"Income Flow",fill:!1,tension:.2,borderColor:e.success,data:C.map(L=>({y:L.amount,x:parseInt(L.occurred_at.split("-").join(""))}))}]}),[S,C,e,N]);return b.useEffect(()=>{r||(async()=>{const L=await s();L&&Y.error(L)})()},[]),b.useEffect(()=>{if(!p){j([]);return}(async()=>{var q;y(!0);let L;if(h==="everyday"?L=await _n.getCashFlowEveryDay({trx_type:["expense"],userId:(t==null?void 0:t.user.id)??"",month:c??Tn(),categories:i?[i]:[]}):L=await _n.getCashFlowEveryMonth({trx_type:["expense"],userId:(t==null?void 0:t.user.id)??"",year:(c==null?void 0:c.getFullYear())??Tn().getFullYear(),categories:i?[i]:[]}),y(!1),L.error){Y.error(L.error.message);return}(q=L.data)==null||q.forEach(Q=>Q.amount=Math.abs(Q.amount)),j(L.data??[])})()},[t,c,p,i]),b.useEffect(()=>{if(!g){k([]);return}(async()=>{var q;w(!0);let L;if(h==="everyday"?L=await _n.getCashFlowEveryDay({trx_type:["income"],userId:(t==null?void 0:t.user.id)??"",month:c??Tn(),categories:a?[a]:[]}):L=await _n.getCashFlowEveryMonth({trx_type:["income"],userId:(t==null?void 0:t.user.id)??"",year:(c==null?void 0:c.getFullYear())??Tn().getFullYear(),categories:a?[a]:[]}),w(!1),L.error){Y.error(L.error.message);return}(q=L.data)==null||q.forEach(Q=>Q.amount=Math.abs(Q.amount)),k(L.data??[])})()},[t,c,g,a]),d.jsxs("div",{className:"flex flex-1 flex-col items-center gap-2 overflow-x-auto p-2",children:[d.jsxs("div",{className:"flex w-full flex-col items-center gap-2 rounded-xl bg-base-100 p-2",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("select",{disabled:M,value:h,onChange:L=>{u(Tn()),f(L.target.value)},className:"dai-select dai-select-bordered dai-select-xs xs:dai-select-sm",children:[d.jsx("option",{value:"everyday",children:"Every Day"}),d.jsx("option",{value:"everymonth",children:"Every Month"})]}),d.jsx("div",{className:"dai-form-control",children:d.jsxs("label",{className:"dai-cursor-pointer dai-label justify-start gap-2",children:[d.jsx("input",{disabled:M,type:"checkbox",checked:p,onChange:L=>v(L.target.checked),className:"dai-checkbox-error dai-checkbox dai-checkbox-sm"}),d.jsx("span",{className:"dai-label-text",children:"Expense"})]})}),d.jsx("div",{className:"dai-form-control",children:d.jsxs("label",{className:"dai-cursor-pointer dai-label justify-start gap-2",children:[d.jsx("input",{disabled:M,type:"checkbox",checked:g,onChange:L=>x(L.target.checked),className:"dai-checkbox-success dai-checkbox dai-checkbox-sm"}),d.jsx("span",{className:"dai-label-text",children:"Income"})]})})]}),d.jsxs("div",{className:"flex w-full items-center",children:[d.jsx("div",{className:"flex flex-1 items-center pl-2",children:M&&d.jsx("span",{className:"dai-loading dai-loading-sm bg-primary"})}),d.jsxs("div",{className:"flex items-center justify-center gap-4",children:[d.jsx("button",{disabled:M||!c,onClick:()=>u(L=>L?new Date(h==="everymonth"?L.setFullYear(L.getFullYear()-1):L.setMonth(L.getMonth()-1)):void 0),className:"text-lg disabled:opacity-20",children:d.jsx(pe,{icon:"lucide:chevron-left"})}),d.jsx("span",{className:"w-[8rem] text-center",children:c?h==="everymonth"?jL.format(c):SL.format(c):"All time"}),d.jsx("button",{disabled:M||!c||h==="everymonth"&&c.getFullYear()===Tn().getFullYear()||h==="everyday"&&c.getMonth()===Tn().getMonth(),onClick:()=>u(L=>L?new Date(h==="everymonth"?L.setFullYear(L.getFullYear()+1):L.setMonth(L.getMonth()+1)):void 0),className:"text-lg disabled:opacity-20",children:d.jsx(pe,{icon:"lucide:chevron-right"})})]}),d.jsx("div",{className:"flex flex-1 justify-end",children:d.jsx(Ar,{disabled:M,options:[{icon:"lucide:calendar-days",label:c?"All time":h==="everymonth"?"This year":"This month",onClick:()=>u(L=>L?void 0:Tn())}]})})]})]}),d.jsx("div",{className:"w-full rounded-xl bg-base-100 p-4",children:d.jsx(A1,{data:O,className:"h-56",options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{type:"logarithmic",ticks:{color:e["base-content"],callback:L=>typeof L=="string"?L:nu(L/(L>=1e3?1e3:1))+(L>=1e3?"K":"")}},x:{ticks:{color:e["base-content"],callback:(L,q)=>typeof L=="string"?L:N[q]%100}}}}})}),(p||g)&&d.jsxs("div",{className:"grid w-full gap-2 rounded-xl bg-base-100 p-4",children:[d.jsx("span",{className:"font-semibold",children:"Filter category"}),d.jsxs("div",{className:"grid w-full gap-2 text-xs xs:text-sm",children:[d.jsxs("select",{disabled:!p||M,value:i,onChange:L=>o(L.target.value),className:"dai-select dai-select-bordered w-full",children:[d.jsx("option",{value:"",children:"Select expense"}),n.filter(L=>L.type==="expense").map((L,q)=>d.jsx("option",{value:L.id,children:L.name},q))]}),d.jsxs("select",{disabled:!g||M,value:a,onChange:L=>l(L.target.value),className:"dai-select dai-select-bordered w-full",children:[d.jsx("option",{value:"",children:"Select income"}),n.filter(L=>L.type==="income").map((L,q)=>d.jsx("option",{value:L.id,children:L.name},q))]})]})]})]})},CL=({onClose:t,reports:e})=>{const n=b.useRef();b.useEffect(()=>()=>t(n.current),[]);const r=s=>{n.current=s,xi()};return d.jsx(Ux,{title:"Select Report",children:d.jsx("div",{className:"mt-4 flex flex-col items-center gap-3",children:e.map(s=>d.jsx("button",{onClick:()=>r(s.value),className:"dai-btn dai-btn-primary dai-btn-block",children:s.label},s.value))})})};ya.register(xc,_c,Co,Js,M1,L1,wc);const PL=en(),ML=new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}),TL=new Intl.DateTimeFormat("en-US",{year:"numeric"}),fl=()=>{const t=PL.get(yt),e=new Date;return!(t!=null&&t.month_end_date)||e.getDate()<=t.month_end_date||(e.setDate(1),e.setMonth(e.getMonth()+1)),e},LL=()=>{const[t]=J(wt),[e]=J(qx),[n]=J(yt),[r,s]=b.useState(fl()),[i,o]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState([]),[h,f]=b.useState(!1),[p,v]=b.useState(null),g=b.useMemo(()=>a||h,[a,h]),x=b.useMemo(()=>{if(!p)return[];let S=p;return c.map(j=>(S+=j.amount,{...j,amount:S}))},[c,p]),m=b.useMemo(()=>{if(!a&&p!=null)return x.length===0?p:x[0].amount},[x,p,a]),y=b.useMemo(()=>{if(!a&&p!=null)return x.length===0?p:x[x.length-1].amount},[x,p,a]),_=b.useMemo(()=>[...new Set([...x.map(S=>parseInt(S.occurred_at.split("-").join("")))])],[x]),w=b.useMemo(()=>({labels:_,datasets:[{label:"Expense Flow",fill:!1,tension:.2,borderColor:e.error,data:x.map(S=>({y:S.amount,x:parseInt(S.occurred_at.split("-").join(""))})),pointHitRadius:10}]}),[x,e,_]);return b.useEffect(()=>{(async()=>{const S=r?i?new Date(r.getFullYear(),n!=null&&n.month_end_date?r.getMonth()-1:r.getMonth(),n!=null&&n.month_end_date?n.month_end_date:0):new Date(r.getFullYear(),0,0):new Date(1970,0,2);f(!0);const j=await _n.getCurrentBalanceAt({userId:(t==null?void 0:t.user.id)??"",lastDate:S});if(f(!1),j.error){Y.error(j.error.message);return}v(j.data??null)})()},[r]),b.useEffect(()=>{(async()=>{l(!0);let S;if(i?S=await _n.getCashFlowEveryDay({trx_type:["expense","income"],userId:(t==null?void 0:t.user.id)??"",month:r??new Date,categories:[]}):S=await _n.getCashFlowEveryMonth({trx_type:["expense","income"],userId:(t==null?void 0:t.user.id)??"",year:(r==null?void 0:r.getFullYear())??new Date().getFullYear(),categories:[]}),l(!1),S.error){Y.error(S.error.message);return}u(S.data??[])})()},[t,r]),d.jsxs("div",{className:"flex flex-1 flex-col items-center gap-2 overflow-x-auto p-2",children:[d.jsx("div",{className:"flex w-full flex-col items-center gap-2 rounded-xl bg-base-100 p-2",children:d.jsxs("div",{className:"flex w-full items-center",children:[d.jsx("div",{className:"flex flex-1 items-center pl-2",children:g&&d.jsx("span",{className:"dai-loading dai-loading-sm bg-primary"})}),d.jsxs("div",{className:"flex items-center justify-center gap-4",children:[d.jsx("button",{disabled:g||!r,onClick:()=>s(S=>S?new Date(i?S.setMonth(S.getMonth()-1):S.setFullYear(S.getFullYear()-1)):void 0),className:"text-lg disabled:opacity-20",children:d.jsx(pe,{icon:"lucide:chevron-left"})}),d.jsx("span",{className:"w-[8rem] text-center",children:r?i?ML.format(r):TL.format(r):"All time"}),d.jsx("button",{disabled:g||!r||!i&&r.getFullYear()===new Date().getFullYear()||i&&r.getMonth()===fl().getMonth(),onClick:()=>s(S=>S?new Date(i?S.setMonth(S.getMonth()+1):S.setFullYear(S.getFullYear()+1)):void 0),className:"text-lg disabled:opacity-20",children:d.jsx(pe,{icon:"lucide:chevron-right"})})]}),d.jsx("div",{className:"flex flex-1 justify-end",children:d.jsx(Ar,{disabled:g,options:[{icon:"lucide:calendar-days",label:i?"Every Month":"Every Day",onClick:()=>{s(fl()),o(S=>!S)}},{icon:"lucide:infinity",label:r?"All time":i?"This month":"This year",onClick:()=>s(S=>S?void 0:fl())}]})})]})}),d.jsxs("div",{className:"w-full space-y-1 rounded-xl bg-base-100 p-4 text-sm",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("span",{children:h?d.jsx(Pe,{children:"Previous:"}):"Previous:"}),d.jsx("span",{className:"font-semibold "+(p?p<0?"text-error":"text-success":""),children:h?d.jsx(Pe,{children:Re(1e7)}):d.jsx(ls,{amount:p??0})})]}),d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("span",{children:m==null?d.jsx(Pe,{children:"Start:"}):"Start:"}),d.jsx("span",{className:"font-semibold "+(m?m<0?"text-error":"text-success":""),children:m==null?d.jsx(Pe,{children:Re(1e7)}):d.jsx(ls,{amount:m})})]}),d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("span",{children:y==null?d.jsx(Pe,{children:"Last:"}):"Last:"}),d.jsx("span",{className:"font-semibold "+(y?y<0?"text-error":"text-success":""),children:y==null?d.jsx(Pe,{children:Re(1e7)}):d.jsx(ls,{amount:y})})]})]}),d.jsx("div",{className:"w-full rounded-xl bg-base-100 p-4",children:d.jsx(A1,{data:w,className:"h-56",options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{type:"linear",ticks:{color:e["base-content"],callback:S=>{if(typeof S=="string")return S;const j=Math.abs(S);return nu(S/(j>=1e3?1e3:1))+(j>=1e3?"K":"")}}},x:{ticks:{color:e["base-content"],callback:(S,j)=>typeof S=="string"?S:_[j]%100}}}}})})]})},NL=en(),RL=()=>{const t=NL.get(yt),e=new Date;return!(t!=null&&t.month_end_date)||e.getDate()<=t.month_end_date||(e.setDate(1),e.setMonth(e.getMonth()+1)),e},OL=()=>{const[t]=J(wt),[e,n]=b.useState(!1),[r,s]=b.useState(new Date),[i,o]=b.useState([]),a=b.useMemo(()=>i.reduce((u,h)=>h.income+u,0),[i]),l=b.useMemo(()=>i.reduce((u,h)=>h.expense+u,0),[i]),c=b.useMemo(()=>{const u={};for(let h=i.length-2;h>=0;h--){const f=i[h+1],p=i[h],v=f.income-f.expense,g=p.income-p.expense;v!==0&&(u[p.occurred_at]=(g-v)/Math.abs(v)*100)}return u},[i]);return b.useEffect(()=>{t!=null&&t.user.id&&(async()=>{n(!0);const u=await _n.getIncomeExpensePerMonth(t.user.id,r.getFullYear());if(n(!1),u.error){Y.error(u.error.message);return}o(u.data||[])})()},[r,t]),d.jsxs("div",{className:"flex flex-1 flex-col items-center gap-2 p-2",children:[d.jsxs("div",{className:"flex w-full items-center rounded-lg border bg-base-100 p-2",children:[d.jsx("div",{className:"flex-1"}),d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("button",{disabled:e||!r||!0,onClick:()=>s(u=>(u.setFullYear(u.getFullYear()-1),new Date(u))),className:"text-xl disabled:opacity-20",children:d.jsx(pe,{icon:"lucide:chevron-left"})}),d.jsx("span",{className:"w-[10rem] text-center",children:r.getFullYear()}),d.jsx("button",{disabled:e||r.getFullYear()>=RL().getFullYear(),onClick:()=>s(u=>(u.setFullYear(u.getFullYear()+1),new Date(u))),className:"text-xl disabled:opacity-20",children:d.jsx(pe,{icon:"lucide:chevron-right"})})]}),d.jsx("div",{className:"flex flex-1 justify-end",children:d.jsx(Ar,{options:[]})})]}),d.jsxs("div",{className:"flex w-full flex-col gap-2 text-xs",children:[d.jsxs("div",{className:"rounded-lg border bg-base-100",children:[d.jsxs("div",{className:"flex border-b px-2 text-base-content-accent",children:[d.jsxs("div",{className:"flex flex-1 flex-col items-center gap-0.5 py-2",children:[d.jsx(mt,{skel:e,children:d.jsx("span",{children:"Income "})}),d.jsx(mt,{skel:e,children:d.jsx("span",{className:"text-sm text-success",children:Re(e?10123e3:a)})})]}),d.jsxs("div",{className:"flex flex-1 flex-col items-center gap-0.5 border-x py-2",children:[d.jsx(mt,{skel:e,children:d.jsx("span",{children:"Expense"})}),d.jsx(mt,{skel:e,children:d.jsx("span",{className:"text-sm text-error",children:Re(e?10123e3:-1*l)})})]}),d.jsxs("div",{className:"flex flex-1 flex-col items-center gap-0.5 py-2",children:[d.jsx(mt,{skel:e,children:d.jsx("span",{children:"Save"})}),d.jsxs(mt,{skel:e,children:[d.jsx("span",{className:"text-sm text-success",children:Re(e?10123e3:a-l)})," "]})]})]}),d.jsx("div",{className:"flex items-center justify-evenly gap-2 p-2",children:d.jsx("p",{children:"Loading"})})]}),d.jsx("div",{className:"grid grid-cols-1 gap-2 rounded-lg border bg-base-100 p-2 text-xxs",children:i.map((u,h)=>{const f=u.income-u.expense,p=c[u.occurred_at];return d.jsxs("div",{className:"flex items-center gap-2 "+(h!==i.length-1?"border-b pb-2":""),children:[d.jsx("span",{className:"flex-1 text-center",children:u.occurred_at}),d.jsx("span",{className:"flex-1 text-center "+(u.income>0?"text-success":""),children:Re(u.income)}),d.jsx("span",{className:"flex-1 text-center text-error",children:Re(-1*u.expense)}),d.jsx("span",{className:"flex-1 text-center "+(f>0?"text-success":f<0?"text-error":""),children:Re(f)}),d.jsx("span",{className:"flex-1 text-center "+(p?p>0?"text-success":"text-error":""),children:p?`${nu(p)}%`:"-"})]},u.occurred_at)})})]})]})},DL=()=>{const[,t]=J(kn),e=Nt(),{pathname:n}=Dr(),r=b.useMemo(()=>[{value:"/report",label:"Expense Overview"},{value:"/report/saving-flow",label:"Saving Flow"},{value:"/report/cash-flow",label:"Cash Flow"},{value:"/report/assets-flow",label:"Assets Flow"}],[]),s=b.useMemo(()=>r.find(i=>n===i.value),[r,n]);return b.useEffect(()=>{t({title:(s==null?void 0:s.label)??"Report",revealer:!0,actions:[d.jsx("button",{onClick:()=>tu(CL,{reports:r,onClose:i=>i&&e(i)}),className:"ml-2 text-2xl",children:d.jsx(pe,{icon:"lucide:menu"})})]})},[s]),d.jsxs(Ei,{children:[d.jsx(Ye,{path:"/",element:d.jsx(EC,{})}),d.jsx(Ye,{path:"/cash-flow",element:d.jsx(EL,{})}),d.jsx(Ye,{path:"/saving-flow",element:d.jsx(OL,{})}),d.jsx(Ye,{path:"/assets-flow",element:d.jsx(LL,{})})]})},AL=({category:t,categoryType:e,onDeleted:n})=>{const r=Nt(),s=async()=>{if(!await pa({title:"Delete category",body:"Are you sure you want to delete this category?"}))return;Se(!0);const o=await xo.deleteCategory(t.id);if(Se(!1),o.error){Y.error(o.error.message);return}n(t.id)};return d.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md hover:cursor-pointer",children:[d.jsx("img",{onClick:()=>r(`/accounts/transaction?category=${t.id}`),src:`${Xc}/${t.logo}`,className:"size-9 xs:size-12"}),d.jsx("div",{className:"flex flex-1 flex-col gap-0.5",children:d.jsx("p",{className:"text-sm xs:text-base",children:t.name})}),d.jsx(Ar,{options:[{icon:"lucide:pencil",label:"Edit",onClick:()=>r(`/category/${t.id}?type=${e}`)},{icon:"lucide:trash",label:"Delete",onClick:s}]})]})},IL=()=>d.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md",children:[d.jsx(Pe,{children:d.jsx("div",{className:"size-9 xs:size-12"})}),d.jsx("div",{className:"flex flex-1 flex-col gap-0.5",children:d.jsx(Pe,{children:d.jsx("p",{className:"text-sm xs:text-base",children:"Transportation"})})}),d.jsx(Pe,{children:d.jsx(Ar,{options:[]})})]}),FL=()=>{const[,t]=J(kn),e=Nt(),{data:n,loading:r,refresh:s,fetched:i,setData:o}=eu(),[a,l]=Uc(),c=b.useMemo(()=>a.get("type")==="income"?"income":"expense",[a]),u=b.useMemo(()=>n.filter(h=>h.type===c),[n,c]);return b.useEffect(()=>{t({title:"Categories",actions:[d.jsx("button",{onClick:()=>e(`/category/new?type=${c}`),className:"dai-btn dai-btn-success dai-btn-xs xs:dai-btn-sm",children:"Create"})]})},[c]),b.useEffect(()=>{i||(async()=>{const h=await s();h&&Y.error(h)})()},[]),d.jsxs("div",{className:"flex flex-1 flex-col gap-2 p-2",children:[d.jsx("div",{role:"tablist",className:"dai-tabs-boxed dai-tabs bg-base-100",children:["expense","income"].map((h,f)=>d.jsx("button",{role:"tab",onClick:()=>l({type:h}),className:"dai-tab capitalize "+(h===c?"dai-tab-active":""),children:h},f))}),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:r?Array.from({length:14}).map((h,f)=>d.jsx(IL,{},f)):u.length===0?d.jsx("p",{className:"text-center",children:"No categories found"}):u.map((h,f)=>d.jsx(AL,{category:h,categoryType:c,onDeleted:p=>o(v=>v.filter(g=>g.id!==p))},f))})]})},Po=en(),li=Ae({loading:!1,fetched:!1,data:[]});async function zL(){Po.set(li,e=>({...e,loading:!0,fetched:!1}));const t=await Pt.storage.from("images").list("categories");if(t.error)return Po.set(li,e=>({...e,loading:!1})),t.error.message;Po.set(li,{loading:!1,fetched:!0,data:(t.data??[]).map(e=>e.name)})}function $L(t){const e=Po.get(li);e.fetched&&Po.set(li,{...e,data:typeof t=="function"?t(e.data):t})}const BL=Ae(t=>({refresh:zL,setData:$L,...t(li)})),UL=()=>{const[t]=J(BL);return t},w0=()=>{const[t]=J(wt),[,e]=J(kn),n=Nt(),[r]=Uc(),{id:s}=qv(),[i,o]=b.useState(),{setData:a}=eu(),{data:l,refresh:c,fetched:u,loading:h}=UL(),[f,p]=b.useState(!1),[v,g]=b.useState((i==null?void 0:i.name)??""),[x,m]=b.useState(0),y=b.useMemo(()=>!v,[v]);b.useEffect(()=>{e({title:s?"Update Category":"Create "+(r.get("type")==="income"?"Income":"Expense"),back:!0})},[r]),b.useEffect(()=>{u||(async()=>{const w=await c();if(w)return Y.error(w)})()},[]),b.useEffect(()=>{s&&(async()=>{Se(!0);const{data:w,error:S}=await xo.getCategory(s);if(Se(!1),w)return o(w);Y.error(!w||!S?"Category not found":S.message),n("/category",{replace:!0})})()},[]),b.useEffect(()=>{i&&g(i.name)},[i]),b.useEffect(()=>{u&&m(i!=null&&i.logo?l.indexOf(i.logo):0)},[u,l,i]);const _=async()=>{p(!0);let w;if(!s||!i?w=await xo.createCategory({name:v,logo:l[x],type:r.get("type")==="income"?"income":"expense",user_id:t.user.id}):w=await xo.updateCategory(s,{name:v,logo:l[x],type:i.type}),p(!1),w.error||!w.data){Y.error(!w.data||!w.error?"Something went wrong":w.error.message);return}a(S=>s?S.map(j=>j.id===s?w.data:j):[w.data,...S]),history.back()};return d.jsx("div",{className:"flex flex-1 flex-col gap-4 p-2",children:d.jsxs("form",{onSubmit:w=>{w.preventDefault(),_()},className:"grid grid-cols-1 gap-2",children:[d.jsxs("label",{className:"dai-form-control w-full",children:[d.jsx("div",{className:"dai-label",children:d.jsx("span",{className:"req dai-label-text",children:"Name"})}),d.jsx("input",{value:v,onChange:w=>g(w.target.value),type:"text",placeholder:"Category Name",className:"dai-input dai-input-bordered"})]}),d.jsxs("label",{className:"dai-form-control",children:[d.jsx("div",{className:"dai-label",children:d.jsx("span",{className:"req dai-label-text",children:"Logo"})}),d.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2",children:h?Array.from({length:10}).map((w,S)=>d.jsx("button",{type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 outline-transparent",children:d.jsx("div",{className:"dai-skeleton size-12 rounded-lg"})},S)):l.length===0?d.jsx("div",{}):l.map((w,S)=>d.jsx("button",{onClick:()=>m(S),type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 "+(S===x?"outline-primary":"outline-transparent"),children:d.jsx("img",{className:"size-12 rounded-lg",src:`${Xc}/${w}`,alt:""},S)},S))})]}),d.jsx("div",{className:"flex justify-end pt-2",children:d.jsx(Zc,{size:"sm",disabled:y,loading:f,type:"submit",className:"dai-btn-primary",children:"Submit"})})]})})},HL=()=>d.jsxs(Ei,{children:[d.jsx(Ye,{path:"/",element:d.jsx(FL,{})}),d.jsx(Ye,{path:"/new",element:d.jsx(w0,{})}),d.jsx(Ye,{path:"/:id",element:d.jsx(w0,{})})]}),I1=[{icon:"lucide:notebook-text",link:"/transaction",title:"Trx",el:lC,layout:!0},{icon:"lucide:chart-pie",link:"/report",title:"Report",el:DL,layout:!0},{icon:"lucide:wallet",link:"/accounts",title:"Account",el:bC,layout:!0},{icon:"lucide:group",link:"/category",title:"Categories",el:HL,layout:!0},{icon:"lucide:settings",link:"/settings",title:"Settings",el:fC}],WL=()=>{const t=Nt(),[e,n]=J(wt),[r,s]=b.useState(!1),[i,o]=b.useState(""),[a,l]=b.useState(""),c=b.useDeferredValue(!i||!a);b.useEffect(()=>{if(!e)return;let f=new URLSearchParams(window.location.search).get("to");f&&(f=Ix(f,Cr.BASE_URL));const p=f??I1[0].link;t(p)},[e]);const u=async()=>{const f=await Pt.auth.signInWithOAuth({provider:"google"});if(f.error){Y.error(f.error.message);return}},h=async()=>{s(!0);const{error:f,data:p}=await Pt.auth.signInWithPassword({email:i,password:a});if(s(!1),f){Y.error(f.message);return}n(p.session)};return d.jsx("div",{className:"flex min-h-dvh items-center justify-center",children:d.jsxs("div",{className:"flex w-80 flex-col items-center gap-4 rounded-xl border border-base-300 bg-base-100 p-6 shadow-md",children:[d.jsxs("form",{onSubmit:f=>{f.preventDefault(),h()},className:"flex w-full flex-col items-center gap-4",children:[d.jsx("h2",{className:"text-center text-2xl font-medium",children:"Login"}),d.jsx("input",{type:"email",value:i,onChange:f=>o(f.target.value),placeholder:"Email",className:"dai-input dai-input-sm dai-input-bordered w-full xs:dai-input-md",required:!0}),d.jsx("input",{type:"password",value:a,onChange:f=>l(f.target.value),placeholder:"Password",className:"dai-input dai-input-sm dai-input-bordered w-full xs:dai-input-md",required:!0}),d.jsx(Zc,{size:"sm",disabled:c,loading:r,className:"dai-btn-primary",children:"Submit"})]}),d.jsxs("span",{className:"flex w-full items-center gap-2 text-sm",children:[d.jsx("hr",{className:"flex-1 border-base-300"}),d.jsx("span",{children:"OR"}),d.jsx("hr",{className:"flex-1 border-base-300"})]}),d.jsx("div",{children:d.jsx("button",{disabled:!0,onClick:u,className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide",children:"Login with Google"})})]})})},VL=()=>{const[t]=J(wt),e=Nt();return b.useEffect(()=>{if(!t)return;const r=new URLSearchParams(window.location.search).get("to")??"/";e(r)},[t]),d.jsx("h1",{children:"Register"})},YL=({home:t})=>{const[,e]=J(kn);return b.useEffect(()=>{e({title:"Not found"})},[]),d.jsx("div",{className:"grid flex-1 place-items-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-10",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-3xl font-bold",children:"404 | Not Found"}),d.jsx("p",{children:"Sorry, the page you are looking for does not exist."})]}),d.jsx(Pf,{replace:!0,to:t,className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide",children:"Back to home"})]})})},b0=8,KL=()=>{var l,c;const[t]=J(kn),[e,n]=b.useState(!1),[r,s]=b.useState(0),[i]=J(yt),[o,a]=J(fx);return b.useEffect(()=>{const u=()=>s(window.scrollY);return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]),b.useEffect(()=>{if(r<=b0&&e)return n(!1);if(r>b0&&!e)return n(!0)},[r]),d.jsxs("div",{children:[d.jsx("div",{className:"fixed left-0 top-0 z-20 grid h-14 w-full place-items-center bg-secondary text-secondary-content shadow-md xs:h-16 "+(e?"opacity-90":""),children:d.jsxs("div",{className:"flex w-full items-center justify-between px-6 md:w-[47rem]",children:[d.jsxs("div",{className:"flex items-center gap-4 text-3xl",children:[t.back&&d.jsx("button",{onClick:()=>history.back(),className:"flex items-center gap-4 text-xl xs:text-2xl",children:d.jsx(pe,{icon:"mdi:arrow-left"})}),t.title?typeof t.title!="string"?t.title:d.jsx("span",{className:"text-lg font-semibold xs:text-xl",children:t.title}):null,(l=t.leftActions)==null?void 0:l.map((u,h)=>d.jsx(b.Fragment,{children:u},h))]}),d.jsxs("div",{className:"flex items-center gap-4 text-3xl",children:[(i==null?void 0:i.hide_amount)&&t.revealer&&d.jsx("button",{onClick:()=>a(u=>!u),className:"text-lg text-secondary-content xs:text-xl",children:o?d.jsx(pe,{icon:"lucide:eye"}):d.jsx(pe,{icon:"lucide:eye-off"})}),(c=t.actions)==null?void 0:c.map((u,h)=>d.jsx(b.Fragment,{children:u},h))]})]})}),d.jsx("div",{className:"h-14 xs:h-16"})]})};function qL(){const[t,e]=b.useState({width:window.innerWidth,height:window.innerHeight});return b.useLayoutEffect(()=>{const n=()=>{e({width:window.innerWidth,height:window.innerHeight})};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),t}const GL=({icon:t,title:e,href:n})=>d.jsxs(hk,{to:n,className:({isActive:r})=>["group flex w-[4rem] flex-col items-center rounded-2xl px-3 py-1 transition-all duration-300 xs:w-[5rem]",r?"is-active bg-secondary/10 font-semibold text-secondary":""].join(" "),children:[d.jsx(pe,{icon:t,className:"text-xl xs:text-2xl"}),d.jsx("span",{className:"hidden text-center text-xxs group-[.is-active]:block xs:text-xs",children:e})]}),QL=({routes:t})=>{const[e,n,r]=ph(!0),s=b.useRef(0),i=qL();return b.useEffect(()=>{const o=()=>{const a=window.scrollY;if(a<=0){n(!0);return}a>s.current&&r.current?n(!1):a<s.current&&!r.current&&n(!0),s.current=a};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),d.jsx("div",{children:d.jsx("div",{className:`${i.height<600||!e?"translate-y-full":"transform-none"} fixed bottom-0 left-0 z-20 grid h-16 w-full place-items-center bg-base-100 shadow-t-md transition-transform`,children:d.jsx("div",{className:"flex w-full items-center justify-evenly py-1 md:w-[47rem]",children:t.map((o,a)=>d.jsx(GL,{href:o.link,title:o.title,icon:o.icon},a))})})})},JL=()=>{const{pathname:t}=Dr();return b.useEffect(()=>{window.scrollTo(0,0)},[t]),null},Qf=()=>d.jsxs("div",{className:"relative grid place-items-center",children:[d.jsx("span",{className:"fixed size-20 animate-spin rounded-full border-4 border-b-transparent border-l-transparent border-r-primary border-t-primary"}),d.jsx("span",{className:"fixed size-16 animate-reverse-spin rounded-full border-4 border-b-transparent border-l-warning border-r-transparent border-t-warning"}),d.jsx("span",{className:"fixed size-12 animate-spin rounded-full border-4 border-b-primary border-l-primary border-r-transparent border-t-transparent"})]}),F1="/duitify/error.svg",XL=()=>{const[t]=J(yt),[,e]=J(Mf);b.useEffect(()=>{n()},[]);const n=()=>{tu(Wx,{onClose:r,dismissible:!1})},r=async s=>{if(!(t!=null&&t.pin))return;Se(!0);const[i,o]=t.pin.split(":"),a=o+t.user_id,l=await Vx(s,a);if(Se(!1),!l||i!==l){Y.error(l?"Invalid PIN":"Failed to generate hash"),n();return}e(!0)};return d.jsx("div",{className:"grid min-h-dvh place-items-center bg-base-200"})};function ZL(){return/Mobi|Android|iPhone|iPad|iPod|Windows Phone/i.test(navigator.userAgent)}const eN=()=>{const t=Nt(),[e]=J(wt),[n]=b.useState(I1),[r,s]=b.useState(!0),[i,o]=J(yt),[a]=J(Mf),[l,c]=b.useState(""),[u,h]=b.useState(0),f=b.useMemo(()=>n[0].link,[n]),p=Zv(({historyAction:v,currentLocation:g,nextLocation:x})=>v==="POP"&&g.pathname===f&&x.pathname!==f);return b.useEffect(()=>{p.state==="blocked"&&mh()},[p]),b.useEffect(()=>{let v=window.location.pathname;if(!e){const x=v!=="/"?`/login?${new URLSearchParams({to:v}).toString()}`:"/login";t(x,{replace:!0});return}if(f==="/")return;Fx(v,"/")===Cr.BASE_URL&&t(f,{replace:!0})},[e]),b.useEffect(()=>{e&&(async()=>{s(!0);const{data:v,error:g}=await qr.getSetting(e.user.id);if(s(!1),g){c(g.message);return}if(!v){c("Something went wrong, please try again");return}o(v)})()},[e,u]),e?i&&i.pin&&!a&&(!i.pin_desktop_only||!ZL())?d.jsx(XL,{}):r||l?d.jsx("div",{className:"grid min-h-dvh place-items-center",children:r?d.jsx(Qf,{}):d.jsxs("div",{className:"flex flex-col items-center gap-6",children:[d.jsx("img",{className:"h-64",src:F1,alt:""}),d.jsx("span",{className:"text-xl font-semibold",children:l}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("button",{onClick:()=>h(v=>v+1),className:"dai-btn dai-btn-primary",children:"Try again"}),d.jsx("button",{onClick:mh,className:"dai-btn dai-btn-ghost underline",children:"Relogin"})]})]})}):d.jsxs("div",{className:"flex min-h-dvh flex-col items-center bg-base-200 text-base-content",children:[d.jsx(JL,{}),d.jsx(KL,{}),d.jsx("main",{className:"grid w-full flex-1 md:w-[47rem]",children:d.jsxs(Ei,{children:[n.map(v=>d.jsx(Ye,{path:v.link+(v.layout?"/*":""),element:d.jsx(v.el,{})},v.link)),d.jsx(Ye,{path:"*",element:d.jsx(YL,{home:f})})]})}),d.jsx(QL,{routes:n})]}):null},tN=()=>d.jsxs(Ei,{children:[d.jsx(Ye,{path:"/login",element:d.jsx(WL,{})}),d.jsx(Ye,{path:"/register",element:d.jsx(VL,{})}),d.jsx(Ye,{path:"*",element:d.jsx(eN,{})})]}),nN=()=>{const[t,e]=J(ax);return t?d.jsx("div",{className:"fixed left-0 top-0 z-50 grid h-dvh w-full place-items-center bg-black bg-opacity-40",children:d.jsx(Qf,{})}):null},rN=({})=>{const[t]=J(Bx),e=Zv(t.length>0),n=()=>{t.length!==0&&t[t.length-1].dismissible&&xi()};b.useEffect(()=>(window.addEventListener("keyup",r),()=>window.removeEventListener("keyup",r)),[]);const r=s=>{s.key==="Escape"&&n()};return b.useEffect(()=>{const s=()=>{e.state==="blocked"&&n()};return window.addEventListener("popstate",s),()=>window.removeEventListener("popstate",s)},[e]),d.jsxs("div",{onClick:n,className:"fixed left-0 top-0 z-30 flex min-h-dvh w-full items-center justify-center bg-black bg-opacity-60 sm:items-center",children:[...t.map((s,i)=>d.jsx("div",{onClick:o=>o.stopPropagation(),hidden:i!==t.length-1,className:"absolute w-full px-3 sm:w-fit sm:px-0",children:d.jsx(s.Element,{...s.props,isOpen:i===t.length-1})},i))]})},sN=()=>{const[t]=J(Bx);return b.useEffect(()=>{if(t.length===0){document.body.style.overflowY="auto";return}document.body.style.overflowY="hidden"},[t]),t.length===0?null:d.jsx(rN,{})};function iN(){const[t]=J(Kx),[e,n]=b.useState(!0),[r,s]=b.useState(!1),[,i]=J(wt);b.useEffect(()=>{document.documentElement.setAttribute("data-theme",t)},[t]),b.useEffect(()=>{o()},[]);const o=async()=>{n(!0),s(!1);const{error:a,data:l}=await Pt.auth.getSession();if(a){n(!1),s(!0);return}i(l.session),n(!1)};return d.jsxs(d.Fragment,{children:[!e&&!r?d.jsx(tN,{}):e?d.jsx("div",{className:"grid min-h-dvh w-full place-items-center",children:d.jsx(Qf,{})}):r?d.jsx("div",{className:"grid min-h-dvh w-full place-items-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-6",children:[d.jsx("img",{className:"h-64",src:F1,alt:""}),d.jsx("span",{className:"text-xl font-semibold",children:"It's looks like something went wrong"}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("button",{onClick:()=>o(),className:"dai-btn dai-btn-primary",children:"Try again"}),d.jsx("button",{onClick:()=>{s(!1)},className:"dai-btn dai-btn-ghost underline",children:"Relogin"})]})]})}):null,d.jsx(Uk,{position:"top-center",theme:t}),d.jsx(sN,{}),d.jsx(nN,{})]})}function oN(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t;let a,l,c;const u=async(f=!0)=>{await l,await(c==null?void 0:c())};async function h(){if("serviceWorker"in navigator){if(a=await ys(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/duitify/sw.js",{scope:"/duitify/",type:"classic"})).catch(f=>{o==null||o(f)}),!a)return;c=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let f=!1;const p=()=>{f=!0,a==null||a.addEventListener("controlling",v=>{v.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",v=>{typeof v.isUpdate>"u"?typeof v.isExternal<"u"?v.isExternal?p():!f&&(r==null||r()):v.isExternal?window.location.reload():!f&&(r==null||r()):v.isUpdate||r==null||r()}),a.addEventListener("waiting",p),a.addEventListener("externalwaiting",p)}a.register({immediate:e}).then(f=>{i?i("/duitify/sw.js",f):s==null||s(f)}).catch(f=>{o==null||o(f)})}}return l=h(),u}const aN=oN({onNeedRefresh(){console.log("Content is ready to be updated."),alert("New content is available, please refresh."),aN(!0)},onOfflineReady(){console.log("Content is now offline ready.")},onRegisteredSW(){console.log("Service worker has been registered.")}}),lN=Z2(ic(d.jsx(Ye,{path:"*",element:d.jsx(iN,{})})),{basename:"/duitify"});id.createRoot(document.getElementById("root")).render(d.jsx(ak,{router:lN}));export{S0 as g};
