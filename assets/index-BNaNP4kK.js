var d_=Object.defineProperty;var h_=(t,e,n)=>e in t?d_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Y=(t,e,n)=>h_(t,typeof e!="symbol"?e+"":e,n);function T0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function R0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function f_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var L0={exports:{}},Cc={},O0={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ua=Symbol.for("react.element"),p_=Symbol.for("react.portal"),g_=Symbol.for("react.fragment"),m_=Symbol.for("react.strict_mode"),y_=Symbol.for("react.profiler"),v_=Symbol.for("react.provider"),x_=Symbol.for("react.context"),__=Symbol.for("react.forward_ref"),w_=Symbol.for("react.suspense"),b_=Symbol.for("react.memo"),k_=Symbol.for("react.lazy"),yp=Symbol.iterator;function S_(t){return t===null||typeof t!="object"?null:(t=yp&&t[yp]||t["@@iterator"],typeof t=="function"?t:null)}var D0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N0=Object.assign,A0={};function ki(t,e,n){this.props=t,this.context=e,this.refs=A0,this.updater=n||D0}ki.prototype.isReactComponent={};ki.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ki.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function I0(){}I0.prototype=ki.prototype;function Th(t,e,n){this.props=t,this.context=e,this.refs=A0,this.updater=n||D0}var Rh=Th.prototype=new I0;Rh.constructor=Th;N0(Rh,ki.prototype);Rh.isPureReactComponent=!0;var vp=Array.isArray,F0=Object.prototype.hasOwnProperty,Lh={current:null},z0={key:!0,ref:!0,__self:!0,__source:!0};function $0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)F0.call(e,r)&&!z0.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ua,type:t,key:i,ref:o,props:s,_owner:Lh.current}}function E_(t,e){return{$$typeof:ua,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Oh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ua}function j_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xp=/\/+/g;function hu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?j_(""+t.key):e.toString(36)}function _l(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ua:case p_:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+hu(o,0):r,vp(s)?(n="",t!=null&&(n=t.replace(xp,"$&/")+"/"),_l(s,e,n,"",function(c){return c})):s!=null&&(Oh(s)&&(s=E_(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xp,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",vp(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+hu(i,a);o+=_l(i,e,n,l,s)}else if(l=S_(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+hu(i,a++),o+=_l(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Oa(t,e,n){if(t==null)return t;var r=[],s=0;return _l(t,r,"","",function(i){return e.call(n,i,s++)}),r}function C_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xt={current:null},wl={transition:null},M_={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:wl,ReactCurrentOwner:Lh};function B0(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Oa,forEach:function(t,e,n){Oa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oa(t,function(){e++}),e},toArray:function(t){return Oa(t,function(e){return e})||[]},only:function(t){if(!Oh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=ki;le.Fragment=g_;le.Profiler=y_;le.PureComponent=Th;le.StrictMode=m_;le.Suspense=w_;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M_;le.act=B0;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=N0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Lh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)F0.call(e,l)&&!z0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ua,type:t.type,key:s,ref:i,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:x_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:v_,_context:t},t.Consumer=t};le.createElement=$0;le.createFactory=function(t){var e=$0.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:__,render:t}};le.isValidElement=Oh;le.lazy=function(t){return{$$typeof:k_,_payload:{_status:-1,_result:t},_init:C_}};le.memo=function(t,e){return{$$typeof:b_,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=wl.transition;wl.transition={};try{t()}finally{wl.transition=e}};le.unstable_act=B0;le.useCallback=function(t,e){return xt.current.useCallback(t,e)};le.useContext=function(t){return xt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return xt.current.useDeferredValue(t)};le.useEffect=function(t,e){return xt.current.useEffect(t,e)};le.useId=function(){return xt.current.useId()};le.useImperativeHandle=function(t,e,n){return xt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return xt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return xt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return xt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return xt.current.useReducer(t,e,n)};le.useRef=function(t){return xt.current.useRef(t)};le.useState=function(t){return xt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return xt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return xt.current.useTransition()};le.version="18.3.1";O0.exports=le;var b=O0.exports;const he=R0(b),P_=T0({__proto__:null,default:he},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_=b,R_=Symbol.for("react.element"),L_=Symbol.for("react.fragment"),O_=Object.prototype.hasOwnProperty,D_=T_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N_={key:!0,ref:!0,__self:!0,__source:!0};function U0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)O_.call(e,r)&&!N_.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:R_,type:t,key:i,ref:o,props:s,_owner:D_.current}}Cc.Fragment=L_;Cc.jsx=U0;Cc.jsxs=U0;L0.exports=Cc;var h=L0.exports,ud={},H0={exports:{}},Wt={},W0={exports:{}},V0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,F){var H=N.length;N.push(F);e:for(;0<H;){var I=H-1>>>1,$=N[I];if(0<s($,F))N[I]=F,N[H]=$,H=I;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var F=N[0],H=N.pop();if(H!==F){N[0]=H;e:for(var I=0,$=N.length,te=$>>>1;I<te;){var Z=2*(I+1)-1,ce=N[Z],ue=Z+1,Qe=N[ue];if(0>s(ce,H))ue<$&&0>s(Qe,ce)?(N[I]=Qe,N[ue]=H,I=ue):(N[I]=ce,N[Z]=H,I=Z);else if(ue<$&&0>s(Qe,H))N[I]=Qe,N[ue]=H,I=ue;else break e}}return F}function s(N,F){var H=N.sortIndex-F.sortIndex;return H!==0?H:N.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,v=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=N)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function w(N){if(m=!1,_(N),!v)if(n(l)!==null)v=!0,re(k);else{var F=n(c);F!==null&&ie(w,F.startTime-N)}}function k(N,F){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var H=f;try{for(_(F),d=n(l);d!==null&&(!(d.expirationTime>F)||N&&!D());){var I=d.callback;if(typeof I=="function"){d.callback=null,f=d.priorityLevel;var $=I(d.expirationTime<=F);F=t.unstable_now(),typeof $=="function"?d.callback=$:d===n(l)&&r(l),_(F)}else r(l);d=n(l)}if(d!==null)var te=!0;else{var Z=n(c);Z!==null&&ie(w,Z.startTime-F),te=!1}return te}finally{d=null,f=H,p=!1}}var E=!1,C=null,S=-1,P=5,L=-1;function D(){return!(t.unstable_now()-L<P)}function R(){if(C!==null){var N=t.unstable_now();L=N;var F=!0;try{F=C(!0,N)}finally{F?q():(E=!1,C=null)}}else E=!1}var q;if(typeof y=="function")q=function(){y(R)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Q=G.port2;G.port1.onmessage=R,q=function(){Q.postMessage(null)}}else q=function(){x(R,0)};function re(N){C=N,E||(E=!0,q())}function ie(N,F){S=x(function(){N(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,re(k))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var H=f;f=F;try{return N()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,F){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var H=f;f=N;try{return F()}finally{f=H}},t.unstable_scheduleCallback=function(N,F,H){var I=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?I+H:I):H=I,N){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=H+$,N={id:u++,callback:F,priorityLevel:N,startTime:H,expirationTime:$,sortIndex:-1},H>I?(N.sortIndex=H,e(c,N),n(l)===null&&N===n(c)&&(m?(g(S),S=-1):m=!0,ie(w,H-I))):(N.sortIndex=$,e(l,N),v||p||(v=!0,re(k))),N},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(N){var F=f;return function(){var H=f;f=F;try{return N.apply(this,arguments)}finally{f=H}}}})(V0);W0.exports=V0;var A_=W0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_=b,Ht=A_;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y0=new Set,Ro={};function ys(t,e){ci(t,e),ci(t+"Capture",e)}function ci(t,e){for(Ro[t]=e,t=0;t<e.length;t++)Y0.add(e[t])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dd=Object.prototype.hasOwnProperty,F_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_p={},wp={};function z_(t){return dd.call(wp,t)?!0:dd.call(_p,t)?!1:F_.test(t)?wp[t]=!0:(_p[t]=!0,!1)}function $_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function B_(t,e,n,r){if(e===null||typeof e>"u"||$_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _t(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ot[t]=new _t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ot[e]=new _t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ot[t]=new _t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ot[t]=new _t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ot[t]=new _t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ot[t]=new _t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ot[t]=new _t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ot[t]=new _t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ot[t]=new _t(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dh=/[\-:]([a-z])/g;function Nh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dh,Nh);ot[e]=new _t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dh,Nh);ot[e]=new _t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dh,Nh);ot[e]=new _t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ot[t]=new _t(t,1,!1,t.toLowerCase(),null,!1,!1)});ot.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ot[t]=new _t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ah(t,e,n,r){var s=ot.hasOwnProperty(e)?ot[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(B_(e,n,s,r)&&(n=null),r||s===null?z_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qn=I_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Da=Symbol.for("react.element"),Ns=Symbol.for("react.portal"),As=Symbol.for("react.fragment"),Ih=Symbol.for("react.strict_mode"),hd=Symbol.for("react.profiler"),K0=Symbol.for("react.provider"),q0=Symbol.for("react.context"),Fh=Symbol.for("react.forward_ref"),fd=Symbol.for("react.suspense"),pd=Symbol.for("react.suspense_list"),zh=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),X0=Symbol.for("react.offscreen"),bp=Symbol.iterator;function Li(t){return t===null||typeof t!="object"?null:(t=bp&&t[bp]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,fu;function Gi(t){if(fu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fu=e&&e[1]||""}return`
`+fu+t}var pu=!1;function gu(t,e){if(!t||pu)return"";pu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{pu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gi(t):""}function U_(t){switch(t.tag){case 5:return Gi(t.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 2:case 15:return t=gu(t.type,!1),t;case 11:return t=gu(t.type.render,!1),t;case 1:return t=gu(t.type,!0),t;default:return""}}function gd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case As:return"Fragment";case Ns:return"Portal";case hd:return"Profiler";case Ih:return"StrictMode";case fd:return"Suspense";case pd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case q0:return(t.displayName||"Context")+".Consumer";case K0:return(t._context.displayName||"Context")+".Provider";case Fh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zh:return e=t.displayName||null,e!==null?e:gd(t.type)||"Memo";case ir:e=t._payload,t=t._init;try{return gd(t(e))}catch{}}return null}function H_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gd(e);case 8:return e===Ih?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function G0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function W_(t){var e=G0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Na(t){t._valueTracker||(t._valueTracker=W_(t))}function J0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=G0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function md(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Q0(t,e){e=e.checked,e!=null&&Ah(t,"checked",e,!1)}function yd(t,e){Q0(t,e);var n=Cr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vd(t,e.type,n):e.hasOwnProperty("defaultValue")&&vd(t,e.type,Cr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vd(t,e,n){(e!=="number"||zl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ji=Array.isArray;function Js(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function xd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ep(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(Ji(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cr(n)}}function Z0(t,e){var n=Cr(e.value),r=Cr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ey(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _d(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ey(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Aa,ty=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Aa=Aa||document.createElement("div"),Aa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Aa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V_=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(t){V_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ao[e]=ao[t]})});function ny(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ao.hasOwnProperty(t)&&ao[t]?(""+e).trim():e+"px"}function ry(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ny(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Y_=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wd(t,e){if(e){if(Y_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function bd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=null;function $h(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sd=null,Qs=null,Zs=null;function Cp(t){if(t=fa(t)){if(typeof Sd!="function")throw Error(A(280));var e=t.stateNode;e&&(e=Lc(e),Sd(t.stateNode,t.type,e))}}function sy(t){Qs?Zs?Zs.push(t):Zs=[t]:Qs=t}function iy(){if(Qs){var t=Qs,e=Zs;if(Zs=Qs=null,Cp(t),e)for(t=0;t<e.length;t++)Cp(e[t])}}function oy(t,e){return t(e)}function ay(){}var mu=!1;function ly(t,e,n){if(mu)return t(e,n);mu=!0;try{return oy(t,e,n)}finally{mu=!1,(Qs!==null||Zs!==null)&&(ay(),iy())}}function Oo(t,e){var n=t.stateNode;if(n===null)return null;var r=Lc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Ed=!1;if(Un)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Ed=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Ed=!1}function K_(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var lo=!1,$l=null,Bl=!1,jd=null,q_={onError:function(t){lo=!0,$l=t}};function X_(t,e,n,r,s,i,o,a,l){lo=!1,$l=null,K_.apply(q_,arguments)}function G_(t,e,n,r,s,i,o,a,l){if(X_.apply(this,arguments),lo){if(lo){var c=$l;lo=!1,$l=null}else throw Error(A(198));Bl||(Bl=!0,jd=c)}}function vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Mp(t){if(vs(t)!==t)throw Error(A(188))}function J_(t){var e=t.alternate;if(!e){if(e=vs(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Mp(s),t;if(i===r)return Mp(s),e;i=i.sibling}throw Error(A(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function uy(t){return t=J_(t),t!==null?dy(t):null}function dy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dy(t);if(e!==null)return e;t=t.sibling}return null}var hy=Ht.unstable_scheduleCallback,Pp=Ht.unstable_cancelCallback,Q_=Ht.unstable_shouldYield,Z_=Ht.unstable_requestPaint,He=Ht.unstable_now,ew=Ht.unstable_getCurrentPriorityLevel,Bh=Ht.unstable_ImmediatePriority,fy=Ht.unstable_UserBlockingPriority,Ul=Ht.unstable_NormalPriority,tw=Ht.unstable_LowPriority,py=Ht.unstable_IdlePriority,Mc=null,wn=null;function nw(t){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Mc,t,void 0,(t.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:iw,rw=Math.log,sw=Math.LN2;function iw(t){return t>>>=0,t===0?32:31-(rw(t)/sw|0)|0}var Ia=64,Fa=4194304;function Qi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Qi(a):(i&=o,i!==0&&(r=Qi(i)))}else o=n&~s,o!==0?r=Qi(o):i!==0&&(r=Qi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-un(e),s=1<<n,r|=t[n],e&=~s;return r}function ow(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-un(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=ow(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Cd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gy(){var t=Ia;return Ia<<=1,!(Ia&4194240)&&(Ia=64),t}function yu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function da(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-un(e),t[e]=n}function lw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-un(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Uh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-un(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var we=0;function my(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yy,Hh,vy,xy,_y,Md=!1,za=[],vr=null,xr=null,_r=null,Do=new Map,No=new Map,lr=[],cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tp(t,e){switch(t){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Do.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(e.pointerId)}}function Di(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=fa(e),e!==null&&Hh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function uw(t,e,n,r,s){switch(e){case"focusin":return vr=Di(vr,t,e,n,r,s),!0;case"dragenter":return xr=Di(xr,t,e,n,r,s),!0;case"mouseover":return _r=Di(_r,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Do.set(i,Di(Do.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,No.set(i,Di(No.get(i)||null,t,e,n,r,s)),!0}return!1}function wy(t){var e=Zr(t.target);if(e!==null){var n=vs(e);if(n!==null){if(e=n.tag,e===13){if(e=cy(n),e!==null){t.blockedOn=e,_y(t.priority,function(){vy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kd=r,n.target.dispatchEvent(r),kd=null}else return e=fa(n),e!==null&&Hh(e),t.blockedOn=n,!1;e.shift()}return!0}function Rp(t,e,n){bl(t)&&n.delete(e)}function dw(){Md=!1,vr!==null&&bl(vr)&&(vr=null),xr!==null&&bl(xr)&&(xr=null),_r!==null&&bl(_r)&&(_r=null),Do.forEach(Rp),No.forEach(Rp)}function Ni(t,e){t.blockedOn===e&&(t.blockedOn=null,Md||(Md=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,dw)))}function Ao(t){function e(s){return Ni(s,t)}if(0<za.length){Ni(za[0],t);for(var n=1;n<za.length;n++){var r=za[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vr!==null&&Ni(vr,t),xr!==null&&Ni(xr,t),_r!==null&&Ni(_r,t),Do.forEach(e),No.forEach(e),n=0;n<lr.length;n++)r=lr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<lr.length&&(n=lr[0],n.blockedOn===null);)wy(n),n.blockedOn===null&&lr.shift()}var ei=qn.ReactCurrentBatchConfig,Wl=!0;function hw(t,e,n,r){var s=we,i=ei.transition;ei.transition=null;try{we=1,Wh(t,e,n,r)}finally{we=s,ei.transition=i}}function fw(t,e,n,r){var s=we,i=ei.transition;ei.transition=null;try{we=4,Wh(t,e,n,r)}finally{we=s,ei.transition=i}}function Wh(t,e,n,r){if(Wl){var s=Pd(t,e,n,r);if(s===null)Cu(t,e,r,Vl,n),Tp(t,r);else if(uw(s,t,e,n,r))r.stopPropagation();else if(Tp(t,r),e&4&&-1<cw.indexOf(t)){for(;s!==null;){var i=fa(s);if(i!==null&&yy(i),i=Pd(t,e,n,r),i===null&&Cu(t,e,r,Vl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Cu(t,e,r,null,n)}}var Vl=null;function Pd(t,e,n,r){if(Vl=null,t=$h(r),t=Zr(t),t!==null)if(e=vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vl=t,null}function by(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ew()){case Bh:return 1;case fy:return 4;case Ul:case tw:return 16;case py:return 536870912;default:return 16}default:return 16}}var dr=null,Vh=null,kl=null;function ky(){if(kl)return kl;var t,e=Vh,n=e.length,r,s="value"in dr?dr.value:dr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return kl=s.slice(t,1<r?1-r:void 0)}function Sl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $a(){return!0}function Lp(){return!1}function Vt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$a:Lp,this.isPropagationStopped=Lp,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),e}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yh=Vt(Si),ha=De({},Si,{view:0,detail:0}),pw=Vt(ha),vu,xu,Ai,Pc=De({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(vu=t.screenX-Ai.screenX,xu=t.screenY-Ai.screenY):xu=vu=0,Ai=t),vu)},movementY:function(t){return"movementY"in t?t.movementY:xu}}),Op=Vt(Pc),gw=De({},Pc,{dataTransfer:0}),mw=Vt(gw),yw=De({},ha,{relatedTarget:0}),_u=Vt(yw),vw=De({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),xw=Vt(vw),_w=De({},Si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ww=Vt(_w),bw=De({},Si,{data:0}),Dp=Vt(bw),kw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ew={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ew[t])?!!e[t]:!1}function Kh(){return jw}var Cw=De({},ha,{key:function(t){if(t.key){var e=kw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kh,charCode:function(t){return t.type==="keypress"?Sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mw=Vt(Cw),Pw=De({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Np=Vt(Pw),Tw=De({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kh}),Rw=Vt(Tw),Lw=De({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ow=Vt(Lw),Dw=De({},Pc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nw=Vt(Dw),Aw=[9,13,27,32],qh=Un&&"CompositionEvent"in window,co=null;Un&&"documentMode"in document&&(co=document.documentMode);var Iw=Un&&"TextEvent"in window&&!co,Sy=Un&&(!qh||co&&8<co&&11>=co),Ap=" ",Ip=!1;function Ey(t,e){switch(t){case"keyup":return Aw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function Fw(t,e){switch(t){case"compositionend":return jy(e);case"keypress":return e.which!==32?null:(Ip=!0,Ap);case"textInput":return t=e.data,t===Ap&&Ip?null:t;default:return null}}function zw(t,e){if(Is)return t==="compositionend"||!qh&&Ey(t,e)?(t=ky(),kl=Vh=dr=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sy&&e.locale!=="ko"?null:e.data;default:return null}}var $w={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$w[t.type]:e==="textarea"}function Cy(t,e,n,r){sy(r),e=Yl(e,"onChange"),0<e.length&&(n=new Yh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uo=null,Io=null;function Bw(t){Fy(t,0)}function Tc(t){var e=$s(t);if(J0(e))return t}function Uw(t,e){if(t==="change")return e}var My=!1;if(Un){var wu;if(Un){var bu="oninput"in document;if(!bu){var zp=document.createElement("div");zp.setAttribute("oninput","return;"),bu=typeof zp.oninput=="function"}wu=bu}else wu=!1;My=wu&&(!document.documentMode||9<document.documentMode)}function $p(){uo&&(uo.detachEvent("onpropertychange",Py),Io=uo=null)}function Py(t){if(t.propertyName==="value"&&Tc(Io)){var e=[];Cy(e,Io,t,$h(t)),ly(Bw,e)}}function Hw(t,e,n){t==="focusin"?($p(),uo=e,Io=n,uo.attachEvent("onpropertychange",Py)):t==="focusout"&&$p()}function Ww(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tc(Io)}function Vw(t,e){if(t==="click")return Tc(e)}function Yw(t,e){if(t==="input"||t==="change")return Tc(e)}function Kw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fn=typeof Object.is=="function"?Object.is:Kw;function Fo(t,e){if(fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!dd.call(e,s)||!fn(t[s],e[s]))return!1}return!0}function Bp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Up(t,e){var n=Bp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bp(n)}}function Ty(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ty(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ry(){for(var t=window,e=zl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zl(t.document)}return e}function Xh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qw(t){var e=Ry(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ty(n.ownerDocument.documentElement,n)){if(r!==null&&Xh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Up(n,i);var o=Up(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xw=Un&&"documentMode"in document&&11>=document.documentMode,Fs=null,Td=null,ho=null,Rd=!1;function Hp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rd||Fs==null||Fs!==zl(r)||(r=Fs,"selectionStart"in r&&Xh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ho&&Fo(ho,r)||(ho=r,r=Yl(Td,"onSelect"),0<r.length&&(e=new Yh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fs)))}function Ba(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zs={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionend:Ba("Transition","TransitionEnd")},ku={},Ly={};Un&&(Ly=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Rc(t){if(ku[t])return ku[t];if(!zs[t])return t;var e=zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ly)return ku[t]=e[n];return t}var Oy=Rc("animationend"),Dy=Rc("animationiteration"),Ny=Rc("animationstart"),Ay=Rc("transitionend"),Iy=new Map,Wp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(t,e){Iy.set(t,e),ys(e,[t])}for(var Su=0;Su<Wp.length;Su++){var Eu=Wp[Su],Gw=Eu.toLowerCase(),Jw=Eu[0].toUpperCase()+Eu.slice(1);Rr(Gw,"on"+Jw)}Rr(Oy,"onAnimationEnd");Rr(Dy,"onAnimationIteration");Rr(Ny,"onAnimationStart");Rr("dblclick","onDoubleClick");Rr("focusin","onFocus");Rr("focusout","onBlur");Rr(Ay,"onTransitionEnd");ci("onMouseEnter",["mouseout","mouseover"]);ci("onMouseLeave",["mouseout","mouseover"]);ci("onPointerEnter",["pointerout","pointerover"]);ci("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function Vp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,G_(r,e,void 0,t),t.currentTarget=null}function Fy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Vp(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Vp(s,a,c),i=l}}}if(Bl)throw t=jd,Bl=!1,jd=null,t}function Me(t,e){var n=e[Ad];n===void 0&&(n=e[Ad]=new Set);var r=t+"__bubble";n.has(r)||(zy(e,t,2,!1),n.add(r))}function ju(t,e,n){var r=0;e&&(r|=4),zy(n,t,r,e)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function zo(t){if(!t[Ua]){t[Ua]=!0,Y0.forEach(function(n){n!=="selectionchange"&&(Qw.has(n)||ju(n,!1,t),ju(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ua]||(e[Ua]=!0,ju("selectionchange",!1,e))}}function zy(t,e,n,r){switch(by(e)){case 1:var s=hw;break;case 4:s=fw;break;default:s=Wh}n=s.bind(null,e,n,t),s=void 0,!Ed||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Cu(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Zr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ly(function(){var c=i,u=$h(n),d=[];e:{var f=Iy.get(t);if(f!==void 0){var p=Yh,v=t;switch(t){case"keypress":if(Sl(n)===0)break e;case"keydown":case"keyup":p=Mw;break;case"focusin":v="focus",p=_u;break;case"focusout":v="blur",p=_u;break;case"beforeblur":case"afterblur":p=_u;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=mw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Rw;break;case Oy:case Dy:case Ny:p=xw;break;case Ay:p=Ow;break;case"scroll":p=pw;break;case"wheel":p=Nw;break;case"copy":case"cut":case"paste":p=ww;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Np}var m=(e&4)!==0,x=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var y=c,_;y!==null;){_=y;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,g!==null&&(w=Oo(y,g),w!=null&&m.push($o(y,w,_)))),x)break;y=y.return}0<m.length&&(f=new p(f,v,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==kd&&(v=n.relatedTarget||n.fromElement)&&(Zr(v)||v[Hn]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?Zr(v):null,v!==null&&(x=vs(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(m=Op,w="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=Np,w="onPointerLeave",g="onPointerEnter",y="pointer"),x=p==null?f:$s(p),_=v==null?f:$s(v),f=new m(w,y+"leave",p,n,u),f.target=x,f.relatedTarget=_,w=null,Zr(u)===c&&(m=new m(g,y+"enter",v,n,u),m.target=_,m.relatedTarget=x,w=m),x=w,p&&v)t:{for(m=p,g=v,y=0,_=m;_;_=js(_))y++;for(_=0,w=g;w;w=js(w))_++;for(;0<y-_;)m=js(m),y--;for(;0<_-y;)g=js(g),_--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=js(m),g=js(g)}m=null}else m=null;p!==null&&Yp(d,f,p,m,!1),v!==null&&x!==null&&Yp(d,x,v,m,!0)}}e:{if(f=c?$s(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=Uw;else if(Fp(f))if(My)k=Yw;else{k=Ww;var E=Hw}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Vw);if(k&&(k=k(t,c))){Cy(d,k,n,u);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&vd(f,"number",f.value)}switch(E=c?$s(c):window,t){case"focusin":(Fp(E)||E.contentEditable==="true")&&(Fs=E,Td=c,ho=null);break;case"focusout":ho=Td=Fs=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,Hp(d,n,u);break;case"selectionchange":if(Xw)break;case"keydown":case"keyup":Hp(d,n,u)}var C;if(qh)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Is?Ey(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Sy&&n.locale!=="ko"&&(Is||S!=="onCompositionStart"?S==="onCompositionEnd"&&Is&&(C=ky()):(dr=u,Vh="value"in dr?dr.value:dr.textContent,Is=!0)),E=Yl(c,S),0<E.length&&(S=new Dp(S,t,null,n,u),d.push({event:S,listeners:E}),C?S.data=C:(C=jy(n),C!==null&&(S.data=C)))),(C=Iw?Fw(t,n):zw(t,n))&&(c=Yl(c,"onBeforeInput"),0<c.length&&(u=new Dp("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}Fy(d,e)})}function $o(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Oo(t,n),i!=null&&r.unshift($o(t,i,s)),i=Oo(t,e),i!=null&&r.push($o(t,i,s))),t=t.return}return r}function js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yp(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Oo(n,i),l!=null&&o.unshift($o(n,l,a))):s||(l=Oo(n,i),l!=null&&o.push($o(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Zw=/\r\n?/g,eb=/\u0000|\uFFFD/g;function Kp(t){return(typeof t=="string"?t:""+t).replace(Zw,`
`).replace(eb,"")}function Ha(t,e,n){if(e=Kp(e),Kp(t)!==e&&n)throw Error(A(425))}function Kl(){}var Ld=null,Od=null;function Dd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nd=typeof setTimeout=="function"?setTimeout:void 0,tb=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(t){return qp.resolve(null).then(t).catch(rb)}:Nd;function rb(t){setTimeout(function(){throw t})}function Mu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ao(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ao(e)}function wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ei=Math.random().toString(36).slice(2),_n="__reactFiber$"+Ei,Bo="__reactProps$"+Ei,Hn="__reactContainer$"+Ei,Ad="__reactEvents$"+Ei,sb="__reactListeners$"+Ei,ib="__reactHandles$"+Ei;function Zr(t){var e=t[_n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hn]||n[_n]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xp(t);t!==null;){if(n=t[_n])return n;t=Xp(t)}return e}t=n,n=t.parentNode}return null}function fa(t){return t=t[_n]||t[Hn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function Lc(t){return t[Bo]||null}var Id=[],Bs=-1;function Lr(t){return{current:t}}function Pe(t){0>Bs||(t.current=Id[Bs],Id[Bs]=null,Bs--)}function je(t,e){Bs++,Id[Bs]=t.current,t.current=e}var Mr={},dt=Lr(Mr),Ct=Lr(!1),ls=Mr;function ui(t,e){var n=t.type.contextTypes;if(!n)return Mr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Mt(t){return t=t.childContextTypes,t!=null}function ql(){Pe(Ct),Pe(dt)}function Gp(t,e,n){if(dt.current!==Mr)throw Error(A(168));je(dt,e),je(Ct,n)}function $y(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(A(108,H_(t)||"Unknown",s));return De({},n,r)}function Xl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mr,ls=dt.current,je(dt,t),je(Ct,Ct.current),!0}function Jp(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=$y(t,e,ls),r.__reactInternalMemoizedMergedChildContext=t,Pe(Ct),Pe(dt),je(dt,t)):Pe(Ct),je(Ct,n)}var Dn=null,Oc=!1,Pu=!1;function By(t){Dn===null?Dn=[t]:Dn.push(t)}function ob(t){Oc=!0,By(t)}function Or(){if(!Pu&&Dn!==null){Pu=!0;var t=0,e=we;try{var n=Dn;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dn=null,Oc=!1}catch(s){throw Dn!==null&&(Dn=Dn.slice(t+1)),hy(Bh,Or),s}finally{we=e,Pu=!1}}return null}var Us=[],Hs=0,Gl=null,Jl=0,Kt=[],qt=0,cs=null,An=1,In="";function Vr(t,e){Us[Hs++]=Jl,Us[Hs++]=Gl,Gl=t,Jl=e}function Uy(t,e,n){Kt[qt++]=An,Kt[qt++]=In,Kt[qt++]=cs,cs=t;var r=An;t=In;var s=32-un(r)-1;r&=~(1<<s),n+=1;var i=32-un(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,An=1<<32-un(e)+s|n<<s|r,In=i+t}else An=1<<i|n<<s|r,In=t}function Gh(t){t.return!==null&&(Vr(t,1),Uy(t,1,0))}function Jh(t){for(;t===Gl;)Gl=Us[--Hs],Us[Hs]=null,Jl=Us[--Hs],Us[Hs]=null;for(;t===cs;)cs=Kt[--qt],Kt[qt]=null,In=Kt[--qt],Kt[qt]=null,An=Kt[--qt],Kt[qt]=null}var $t=null,It=null,Te=!1,ln=null;function Hy(t,e){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,It=wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,It=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cs!==null?{id:An,overflow:In}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$t=t,It=null,!0):!1;default:return!1}}function Fd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zd(t){if(Te){var e=It;if(e){var n=e;if(!Qp(t,e)){if(Fd(t))throw Error(A(418));e=wr(n.nextSibling);var r=$t;e&&Qp(t,e)?Hy(r,n):(t.flags=t.flags&-4097|2,Te=!1,$t=t)}}else{if(Fd(t))throw Error(A(418));t.flags=t.flags&-4097|2,Te=!1,$t=t}}}function Zp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function Wa(t){if(t!==$t)return!1;if(!Te)return Zp(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dd(t.type,t.memoizedProps)),e&&(e=It)){if(Fd(t))throw Wy(),Error(A(418));for(;e;)Hy(t,e),e=wr(e.nextSibling)}if(Zp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){It=wr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}It=null}}else It=$t?wr(t.stateNode.nextSibling):null;return!0}function Wy(){for(var t=It;t;)t=wr(t.nextSibling)}function di(){It=$t=null,Te=!1}function Qh(t){ln===null?ln=[t]:ln.push(t)}var ab=qn.ReactCurrentBatchConfig;function Ii(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function Va(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eg(t){var e=t._init;return e(t._payload)}function Vy(t){function e(g,y){if(t){var _=g.deletions;_===null?(g.deletions=[y],g.flags|=16):_.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Er(g,y),g.index=0,g.sibling=null,g}function i(g,y,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<y?(g.flags|=2,y):_):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,_,w){return y===null||y.tag!==6?(y=Au(_,g.mode,w),y.return=g,y):(y=s(y,_),y.return=g,y)}function l(g,y,_,w){var k=_.type;return k===As?u(g,y,_.props.children,w,_.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ir&&eg(k)===y.type)?(w=s(y,_.props),w.ref=Ii(g,y,_),w.return=g,w):(w=Rl(_.type,_.key,_.props,null,g.mode,w),w.ref=Ii(g,y,_),w.return=g,w)}function c(g,y,_,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Iu(_,g.mode,w),y.return=g,y):(y=s(y,_.children||[]),y.return=g,y)}function u(g,y,_,w,k){return y===null||y.tag!==7?(y=is(_,g.mode,w,k),y.return=g,y):(y=s(y,_),y.return=g,y)}function d(g,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Au(""+y,g.mode,_),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Da:return _=Rl(y.type,y.key,y.props,null,g.mode,_),_.ref=Ii(g,null,y),_.return=g,_;case Ns:return y=Iu(y,g.mode,_),y.return=g,y;case ir:var w=y._init;return d(g,w(y._payload),_)}if(Ji(y)||Li(y))return y=is(y,g.mode,_,null),y.return=g,y;Va(g,y)}return null}function f(g,y,_,w){var k=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return k!==null?null:a(g,y,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Da:return _.key===k?l(g,y,_,w):null;case Ns:return _.key===k?c(g,y,_,w):null;case ir:return k=_._init,f(g,y,k(_._payload),w)}if(Ji(_)||Li(_))return k!==null?null:u(g,y,_,w,null);Va(g,_)}return null}function p(g,y,_,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(_)||null,a(y,g,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Da:return g=g.get(w.key===null?_:w.key)||null,l(y,g,w,k);case Ns:return g=g.get(w.key===null?_:w.key)||null,c(y,g,w,k);case ir:var E=w._init;return p(g,y,_,E(w._payload),k)}if(Ji(w)||Li(w))return g=g.get(_)||null,u(y,g,w,k,null);Va(y,w)}return null}function v(g,y,_,w){for(var k=null,E=null,C=y,S=y=0,P=null;C!==null&&S<_.length;S++){C.index>S?(P=C,C=null):P=C.sibling;var L=f(g,C,_[S],w);if(L===null){C===null&&(C=P);break}t&&C&&L.alternate===null&&e(g,C),y=i(L,y,S),E===null?k=L:E.sibling=L,E=L,C=P}if(S===_.length)return n(g,C),Te&&Vr(g,S),k;if(C===null){for(;S<_.length;S++)C=d(g,_[S],w),C!==null&&(y=i(C,y,S),E===null?k=C:E.sibling=C,E=C);return Te&&Vr(g,S),k}for(C=r(g,C);S<_.length;S++)P=p(C,g,S,_[S],w),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?S:P.key),y=i(P,y,S),E===null?k=P:E.sibling=P,E=P);return t&&C.forEach(function(D){return e(g,D)}),Te&&Vr(g,S),k}function m(g,y,_,w){var k=Li(_);if(typeof k!="function")throw Error(A(150));if(_=k.call(_),_==null)throw Error(A(151));for(var E=k=null,C=y,S=y=0,P=null,L=_.next();C!==null&&!L.done;S++,L=_.next()){C.index>S?(P=C,C=null):P=C.sibling;var D=f(g,C,L.value,w);if(D===null){C===null&&(C=P);break}t&&C&&D.alternate===null&&e(g,C),y=i(D,y,S),E===null?k=D:E.sibling=D,E=D,C=P}if(L.done)return n(g,C),Te&&Vr(g,S),k;if(C===null){for(;!L.done;S++,L=_.next())L=d(g,L.value,w),L!==null&&(y=i(L,y,S),E===null?k=L:E.sibling=L,E=L);return Te&&Vr(g,S),k}for(C=r(g,C);!L.done;S++,L=_.next())L=p(C,g,S,L.value,w),L!==null&&(t&&L.alternate!==null&&C.delete(L.key===null?S:L.key),y=i(L,y,S),E===null?k=L:E.sibling=L,E=L);return t&&C.forEach(function(R){return e(g,R)}),Te&&Vr(g,S),k}function x(g,y,_,w){if(typeof _=="object"&&_!==null&&_.type===As&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Da:e:{for(var k=_.key,E=y;E!==null;){if(E.key===k){if(k=_.type,k===As){if(E.tag===7){n(g,E.sibling),y=s(E,_.props.children),y.return=g,g=y;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ir&&eg(k)===E.type){n(g,E.sibling),y=s(E,_.props),y.ref=Ii(g,E,_),y.return=g,g=y;break e}n(g,E);break}else e(g,E);E=E.sibling}_.type===As?(y=is(_.props.children,g.mode,w,_.key),y.return=g,g=y):(w=Rl(_.type,_.key,_.props,null,g.mode,w),w.ref=Ii(g,y,_),w.return=g,g=w)}return o(g);case Ns:e:{for(E=_.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(g,y.sibling),y=s(y,_.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=Iu(_,g.mode,w),y.return=g,g=y}return o(g);case ir:return E=_._init,x(g,y,E(_._payload),w)}if(Ji(_))return v(g,y,_,w);if(Li(_))return m(g,y,_,w);Va(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(g,y.sibling),y=s(y,_),y.return=g,g=y):(n(g,y),y=Au(_,g.mode,w),y.return=g,g=y),o(g)):n(g,y)}return x}var hi=Vy(!0),Yy=Vy(!1),Ql=Lr(null),Zl=null,Ws=null,Zh=null;function ef(){Zh=Ws=Zl=null}function tf(t){var e=Ql.current;Pe(Ql),t._currentValue=e}function $d(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ti(t,e){Zl=t,Zh=Ws=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function Zt(t){var e=t._currentValue;if(Zh!==t)if(t={context:t,memoizedValue:e,next:null},Ws===null){if(Zl===null)throw Error(A(308));Ws=t,Zl.dependencies={lanes:0,firstContext:t}}else Ws=Ws.next=t;return e}var es=null;function nf(t){es===null?es=[t]:es.push(t)}function Ky(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,nf(e)):(n.next=s.next,s.next=n),e.interleaved=n,Wn(t,r)}function Wn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var or=!1;function rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function br(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Wn(t,n)}return s=r.interleaved,s===null?(e.next=e,nf(r)):(e.next=s.next,s.next=e),r.interleaved=e,Wn(t,n)}function El(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uh(t,n)}}function tg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ec(t,e,n,r){var s=t.updateQueue;or=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,m=a;switch(f=e,p=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){d=v.call(p,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,f=typeof v=="function"?v.call(p,d,f):v,f==null)break e;d=De({},d,f);break e;case 2:or=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ds|=o,t.lanes=o,t.memoizedState=d}}function ng(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(A(191,s));s.call(r)}}}var pa={},bn=Lr(pa),Uo=Lr(pa),Ho=Lr(pa);function ts(t){if(t===pa)throw Error(A(174));return t}function sf(t,e){switch(je(Ho,e),je(Uo,t),je(bn,pa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_d(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_d(e,t)}Pe(bn),je(bn,e)}function fi(){Pe(bn),Pe(Uo),Pe(Ho)}function Xy(t){ts(Ho.current);var e=ts(bn.current),n=_d(e,t.type);e!==n&&(je(Uo,t),je(bn,n))}function of(t){Uo.current===t&&(Pe(bn),Pe(Uo))}var Le=Lr(0);function tc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tu=[];function af(){for(var t=0;t<Tu.length;t++)Tu[t]._workInProgressVersionPrimary=null;Tu.length=0}var jl=qn.ReactCurrentDispatcher,Ru=qn.ReactCurrentBatchConfig,us=0,Oe=null,qe=null,tt=null,nc=!1,fo=!1,Wo=0,lb=0;function at(){throw Error(A(321))}function lf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fn(t[n],e[n]))return!1;return!0}function cf(t,e,n,r,s,i){if(us=i,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jl.current=t===null||t.memoizedState===null?hb:fb,t=n(r,s),fo){i=0;do{if(fo=!1,Wo=0,25<=i)throw Error(A(301));i+=1,tt=qe=null,e.updateQueue=null,jl.current=pb,t=n(r,s)}while(fo)}if(jl.current=rc,e=qe!==null&&qe.next!==null,us=0,tt=qe=Oe=null,nc=!1,e)throw Error(A(300));return t}function uf(){var t=Wo!==0;return Wo=0,t}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Oe.memoizedState=tt=t:tt=tt.next=t,tt}function en(){if(qe===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var e=tt===null?Oe.memoizedState:tt.next;if(e!==null)tt=e,qe=t;else{if(t===null)throw Error(A(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},tt===null?Oe.memoizedState=tt=t:tt=tt.next=t}return tt}function Vo(t,e){return typeof e=="function"?e(t):e}function Lu(t){var e=en(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=qe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((us&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Oe.lanes|=u,ds|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,fn(r,e.memoizedState)||(jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Oe.lanes|=i,ds|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ou(t){var e=en(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);fn(i,e.memoizedState)||(jt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Gy(){}function Jy(t,e){var n=Oe,r=en(),s=e(),i=!fn(r.memoizedState,s);if(i&&(r.memoizedState=s,jt=!0),r=r.queue,df(ev.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Yo(9,Zy.bind(null,n,r,s,e),void 0,null),rt===null)throw Error(A(349));us&30||Qy(n,e,s)}return s}function Qy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Zy(t,e,n,r){e.value=n,e.getSnapshot=r,tv(e)&&nv(t)}function ev(t,e,n){return n(function(){tv(e)&&nv(t)})}function tv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fn(t,n)}catch{return!0}}function nv(t){var e=Wn(t,1);e!==null&&dn(e,t,1,-1)}function rg(t){var e=vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:t},e.queue=t,t=t.dispatch=db.bind(null,Oe,t),[e.memoizedState,t]}function Yo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rv(){return en().memoizedState}function Cl(t,e,n,r){var s=vn();Oe.flags|=t,s.memoizedState=Yo(1|e,n,void 0,r===void 0?null:r)}function Dc(t,e,n,r){var s=en();r=r===void 0?null:r;var i=void 0;if(qe!==null){var o=qe.memoizedState;if(i=o.destroy,r!==null&&lf(r,o.deps)){s.memoizedState=Yo(e,n,i,r);return}}Oe.flags|=t,s.memoizedState=Yo(1|e,n,i,r)}function sg(t,e){return Cl(8390656,8,t,e)}function df(t,e){return Dc(2048,8,t,e)}function sv(t,e){return Dc(4,2,t,e)}function iv(t,e){return Dc(4,4,t,e)}function ov(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function av(t,e,n){return n=n!=null?n.concat([t]):null,Dc(4,4,ov.bind(null,e,t),n)}function hf(){}function lv(t,e){var n=en();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cv(t,e){var n=en();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function uv(t,e,n){return us&21?(fn(n,e)||(n=gy(),Oe.lanes|=n,ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function cb(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=Ru.transition;Ru.transition={};try{t(!1),e()}finally{we=n,Ru.transition=r}}function dv(){return en().memoizedState}function ub(t,e,n){var r=Sr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hv(t))fv(e,n);else if(n=Ky(t,e,n,r),n!==null){var s=vt();dn(n,t,r,s),pv(n,e,r)}}function db(t,e,n){var r=Sr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hv(t))fv(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,fn(a,o)){var l=e.interleaved;l===null?(s.next=s,nf(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Ky(t,e,s,r),n!==null&&(s=vt(),dn(n,t,r,s),pv(n,e,r))}}function hv(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function fv(t,e){fo=nc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uh(t,n)}}var rc={readContext:Zt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},hb={readContext:Zt,useCallback:function(t,e){return vn().memoizedState=[t,e===void 0?null:e],t},useContext:Zt,useEffect:sg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cl(4194308,4,ov.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cl(4,2,t,e)},useMemo:function(t,e){var n=vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ub.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=vn();return t={current:t},e.memoizedState=t},useState:rg,useDebugValue:hf,useDeferredValue:function(t){return vn().memoizedState=t},useTransition:function(){var t=rg(!1),e=t[0];return t=cb.bind(null,t[1]),vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,s=vn();if(Te){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),rt===null)throw Error(A(349));us&30||Qy(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,sg(ev.bind(null,r,i,t),[t]),r.flags|=2048,Yo(9,Zy.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=vn(),e=rt.identifierPrefix;if(Te){var n=In,r=An;n=(r&~(1<<32-un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=lb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fb={readContext:Zt,useCallback:lv,useContext:Zt,useEffect:df,useImperativeHandle:av,useInsertionEffect:sv,useLayoutEffect:iv,useMemo:cv,useReducer:Lu,useRef:rv,useState:function(){return Lu(Vo)},useDebugValue:hf,useDeferredValue:function(t){var e=en();return uv(e,qe.memoizedState,t)},useTransition:function(){var t=Lu(Vo)[0],e=en().memoizedState;return[t,e]},useMutableSource:Gy,useSyncExternalStore:Jy,useId:dv,unstable_isNewReconciler:!1},pb={readContext:Zt,useCallback:lv,useContext:Zt,useEffect:df,useImperativeHandle:av,useInsertionEffect:sv,useLayoutEffect:iv,useMemo:cv,useReducer:Ou,useRef:rv,useState:function(){return Ou(Vo)},useDebugValue:hf,useDeferredValue:function(t){var e=en();return qe===null?e.memoizedState=t:uv(e,qe.memoizedState,t)},useTransition:function(){var t=Ou(Vo)[0],e=en().memoizedState;return[t,e]},useMutableSource:Gy,useSyncExternalStore:Jy,useId:dv,unstable_isNewReconciler:!1};function rn(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nc={isMounted:function(t){return(t=t._reactInternals)?vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vt(),s=Sr(t),i=$n(r,s);i.payload=e,n!=null&&(i.callback=n),e=br(t,i,s),e!==null&&(dn(e,t,s,r),El(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vt(),s=Sr(t),i=$n(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=br(t,i,s),e!==null&&(dn(e,t,s,r),El(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),r=Sr(t),s=$n(n,r);s.tag=2,e!=null&&(s.callback=e),e=br(t,s,r),e!==null&&(dn(e,t,r,n),El(e,t,r))}};function ig(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Fo(n,r)||!Fo(s,i):!0}function gv(t,e,n){var r=!1,s=Mr,i=e.contextType;return typeof i=="object"&&i!==null?i=Zt(i):(s=Mt(e)?ls:dt.current,r=e.contextTypes,i=(r=r!=null)?ui(t,s):Mr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function og(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nc.enqueueReplaceState(e,e.state,null)}function Ud(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},rf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Zt(i):(i=Mt(e)?ls:dt.current,s.context=ui(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Bd(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Nc.enqueueReplaceState(s,s.state,null),ec(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function pi(t,e){try{var n="",r=e;do n+=U_(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Du(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gb=typeof WeakMap=="function"?WeakMap:Map;function mv(t,e,n){n=$n(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ic||(ic=!0,Zd=r),Hd(t,e)},n}function yv(t,e,n){n=$n(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Hd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Hd(t,e),typeof r!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ag(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gb;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Pb.bind(null,t,e,n),e.then(t,t))}function lg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cg(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$n(-1,1),e.tag=2,br(n,e,1))),n.lanes|=1),t)}var mb=qn.ReactCurrentOwner,jt=!1;function pt(t,e,n,r){e.child=t===null?Yy(e,null,n,r):hi(e,t.child,n,r)}function ug(t,e,n,r,s){n=n.render;var i=e.ref;return ti(e,s),r=cf(t,e,n,r,i,s),n=uf(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vn(t,e,s)):(Te&&n&&Gh(e),e.flags|=1,pt(t,e,r,s),e.child)}function dg(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!_f(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,vv(t,e,i,r,s)):(t=Rl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fo,n(o,r)&&t.ref===e.ref)return Vn(t,e,s)}return e.flags|=1,t=Er(i,r),t.ref=e.ref,t.return=e,e.child=t}function vv(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Fo(i,r)&&t.ref===e.ref)if(jt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,Vn(t,e,s)}return Wd(t,e,n,r,s)}function xv(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Ys,Nt),Nt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Ys,Nt),Nt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,je(Ys,Nt),Nt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,je(Ys,Nt),Nt|=r;return pt(t,e,s,n),e.child}function _v(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wd(t,e,n,r,s){var i=Mt(n)?ls:dt.current;return i=ui(e,i),ti(e,s),n=cf(t,e,n,r,i,s),r=uf(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vn(t,e,s)):(Te&&r&&Gh(e),e.flags|=1,pt(t,e,n,s),e.child)}function hg(t,e,n,r,s){if(Mt(n)){var i=!0;Xl(e)}else i=!1;if(ti(e,s),e.stateNode===null)Ml(t,e),gv(e,n,r),Ud(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Zt(c):(c=Mt(n)?ls:dt.current,c=ui(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&og(e,o,r,c),or=!1;var f=e.memoizedState;o.state=f,ec(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Ct.current||or?(typeof u=="function"&&(Bd(e,n,u,r),l=e.memoizedState),(a=or||ig(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,qy(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Zt(l):(l=Mt(n)?ls:dt.current,l=ui(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&og(e,o,r,l),or=!1,f=e.memoizedState,o.state=f,ec(e,r,o,s);var v=e.memoizedState;a!==d||f!==v||Ct.current||or?(typeof p=="function"&&(Bd(e,n,p,r),v=e.memoizedState),(c=or||ig(e,n,c,r,f,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Vd(t,e,n,r,i,s)}function Vd(t,e,n,r,s,i){_v(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Jp(e,n,!1),Vn(t,e,i);r=e.stateNode,mb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=hi(e,t.child,null,i),e.child=hi(e,null,a,i)):pt(t,e,a,i),e.memoizedState=r.state,s&&Jp(e,n,!0),e.child}function wv(t){var e=t.stateNode;e.pendingContext?Gp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Gp(t,e.context,!1),sf(t,e.containerInfo)}function fg(t,e,n,r,s){return di(),Qh(s),e.flags|=256,pt(t,e,n,r),e.child}var Yd={dehydrated:null,treeContext:null,retryLane:0};function Kd(t){return{baseLanes:t,cachePool:null,transitions:null}}function bv(t,e,n){var r=e.pendingProps,s=Le.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),je(Le,s&1),t===null)return zd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Fc(o,r,0,null),t=is(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Kd(n),e.memoizedState=Yd,t):ff(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return yb(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Er(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Er(a,i):(i=is(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Kd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Yd,r}return i=t.child,t=i.sibling,r=Er(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ff(t,e){return e=Fc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ya(t,e,n,r){return r!==null&&Qh(r),hi(e,t.child,null,n),t=ff(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yb(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Du(Error(A(422))),Ya(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Fc({mode:"visible",children:r.children},s,0,null),i=is(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&hi(e,t.child,null,o),e.child.memoizedState=Kd(o),e.memoizedState=Yd,i);if(!(e.mode&1))return Ya(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(A(419)),r=Du(i,r,void 0),Ya(t,e,o,r)}if(a=(o&t.childLanes)!==0,jt||a){if(r=rt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Wn(t,s),dn(r,t,s,-1))}return xf(),r=Du(Error(A(421))),Ya(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Tb.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,It=wr(s.nextSibling),$t=e,Te=!0,ln=null,t!==null&&(Kt[qt++]=An,Kt[qt++]=In,Kt[qt++]=cs,An=t.id,In=t.overflow,cs=e),e=ff(e,r.children),e.flags|=4096,e)}function pg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$d(t.return,e,n)}function Nu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function kv(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(pt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pg(t,n,e);else if(t.tag===19)pg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Le,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&tc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Nu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&tc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Nu(e,!0,n,null,i);break;case"together":Nu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ml(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=Er(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Er(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vb(t,e,n){switch(e.tag){case 3:wv(e),di();break;case 5:Xy(e);break;case 1:Mt(e.type)&&Xl(e);break;case 4:sf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;je(Ql,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?bv(t,e,n):(je(Le,Le.current&1),t=Vn(t,e,n),t!==null?t.sibling:null);je(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kv(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,xv(t,e,n)}return Vn(t,e,n)}var Sv,qd,Ev,jv;Sv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qd=function(){};Ev=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ts(bn.current);var i=null;switch(n){case"input":s=md(t,s),r=md(t,r),i=[];break;case"select":s=De({},s,{value:void 0}),r=De({},r,{value:void 0}),i=[];break;case"textarea":s=xd(t,s),r=xd(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kl)}wd(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ro.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Me("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};jv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fi(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xb(t,e,n){var r=e.pendingProps;switch(Jh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return Mt(e.type)&&ql(),lt(e),null;case 3:return r=e.stateNode,fi(),Pe(Ct),Pe(dt),af(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ln!==null&&(nh(ln),ln=null))),qd(t,e),lt(e),null;case 5:of(e);var s=ts(Ho.current);if(n=e.type,t!==null&&e.stateNode!=null)Ev(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return lt(e),null}if(t=ts(bn.current),Wa(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[_n]=e,r[Bo]=i,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(s=0;s<Zi.length;s++)Me(Zi[s],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":kp(r,i),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Me("invalid",r);break;case"textarea":Ep(r,i),Me("invalid",r)}wd(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ha(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ha(r.textContent,a,t),s=["children",""+a]):Ro.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":Na(r),Sp(r,i,!0);break;case"textarea":Na(r),jp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Kl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ey(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_n]=e,t[Bo]=r,Sv(t,e,!1,!1),e.stateNode=t;e:{switch(o=bd(n,r),n){case"dialog":Me("cancel",t),Me("close",t),s=r;break;case"iframe":case"object":case"embed":Me("load",t),s=r;break;case"video":case"audio":for(s=0;s<Zi.length;s++)Me(Zi[s],t);s=r;break;case"source":Me("error",t),s=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),s=r;break;case"details":Me("toggle",t),s=r;break;case"input":kp(t,r),s=md(t,r),Me("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=De({},r,{value:void 0}),Me("invalid",t);break;case"textarea":Ep(t,r),s=xd(t,r),Me("invalid",t);break;default:s=r}wd(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?ry(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ty(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lo(t,l):typeof l=="number"&&Lo(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ro.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Me("scroll",t):l!=null&&Ah(t,i,l,o))}switch(n){case"input":Na(t),Sp(t,r,!1);break;case"textarea":Na(t),jp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Js(t,!!r.multiple,i,!1):r.defaultValue!=null&&Js(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)jv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=ts(Ho.current),ts(bn.current),Wa(e)){if(r=e.stateNode,n=e.memoizedProps,r[_n]=e,(i=r.nodeValue!==n)&&(t=$t,t!==null))switch(t.tag){case 3:Ha(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ha(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_n]=e,e.stateNode=r}return lt(e),null;case 13:if(Pe(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&It!==null&&e.mode&1&&!(e.flags&128))Wy(),di(),e.flags|=98560,i=!1;else if(i=Wa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(A(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[_n]=e}else di(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),i=!1}else ln!==null&&(nh(ln),ln=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?Xe===0&&(Xe=3):xf())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return fi(),qd(t,e),t===null&&zo(e.stateNode.containerInfo),lt(e),null;case 10:return tf(e.type._context),lt(e),null;case 17:return Mt(e.type)&&ql(),lt(e),null;case 19:if(Pe(Le),i=e.memoizedState,i===null)return lt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Fi(i,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=tc(t),o!==null){for(e.flags|=128,Fi(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Le,Le.current&1|2),e.child}t=t.sibling}i.tail!==null&&He()>gi&&(e.flags|=128,r=!0,Fi(i,!1),e.lanes=4194304)}else{if(!r)if(t=tc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Te)return lt(e),null}else 2*He()-i.renderingStartTime>gi&&n!==1073741824&&(e.flags|=128,r=!0,Fi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=He(),e.sibling=null,n=Le.current,je(Le,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return vf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nt&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function _b(t,e){switch(Jh(e),e.tag){case 1:return Mt(e.type)&&ql(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fi(),Pe(Ct),Pe(dt),af(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return of(e),null;case 13:if(Pe(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));di()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(Le),null;case 4:return fi(),null;case 10:return tf(e.type._context),null;case 22:case 23:return vf(),null;case 24:return null;default:return null}}var Ka=!1,ct=!1,wb=typeof WeakSet=="function"?WeakSet:Set,U=null;function Vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function Xd(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var gg=!1;function bb(t,e){if(Ld=Wl,t=Ry(),Xh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Od={focusedElem:t,selectionRange:n},Wl=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,x=v.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:rn(e.type,m),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(w){Fe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return v=gg,gg=!1,v}function po(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xd(e,n,i)}s=s.next}while(s!==r)}}function Ac(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Cv(t){var e=t.alternate;e!==null&&(t.alternate=null,Cv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_n],delete e[Bo],delete e[Ad],delete e[sb],delete e[ib])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Mv(t){return t.tag===5||t.tag===3||t.tag===4}function mg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kl));else if(r!==4&&(t=t.child,t!==null))for(Jd(t,e,n),t=t.sibling;t!==null;)Jd(t,e,n),t=t.sibling}function Qd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qd(t,e,n),t=t.sibling;t!==null;)Qd(t,e,n),t=t.sibling}var st=null,sn=!1;function Zn(t,e,n){for(n=n.child;n!==null;)Pv(t,e,n),n=n.sibling}function Pv(t,e,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Mc,n)}catch{}switch(n.tag){case 5:ct||Vs(n,e);case 6:var r=st,s=sn;st=null,Zn(t,e,n),st=r,sn=s,st!==null&&(sn?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(sn?(t=st,n=n.stateNode,t.nodeType===8?Mu(t.parentNode,n):t.nodeType===1&&Mu(t,n),Ao(t)):Mu(st,n.stateNode));break;case 4:r=st,s=sn,st=n.stateNode.containerInfo,sn=!0,Zn(t,e,n),st=r,sn=s;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Xd(n,e,o),s=s.next}while(s!==r)}Zn(t,e,n);break;case 1:if(!ct&&(Vs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}Zn(t,e,n);break;case 21:Zn(t,e,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,Zn(t,e,n),ct=r):Zn(t,e,n);break;default:Zn(t,e,n)}}function yg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wb),e.forEach(function(r){var s=Rb.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,sn=!1;break e;case 3:st=a.stateNode.containerInfo,sn=!0;break e;case 4:st=a.stateNode.containerInfo,sn=!0;break e}a=a.return}if(st===null)throw Error(A(160));Pv(i,o,s),st=null,sn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Fe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Tv(e,t),e=e.sibling}function Tv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tn(e,t),mn(t),r&4){try{po(3,t,t.return),Ac(3,t)}catch(m){Fe(t,t.return,m)}try{po(5,t,t.return)}catch(m){Fe(t,t.return,m)}}break;case 1:tn(e,t),mn(t),r&512&&n!==null&&Vs(n,n.return);break;case 5:if(tn(e,t),mn(t),r&512&&n!==null&&Vs(n,n.return),t.flags&32){var s=t.stateNode;try{Lo(s,"")}catch(m){Fe(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Q0(s,i),bd(a,o);var c=bd(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?ry(s,d):u==="dangerouslySetInnerHTML"?ty(s,d):u==="children"?Lo(s,d):Ah(s,u,d,c)}switch(a){case"input":yd(s,i);break;case"textarea":Z0(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Js(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Js(s,!!i.multiple,i.defaultValue,!0):Js(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bo]=i}catch(m){Fe(t,t.return,m)}}break;case 6:if(tn(e,t),mn(t),r&4){if(t.stateNode===null)throw Error(A(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){Fe(t,t.return,m)}}break;case 3:if(tn(e,t),mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ao(e.containerInfo)}catch(m){Fe(t,t.return,m)}break;case 4:tn(e,t),mn(t);break;case 13:tn(e,t),mn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(mf=He())),r&4&&yg(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(c=ct)||u,tn(e,t),ct=c):tn(e,t),mn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(U=t,u=t.child;u!==null;){for(d=U=u;U!==null;){switch(f=U,p=f.child,f.tag){case 0:case 11:case 14:case 15:po(4,f,f.return);break;case 1:Vs(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){Fe(r,n,m)}}break;case 5:Vs(f,f.return);break;case 22:if(f.memoizedState!==null){xg(d);continue}}p!==null?(p.return=f,U=p):xg(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ny("display",o))}catch(m){Fe(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Fe(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:tn(e,t),mn(t),r&4&&yg(t);break;case 21:break;default:tn(e,t),mn(t)}}function mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Mv(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Lo(s,""),r.flags&=-33);var i=mg(t);Qd(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=mg(t);Jd(t,a,o);break;default:throw Error(A(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kb(t,e,n){U=t,Rv(t)}function Rv(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ka;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ct;a=Ka;var c=ct;if(Ka=o,(ct=l)&&!c)for(U=s;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?_g(s):l!==null?(l.return=o,U=l):_g(s);for(;i!==null;)U=i,Rv(i),i=i.sibling;U=s,Ka=a,ct=c}vg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):vg(t)}}function vg(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||Ac(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:rn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ng(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ng(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ao(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}ct||e.flags&512&&Gd(e)}catch(f){Fe(e,e.return,f)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function xg(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function _g(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ac(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Fe(e,s,l)}}var i=e.return;try{Gd(e)}catch(l){Fe(e,i,l)}break;case 5:var o=e.return;try{Gd(e)}catch(l){Fe(e,o,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var Sb=Math.ceil,sc=qn.ReactCurrentDispatcher,pf=qn.ReactCurrentOwner,Jt=qn.ReactCurrentBatchConfig,pe=0,rt=null,Ye=null,it=0,Nt=0,Ys=Lr(0),Xe=0,Ko=null,ds=0,Ic=0,gf=0,go=null,kt=null,mf=0,gi=1/0,On=null,ic=!1,Zd=null,kr=null,qa=!1,hr=null,oc=0,mo=0,eh=null,Pl=-1,Tl=0;function vt(){return pe&6?He():Pl!==-1?Pl:Pl=He()}function Sr(t){return t.mode&1?pe&2&&it!==0?it&-it:ab.transition!==null?(Tl===0&&(Tl=gy()),Tl):(t=we,t!==0||(t=window.event,t=t===void 0?16:by(t.type)),t):1}function dn(t,e,n,r){if(50<mo)throw mo=0,eh=null,Error(A(185));da(t,n,r),(!(pe&2)||t!==rt)&&(t===rt&&(!(pe&2)&&(Ic|=n),Xe===4&&cr(t,it)),Pt(t,r),n===1&&pe===0&&!(e.mode&1)&&(gi=He()+500,Oc&&Or()))}function Pt(t,e){var n=t.callbackNode;aw(t,e);var r=Hl(t,t===rt?it:0);if(r===0)n!==null&&Pp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pp(n),e===1)t.tag===0?ob(wg.bind(null,t)):By(wg.bind(null,t)),nb(function(){!(pe&6)&&Or()}),n=null;else{switch(my(r)){case 1:n=Bh;break;case 4:n=fy;break;case 16:n=Ul;break;case 536870912:n=py;break;default:n=Ul}n=zv(n,Lv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Lv(t,e){if(Pl=-1,Tl=0,pe&6)throw Error(A(327));var n=t.callbackNode;if(ni()&&t.callbackNode!==n)return null;var r=Hl(t,t===rt?it:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ac(t,r);else{e=r;var s=pe;pe|=2;var i=Dv();(rt!==t||it!==e)&&(On=null,gi=He()+500,ss(t,e));do try{Cb();break}catch(a){Ov(t,a)}while(!0);ef(),sc.current=i,pe=s,Ye!==null?e=0:(rt=null,it=0,e=Xe)}if(e!==0){if(e===2&&(s=Cd(t),s!==0&&(r=s,e=th(t,s))),e===1)throw n=Ko,ss(t,0),cr(t,r),Pt(t,He()),n;if(e===6)cr(t,r);else{if(s=t.current.alternate,!(r&30)&&!Eb(s)&&(e=ac(t,r),e===2&&(i=Cd(t),i!==0&&(r=i,e=th(t,i))),e===1))throw n=Ko,ss(t,0),cr(t,r),Pt(t,He()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:Yr(t,kt,On);break;case 3:if(cr(t,r),(r&130023424)===r&&(e=mf+500-He(),10<e)){if(Hl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){vt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Nd(Yr.bind(null,t,kt,On),e);break}Yr(t,kt,On);break;case 4:if(cr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-un(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sb(r/1960))-r,10<r){t.timeoutHandle=Nd(Yr.bind(null,t,kt,On),r);break}Yr(t,kt,On);break;case 5:Yr(t,kt,On);break;default:throw Error(A(329))}}}return Pt(t,He()),t.callbackNode===n?Lv.bind(null,t):null}function th(t,e){var n=go;return t.current.memoizedState.isDehydrated&&(ss(t,e).flags|=256),t=ac(t,e),t!==2&&(e=kt,kt=n,e!==null&&nh(e)),t}function nh(t){kt===null?kt=t:kt.push.apply(kt,t)}function Eb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cr(t,e){for(e&=~gf,e&=~Ic,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-un(e),r=1<<n;t[n]=-1,e&=~r}}function wg(t){if(pe&6)throw Error(A(327));ni();var e=Hl(t,0);if(!(e&1))return Pt(t,He()),null;var n=ac(t,e);if(t.tag!==0&&n===2){var r=Cd(t);r!==0&&(e=r,n=th(t,r))}if(n===1)throw n=Ko,ss(t,0),cr(t,e),Pt(t,He()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yr(t,kt,On),Pt(t,He()),null}function yf(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(gi=He()+500,Oc&&Or())}}function hs(t){hr!==null&&hr.tag===0&&!(pe&6)&&ni();var e=pe;pe|=1;var n=Jt.transition,r=we;try{if(Jt.transition=null,we=1,t)return t()}finally{we=r,Jt.transition=n,pe=e,!(pe&6)&&Or()}}function vf(){Nt=Ys.current,Pe(Ys)}function ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,tb(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(Jh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ql();break;case 3:fi(),Pe(Ct),Pe(dt),af();break;case 5:of(r);break;case 4:fi();break;case 13:Pe(Le);break;case 19:Pe(Le);break;case 10:tf(r.type._context);break;case 22:case 23:vf()}n=n.return}if(rt=t,Ye=t=Er(t.current,null),it=Nt=e,Xe=0,Ko=null,gf=Ic=ds=0,kt=go=null,es!==null){for(e=0;e<es.length;e++)if(n=es[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}es=null}return t}function Ov(t,e){do{var n=Ye;try{if(ef(),jl.current=rc,nc){for(var r=Oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nc=!1}if(us=0,tt=qe=Oe=null,fo=!1,Wo=0,pf.current=null,n===null||n.return===null){Xe=1,Ko=e,Ye=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=it,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=lg(o);if(p!==null){p.flags&=-257,cg(p,o,a,i,e),p.mode&1&&ag(i,c,e),e=p,l=c;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){ag(i,c,e),xf();break e}l=Error(A(426))}}else if(Te&&a.mode&1){var x=lg(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),cg(x,o,a,i,e),Qh(pi(l,a));break e}}i=l=pi(l,a),Xe!==4&&(Xe=2),go===null?go=[i]:go.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=mv(i,l,e);tg(i,g);break e;case 1:a=l;var y=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(kr===null||!kr.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=yv(i,a,e);tg(i,w);break e}}i=i.return}while(i!==null)}Av(n)}catch(k){e=k,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function Dv(){var t=sc.current;return sc.current=rc,t===null?rc:t}function xf(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),rt===null||!(ds&268435455)&&!(Ic&268435455)||cr(rt,it)}function ac(t,e){var n=pe;pe|=2;var r=Dv();(rt!==t||it!==e)&&(On=null,ss(t,e));do try{jb();break}catch(s){Ov(t,s)}while(!0);if(ef(),pe=n,sc.current=r,Ye!==null)throw Error(A(261));return rt=null,it=0,Xe}function jb(){for(;Ye!==null;)Nv(Ye)}function Cb(){for(;Ye!==null&&!Q_();)Nv(Ye)}function Nv(t){var e=Fv(t.alternate,t,Nt);t.memoizedProps=t.pendingProps,e===null?Av(t):Ye=e,pf.current=null}function Av(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_b(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,Ye=null;return}}else if(n=xb(n,e,Nt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);Xe===0&&(Xe=5)}function Yr(t,e,n){var r=we,s=Jt.transition;try{Jt.transition=null,we=1,Mb(t,e,n,r)}finally{Jt.transition=s,we=r}return null}function Mb(t,e,n,r){do ni();while(hr!==null);if(pe&6)throw Error(A(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(lw(t,i),t===rt&&(Ye=rt=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qa||(qa=!0,zv(Ul,function(){return ni(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Jt.transition,Jt.transition=null;var o=we;we=1;var a=pe;pe|=4,pf.current=null,bb(t,n),Tv(n,t),qw(Od),Wl=!!Ld,Od=Ld=null,t.current=n,kb(n),Z_(),pe=a,we=o,Jt.transition=i}else t.current=n;if(qa&&(qa=!1,hr=t,oc=s),i=t.pendingLanes,i===0&&(kr=null),nw(n.stateNode),Pt(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ic)throw ic=!1,t=Zd,Zd=null,t;return oc&1&&t.tag!==0&&ni(),i=t.pendingLanes,i&1?t===eh?mo++:(mo=0,eh=t):mo=0,Or(),null}function ni(){if(hr!==null){var t=my(oc),e=Jt.transition,n=we;try{if(Jt.transition=null,we=16>t?16:t,hr===null)var r=!1;else{if(t=hr,hr=null,oc=0,pe&6)throw Error(A(331));var s=pe;for(pe|=4,U=t.current;U!==null;){var i=U,o=i.child;if(U.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(U=c;U!==null;){var u=U;switch(u.tag){case 0:case 11:case 15:po(8,u,i)}var d=u.child;if(d!==null)d.return=u,U=d;else for(;U!==null;){u=U;var f=u.sibling,p=u.return;if(Cv(u),u===c){U=null;break}if(f!==null){f.return=p,U=f;break}U=p}}}var v=i.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}U=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,U=o;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:po(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,U=g;break e}U=i.return}}var y=t.current;for(U=y;U!==null;){o=U;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,U=_;else e:for(o=y;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ac(9,a)}}catch(k){Fe(a,a.return,k)}if(a===o){U=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,U=w;break e}U=a.return}}if(pe=s,Or(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Mc,t)}catch{}r=!0}return r}finally{we=n,Jt.transition=e}}return!1}function bg(t,e,n){e=pi(n,e),e=mv(t,e,1),t=br(t,e,1),e=vt(),t!==null&&(da(t,1,e),Pt(t,e))}function Fe(t,e,n){if(t.tag===3)bg(t,t,n);else for(;e!==null;){if(e.tag===3){bg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kr===null||!kr.has(r))){t=pi(n,t),t=yv(e,t,1),e=br(e,t,1),t=vt(),e!==null&&(da(e,1,t),Pt(e,t));break}}e=e.return}}function Pb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(it&n)===n&&(Xe===4||Xe===3&&(it&130023424)===it&&500>He()-mf?ss(t,0):gf|=n),Pt(t,e)}function Iv(t,e){e===0&&(t.mode&1?(e=Fa,Fa<<=1,!(Fa&130023424)&&(Fa=4194304)):e=1);var n=vt();t=Wn(t,e),t!==null&&(da(t,e,n),Pt(t,n))}function Tb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Iv(t,n)}function Rb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),Iv(t,n)}var Fv;Fv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ct.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,vb(t,e,n);jt=!!(t.flags&131072)}else jt=!1,Te&&e.flags&1048576&&Uy(e,Jl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ml(t,e),t=e.pendingProps;var s=ui(e,dt.current);ti(e,n),s=cf(null,e,r,t,s,n);var i=uf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mt(r)?(i=!0,Xl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rf(e),s.updater=Nc,e.stateNode=s,s._reactInternals=e,Ud(e,r,t,n),e=Vd(null,e,r,!0,i,n)):(e.tag=0,Te&&i&&Gh(e),pt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ml(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Ob(r),t=rn(r,t),s){case 0:e=Wd(null,e,r,t,n);break e;case 1:e=hg(null,e,r,t,n);break e;case 11:e=ug(null,e,r,t,n);break e;case 14:e=dg(null,e,r,rn(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rn(r,s),Wd(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rn(r,s),hg(t,e,r,s,n);case 3:e:{if(wv(e),t===null)throw Error(A(387));r=e.pendingProps,i=e.memoizedState,s=i.element,qy(t,e),ec(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=pi(Error(A(423)),e),e=fg(t,e,r,n,s);break e}else if(r!==s){s=pi(Error(A(424)),e),e=fg(t,e,r,n,s);break e}else for(It=wr(e.stateNode.containerInfo.firstChild),$t=e,Te=!0,ln=null,n=Yy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(di(),r===s){e=Vn(t,e,n);break e}pt(t,e,r,n)}e=e.child}return e;case 5:return Xy(e),t===null&&zd(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Dd(r,s)?o=null:i!==null&&Dd(r,i)&&(e.flags|=32),_v(t,e),pt(t,e,o,n),e.child;case 6:return t===null&&zd(e),null;case 13:return bv(t,e,n);case 4:return sf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hi(e,null,r,n):pt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rn(r,s),ug(t,e,r,s,n);case 7:return pt(t,e,e.pendingProps,n),e.child;case 8:return pt(t,e,e.pendingProps.children,n),e.child;case 12:return pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,je(Ql,r._currentValue),r._currentValue=o,i!==null)if(fn(i.value,o)){if(i.children===s.children&&!Ct.current){e=Vn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=$n(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),$d(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(A(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$d(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ti(e,n),s=Zt(s),r=r(s),e.flags|=1,pt(t,e,r,n),e.child;case 14:return r=e.type,s=rn(r,e.pendingProps),s=rn(r.type,s),dg(t,e,r,s,n);case 15:return vv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rn(r,s),Ml(t,e),e.tag=1,Mt(r)?(t=!0,Xl(e)):t=!1,ti(e,n),gv(e,r,s),Ud(e,r,s,n),Vd(null,e,r,!0,t,n);case 19:return kv(t,e,n);case 22:return xv(t,e,n)}throw Error(A(156,e.tag))};function zv(t,e){return hy(t,e)}function Lb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(t,e,n,r){return new Lb(t,e,n,r)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ob(t){if(typeof t=="function")return _f(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fh)return 11;if(t===zh)return 14}return 2}function Er(t,e){var n=t.alternate;return n===null?(n=Xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")_f(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case As:return is(n.children,s,i,e);case Ih:o=8,s|=8;break;case hd:return t=Xt(12,n,e,s|2),t.elementType=hd,t.lanes=i,t;case fd:return t=Xt(13,n,e,s),t.elementType=fd,t.lanes=i,t;case pd:return t=Xt(19,n,e,s),t.elementType=pd,t.lanes=i,t;case X0:return Fc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K0:o=10;break e;case q0:o=9;break e;case Fh:o=11;break e;case zh:o=14;break e;case ir:o=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=Xt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function is(t,e,n,r){return t=Xt(7,t,r,e),t.lanes=n,t}function Fc(t,e,n,r){return t=Xt(22,t,r,e),t.elementType=X0,t.lanes=n,t.stateNode={isHidden:!1},t}function Au(t,e,n){return t=Xt(6,t,null,e),t.lanes=n,t}function Iu(t,e,n){return e=Xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Db(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yu(0),this.expirationTimes=yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wf(t,e,n,r,s,i,o,a,l){return t=new Db(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rf(i),t}function Nb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ns,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $v(t){if(!t)return Mr;t=t._reactInternals;e:{if(vs(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(Mt(n))return $y(t,n,e)}return e}function Bv(t,e,n,r,s,i,o,a,l){return t=wf(n,r,!0,t,s,i,o,a,l),t.context=$v(null),n=t.current,r=vt(),s=Sr(n),i=$n(r,s),i.callback=e??null,br(n,i,s),t.current.lanes=s,da(t,s,r),Pt(t,r),t}function zc(t,e,n,r){var s=e.current,i=vt(),o=Sr(s);return n=$v(n),e.context===null?e.context=n:e.pendingContext=n,e=$n(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=br(s,e,o),t!==null&&(dn(t,s,o,i),El(t,s,o)),o}function lc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bf(t,e){kg(t,e),(t=t.alternate)&&kg(t,e)}function Ab(){return null}var Uv=typeof reportError=="function"?reportError:function(t){console.error(t)};function kf(t){this._internalRoot=t}$c.prototype.render=kf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));zc(t,e,null,null)};$c.prototype.unmount=kf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hs(function(){zc(null,t,null,null)}),e[Hn]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var e=xy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<lr.length&&e!==0&&e<lr[n].priority;n++);lr.splice(n,0,t),n===0&&wy(t)}};function Sf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sg(){}function Ib(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=lc(o);i.call(c)}}var o=Bv(e,r,t,0,null,!1,!1,"",Sg);return t._reactRootContainer=o,t[Hn]=o.current,zo(t.nodeType===8?t.parentNode:t),hs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=lc(l);a.call(c)}}var l=wf(t,0,!1,null,null,!1,!1,"",Sg);return t._reactRootContainer=l,t[Hn]=l.current,zo(t.nodeType===8?t.parentNode:t),hs(function(){zc(e,l,n,r)}),l}function Uc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=lc(o);a.call(l)}}zc(e,o,t,s)}else o=Ib(n,e,t,s,r);return lc(o)}yy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qi(e.pendingLanes);n!==0&&(Uh(e,n|1),Pt(e,He()),!(pe&6)&&(gi=He()+500,Or()))}break;case 13:hs(function(){var r=Wn(t,1);if(r!==null){var s=vt();dn(r,t,1,s)}}),bf(t,1)}};Hh=function(t){if(t.tag===13){var e=Wn(t,134217728);if(e!==null){var n=vt();dn(e,t,134217728,n)}bf(t,134217728)}};vy=function(t){if(t.tag===13){var e=Sr(t),n=Wn(t,e);if(n!==null){var r=vt();dn(n,t,e,r)}bf(t,e)}};xy=function(){return we};_y=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};Sd=function(t,e,n){switch(e){case"input":if(yd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Lc(r);if(!s)throw Error(A(90));J0(r),yd(r,s)}}}break;case"textarea":Z0(t,n);break;case"select":e=n.value,e!=null&&Js(t,!!n.multiple,e,!1)}};oy=yf;ay=hs;var Fb={usingClientEntryPoint:!1,Events:[fa,$s,Lc,sy,iy,yf]},zi={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zb={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uy(t),t===null?null:t.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||Ab,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xa.isDisabled&&Xa.supportsFiber)try{Mc=Xa.inject(zb),wn=Xa}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fb;Wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sf(e))throw Error(A(200));return Nb(t,e,null,n)};Wt.createRoot=function(t,e){if(!Sf(t))throw Error(A(299));var n=!1,r="",s=Uv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wf(t,1,!1,null,null,n,!1,r,s),t[Hn]=e.current,zo(t.nodeType===8?t.parentNode:t),new kf(e)};Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=uy(e),t=t===null?null:t.stateNode,t};Wt.flushSync=function(t){return hs(t)};Wt.hydrate=function(t,e,n){if(!Bc(e))throw Error(A(200));return Uc(null,t,e,!0,n)};Wt.hydrateRoot=function(t,e,n){if(!Sf(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Uv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Bv(e,null,t,1,n??null,s,!1,i,o),t[Hn]=e.current,zo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new $c(e)};Wt.render=function(t,e,n){if(!Bc(e))throw Error(A(200));return Uc(null,t,e,!1,n)};Wt.unmountComponentAtNode=function(t){if(!Bc(t))throw Error(A(40));return t._reactRootContainer?(hs(function(){Uc(null,null,t,!1,function(){t._reactRootContainer=null,t[Hn]=null})}),!0):!1};Wt.unstable_batchedUpdates=yf;Wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bc(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return Uc(t,e,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function Hv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hv)}catch(t){console.error(t)}}Hv(),H0.exports=Wt;var Ef=H0.exports;const $b=R0(Ef),Bb=T0({__proto__:null,default:$b},[Ef]);var Eg=Ef;ud.createRoot=Eg.createRoot,ud.hydrateRoot=Eg.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Re(){return Re=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Re.apply(this,arguments)}var Be;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Be||(Be={}));const jg="popstate";function Ub(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return qo("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:fs(s)}return Wb(e,n,null,t)}function se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hb(){return Math.random().toString(36).substr(2,8)}function Cg(t,e){return{usr:t.state,key:t.key,idx:e}}function qo(t,e,n,r){return n===void 0&&(n=null),Re({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xn(e):e,{state:n,key:e&&e.key||r||Hb()})}function fs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Wb(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Be.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Re({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Be.Pop;let x=u(),g=x==null?null:x-c;c=x,l&&l({action:a,location:m.location,delta:g})}function f(x,g){a=Be.Push;let y=qo(m.location,x,g);c=u()+1;let _=Cg(y,c),w=m.createHref(y);try{o.pushState(_,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(w)}i&&l&&l({action:a,location:m.location,delta:1})}function p(x,g){a=Be.Replace;let y=qo(m.location,x,g);c=u();let _=Cg(y,c),w=m.createHref(y);o.replaceState(_,"",w),i&&l&&l({action:a,location:m.location,delta:0})}function v(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:fs(x);return y=y.replace(/ $/,"%20"),se(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let m={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(jg,d),l=x,()=>{s.removeEventListener(jg,d),l=null}},createHref(x){return e(s,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return o.go(x)}};return m}var be;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(be||(be={}));const Vb=new Set(["lazy","caseSensitive","path","id","index","children"]);function Yb(t){return t.index===!0}function Xo(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(se(s.index!==!0||!s.children,"Cannot specify children on an index route"),se(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Yb(s)){let l=Re({},s,e(s),{id:a});return r[a]=l,l}else{let l=Re({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=Xo(s.children,e,o,r)),l}})}function Jr(t,e,n){return n===void 0&&(n="/"),Ll(t,e,n,!1)}function Ll(t,e,n,r){let s=typeof e=="string"?Xn(e):e,i=pn(s.pathname||"/",n);if(i==null)return null;let o=Wv(t);qb(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=ik(i);a=rk(o[l],c,r)}return a}function Kb(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function Wv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(se(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Bn([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Wv(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:tk(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Vv(i.path))s(i,o,l)}),e}function Vv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Vv(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function qb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Xb=/^:[\w-]+$/,Gb=3,Jb=2,Qb=1,Zb=10,ek=-2,Mg=t=>t==="*";function tk(t,e){let n=t.split("/"),r=n.length;return n.some(Mg)&&(r+=ek),e&&(r+=Jb),n.filter(s=>!Mg(s)).reduce((s,i)=>s+(Xb.test(i)?Gb:i===""?Qb:Zb),r)}function nk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function rk(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=cc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=cc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Bn([i,d.pathname]),pathnameBase:lk(Bn([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Bn([i,d.pathnameBase]))}return o}function cc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let m=a[d]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const v=a[d];return p&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function sk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ik(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mi(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ok(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Xn(t):t;return{pathname:n?n.startsWith("/")?n:ak(n,e):e,search:ck(r),hash:uk(s)}}function ak(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Fu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jf(t,e){let n=Yv(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Cf(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Xn(t):(s=Re({},t),se(!s.pathname||!s.pathname.includes("?"),Fu("?","pathname","search",s)),se(!s.pathname||!s.pathname.includes("#"),Fu("#","pathname","hash",s)),se(!s.search||!s.search.includes("#"),Fu("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=ok(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Bn=t=>t.join("/").replace(/\/\/+/g,"/"),lk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ck=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class uc{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Hc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Kv=["post","put","patch","delete"],dk=new Set(Kv),hk=["get",...Kv],fk=new Set(hk),pk=new Set([301,302,303,307,308]),gk=new Set([307,308]),zu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ds={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Mf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yk=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),qv="remix-router-transitions";function vk(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;se(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;s=M=>({hasErrorBoundary:j(M)})}else s=yk;let i={},o=Xo(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.unstable_dataStrategy||Sk,u=t.unstable_patchRoutesOnNavigation,d=Re({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,p=new Set,v=1e3,m=new Set,x=null,g=null,y=null,_=t.hydrationData!=null,w=Jr(o,t.history.location,l),k=null;if(w==null&&!u){let j=ft(404,{pathname:t.history.location.pathname}),{matches:M,route:T}=Ig(o);w=M,k={[T.id]:j}}w&&!t.hydrationData&&Ca(w,o,t.history.location.pathname).active&&(w=null);let E;if(w)if(w.some(j=>j.route.lazy))E=!1;else if(!w.some(j=>j.route.loader))E=!0;else if(d.v7_partialHydration){let j=t.hydrationData?t.hydrationData.loaderData:null,M=t.hydrationData?t.hydrationData.errors:null,T=O=>O.route.loader?typeof O.route.loader=="function"&&O.route.loader.hydrate===!0?!1:j&&j[O.route.id]!==void 0||M&&M[O.route.id]!==void 0:!0;if(M){let O=w.findIndex(B=>M[B.route.id]!==void 0);E=w.slice(0,O+1).every(T)}else E=w.every(T)}else E=t.hydrationData!=null;else if(E=!1,w=[],d.v7_partialHydration){let j=Ca(null,o,t.history.location.pathname);j.active&&j.matches&&(w=j.matches)}let C,S={historyAction:t.history.action,location:t.history.location,matches:w,initialized:E,navigation:zu,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||k,fetchers:new Map,blockers:new Map},P=Be.Pop,L=!1,D,R=!1,q=new Map,G=null,Q=!1,re=!1,ie=[],N=new Set,F=new Map,H=0,I=-1,$=new Map,te=new Set,Z=new Map,ce=new Map,ue=new Set,Qe=new Map,Sn=new Map,K1=new Map,ka;function q1(){if(f=t.history.listen(j=>{let{action:M,location:T,delta:O}=j;if(ka){ka(),ka=void 0;return}mi(Sn.size===0||O!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let B=hp({currentLocation:S.location,nextLocation:T,historyAction:M});if(B&&O!=null){let X=new Promise(ne=>{ka=ne});t.history.go(O*-1),Ea(B,{state:"blocked",location:T,proceed(){Ea(B,{state:"proceeding",proceed:void 0,reset:void 0,location:T}),X.then(()=>t.history.go(O))},reset(){let ne=new Map(S.blockers);ne.set(B,Ds),ht({blockers:ne})}});return}return Ir(M,T)}),n){zk(e,q);let j=()=>$k(e,q);e.addEventListener("pagehide",j),G=()=>e.removeEventListener("pagehide",j)}return S.initialized||Ir(Be.Pop,S.location,{initialHydration:!0}),C}function X1(){f&&f(),G&&G(),p.clear(),D&&D.abort(),S.fetchers.forEach((j,M)=>Sa(M)),S.blockers.forEach((j,M)=>dp(M))}function G1(j){return p.add(j),()=>p.delete(j)}function ht(j,M){M===void 0&&(M={}),S=Re({},S,j);let T=[],O=[];d.v7_fetcherPersist&&S.fetchers.forEach((B,X)=>{B.state==="idle"&&(ue.has(X)?O.push(X):T.push(X))}),[...p].forEach(B=>B(S,{deletedFetchers:O,unstable_viewTransitionOpts:M.viewTransitionOpts,unstable_flushSync:M.flushSync===!0})),d.v7_fetcherPersist&&(T.forEach(B=>S.fetchers.delete(B)),O.forEach(B=>Sa(B)))}function Ss(j,M,T){var O,B;let{flushSync:X}=T===void 0?{}:T,ne=S.actionData!=null&&S.navigation.formMethod!=null&&on(S.navigation.formMethod)&&S.navigation.state==="loading"&&((O=j.state)==null?void 0:O._isRedirect)!==!0,z;M.actionData?Object.keys(M.actionData).length>0?z=M.actionData:z=null:ne?z=S.actionData:z=null;let J=M.loaderData?Ng(S.loaderData,M.loaderData,M.matches||[],M.errors):S.loaderData,W=S.blockers;W.size>0&&(W=new Map(W),W.forEach((ye,Ce)=>W.set(Ce,Ds)));let V=L===!0||S.navigation.formMethod!=null&&on(S.navigation.formMethod)&&((B=j.state)==null?void 0:B._isRedirect)!==!0;a&&(o=a,a=void 0),Q||P===Be.Pop||(P===Be.Push?t.history.push(j,j.state):P===Be.Replace&&t.history.replace(j,j.state));let me;if(P===Be.Pop){let ye=q.get(S.location.pathname);ye&&ye.has(j.pathname)?me={currentLocation:S.location,nextLocation:j}:q.has(j.pathname)&&(me={currentLocation:j,nextLocation:S.location})}else if(R){let ye=q.get(S.location.pathname);ye?ye.add(j.pathname):(ye=new Set([j.pathname]),q.set(S.location.pathname,ye)),me={currentLocation:S.location,nextLocation:j}}ht(Re({},M,{actionData:z,loaderData:J,historyAction:P,location:j,initialized:!0,navigation:zu,revalidation:"idle",restoreScrollPosition:pp(j,M.matches||S.matches),preventScrollReset:V,blockers:W}),{viewTransitionOpts:me,flushSync:X===!0}),P=Be.Pop,L=!1,R=!1,Q=!1,re=!1,ie=[]}async function sp(j,M){if(typeof j=="number"){t.history.go(j);return}let T=rh(S.location,S.matches,l,d.v7_prependBasename,j,d.v7_relativeSplatPath,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:O,submission:B,error:X}=Pg(d.v7_normalizeFormMethod,!1,T,M),ne=S.location,z=qo(S.location,O,M&&M.state);z=Re({},z,t.history.encodeLocation(z));let J=M&&M.replace!=null?M.replace:void 0,W=Be.Push;J===!0?W=Be.Replace:J===!1||B!=null&&on(B.formMethod)&&B.formAction===S.location.pathname+S.location.search&&(W=Be.Replace);let V=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,me=(M&&M.unstable_flushSync)===!0,ye=hp({currentLocation:ne,nextLocation:z,historyAction:W});if(ye){Ea(ye,{state:"blocked",location:z,proceed(){Ea(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),sp(j,M)},reset(){let Ce=new Map(S.blockers);Ce.set(ye,Ds),ht({blockers:Ce})}});return}return await Ir(W,z,{submission:B,pendingError:X,preventScrollReset:V,replace:M&&M.replace,enableViewTransition:M&&M.unstable_viewTransition,flushSync:me})}function J1(){if(cu(),ht({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){Ir(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}Ir(P||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:R===!0})}}async function Ir(j,M,T){D&&D.abort(),D=null,P=j,Q=(T&&T.startUninterruptedRevalidation)===!0,a_(S.location,S.matches),L=(T&&T.preventScrollReset)===!0,R=(T&&T.enableViewTransition)===!0;let O=a||o,B=T&&T.overrideNavigation,X=Jr(O,M,l),ne=(T&&T.flushSync)===!0,z=Ca(X,O,M.pathname);if(z.active&&z.matches&&(X=z.matches),!X){let{error:fe,notFoundMatches:Ze,route:Ve}=uu(M.pathname);Ss(M,{matches:Ze,loaderData:{},errors:{[Ve.id]:fe}},{flushSync:ne});return}if(S.initialized&&!re&&Tk(S.location,M)&&!(T&&T.submission&&on(T.submission.formMethod))){Ss(M,{matches:X},{flushSync:ne});return}D=new AbortController;let J=Cs(t.history,M,D.signal,T&&T.submission),W;if(T&&T.pendingError)W=[Ks(X).route.id,{type:be.error,error:T.pendingError}];else if(T&&T.submission&&on(T.submission.formMethod)){let fe=await Q1(J,M,T.submission,X,z.active,{replace:T.replace,flushSync:ne});if(fe.shortCircuited)return;if(fe.pendingActionResult){let[Ze,Ve]=fe.pendingActionResult;if(At(Ve)&&Hc(Ve.error)&&Ve.error.status===404){D=null,Ss(M,{matches:fe.matches,loaderData:{},errors:{[Ze]:Ve.error}});return}}X=fe.matches||X,W=fe.pendingActionResult,B=$u(M,T.submission),ne=!1,z.active=!1,J=Cs(t.history,J.url,J.signal)}let{shortCircuited:V,matches:me,loaderData:ye,errors:Ce}=await Z1(J,M,X,z.active,B,T&&T.submission,T&&T.fetcherSubmission,T&&T.replace,T&&T.initialHydration===!0,ne,W);V||(D=null,Ss(M,Re({matches:me||X},Ag(W),{loaderData:ye,errors:Ce})))}async function Q1(j,M,T,O,B,X){X===void 0&&(X={}),cu();let ne=Ik(M,T);if(ht({navigation:ne},{flushSync:X.flushSync===!0}),B){let W=await Ma(O,M.pathname,j.signal);if(W.type==="aborted")return{shortCircuited:!0};if(W.type==="error"){let{boundaryId:V,error:me}=ja(M.pathname,W);return{matches:W.partialMatches,pendingActionResult:[V,{type:be.error,error:me}]}}else if(W.matches)O=W.matches;else{let{notFoundMatches:V,error:me,route:ye}=uu(M.pathname);return{matches:V,pendingActionResult:[ye.id,{type:be.error,error:me}]}}}let z,J=eo(O,M);if(!J.route.action&&!J.route.lazy)z={type:be.error,error:ft(405,{method:j.method,pathname:M.pathname,routeId:J.route.id})};else if(z=(await Ti("action",S,j,[J],O,null))[J.route.id],j.signal.aborted)return{shortCircuited:!0};if(ns(z)){let W;return X&&X.replace!=null?W=X.replace:W=Lg(z.response.headers.get("Location"),new URL(j.url),l)===S.location.pathname+S.location.search,await Fr(j,z,!0,{submission:T,replace:W}),{shortCircuited:!0}}if(fr(z))throw ft(400,{type:"defer-action"});if(At(z)){let W=Ks(O,J.route.id);return(X&&X.replace)!==!0&&(P=Be.Push),{matches:O,pendingActionResult:[W.route.id,z]}}return{matches:O,pendingActionResult:[J.route.id,z]}}async function Z1(j,M,T,O,B,X,ne,z,J,W,V){let me=B||$u(M,X),ye=X||ne||zg(me),Ce=!Q&&(!d.v7_partialHydration||!J);if(O){if(Ce){let Ae=ip(V);ht(Re({navigation:me},Ae!==void 0?{actionData:Ae}:{}),{flushSync:W})}let oe=await Ma(T,M.pathname,j.signal);if(oe.type==="aborted")return{shortCircuited:!0};if(oe.type==="error"){let{boundaryId:Ae,error:Lt}=ja(M.pathname,oe);return{matches:oe.partialMatches,loaderData:{},errors:{[Ae]:Lt}}}else if(oe.matches)T=oe.matches;else{let{error:Ae,notFoundMatches:Lt,route:Ie}=uu(M.pathname);return{matches:Lt,loaderData:{},errors:{[Ie.id]:Ae}}}}let fe=a||o,[Ze,Ve]=Tg(t.history,S,T,ye,M,d.v7_partialHydration&&J===!0,d.v7_skipActionErrorRevalidation,re,ie,N,ue,Z,te,fe,l,V);if(du(oe=>!(T&&T.some(Ae=>Ae.route.id===oe))||Ze&&Ze.some(Ae=>Ae.route.id===oe)),I=++H,Ze.length===0&&Ve.length===0){let oe=cp();return Ss(M,Re({matches:T,loaderData:{},errors:V&&At(V[1])?{[V[0]]:V[1].error}:null},Ag(V),oe?{fetchers:new Map(S.fetchers)}:{}),{flushSync:W}),{shortCircuited:!0}}if(Ce){let oe={};if(!O){oe.navigation=me;let Ae=ip(V);Ae!==void 0&&(oe.actionData=Ae)}Ve.length>0&&(oe.fetchers=e_(Ve)),ht(oe,{flushSync:W})}Ve.forEach(oe=>{F.has(oe.key)&&Jn(oe.key),oe.controller&&F.set(oe.key,oe.controller)});let Ri=()=>Ve.forEach(oe=>Jn(oe.key));D&&D.signal.addEventListener("abort",Ri);let{loaderResults:jn,fetcherResults:Es}=await op(S,T,Ze,Ve,j);if(j.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Ri),Ve.forEach(oe=>F.delete(oe.key));let Qn=Ga(jn);if(Qn)return await Fr(j,Qn.result,!0,{replace:z}),{shortCircuited:!0};if(Qn=Ga(Es),Qn)return te.add(Qn.key),await Fr(j,Qn.result,!0,{replace:z}),{shortCircuited:!0};let{loaderData:Pa,errors:Cn}=Dg(S,T,Ze,jn,V,Ve,Es,Qe);Qe.forEach((oe,Ae)=>{oe.subscribe(Lt=>{(Lt||oe.done)&&Qe.delete(Ae)})}),d.v7_partialHydration&&J&&S.errors&&Object.entries(S.errors).filter(oe=>{let[Ae]=oe;return!Ze.some(Lt=>Lt.route.id===Ae)}).forEach(oe=>{let[Ae,Lt]=oe;Cn=Object.assign(Cn||{},{[Ae]:Lt})});let Ta=cp(),Ra=up(I),La=Ta||Ra||Ve.length>0;return Re({matches:T,loaderData:Pa,errors:Cn},La?{fetchers:new Map(S.fetchers)}:{})}function ip(j){if(j&&!At(j[1]))return{[j[0]]:j[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function e_(j){return j.forEach(M=>{let T=S.fetchers.get(M.key),O=$i(void 0,T?T.data:void 0);S.fetchers.set(M.key,O)}),new Map(S.fetchers)}function t_(j,M,T,O){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");F.has(j)&&Jn(j);let B=(O&&O.unstable_flushSync)===!0,X=a||o,ne=rh(S.location,S.matches,l,d.v7_prependBasename,T,d.v7_relativeSplatPath,M,O==null?void 0:O.relative),z=Jr(X,ne,l),J=Ca(z,X,ne);if(J.active&&J.matches&&(z=J.matches),!z){En(j,M,ft(404,{pathname:ne}),{flushSync:B});return}let{path:W,submission:V,error:me}=Pg(d.v7_normalizeFormMethod,!0,ne,O);if(me){En(j,M,me,{flushSync:B});return}let ye=eo(z,W);if(L=(O&&O.preventScrollReset)===!0,V&&on(V.formMethod)){n_(j,M,W,ye,z,J.active,B,V);return}Z.set(j,{routeId:M,path:W}),r_(j,M,W,ye,z,J.active,B,V)}async function n_(j,M,T,O,B,X,ne,z){cu(),Z.delete(j);function J(Ie){if(!Ie.route.action&&!Ie.route.lazy){let Mn=ft(405,{method:z.formMethod,pathname:T,routeId:M});return En(j,M,Mn,{flushSync:ne}),!0}return!1}if(!X&&J(O))return;let W=S.fetchers.get(j);Gn(j,Fk(z,W),{flushSync:ne});let V=new AbortController,me=Cs(t.history,T,V.signal,z);if(X){let Ie=await Ma(B,T,me.signal);if(Ie.type==="aborted")return;if(Ie.type==="error"){let{error:Mn}=ja(T,Ie);En(j,M,Mn,{flushSync:ne});return}else if(Ie.matches){if(B=Ie.matches,O=eo(B,T),J(O))return}else{En(j,M,ft(404,{pathname:T}),{flushSync:ne});return}}F.set(j,V);let ye=H,fe=(await Ti("action",S,me,[O],B,j))[O.route.id];if(me.signal.aborted){F.get(j)===V&&F.delete(j);return}if(d.v7_fetcherPersist&&ue.has(j)){if(ns(fe)||At(fe)){Gn(j,tr(void 0));return}}else{if(ns(fe))if(F.delete(j),I>ye){Gn(j,tr(void 0));return}else return te.add(j),Gn(j,$i(z)),Fr(me,fe,!1,{fetcherSubmission:z});if(At(fe)){En(j,M,fe.error);return}}if(fr(fe))throw ft(400,{type:"defer-action"});let Ze=S.navigation.location||S.location,Ve=Cs(t.history,Ze,V.signal),Ri=a||o,jn=S.navigation.state!=="idle"?Jr(Ri,S.navigation.location,l):S.matches;se(jn,"Didn't find any matches after fetcher action");let Es=++H;$.set(j,Es);let Qn=$i(z,fe.data);S.fetchers.set(j,Qn);let[Pa,Cn]=Tg(t.history,S,jn,z,Ze,!1,d.v7_skipActionErrorRevalidation,re,ie,N,ue,Z,te,Ri,l,[O.route.id,fe]);Cn.filter(Ie=>Ie.key!==j).forEach(Ie=>{let Mn=Ie.key,mp=S.fetchers.get(Mn),u_=$i(void 0,mp?mp.data:void 0);S.fetchers.set(Mn,u_),F.has(Mn)&&Jn(Mn),Ie.controller&&F.set(Mn,Ie.controller)}),ht({fetchers:new Map(S.fetchers)});let Ta=()=>Cn.forEach(Ie=>Jn(Ie.key));V.signal.addEventListener("abort",Ta);let{loaderResults:Ra,fetcherResults:La}=await op(S,jn,Pa,Cn,Ve);if(V.signal.aborted)return;V.signal.removeEventListener("abort",Ta),$.delete(j),F.delete(j),Cn.forEach(Ie=>F.delete(Ie.key));let oe=Ga(Ra);if(oe)return Fr(Ve,oe.result,!1);if(oe=Ga(La),oe)return te.add(oe.key),Fr(Ve,oe.result,!1);let{loaderData:Ae,errors:Lt}=Dg(S,jn,Pa,Ra,void 0,Cn,La,Qe);if(S.fetchers.has(j)){let Ie=tr(fe.data);S.fetchers.set(j,Ie)}up(Es),S.navigation.state==="loading"&&Es>I?(se(P,"Expected pending action"),D&&D.abort(),Ss(S.navigation.location,{matches:jn,loaderData:Ae,errors:Lt,fetchers:new Map(S.fetchers)})):(ht({errors:Lt,loaderData:Ng(S.loaderData,Ae,jn,Lt),fetchers:new Map(S.fetchers)}),re=!1)}async function r_(j,M,T,O,B,X,ne,z){let J=S.fetchers.get(j);Gn(j,$i(z,J?J.data:void 0),{flushSync:ne});let W=new AbortController,V=Cs(t.history,T,W.signal);if(X){let fe=await Ma(B,T,V.signal);if(fe.type==="aborted")return;if(fe.type==="error"){let{error:Ze}=ja(T,fe);En(j,M,Ze,{flushSync:ne});return}else if(fe.matches)B=fe.matches,O=eo(B,T);else{En(j,M,ft(404,{pathname:T}),{flushSync:ne});return}}F.set(j,W);let me=H,Ce=(await Ti("loader",S,V,[O],B,j))[O.route.id];if(fr(Ce)&&(Ce=await Pf(Ce,V.signal,!0)||Ce),F.get(j)===W&&F.delete(j),!V.signal.aborted){if(ue.has(j)){Gn(j,tr(void 0));return}if(ns(Ce))if(I>me){Gn(j,tr(void 0));return}else{te.add(j),await Fr(V,Ce,!1);return}if(At(Ce)){En(j,M,Ce.error);return}se(!fr(Ce),"Unhandled fetcher deferred data"),Gn(j,tr(Ce.data))}}async function Fr(j,M,T,O){let{submission:B,fetcherSubmission:X,replace:ne}=O===void 0?{}:O;M.response.headers.has("X-Remix-Revalidate")&&(re=!0);let z=M.response.headers.get("Location");se(z,"Expected a Location header on the redirect Response"),z=Lg(z,new URL(j.url),l);let J=qo(S.location,z,{_isRedirect:!0});if(n){let fe=!1;if(M.response.headers.has("X-Remix-Reload-Document"))fe=!0;else if(Mf.test(z)){const Ze=t.history.createURL(z);fe=Ze.origin!==e.location.origin||pn(Ze.pathname,l)==null}if(fe){ne?e.location.replace(z):e.location.assign(z);return}}D=null;let W=ne===!0||M.response.headers.has("X-Remix-Replace")?Be.Replace:Be.Push,{formMethod:V,formAction:me,formEncType:ye}=S.navigation;!B&&!X&&V&&me&&ye&&(B=zg(S.navigation));let Ce=B||X;if(gk.has(M.response.status)&&Ce&&on(Ce.formMethod))await Ir(W,J,{submission:Re({},Ce,{formAction:z}),preventScrollReset:L,enableViewTransition:T?R:void 0});else{let fe=$u(J,B);await Ir(W,J,{overrideNavigation:fe,fetcherSubmission:X,preventScrollReset:L,enableViewTransition:T?R:void 0})}}async function Ti(j,M,T,O,B,X){let ne,z={};try{ne=await Ek(c,j,M,T,O,B,X,i,s)}catch(J){return O.forEach(W=>{z[W.route.id]={type:be.error,error:J}}),z}for(let[J,W]of Object.entries(ne))if(Lk(W)){let V=W.result;z[J]={type:be.redirect,response:Mk(V,T,J,B,l,d.v7_relativeSplatPath)}}else z[J]=await Ck(W);return z}async function op(j,M,T,O,B){let X=j.matches,ne=Ti("loader",j,B,T,M,null),z=Promise.all(O.map(async V=>{if(V.matches&&V.match&&V.controller){let ye=(await Ti("loader",j,Cs(t.history,V.path,V.controller.signal),[V.match],V.matches,V.key))[V.match.route.id];return{[V.key]:ye}}else return Promise.resolve({[V.key]:{type:be.error,error:ft(404,{pathname:V.path})}})})),J=await ne,W=(await z).reduce((V,me)=>Object.assign(V,me),{});return await Promise.all([Nk(M,J,B.signal,X,j.loaderData),Ak(M,W,O)]),{loaderResults:J,fetcherResults:W}}function cu(){re=!0,ie.push(...du()),Z.forEach((j,M)=>{F.has(M)&&(N.add(M),Jn(M))})}function Gn(j,M,T){T===void 0&&(T={}),S.fetchers.set(j,M),ht({fetchers:new Map(S.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function En(j,M,T,O){O===void 0&&(O={});let B=Ks(S.matches,M);Sa(j),ht({errors:{[B.route.id]:T},fetchers:new Map(S.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function ap(j){return d.v7_fetcherPersist&&(ce.set(j,(ce.get(j)||0)+1),ue.has(j)&&ue.delete(j)),S.fetchers.get(j)||mk}function Sa(j){let M=S.fetchers.get(j);F.has(j)&&!(M&&M.state==="loading"&&$.has(j))&&Jn(j),Z.delete(j),$.delete(j),te.delete(j),ue.delete(j),N.delete(j),S.fetchers.delete(j)}function s_(j){if(d.v7_fetcherPersist){let M=(ce.get(j)||0)-1;M<=0?(ce.delete(j),ue.add(j)):ce.set(j,M)}else Sa(j);ht({fetchers:new Map(S.fetchers)})}function Jn(j){let M=F.get(j);se(M,"Expected fetch controller: "+j),M.abort(),F.delete(j)}function lp(j){for(let M of j){let T=ap(M),O=tr(T.data);S.fetchers.set(M,O)}}function cp(){let j=[],M=!1;for(let T of te){let O=S.fetchers.get(T);se(O,"Expected fetcher: "+T),O.state==="loading"&&(te.delete(T),j.push(T),M=!0)}return lp(j),M}function up(j){let M=[];for(let[T,O]of $)if(O<j){let B=S.fetchers.get(T);se(B,"Expected fetcher: "+T),B.state==="loading"&&(Jn(T),$.delete(T),M.push(T))}return lp(M),M.length>0}function i_(j,M){let T=S.blockers.get(j)||Ds;return Sn.get(j)!==M&&Sn.set(j,M),T}function dp(j){S.blockers.delete(j),Sn.delete(j)}function Ea(j,M){let T=S.blockers.get(j)||Ds;se(T.state==="unblocked"&&M.state==="blocked"||T.state==="blocked"&&M.state==="blocked"||T.state==="blocked"&&M.state==="proceeding"||T.state==="blocked"&&M.state==="unblocked"||T.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+T.state+" -> "+M.state);let O=new Map(S.blockers);O.set(j,M),ht({blockers:O})}function hp(j){let{currentLocation:M,nextLocation:T,historyAction:O}=j;if(Sn.size===0)return;Sn.size>1&&mi(!1,"A router only supports one blocker at a time");let B=Array.from(Sn.entries()),[X,ne]=B[B.length-1],z=S.blockers.get(X);if(!(z&&z.state==="proceeding")&&ne({currentLocation:M,nextLocation:T,historyAction:O}))return X}function uu(j){let M=ft(404,{pathname:j}),T=a||o,{matches:O,route:B}=Ig(T);return du(),{notFoundMatches:O,route:B,error:M}}function ja(j,M){return{boundaryId:Ks(M.partialMatches).route.id,error:ft(400,{type:"route-discovery",pathname:j,message:M.error!=null&&"message"in M.error?M.error:String(M.error)})}}function du(j){let M=[];return Qe.forEach((T,O)=>{(!j||j(O))&&(T.cancel(),M.push(O),Qe.delete(O))}),M}function o_(j,M,T){if(x=j,y=M,g=T||null,!_&&S.navigation===zu){_=!0;let O=pp(S.location,S.matches);O!=null&&ht({restoreScrollPosition:O})}return()=>{x=null,y=null,g=null}}function fp(j,M){return g&&g(j,M.map(O=>Kb(O,S.loaderData)))||j.key}function a_(j,M){if(x&&y){let T=fp(j,M);x[T]=y()}}function pp(j,M){if(x){let T=fp(j,M),O=x[T];if(typeof O=="number")return O}return null}function Ca(j,M,T){if(u){if(m.has(T))return{active:!1,matches:j};if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:Ll(M,T,l,!0)}}else return{active:!0,matches:Ll(M,T,l,!0)||[]}}return{active:!1,matches:null}}async function Ma(j,M,T){let O=j;for(;;){let B=a==null,X=a||o;try{await bk(u,M,O,X,i,s,K1,T)}catch(J){return{type:"error",error:J,partialMatches:O}}finally{B&&(o=[...o])}if(T.aborted)return{type:"aborted"};let ne=Jr(X,M,l);if(ne)return gp(M,m),{type:"success",matches:ne};let z=Ll(X,M,l,!0);if(!z||O.length===z.length&&O.every((J,W)=>J.route.id===z[W].route.id))return gp(M,m),{type:"success",matches:null};O=z}}function gp(j,M){if(M.size>=v){let T=M.values().next().value;M.delete(T)}M.add(j)}function l_(j){i={},a=Xo(j,s,void 0,i)}function c_(j,M){let T=a==null;Gv(j,M,a||o,i,s),T&&(o=[...o],ht({}))}return C={get basename(){return l},get future(){return d},get state(){return S},get routes(){return o},get window(){return e},initialize:q1,subscribe:G1,enableScrollRestoration:o_,navigate:sp,fetch:t_,revalidate:J1,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:ap,deleteFetcher:s_,dispose:X1,getBlocker:i_,deleteBlocker:dp,patchRoutes:c_,_internalFetchControllers:F,_internalActiveDeferreds:Qe,_internalSetRoutes:l_},C}function xk(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function rh(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=Cf(s||".",jf(l,i),pn(t.pathname,n)||t.pathname,a==="path");return s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c&&c.route.index&&!Tf(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Bn([n,u.pathname])),fs(u)}function Pg(t,e,n,r){if(!r||!xk(r))return{path:n};if(r.formMethod&&!Dk(r.formMethod))return{path:n,error:ft(405,{method:r.formMethod})};let s=()=>({path:n,error:ft(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=Jv(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!on(o))return s();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,v)=>{let[m,x]=v;return""+p+m+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!on(o))return s();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return s()}}}se(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=sh(r.formData),c=r.formData;else if(r.body instanceof FormData)l=sh(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Og(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Og(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(on(u.formMethod))return{path:n,submission:u};let d=Xn(n);return e&&d.search&&Tf(d.search)&&l.append("index",""),d.search="?"+l,{path:fs(d),submission:u}}function _k(t,e){let n=t;if(e){let r=t.findIndex(s=>s.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Tg(t,e,n,r,s,i,o,a,l,c,u,d,f,p,v,m){let x=m?At(m[1])?m[1].error:m[1].data:void 0,g=t.createURL(e.location),y=t.createURL(s),_=m&&At(m[1])?m[0]:void 0,w=_?_k(n,_):n,k=m?m[1].statusCode:void 0,E=o&&k&&k>=400,C=w.filter((P,L)=>{let{route:D}=P;if(D.lazy)return!0;if(D.loader==null)return!1;if(i)return typeof D.loader!="function"||D.loader.hydrate?!0:e.loaderData[D.id]===void 0&&(!e.errors||e.errors[D.id]===void 0);if(wk(e.loaderData,e.matches[L],P)||l.some(G=>G===P.route.id))return!0;let R=e.matches[L],q=P;return Rg(P,Re({currentUrl:g,currentParams:R.params,nextUrl:y,nextParams:q.params},r,{actionResult:x,actionStatus:k,defaultShouldRevalidate:E?!1:a||g.pathname+g.search===y.pathname+y.search||g.search!==y.search||Xv(R,q)}))}),S=[];return d.forEach((P,L)=>{if(i||!n.some(Q=>Q.route.id===P.routeId)||u.has(L))return;let D=Jr(p,P.path,v);if(!D){S.push({key:L,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(L),q=eo(D,P.path),G=!1;f.has(L)?G=!1:c.has(L)?(c.delete(L),G=!0):R&&R.state!=="idle"&&R.data===void 0?G=a:G=Rg(q,Re({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:k,defaultShouldRevalidate:E?!1:a})),G&&S.push({key:L,routeId:P.routeId,path:P.path,matches:D,match:q,controller:new AbortController})}),[C,S]}function wk(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function Xv(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Rg(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function bk(t,e,n,r,s,i,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(u,d)=>{a.aborted||Gv(u,d,r,s,i)}}),o.set(l,c)),c&&Rk(c)&&await c}finally{o.delete(l)}}function Gv(t,e,n,r,s){if(t){var i;let o=r[t];se(o,"No route found to patch children into: routeId = "+t);let a=Xo(e,s,[t,"patch",String(((i=o.children)==null?void 0:i.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Xo(e,s,["patch",String(n.length||"0")],r);n.push(...o)}}async function kk(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];se(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";mi(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Vb.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,Re({},e(s),{lazy:void 0}))}async function Sk(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function Ek(t,e,n,r,s,i,o,a,l,c){let u=i.map(p=>p.route.lazy?kk(p.route,l,a):void 0),d=i.map((p,v)=>{let m=u[v],x=s.some(y=>y.route.id===p.route.id);return Re({},p,{shouldLoad:x,resolve:async y=>(y&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(x=!0),x?jk(e,r,p,m,y,c):Promise.resolve({type:be.data,result:void 0}))})}),f=await t({matches:d,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return f}async function jk(t,e,n,r,s,i){let o,a,l=c=>{let u,d=new Promise((v,m)=>u=m);a=()=>u(),e.signal.addEventListener("abort",a);let f=v=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...v!==void 0?[v]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(m=>f(m)):f())}}catch(v){return{type:"error",result:v}}})();return Promise.race([p,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw ft(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:be.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw ft(404,{pathname:d})}se(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:be.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function Ck(t){let{result:e,type:n}=t;if(Qv(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:be.error,error:u}}return n===be.error?{type:be.error,error:new uc(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:be.data,data:c,statusCode:e.status,headers:e.headers}}if(n===be.error){if(Fg(e)){var r;if(e.data instanceof Error){var s;return{type:be.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new uc(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:be.error,error:e,statusCode:Hc(e)?e.status:void 0}}if(Ok(e)){var i,o;return{type:be.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Fg(e)){var a,l;return{type:be.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:be.data,data:e}}function Mk(t,e,n,r,s,i){let o=t.headers.get("Location");if(se(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Mf.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=rh(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function Lg(t,e,n){if(Mf.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=pn(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Cs(t,e,n,r){let s=t.createURL(Jv(e)).toString(),i={signal:n};if(r&&on(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=sh(r.formData):i.body=r.formData}return new Request(s,i)}function sh(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Og(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Pk(t,e,n,r,s){let i={},o=null,a,l=!1,c={},u=n&&At(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,p=e[f];if(se(!ns(p),"Cannot handle redirect results in processLoaderData"),At(p)){let v=p.error;u!==void 0&&(v=u,u=void 0),o=o||{};{let m=Ks(t,f);o[m.route.id]==null&&(o[m.route.id]=v)}i[f]=void 0,l||(l=!0,a=Hc(p.error)?p.error.status:500),p.headers&&(c[f]=p.headers)}else fr(p)?(r.set(f,p.deferredData),i[f]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[f]=p.headers)):(i[f]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[f]=p.headers))}),u!==void 0&&n&&(o={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function Dg(t,e,n,r,s,i,o,a){let{loaderData:l,errors:c}=Pk(e,r,s,a);return i.forEach(u=>{let{key:d,match:f,controller:p}=u,v=o[d];if(se(v,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(At(v)){let m=Ks(t.matches,f==null?void 0:f.route.id);c&&c[m.route.id]||(c=Re({},c,{[m.route.id]:v.error})),t.fetchers.delete(d)}else if(ns(v))se(!1,"Unhandled fetcher revalidation redirect");else if(fr(v))se(!1,"Unhandled fetcher deferred data");else{let m=tr(v.data);t.fetchers.set(d,m)}}),{loaderData:l,errors:c}}function Ng(t,e,n,r){let s=Re({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function Ag(t){return t?At(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ks(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Ig(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ft(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new uc(t||500,a,new Error(l),!0)}function Ga(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(ns(s))return{key:r,result:s}}}function Jv(t){let e=typeof t=="string"?Xn(t):t;return fs(Re({},e,{hash:""}))}function Tk(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Rk(t){return typeof t=="object"&&t!=null&&"then"in t}function Lk(t){return Qv(t.result)&&pk.has(t.result.status)}function fr(t){return t.type===be.deferred}function At(t){return t.type===be.error}function ns(t){return(t&&t.type)===be.redirect}function Fg(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Ok(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Qv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Dk(t){return fk.has(t.toLowerCase())}function on(t){return dk.has(t.toLowerCase())}async function Nk(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!Xv(u,c)&&(s&&s[c.route.id])!==void 0;fr(l)&&d&&await Pf(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function Ak(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&fr(a)&&(se(o,"Expected an AbortController for revalidating fetcher deferred result"),await Pf(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function Pf(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:be.data,data:t.deferredData.unwrappedData}}catch(s){return{type:be.error,error:s}}return{type:be.data,data:t.deferredData.data}}}function Tf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function eo(t,e){let n=typeof e=="string"?Xn(e).search:e.search;if(t[t.length-1].route.index&&Tf(n||""))return t[t.length-1];let r=Yv(t);return r[r.length-1]}function zg(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function $u(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ik(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function $i(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Fk(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function tr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function zk(t,e){try{let n=t.sessionStorage.getItem(qv);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function $k(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(qv,JSON.stringify(n))}catch(r){mi(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ps(){return ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ps.apply(this,arguments)}const ga=b.createContext(null),Rf=b.createContext(null),Dr=b.createContext(null),Wc=b.createContext(null),Nr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Zv=b.createContext(null);function Bk(t,e){let{relative:n}=e===void 0?{}:e;ma()||se(!1);let{basename:r,navigator:s}=b.useContext(Dr),{hash:i,pathname:o,search:a}=Vc(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Bn([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ma(){return b.useContext(Wc)!=null}function Ar(){return ma()||se(!1),b.useContext(Wc).location}function ex(t){b.useContext(Dr).static||b.useLayoutEffect(t)}function Tt(){let{isDataRoute:t}=b.useContext(Nr);return t?Qk():Uk()}function Uk(){ma()||se(!1);let t=b.useContext(ga),{basename:e,future:n,navigator:r}=b.useContext(Dr),{matches:s}=b.useContext(Nr),{pathname:i}=Ar(),o=JSON.stringify(jf(s,n.v7_relativeSplatPath)),a=b.useRef(!1);return ex(()=>{a.current=!0}),b.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Cf(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Bn([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function tx(){let{matches:t}=b.useContext(Nr),e=t[t.length-1];return e?e.params:{}}function Vc(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Dr),{matches:s}=b.useContext(Nr),{pathname:i}=Ar(),o=JSON.stringify(jf(s,r.v7_relativeSplatPath));return b.useMemo(()=>Cf(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Hk(t,e){return nx(t,e)}function nx(t,e,n,r){ma()||se(!1);let{navigator:s}=b.useContext(Dr),{matches:i}=b.useContext(Nr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ar(),u;if(e){var d;let x=typeof e=="string"?Xn(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||se(!1),u=x}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=Jr(t,{pathname:p}),m=qk(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Bn([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Bn([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&m?b.createElement(Wc.Provider,{value:{location:ps({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Be.Pop}},m):m}function Wk(){let t=Gk(),e=Hc(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const Vk=b.createElement(Wk,null);class Yk extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Nr.Provider,{value:this.props.routeContext},b.createElement(Zv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kk(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(ga);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Nr.Provider,{value:e},r)}function qk(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||se(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,v=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,v=!1,m=null,x=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||Vk,l&&(c<0&&f===0?(v=!0,x=null):c===f&&(v=!0,x=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),y=()=>{let _;return p?_=m:v?_=x:d.route.Component?_=b.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,b.createElement(Kk,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?b.createElement(Yk,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var Lf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Lf||{}),Go=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Go||{});function rx(t){let e=b.useContext(ga);return e||se(!1),e}function sx(t){let e=b.useContext(Rf);return e||se(!1),e}function Xk(t){let e=b.useContext(Nr);return e||se(!1),e}function ix(t){let e=Xk(),n=e.matches[e.matches.length-1];return n.route.id||se(!1),n.route.id}function Gk(){var t;let e=b.useContext(Zv),n=sx(Go.UseRouteError),r=ix(Go.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}let Jk=0;function ox(t){let{router:e,basename:n}=rx(Lf.UseBlocker),r=sx(Go.UseBlocker),[s,i]=b.useState(""),o=b.useCallback(a=>{if(typeof t!="function")return!!t;if(n==="/")return t(a);let{currentLocation:l,nextLocation:c,historyAction:u}=a;return t({currentLocation:ps({},l,{pathname:pn(l.pathname,n)||l.pathname}),nextLocation:ps({},c,{pathname:pn(c.pathname,n)||c.pathname}),historyAction:u})},[n,t]);return b.useEffect(()=>{let a=String(++Jk);return i(a),()=>e.deleteBlocker(a)},[e]),b.useEffect(()=>{s!==""&&e.getBlocker(s,o)},[e,s,o]),s&&r.blockers.has(s)?r.blockers.get(s):Ds}function Qk(){let{router:t}=rx(Lf.UseNavigateStable),e=ix(Go.UseNavigateStable),n=b.useRef(!1);return ex(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ps({fromRouteId:e},i)))},[t,e])}function Ge(t){se(!1)}function Zk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Be.Pop,navigator:i,static:o=!1,future:a}=t;ma()&&se(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:i,static:o,future:ps({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Xn(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:v="default"}=r,m=b.useMemo(()=>{let x=pn(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:p,key:v},navigationType:s}},[l,u,d,f,p,v,s]);return m==null?null:b.createElement(Dr.Provider,{value:c},b.createElement(Wc.Provider,{children:n,value:m}))}function ji(t){let{children:e,location:n}=t;return Hk(dc(e),n)}new Promise(()=>{});function dc(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,dc(r.props.children,i));return}r.type!==Ge&&se(!1),!r.props.index||!r.props.children||se(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=dc(r.props.children,i)),n.push(o)}),n}function e2(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:b.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:b.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:b.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yi(){return yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yi.apply(this,arguments)}function ax(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function t2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function n2(t,e){return t.button===0&&(!e||e==="_self")&&!t2(t)}function ih(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function r2(t,e){let n=ih(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const s2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],i2=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],o2="6";try{window.__reactRouterVersion=o2}catch{}function a2(t,e){return vk({basename:e==null?void 0:e.basename,future:yi({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Ub({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||l2(),routes:t,mapRouteProperties:e2,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function l2(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=yi({},e,{errors:c2(e.errors)})),e}function c2(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new uc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const lx=b.createContext({isTransitioning:!1}),u2=b.createContext(new Map),d2="startTransition",$g=P_[d2],h2="flushSync",Bg=Bb[h2];function f2(t){$g?$g(t):t()}function Bi(t){Bg?Bg(t):t()}let p2=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function g2(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=b.useState(n.state),[o,a]=b.useState(),[l,c]=b.useState({isTransitioning:!1}),[u,d]=b.useState(),[f,p]=b.useState(),[v,m]=b.useState(),x=b.useRef(new Map),{v7_startTransition:g}=r||{},y=b.useCallback(S=>{g?f2(S):S()},[g]),_=b.useCallback((S,P)=>{let{deletedFetchers:L,unstable_flushSync:D,unstable_viewTransitionOpts:R}=P;L.forEach(G=>x.current.delete(G)),S.fetchers.forEach((G,Q)=>{G.data!==void 0&&x.current.set(Q,G.data)});let q=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!R||q){D?Bi(()=>i(S)):y(()=>i(S));return}if(D){Bi(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let G=n.window.document.startViewTransition(()=>{Bi(()=>i(S))});G.finished.finally(()=>{Bi(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),Bi(()=>p(G));return}f?(u&&u.resolve(),f.skipTransition(),m({state:S,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(a(S),c({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[n.window,f,u,x,y]);b.useLayoutEffect(()=>n.subscribe(_),[n,_]),b.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new p2)},[l]),b.useEffect(()=>{if(u&&o&&n.window){let S=o,P=u.promise,L=n.window.document.startViewTransition(async()=>{y(()=>i(S)),await P});L.finished.finally(()=>{d(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(L)}},[y,o,u,n.window]),b.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,f,s.location,o]),b.useEffect(()=>{!l.isTransitioning&&v&&(a(v.state),c({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),m(void 0))},[l.isTransitioning,v]),b.useEffect(()=>{},[]);let w=b.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:S=>n.navigate(S),push:(S,P,L)=>n.navigate(S,{state:P,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(S,P,L)=>n.navigate(S,{replace:!0,state:P,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[n]),k=n.basename||"/",E=b.useMemo(()=>({router:n,navigator:w,static:!1,basename:k}),[n,w,k]),C=b.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return b.createElement(b.Fragment,null,b.createElement(ga.Provider,{value:E},b.createElement(Rf.Provider,{value:s},b.createElement(u2.Provider,{value:x.current},b.createElement(lx.Provider,{value:l},b.createElement(Zk,{basename:k,location:s.location,navigationType:s.historyAction,navigator:w,future:C},s.initialized||n.future.v7_partialHydration?b.createElement(m2,{routes:n.routes,future:n.future,state:s}):e))))),null)}const m2=b.memo(y2);function y2(t){let{routes:e,future:n,state:r}=t;return nx(e,void 0,r,n)}const v2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",x2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Of=b.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=ax(e,s2),{basename:p}=b.useContext(Dr),v,m=!1;if(typeof c=="string"&&x2.test(c)&&(v=c,v2))try{let _=new URL(window.location.href),w=c.startsWith("//")?new URL(_.protocol+c):new URL(c),k=pn(w.pathname,p);w.origin===_.origin&&k!=null?c=k+w.search+w.hash:m=!0}catch{}let x=Bk(c,{relative:s}),g=b2(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:d});function y(_){r&&r(_),_.defaultPrevented||g(_)}return b.createElement("a",yi({},f,{href:v||x,onClick:m||i?r:y,ref:n,target:l}))}),_2=b.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,d=ax(e,i2),f=Vc(l,{relative:d.relative}),p=Ar(),v=b.useContext(Rf),{navigator:m,basename:x}=b.useContext(Dr),g=v!=null&&k2(f)&&c===!0,y=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,_=p.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(_=_.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&x&&(w=pn(w,x)||w);const k=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let E=_===y||!o&&_.startsWith(y)&&_.charAt(k)==="/",C=w!=null&&(w===y||!o&&w.startsWith(y)&&w.charAt(y.length)==="/"),S={isActive:E,isPending:C,isTransitioning:g},P=E?r:void 0,L;typeof i=="function"?L=i(S):L=[i,E?"active":null,C?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(S):a;return b.createElement(Of,yi({},d,{"aria-current":P,className:L,ref:n,style:D,to:l,unstable_viewTransition:c}),typeof u=="function"?u(S):u)});var oh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oh||(oh={}));var Ug;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ug||(Ug={}));function w2(t){let e=b.useContext(ga);return e||se(!1),e}function b2(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Tt(),c=Ar(),u=Vc(t,{relative:o});return b.useCallback(d=>{if(n2(d,n)){d.preventDefault();let f=r!==void 0?r:fs(c)===fs(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}function Yc(t){let e=b.useRef(ih(t)),n=b.useRef(!1),r=Ar(),s=b.useMemo(()=>r2(r.search,n.current?null:e.current),[r.search]),i=Tt(),o=b.useCallback((a,l)=>{const c=ih(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}function k2(t,e){e===void 0&&(e={});let n=b.useContext(lx);n==null&&se(!1);let{basename:r}=w2(oh.useViewTransitionState),s=Vc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=pn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=pn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return cc(s.pathname,o)!=null||cc(s.pathname,i)!=null}const cn={BASE_URL:"/duitify",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobGxzdmxxZHpncmhqamZnZXdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI2MDI1MjcsImV4cCI6MjA0ODE3ODUyN30.sgz9zSOQRqOzjWojV2acr6f3OQNNZ88D5zT-TSmYEIM",VITE_SUPABASE_PROJECT_URL:"https://xhllsvlqdzgrhjjfgewk.supabase.co"};let S2=0;function Ne(t,e){const n=`atom${++S2}`,r={toString(){return(cn?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=E2,r.write=j2),e&&(r.write=e),r}function E2(t){return t(this)}function j2(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}const Hg=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,Bu=t=>"init"in t,Uu=t=>!!t.write,hc=new WeakMap,ah=t=>{var e;return lh(t)&&!((e=hc.get(t))!=null&&e[1])},C2=(t,e)=>{const n=hc.get(t);if(n)n[1]=!0,n[0].forEach(r=>r(e));else if((cn?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},M2=t=>{if(hc.has(t))return;const e=[new Set,!1];hc.set(t,e);const n=()=>{e[1]=!0};t.then(n,n),t.onCancel=r=>{e[0].add(r)}},lh=t=>typeof(t==null?void 0:t.then)=="function",Wg=t=>"v"in t||"e"in t,Ja=t=>{if("e"in t)throw t.e;if((cn?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},cx=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},Vg=(t,e,n,r,s)=>{var i;if((cn?"production":void 0)!=="production"&&r===e)throw new Error("[Bug] atom cannot depend on itself");n.d.set(r,s.n),ah(n.v)&&cx(e,n.v,s),(i=s.m)==null||i.t.add(e),t&&P2(t,r,e)},Ms=()=>[new Map,new Map,new Set],Hu=(t,e,n)=>{t[0].has(e)||t[0].set(e,new Set),t[1].set(e,n)},P2=(t,e,n)=>{const r=t[0].get(e);r&&r.add(n)},T2=(t,e)=>t[0].get(e),Yg=(t,e)=>{t[2].add(e)},zr=t=>{for(;t[1].size||t[2].size;){t[0].clear();const e=new Set(t[1].values());t[1].clear();const n=new Set(t[2]);t[2].clear(),e.forEach(r=>{var s;return(s=r.m)==null?void 0:s.l.forEach(i=>i())}),n.forEach(r=>r())}},ux=t=>{let e;(cn?"production":void 0)!=="production"&&(e=new Set);const n=(m,x,g)=>{const y="v"in x,_=x.v,w=ah(x.v)?x.v:null;if(lh(g)){M2(g);for(const k of x.d.keys())cx(m,g,t(k,x));x.v=g,delete x.e}else x.v=g,delete x.e;(!y||!Object.is(_,x.v))&&(++x.n,w&&C2(w,g))},r=(m,x,g,y)=>{var _;if(!(y!=null&&y(x))&&Wg(g)&&(g.m||Array.from(g.d).every(([P,L])=>r(m,P,t(P,g),y).n===L)))return g;g.d.clear();let w=!0;const k=P=>{if(Hg(x,P)){const D=t(P,g);if(!Wg(D))if(Bu(P))n(P,D,P.init);else throw new Error("no atom init");return Ja(D)}const L=r(m,P,t(P,g),y);if(w)Vg(m,x,g,P,L);else{const D=Ms();Vg(D,x,g,P,L),c(D,x,g),zr(D)}return Ja(L)};let E,C;const S={get signal(){return E||(E=new AbortController),E.signal},get setSelf(){return(cn?"production":void 0)!=="production"&&!Uu(x)&&console.warn("setSelf function cannot be used with read-only atom"),!C&&Uu(x)&&(C=(...P)=>{if((cn?"production":void 0)!=="production"&&w&&console.warn("setSelf function cannot be called in sync"),!w)return l(x,...P)}),C}};try{const P=x.read(k,S);if(n(x,g,P),lh(P)){(_=P.onCancel)==null||_.call(P,()=>E==null?void 0:E.abort());const L=()=>{if(g.m){const D=Ms();c(D,x,g),zr(D)}};P.then(L,L)}return g}catch(P){return delete g.v,g.e=P,++g.n,g}finally{w=!1}},s=m=>Ja(r(void 0,m,t(m))),i=(m,x,g)=>{var y,_;const w=new Map;for(const k of((y=g.m)==null?void 0:y.t)||[])w.set(k,t(k,g));for(const k of g.p)w.set(k,t(k,g));return(_=T2(m,x))==null||_.forEach(k=>{w.set(k,t(k,g))}),w},o=(m,x,g)=>{const y=[],_=new Set,w=(C,S)=>{if(!_.has(C)){_.add(C);for(const[P,L]of i(m,C,S))C!==P&&w(P,L);y.push([C,S,S.n])}};w(x,g);const k=new Set([x]),E=C=>_.has(C);for(let C=y.length-1;C>=0;--C){const[S,P,L]=y[C];let D=!1;for(const R of P.d.keys())if(R!==S&&k.has(R)){D=!0;break}D&&(r(m,S,P,E),c(m,S,P),L!==P.n&&(Hu(m,S,P),k.add(S))),_.delete(S)}},a=(m,x,g,...y)=>{const _=E=>Ja(r(m,E,t(E,g))),w=(E,...C)=>{const S=t(E,g);let P;if(Hg(x,E)){if(!Bu(E))throw new Error("atom not writable");const L="v"in S,D=S.v,R=C[0];n(E,S,R),c(m,E,S),(!L||!Object.is(D,S.v))&&(Hu(m,E,S),o(m,E,S))}else P=a(m,E,S,...C);return zr(m),P};return x.write(_,w,...y)},l=(m,...x)=>{const g=Ms(),y=a(g,m,t(m),...x);return zr(g),y},c=(m,x,g)=>{if(g.m&&!ah(g.v)){for(const y of g.d.keys())g.m.d.has(y)||(u(m,y,t(y,g)).t.add(x),g.m.d.add(y));for(const y of g.m.d||[])if(!g.d.has(y)){g.m.d.delete(y);const _=d(m,y,t(y,g));_==null||_.t.delete(x)}}},u=(m,x,g)=>{if(!g.m){r(m,x,g);for(const y of g.d.keys())u(m,y,t(y,g)).t.add(x);if(g.m={l:new Set,d:new Set(g.d.keys()),t:new Set},(cn?"production":void 0)!=="production"&&e.add(x),Uu(x)&&x.onMount){const y=g.m,{onMount:_}=x;Yg(m,()=>{const w=_((...k)=>a(m,x,g,...k));w&&(y.u=w)})}}return g.m},d=(m,x,g)=>{if(g.m&&!g.m.l.size&&!Array.from(g.m.t).some(y=>{var _;return(_=t(y,g).m)==null?void 0:_.d.has(x)})){const y=g.m.u;y&&Yg(m,y),delete g.m,(cn?"production":void 0)!=="production"&&e.delete(x);for(const _ of g.d.keys()){const w=d(m,_,t(_,g));w==null||w.t.delete(x)}return}return g.m},v={get:s,set:l,sub:(m,x)=>{const g=Ms(),y=t(m),_=u(g,m,y);zr(g);const w=_.l;return w.add(x),()=>{w.delete(x);const k=Ms();d(k,m,y),zr(k)}},unstable_derive:m=>ux(...m(t))};return(cn?"production":void 0)!=="production"&&Object.assign(v,{dev4_get_internal_weak_map:()=>({get:x=>{const g=t(x);if(g.n!==0)return g}}),dev4_get_mounted_atoms:()=>e,dev4_restore_atoms:x=>{const g=Ms();for(const[y,_]of x)if(Bu(y)){const w=t(y),k="v"in w,E=w.v;n(y,w,_),c(g,y,w),(!k||!Object.is(E,w.v))&&(Hu(g,y,w),o(g,y,w))}zr(g)}}),v},R2=()=>{const t=new WeakMap;return ux(n=>{let r=t.get(n);return r||(r={d:new Map,p:new Set,n:0},t.set(n,r)),r})};let Ui;const gn=()=>(Ui||(Ui=R2(),(cn?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Ui),globalThis.__JOTAI_DEFAULT_STORE__!==Ui&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Ui),dx={BASE_URL:"/duitify",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobGxzdmxxZHpncmhqamZnZXdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI2MDI1MjcsImV4cCI6MjA0ODE3ODUyN30.sgz9zSOQRqOzjWojV2acr6f3OQNNZ88D5zT-TSmYEIM",VITE_SUPABASE_PROJECT_URL:"https://xhllsvlqdzgrhjjfgewk.supabase.co"},L2=b.createContext(void 0),hx=t=>b.useContext(L2)||gn(),fx=t=>typeof(t==null?void 0:t.then)=="function",O2=t=>{t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e})},D2=he.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(O2(t),t)}),Wu=new WeakMap,N2=t=>{let e=Wu.get(t);return e||(e=new Promise((n,r)=>{let s=t;const i=l=>c=>{s===l&&n(c)},o=l=>c=>{s===l&&r(c)},a=l=>{"onCancel"in l&&typeof l.onCancel=="function"&&l.onCancel(c=>{if((dx?"production":void 0)!=="production"&&c===l)throw new Error("[Bug] p is not updated even after cancelation");fx(c)?(Wu.set(c,e),s=c,c.then(i(c),o(c)),a(c)):n(c)})};t.then(i(t),o(t)),a(t)}),Wu.set(t,e)),e};function A2(t,e){const n=hx(),[[r,s,i],o]=b.useReducer(c=>{const u=n.get(t);return Object.is(c[0],u)&&c[1]===n&&c[2]===t?c:[u,n,t]},void 0,()=>[n.get(t),n,t]);let a=r;if((s!==n||i!==t)&&(o(),a=n.get(t)),b.useEffect(()=>{const c=n.sub(t,()=>{o()});return o(),c},[n,t,void 0]),b.useDebugValue(a),fx(a)){const c=N2(a);return D2(c)}return a}function I2(t,e){const n=hx();return b.useCallback((...s)=>{if((dx?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...s)},[n,t])}function ee(t,e){return[A2(t),I2(t)]}const F2=gn(),px=Ne(!1);function Ee(t){return F2.set(px,t),t}Ne(!0);Ne(!1);const kn=Ne({title:"Duitify",actions:[]}),yo=Intl.DateTimeFormat().resolvedOptions().timeZone;function gt(t,{placeholder:e="-",lang:n,format:r="yyyy-MM-dd",timeZone:s}={}){if(!t||(typeof t=="string"&&(t=new Date(t)),typeof t=="number"&&(t=new Date(t)),!(t instanceof Date)))return e;if(s||(s=yo),n)return new Intl.DateTimeFormat(n,{day:"2-digit",month:"short",year:"numeric",weekday:"short",timeZone:s}).format(t);s!==yo&&(t=new Date(t.toLocaleString("en-US",{timeZone:s})));const i=t.getFullYear(),o=t.getMonth()+1,a=t.getDate(),l=t.getHours(),c=t.getMinutes(),u=t.getSeconds();return r.replace("yyyy",i.toString()).replace("MM",o.toString().padStart(2,"0")).replace("dd",a.toString().padStart(2,"0")).replace("HH",l.toString().padStart(2,"0")).replace("mm",c.toString().padStart(2,"0")).replace("ss",u.toString().padStart(2,"0"))}function gx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=gx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pr(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=gx(t))&&(r&&(r+=" "),r+=e);return r}const Jo=t=>typeof t=="number"&&!isNaN(t),os=t=>typeof t=="string",Ft=t=>typeof t=="function",Ol=t=>os(t)||Ft(t)?t:null,ch=t=>b.isValidElement(t)||os(t)||Ft(t)||Jo(t);function z2(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function Kc(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:f,playToast:p}=o;const v=r?`${e}--${l}`:e,m=r?`${n}--${l}`:n,x=b.useRef(0);return b.useLayoutEffect(()=>{const g=d.current,y=v.split(" "),_=w=>{w.target===d.current&&(p(),g.removeEventListener("animationend",_),g.removeEventListener("animationcancel",_),x.current===0&&w.type!=="animationcancel"&&g.classList.remove(...y))};g.classList.add(...y),g.addEventListener("animationend",_),g.addEventListener("animationcancel",_)},[]),b.useEffect(()=>{const g=d.current,y=()=>{g.removeEventListener("animationend",y),s?z2(g,u,i):u()};f||(c?y():(x.current=1,g.className+=` ${m}`,g.addEventListener("animationend",y)))},[f]),he.createElement(he.Fragment,null,a)}}function Kg(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const mt=new Map;let Qo=[];const uh=new Set,$2=t=>uh.forEach(e=>e(t)),mx=()=>mt.size>0;function yx(t,e){var n;if(e)return!((n=mt.get(e))==null||!n.isToastActive(t));let r=!1;return mt.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function vx(t,e){ch(t)&&(mx()||Qo.push({content:t,options:e}),mt.forEach(n=>{n.buildToast(t,e)}))}function qg(t,e){mt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function B2(t){const{subscribe:e,getSnapshot:n,setProps:r}=b.useRef(function(i){const o=i.containerId||1;return{subscribe(a){const l=function(u,d,f){let p=1,v=0,m=[],x=[],g=[],y=d;const _=new Map,w=new Set,k=()=>{g=Array.from(_.values()),w.forEach(S=>S())},E=S=>{x=S==null?[]:x.filter(P=>P!==S),k()},C=S=>{const{toastId:P,onOpen:L,updateId:D,children:R}=S.props,q=D==null;S.staleId&&_.delete(S.staleId),_.set(P,S),x=[...x,S.props.toastId].filter(G=>G!==S.staleId),k(),f(Kg(S,q?"added":"updated")),q&&Ft(L)&&L(b.isValidElement(R)&&R.props)};return{id:u,props:y,observe:S=>(w.add(S),()=>w.delete(S)),toggle:(S,P)=>{_.forEach(L=>{P!=null&&P!==L.props.toastId||Ft(L.toggle)&&L.toggle(S)})},removeToast:E,toasts:_,clearQueue:()=>{v-=m.length,m=[]},buildToast:(S,P)=>{if(($=>{let{containerId:te,toastId:Z,updateId:ce}=$;const ue=te?te!==u:u!==1,Qe=_.has(Z)&&ce==null;return ue||Qe})(P))return;const{toastId:L,updateId:D,data:R,staleId:q,delay:G}=P,Q=()=>{E(L)},re=D==null;re&&v++;const ie={...y,style:y.toastStyle,key:p++,...Object.fromEntries(Object.entries(P).filter($=>{let[te,Z]=$;return Z!=null})),toastId:L,updateId:D,data:R,closeToast:Q,isIn:!1,className:Ol(P.className||y.toastClassName),bodyClassName:Ol(P.bodyClassName||y.bodyClassName),progressClassName:Ol(P.progressClassName||y.progressClassName),autoClose:!P.isLoading&&(N=P.autoClose,F=y.autoClose,N===!1||Jo(N)&&N>0?N:F),deleteToast(){const $=_.get(L),{onClose:te,children:Z}=$.props;Ft(te)&&te(b.isValidElement(Z)&&Z.props),f(Kg($,"removed")),_.delete(L),v--,v<0&&(v=0),m.length>0?C(m.shift()):k()}};var N,F;ie.closeButton=y.closeButton,P.closeButton===!1||ch(P.closeButton)?ie.closeButton=P.closeButton:P.closeButton===!0&&(ie.closeButton=!ch(y.closeButton)||y.closeButton);let H=S;b.isValidElement(S)&&!os(S.type)?H=b.cloneElement(S,{closeToast:Q,toastProps:ie,data:R}):Ft(S)&&(H=S({closeToast:Q,toastProps:ie,data:R}));const I={content:H,props:ie,staleId:q};y.limit&&y.limit>0&&v>y.limit&&re?m.push(I):Jo(G)?setTimeout(()=>{C(I)},G):C(I)},setProps(S){y=S},setToggle:(S,P)=>{_.get(S).toggle=P},isToastActive:S=>x.some(P=>P===S),getSnapshot:()=>y.newestOnTop?g.reverse():g}}(o,i,$2);mt.set(o,l);const c=l.observe(a);return Qo.forEach(u=>vx(u.content,u.options)),Qo=[],()=>{c(),mt.delete(o)}},setProps(a){var l;(l=mt.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=mt.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const s=b.useSyncExternalStore(e,n,n);return{getToastToRender:function(i){if(!s)return[];const o=new Map;return s.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>i(a[0],a[1]))},isToastActive:yx,count:s==null?void 0:s.length}}function U2(t){const[e,n]=b.useState(!1),[r,s]=b.useState(!1),i=b.useRef(null),o=b.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:d}=t;var f,p;function v(){n(!0)}function m(){n(!1)}function x(_){const w=i.current;o.canDrag&&w&&(o.didMove=!0,e&&m(),o.delta=t.draggableDirection==="x"?_.clientX-o.start:_.clientY-o.start,o.start!==_.clientX&&(o.canCloseOnClick=!1),w.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,w.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function g(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",g);const _=i.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),t.closeToast(),void t.collapseAll();_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}(p=mt.get((f={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||p.setToggle(f.id,f.fn),b.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||m(),window.addEventListener("focus",v),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",m)}},[t.pauseOnFocusLoss]);const y={onPointerDown:function(_){if(t.draggable===!0||t.draggable===_.pointerType){o.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",g);const w=i.current;o.canCloseOnClick=!0,o.canDrag=!0,w.style.transition="none",t.draggableDirection==="x"?(o.start=_.clientX,o.removalDistance=w.offsetWidth*(t.draggablePercent/100)):(o.start=_.clientY,o.removalDistance=w.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(_){const{top:w,bottom:k,left:E,right:C}=i.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&_.clientX>=E&&_.clientX<=C&&_.clientY>=w&&_.clientY<=k?m():v()}};return a&&l&&(y.onMouseEnter=m,t.stacked||(y.onMouseLeave=v)),d&&(y.onClick=_=>{u&&u(_),o.canCloseOnClick&&c()}),{playToast:v,pauseToast:m,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:y}}function H2(t){let{delay:e,isRunning:n,closeToast:r,type:s="default",hide:i,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:f}=t;const p=i||l&&c===0,v={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(v.transform=`scaleX(${c})`);const m=pr("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),x=Ft(o)?o({rtl:u,type:s,defaultClassName:m}):pr(m,o),g={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}};return he.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},he.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${s}`}),he.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:x,style:v,...g}))}let W2=1;const xx=()=>""+W2++;function V2(t){return t&&(os(t.toastId)||Jo(t.toastId))?t.toastId:xx()}function vo(t,e){return vx(t,e),e.toastId}function fc(t,e){return{...e,type:e&&e.type||t,toastId:V2(e)}}function Qa(t){return(e,n)=>vo(e,fc(t,n))}function K(t,e){return vo(t,fc("default",e))}K.loading=(t,e)=>vo(t,fc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),K.promise=function(t,e,n){let r,{pending:s,error:i,success:o}=e;s&&(r=os(s)?K.loading(s,n):K.loading(s.render,{...n,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null)return void K.dismiss(r);const p={type:u,...a,...n,data:f},v=os(d)?{render:d}:d;return r?K.update(r,{...p,...v}):K(v.render,{...p,...v}),f},c=Ft(t)?t():t;return c.then(u=>l("success",o,u)).catch(u=>l("error",i,u)),c},K.success=Qa("success"),K.info=Qa("info"),K.error=Qa("error"),K.warning=Qa("warning"),K.warn=K.warning,K.dark=(t,e)=>vo(t,fc("default",{theme:"dark",...e})),K.dismiss=function(t){(function(e){var n;if(mx()){if(e==null||os(n=e)||Jo(n))mt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=mt.get(e.containerId);r?r.removeToast(e.id):mt.forEach(s=>{s.removeToast(e.id)})}}else Qo=Qo.filter(r=>e!=null&&r.options.toastId!==e)})(t)},K.clearWaitingQueue=function(t){t===void 0&&(t={}),mt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},K.isActive=yx,K.update=function(t,e){e===void 0&&(e={});const n=((r,s)=>{var i;let{containerId:o}=s;return(i=mt.get(o||1))==null?void 0:i.toasts.get(r)})(t,e);if(n){const{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:xx()};i.toastId!==t&&(i.staleId=t);const o=i.render||s;delete i.render,vo(o,i)}},K.done=t=>{K.update(t,{progress:1})},K.onChange=function(t){return uh.add(t),()=>{uh.delete(t)}},K.play=t=>qg(!0,t),K.pause=t=>qg(!1,t);const Y2=typeof window<"u"?b.useLayoutEffect:b.useEffect,Za=t=>{let{theme:e,type:n,isLoading:r,...s}=t;return he.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...s})},Vu={info:function(t){return he.createElement(Za,{...t},he.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return he.createElement(Za,{...t},he.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return he.createElement(Za,{...t},he.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return he.createElement(Za,{...t},he.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return he.createElement("div",{className:"Toastify__spinner"})}},K2=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=U2(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:f,transition:p,position:v,className:m,style:x,bodyClassName:g,bodyStyle:y,progressClassName:_,progressStyle:w,updateId:k,role:E,progress:C,rtl:S,toastId:P,deleteToast:L,isIn:D,isLoading:R,closeOnClick:q,theme:G}=t,Q=pr("Toastify__toast",`Toastify__toast-theme--${G}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":q}),re=Ft(m)?m({rtl:S,position:v,type:u,defaultClassName:Q}):pr(Q,m),ie=function(I){let{theme:$,type:te,isLoading:Z,icon:ce}=I,ue=null;const Qe={theme:$,type:te};return ce===!1||(Ft(ce)?ue=ce({...Qe,isLoading:Z}):b.isValidElement(ce)?ue=b.cloneElement(ce,Qe):Z?ue=Vu.spinner():(Sn=>Sn in Vu)(te)&&(ue=Vu[te](Qe))),ue}(t),N=!!C||!l,F={closeToast:f,type:u,theme:G};let H=null;return o===!1||(H=Ft(o)?o(F):b.isValidElement(o)?b.cloneElement(o,F):function(I){let{closeToast:$,theme:te,ariaLabel:Z="close"}=I;return he.createElement("button",{className:`Toastify__close-button Toastify__close-button--${te}`,type:"button",onClick:ce=>{ce.stopPropagation(),$(ce)},"aria-label":Z},he.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},he.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(F)),he.createElement(p,{isIn:D,done:L,position:v,preventExitTransition:n,nodeRef:r,playToast:i},he.createElement("div",{id:P,onClick:c,"data-in":D,className:re,...s,style:x,ref:r},he.createElement("div",{...D&&{role:E},className:Ft(g)?g({type:u}):pr("Toastify__toast-body",g),style:y},ie!=null&&he.createElement("div",{className:pr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ie),he.createElement("div",null,a)),H,he.createElement(H2,{...k&&!N?{key:`pb-${k}`}:{},rtl:S,theme:G,delay:l,isRunning:e,isIn:D,closeToast:f,hide:d,type:u,style:w,className:_,controlledProgress:N,progress:C||0})))},qc=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},q2=Kc(qc("bounce",!0));Kc(qc("slide",!0));Kc(qc("zoom"));Kc(qc("flip"));const X2={position:"top-right",transition:q2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function G2(t){let e={...X2,...t};const n=t.stacked,[r,s]=b.useState(!0),i=b.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=B2(e),{className:c,style:u,rtl:d,containerId:f}=e;function p(m){const x=pr("Toastify__toast-container",`Toastify__toast-container--${m}`,{"Toastify__toast-container--rtl":d});return Ft(c)?c({position:m,rtl:d,defaultClassName:x}):pr(x,Ol(c))}function v(){n&&(s(!0),K.play())}return Y2(()=>{if(n){var m;const x=i.current.querySelectorAll('[data-in="true"]'),g=12,y=(m=e.position)==null?void 0:m.includes("top");let _=0,w=0;Array.from(x).reverse().forEach((k,E)=>{const C=k;C.classList.add("Toastify__toast--stacked"),E>0&&(C.dataset.collapsed=`${r}`),C.dataset.pos||(C.dataset.pos=y?"top":"bot");const S=_*(r?.2:1)+(r?0:g*E);C.style.setProperty("--y",`${y?S:-1*S}px`),C.style.setProperty("--g",`${g}`),C.style.setProperty("--s",""+(1-(r?w:0))),_+=C.offsetHeight,w+=.025})}},[r,l,n]),he.createElement("div",{ref:i,className:"Toastify",id:f,onMouseEnter:()=>{n&&(s(!1),K.pause())},onMouseLeave:v},o((m,x)=>{const g=x.length?{...u}:{...u,pointerEvents:"none"};return he.createElement("div",{className:p(m),style:g,key:`container-${m}`},x.map(y=>{let{content:_,props:w}=y;return he.createElement(K2,{...w,stacked:n,collapseAll:v,isIn:a(w.toastId,w.containerId),style:w.style,key:`toast-${w.key}`},_)}))}))}const J2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}),h.jsx("path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"})]})}),Q2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z"}),h.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"})]})}),Z2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M3 12a9 9 0 1 0 9-9a9.75 9.75 0 0 0-6.74 2.74L3 8"}),h.jsx("path",{d:"M3 3v5h5m4-1v5l4 2"})]})}),eS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,children:[h.jsx("path",{d:"M10.11 3.9a1 1 0 0 1 .995-.9h1.79a1 1 0 0 1 .995.9l.033.333a8 8 0 0 1 2.209.915l.259-.212a1 1 0 0 1 1.34.067l1.266 1.266a1 1 0 0 1 .067 1.34l-.212.26c.409.676.72 1.419.915 2.208l.332.033a1 1 0 0 1 .901.995v1.79a1 1 0 0 1-.9.995l-.333.033a8 8 0 0 1-.915 2.209l.212.259a1 1 0 0 1-.067 1.34l-1.266 1.266a1 1 0 0 1-1.34.067l-.26-.212a8 8 0 0 1-2.208.915l-.033.332a1 1 0 0 1-.995.901h-1.79a1 1 0 0 1-.995-.9l-.033-.333a8 8 0 0 1-2.209-.915l-.259.212a1 1 0 0 1-1.34-.067L5.003 17.73a1 1 0 0 1-.067-1.34l.212-.26a8 8 0 0 1-.915-2.208L3.9 13.89a1 1 0 0 1-.9-.995v-1.79a1 1 0 0 1 .9-.995l.333-.033a8 8 0 0 1 .915-2.209l-.212-.259a1 1 0 0 1 .067-1.34L6.27 5.003a1 1 0 0 1 1.34-.067l.26.212a8 8 0 0 1 2.208-.915z"}),h.jsx("path",{d:"M14.5 12a2.5 2.5 0 1 0-5 0a2.5 2.5 0 0 0 5 0"})]})}),tS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"M12 8v4m0 4h.01"})]})}),nS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"m13 21l2-1l2 1v-7h-4m4-5V7l-2 1l-2-1v2l-2 1l2 1v2l2-1l2 1v-2l2-1m1-7H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7v-2H4V5h16v10h-1v2h1a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 5H5V6h6m-2 5H5V9h4m2 5H5v-2h6Z"})}),rS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),h.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]})}),sS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M12 8a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4m0 2a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2m-2 12c-.25 0-.46-.18-.5-.42l-.37-2.65c-.63-.25-1.17-.59-1.69-.99l-2.49 1.01c-.22.08-.49 0-.61-.22l-2-3.46a.493.493 0 0 1 .12-.64l2.11-1.66L4.5 12l.07-1l-2.11-1.63a.493.493 0 0 1-.12-.64l2-3.46c.12-.22.39-.31.61-.22l2.49 1c.52-.39 1.06-.73 1.69-.98l.37-2.65c.04-.24.25-.42.5-.42h4c.25 0 .46.18.5.42l.37 2.65c.63.25 1.17.59 1.69.98l2.49-1c.22-.09.49 0 .61.22l2 3.46c.13.22.07.49-.12.64L19.43 11l.07 1l-.07 1l2.11 1.63c.19.15.25.42.12.64l-2 3.46c-.12.22-.39.31-.61.22l-2.49-1c-.52.39-1.06.73-1.69.98l-.37 2.65c-.04.24-.25.42-.5.42zm1.25-18l-.37 2.61c-1.2.25-2.26.89-3.03 1.78L5.44 7.35l-.75 1.3L6.8 10.2a5.55 5.55 0 0 0 0 3.6l-2.12 1.56l.75 1.3l2.43-1.04c.77.88 1.82 1.52 3.01 1.76l.37 2.62h1.52l.37-2.61c1.19-.25 2.24-.89 3.01-1.77l2.43 1.04l.75-1.3l-2.12-1.55c.4-1.17.4-2.44 0-3.61l2.11-1.55l-.75-1.3l-2.41 1.04a5.42 5.42 0 0 0-3.03-1.77L12.75 4z"})}),iS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M20 11v2H8l5.5 5.5l-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5L8 11z"})}),oS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M14.94 19.5L12 17.77L9.06 19.5l.78-3.34l-2.59-2.24l3.41-.29L12 10.5l1.34 3.13l3.41.29l-2.59 2.24M20 2H4v2l4.86 3.64a8 8 0 1 0 6.28 0L20 4m-2 11a6 6 0 1 1-7.18-5.88a5.9 5.9 0 0 1 2.36 0A6 6 0 0 1 18 15m-5.37-8h-1.26l-4-3h9.34Z"})}),aS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M12 5c3.87 0 7 3.13 7 7s-3.13 7-7 7s-7-3.13-7-7s3.13-7 7-7m0-3c5.5 0 10 4.5 10 10s-4.5 10-10 10S2 17.5 2 12S6.5 2 12 2m0 2c-4.42 0-8 3.58-8 8s3.58 8 8 8s8-3.58 8-8s-3.58-8-8-8"})}),lS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4m7 14l5-5l-5-5m5 5H9"})}),cS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:11,cy:11,r:8}),h.jsx("path",{d:"m21 21l-4.3-4.3"})]})}),uS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M20 7h-9m3 10H5"}),h.jsx("circle",{cx:17,cy:17,r:3}),h.jsx("circle",{cx:7,cy:7,r:3})]})}),dS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M5 20h14v-2H5m14-9h-4V3H9v6H5l7 7z"})}),hS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M2.062 12.348a1 1 0 0 1 0-.696a10.75 10.75 0 0 1 19.876 0a1 1 0 0 1 0 .696a10.75 10.75 0 0 1-19.876 0"}),h.jsx("circle",{cx:12,cy:12,r:3})]})}),fS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575a1 1 0 0 1 0 .696a10.8 10.8 0 0 1-1.444 2.49m-6.41-.679a3 3 0 0 1-4.242-4.242"}),h.jsx("path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151a1 1 0 0 1 0-.696a10.75 10.75 0 0 1 4.446-5.143M2 2l20 20"})]})}),pS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),h.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"})]})}),gS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}),h.jsx("path",{d:"m9 11l3 3L22 4"})]})}),mS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"m15 9l-6 6m0-6l6 6"})]})}),yS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"m9 12l2 2l4-4"})]})}),vS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 16h.01M12 8v4m3.312-10a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z"})}),xS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m21.73 18l-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3M12 9v4m0 4h.01"})}),_S=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"M12 16v-4m0-4h.01"})]})}),wS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"}),h.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"})]})}),bS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:1}),h.jsx("circle",{cx:12,cy:5,r:1}),h.jsx("circle",{cx:12,cy:19,r:1})]})}),kS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497zM15 5l4 4"})}),SS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m-7-7v14"})}),ES=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:4}),h.jsx("path",{d:"M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"})]})}),jS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3a6 6 0 0 0 9 9a9 9 0 1 1-9-9"})}),CS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6h18m-2 0v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6m3 0V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})}),MS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M3 7V5c0-1.1.9-2 2-2h2m10 0h2c1.1 0 2 .9 2 2v2m0 10v2c0 1.1-.9 2-2 2h-2M7 21H5c-1.1 0-2-.9-2-2v-2"}),h.jsx("rect",{width:7,height:5,x:7,y:7,rx:1}),h.jsx("rect",{width:7,height:5,x:10,y:12,rx:1})]})}),PS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m-7-7l7 7l-7 7"})}),TS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 6L6 18M6 6l12 12"})}),RS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2"}),h.jsx("circle",{cx:12,cy:12,r:3})]})}),LS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4m4-5l5 5l5-5m-5 5V3"})}),OS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m9 18l6-6l-6-6"})}),DS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m15 18l-6-6l6-6"})}),NS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v20m5-17H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),AS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M10 8h.01M12 12h.01M14 8h.01M16 12h.01M18 8h.01M6 8h.01M7 16h10m-9-4h.01"}),h.jsx("rect",{width:20,height:16,x:2,y:4,rx:2})]})}),IS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 6L9 17l-5-5"})}),FS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M8 2v4m8-4v4"}),h.jsx("rect",{width:18,height:18,x:3,y:4,rx:2}),h.jsx("path",{d:"M3 10h18M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01M16 18h.01"})]})}),zS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 12h16M4 6h16M4 18h16"})}),$S=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"M8 12h8m-4-4v8"})]})}),BS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"M8 12h8"})]})}),US=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("rect",{width:20,height:16,x:2,y:4,rx:2}),h.jsx("path",{d:"M10 4v4M2 8h20M6 4v4"})]})}),HS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4m0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4"})}),WS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M2 6h4m-4 4h4m-4 4h4m-4 4h4"}),h.jsx("rect",{width:16,height:20,x:4,y:2,rx:2}),h.jsx("path",{d:"M9.5 8h5m-5 4H16m-6.5 4H14"})]})}),VS={"lucide:house":J2,"lucide:chart-pie":Q2,"lucide:history":Z2,"mynaui:cog":eS,"lucide:circle-alert":tS,"mdi:certificate-outline":nS,"lucide:pie-chart":rS,"mdi:gear-outline":sS,"mdi:arrow-left":iS,"mdi:medal-outline":oS,"mdi:circle-slice-8":aS,"lucide:log-out":lS,"lucide:search":cS,"lucide:settings-2":uS,"mdi:download":dS,"lucide:eye":hS,"lucide:eye-off":fS,"lucide:file":pS,"lucide:check-circle":gS,"lucide:x-circle":mS,"lucide:circle-check":yS,"lucide:octagon-alert":vS,"lucide:triangle-alert":xS,"lucide:info":_S,"lucide:wallet":wS,"lucide:more-vertical":bS,"lucide:pencil":kS,"lucide:plus":SS,"lucide:sun":ES,"lucide:moon":jS,"lucide:trash":CS,"lucide:group":MS,"lucide:arrow-right":PS,"lucide:x":TS,"lucide:settings":RS,"lucide:download":LS,"lucide:chevron-right":OS,"lucide:dollar-sign":NS,"lucide:keyboard":AS,"lucide:check":IS,"lucide:chevron-left":DS,"lucide:calendar-days":FS,"lucide:menu":zS,"lucide:circle-plus":$S,"lucide:circle-minus":BS,"lucide:app-window":US,"lucide:infinity":HS,"lucide:notebook-text":WS},ve=({icon:t,...e})=>{const n=b.useMemo(()=>VS[t],[t]);return h.jsx(n,{...e})};function Bt(t,{currency:e="IDR"}={}){return new Intl.NumberFormat("id-ID",{style:"decimal",currency:e}).format(t)}const ke=({children:t,className:e})=>h.jsx("div",{className:"dai-skeleton w-fit "+e,children:h.jsx("div",{className:"invisible",children:t})}),_x=Ne(!1),zt=Ne(),Df=Ne(!1),hn=({amount:t,count:e})=>{const[n]=ee(zt),[r]=ee(_x),s=b.useMemo(()=>Math.abs(t),[t]);return!(n!=null&&n.hide_amount)||r||s<=(n.max_visible_amount??0)?Bt(t):e?h.jsx(Yu,{num:e}):s>=1e6?h.jsx(Yu,{num:6}):h.jsx(Yu,{num:7})},Yu=({num:t})=>h.jsxs("div",{className:"flex items-center justify-end",children:[h.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:t}).map((e,n)=>h.jsx("span",{className:"size-1.5 rounded-full bg-current"},n))}),h.jsx("p",{className:"invisible w-[0px]",children:"r"})]}),YS="modulepreload",KS=function(t){return"/duitify/"+t},Xg={},gs=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=KS(l),l in Xg)return;Xg[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":YS,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},qS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>gs(async()=>{const{default:r}=await Promise.resolve().then(()=>Ci);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Nf extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class XS extends Nf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class GS extends Nf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class JS extends Nf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(dh||(dh={}));var QS=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class ZS{constructor(e,{headers:n={},customFetch:r,region:s=dh.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=qS(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return QS(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(v=>{throw new XS(v)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new GS(u);if(!u.ok)throw new JS(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var St={},Af={},Xc={},ya={},Gc={},Jc={},eE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vi=eE();const tE=vi.fetch,wx=vi.fetch.bind(vi),bx=vi.Headers,nE=vi.Request,rE=vi.Response,Ci=Object.freeze(Object.defineProperty({__proto__:null,Headers:bx,Request:nE,Response:rE,default:wx,fetch:tE},Symbol.toStringTag,{value:"Module"})),sE=f_(Ci);var Qc={};Object.defineProperty(Qc,"__esModule",{value:!0});class iE extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Qc.default=iE;var kx=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jc,"__esModule",{value:!0});const oE=kx(sE),aE=kx(Qc);let lE=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=oE.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,d=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await i.text();try{c=JSON.parse(m),Array.isArray(c)&&i.status===404&&(u=[],c=null,f=200,p="OK")}catch{i.status===404&&m===""?(f=204,p="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new aE.default(c)}return{error:c,data:u,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};Jc.default=lE;var cE=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gc,"__esModule",{value:!0});const uE=cE(Jc);let dE=class extends uE.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Gc.default=dE;var hE=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ya,"__esModule",{value:!0});const fE=hE(Gc);let pE=class extends fE.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ya.default=pE;var gE=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xc,"__esModule",{value:!0});const Hi=gE(ya);let mE=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Hi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Hi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Hi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Hi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Hi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Xc.default=mE;var Zc={},eu={};Object.defineProperty(eu,"__esModule",{value:!0});eu.version=void 0;eu.version="0.0.0-automated";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.DEFAULT_HEADERS=void 0;const yE=eu;Zc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${yE.version}`};var Sx=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Af,"__esModule",{value:!0});const vE=Sx(Xc),xE=Sx(ya),_E=Zc;let wE=class Ex{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},_E.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new vE.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ex(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new xE.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Af.default=wE;var Mi=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(St,"__esModule",{value:!0});St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const jx=Mi(Af);St.PostgrestClient=jx.default;const Cx=Mi(Xc);St.PostgrestQueryBuilder=Cx.default;const Mx=Mi(ya);St.PostgrestFilterBuilder=Mx.default;const Px=Mi(Gc);St.PostgrestTransformBuilder=Px.default;const Tx=Mi(Jc);St.PostgrestBuilder=Tx.default;const Rx=Mi(Qc);St.PostgrestError=Rx.default;var bE=St.default={PostgrestClient:jx.default,PostgrestQueryBuilder:Cx.default,PostgrestFilterBuilder:Mx.default,PostgrestTransformBuilder:Px.default,PostgrestBuilder:Tx.default,PostgrestError:Rx.default};const{PostgrestClient:kE,PostgrestQueryBuilder:SL,PostgrestFilterBuilder:EL,PostgrestTransformBuilder:jL,PostgrestBuilder:CL}=bE,SE="2.10.7",EE={"X-Client-Info":`realtime-js/${SE}`},jE="1.0.0",Lx=1e4,CE=1e3;var ri;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ri||(ri={}));var Ot;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ot||(Ot={}));var an;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(an||(an={}));var hh;(function(t){t.websocket="websocket"})(hh||(hh={}));var Qr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qr||(Qr={}));class ME{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Ox{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Se||(Se={}));const Gg=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=PE(o,t,e,s),i),{})},PE=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Dx(i,o):fh(o)},Dx=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return OE(e,n)}switch(t){case Se.bool:return TE(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return RE(e);case Se.json:case Se.jsonb:return LE(e);case Se.timestamp:return DE(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return fh(e);default:return fh(e)}},fh=t=>t,TE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},RE=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},LE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},OE=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Dx(e,a))}return t},DE=t=>typeof t=="string"?t.replace(" ","T"):t,Nx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Ku{constructor(e,n,r={},s=Lx){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Jg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Jg||(Jg={}));class xo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xo.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=xo.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xo.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const f=u.map(x=>x.presence_ref),p=d.map(x=>x.presence_ref),v=u.filter(x=>p.indexOf(x.presence_ref)<0),m=d.filter(x=>f.indexOf(x.presence_ref)<0);v.length>0&&(a[c]=v),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Qg||(Qg={}));var Zg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Zg||(Zg={}));var em;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(em||(em={}));class If{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ku(this,an.join,this.params,this.timeout),this.rejoinTimer=new Ox(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ot.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new xo(this),this.broadcastEndpointURL=Nx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,p=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,v=[];for(let m=0;m<p;m++){const x=f[m],{filter:{event:g,schema:y,table:_,filter:w}}=x,k=u&&u[m];if(k&&k.event===g&&k.schema===y&&k.table===_&&k.filter===w)v.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ot.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Ku(this,an.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ku(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=an;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,m,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(m=p.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,m,x,g,y,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const w=p.id,k=(v=p.filter)===null||v===void 0?void 0:v.event;return w&&((m=n.ids)===null||m===void 0?void 0:m.includes(w))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(y=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return w==="*"||w===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:m,table:x,commit_timestamp:g,type:y,errors:_}=v;f=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:g,eventType:y,new:{},old:{},errors:_}),this._getPayloadRecords(v))}p.callback(f,r)})}_isClosed(){return this.state===Ot.closed}_isJoined(){return this.state===Ot.joined}_isJoining(){return this.state===Ot.joining}_isLeaving(){return this.state===Ot.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&If.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(an.close,{},e)}_onError(e){this._on(an.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ot.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Gg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Gg(e.columns,e.old_record)),n}}const NE=()=>{},AE=typeof WebSocket<"u",IE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class FE{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=EE,this.params={},this.timeout=Lx,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=NE,this.conn=null,this.sendBuffer=[],this.serializer=new ME,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>gs(async()=>{const{default:l}=await Promise.resolve().then(()=>Ci);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${hh.websocket}`,this.httpEndpoint=Nx(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ox(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(AE){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new zE(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),gs(async()=>{const{default:e}=await import("./browser-DBNlfoWd.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ri.connecting:return Qr.Connecting;case ri.open:return Qr.Open;case ri.closing:return Qr.Closing;default:return Qr.Closed}}isConnected(){return this.connectionState()===Qr.Open}channel(e,n={config:{}}){const r=new If(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(an.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jE}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(an.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(CE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([IE],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class zE{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ri.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Ff extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function et(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $E extends Ff{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ph extends Ff{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var BE=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Ax=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>gs(async()=>{const{default:r}=await Promise.resolve().then(()=>Ci);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},UE=()=>BE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gs(()=>Promise.resolve().then(()=>Ci),void 0)).Response:Response}),gh=t=>{if(Array.isArray(t))return t.map(n=>gh(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=gh(r)}),e};var xs=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const qu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),HE=(t,e,n)=>xs(void 0,void 0,void 0,function*(){const r=yield UE();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new $E(qu(s),t.status||500))}).catch(s=>{e(new ph(qu(s),s))}):e(new ph(qu(t),t))}),WE=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function va(t,e,n,r,s,i){return xs(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,WE(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>HE(l,a,r))})})}function pc(t,e,n,r){return xs(this,void 0,void 0,function*(){return va(t,"GET",e,n,r)})}function ar(t,e,n,r,s){return xs(this,void 0,void 0,function*(){return va(t,"POST",e,r,s,n)})}function VE(t,e,n,r,s){return xs(this,void 0,void 0,function*(){return va(t,"PUT",e,r,s,n)})}function YE(t,e,n,r){return xs(this,void 0,void 0,function*(){return va(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ix(t,e,n,r,s){return xs(this,void 0,void 0,function*(){return va(t,"DELETE",e,r,s,n)})}var wt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const KE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qE{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ax(s)}uploadOrUpdate(e,n,r,s){return wt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},tm),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(et(i))return{data:null,error:i};throw i}})}upload(e,n,r){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return wt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:tm.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(et(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return wt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield ar(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ff("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}update(e,n,r){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return wt(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}copy(e,n,r){return wt(this,void 0,void 0,function*(){try{return{data:{path:(yield ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return wt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ar(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return wt(this,void 0,void 0,function*(){try{const s=yield ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}download(e,n){return wt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield pc(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(et(a))return{data:null,error:a};throw a}})}info(e){return wt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield pc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:gh(r),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}exists(e){return wt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield YE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(et(r)&&r instanceof ph){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return wt(this,void 0,void 0,function*(){try{return{data:yield Ix(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}list(e,n,r){return wt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},KE),n),{prefix:e||""});return{data:yield ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(et(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const XE="2.7.1",GE={"X-Client-Info":`storage-js/${XE}`};var Ps=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class JE{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},GE),n),this.fetch=Ax(r)}listBuckets(){return Ps(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(et(e))return{data:null,error:e};throw e}})}getBucket(e){return Ps(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ps(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Ps(this,void 0,void 0,function*(){try{return{data:yield VE(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ps(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ps(this,void 0,void 0,function*(){try{return{data:yield Ix(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}})}}class QE extends JE{constructor(e,n={},r){super(e,n,r)}from(e){return new qE(this.url,this.headers,e,this.fetch)}}const ZE="2.46.1";let to="";typeof Deno<"u"?to="deno":typeof document<"u"?to="web":typeof navigator<"u"&&navigator.product==="ReactNative"?to="react-native":to="node";const ej={"X-Client-Info":`supabase-js-${to}/${ZE}`},tj={headers:ej},nj={schema:"public"},rj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sj={};var ij=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const oj=t=>{let e;return t?e=t:typeof fetch>"u"?e=wx:e=fetch,(...n)=>e(...n)},aj=()=>typeof Headers>"u"?bx:Headers,lj=(t,e,n)=>{const r=oj(n),s=aj();return(i,o)=>ij(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var cj=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function uj(t){return t.replace(/\/$/,"")}function dj(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>cj(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Fx="2.65.1",hj="http://localhost:9999",fj="supabase.auth.token",pj={"X-Client-Info":`gotrue-js/${Fx}`},nm=10,mh="X-Supabase-Api-Version",zx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function gj(t){return Math.round(Date.now()/1e3)+t}function mj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const nn=()=>typeof document<"u",$r={tested:!1,writable:!1},_o=()=>{if(!nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($r.tested)return $r.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$r.tested=!0,$r.writable=!0}catch{$r.tested=!0,$r.writable=!1}return $r.writable};function Xu(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const $x=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>gs(async()=>{const{default:r}=await Promise.resolve().then(()=>Ci);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},yj=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Bx=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},el=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},tl=async(t,e)=>{await t.removeItem(e)};function vj(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class tu{constructor(){this.promise=new tu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}tu.promiseConstructor=Promise;function rm(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(vj(r))}async function xj(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function _j(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function wj(t){return("0"+t.toString(16)).substr(-2)}function bj(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,wj).join("")}async function kj(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Sj(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ej(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await kj(t);return Sj(n)}async function Ts(t,e,n=!1){const r=bj();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Bx(t,`${e}-code-verifier`,s);const i=await Ej(r);return[i,r===i?"plain":"s256"]}const jj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cj(t){const e=t.headers.get(mh);if(!e||!e.match(jj))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class zf extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Mj extends zf{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Pj(t){return ae(t)&&t.name==="AuthApiError"}class Ux extends zf{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class _s extends zf{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class nr extends _s{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tj(t){return ae(t)&&t.name==="AuthSessionMissingError"}class Gu extends _s{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nl extends _s{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class rl extends _s{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sm extends _s{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yh extends _s{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ju(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class im extends _s{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var Rj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Kr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lj=[502,503,504];async function om(t){var e;if(!yj(t))throw new yh(Kr(t),0);if(Lj.includes(t.status))throw new yh(Kr(t),t.status);let n;try{n=await t.json()}catch(i){throw new Ux(Kr(i),i)}let r;const s=Cj(t);if(s&&s.getTime()>=zx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new im(Kr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new nr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new im(Kr(n),t.status,n.weak_password.reasons);throw new Mj(Kr(n),t.status||500,r)}const Oj=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function de(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[mh]||(i[mh]=zx["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Dj(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Dj(t,e,n,r,s,i){const o=Oj(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new yh(Kr(l),0)}if(a.ok||await om(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await om(l)}}function rr(t){var e;let n=null;Fj(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=gj(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function am(t){const e=rr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ur(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Nj(t){return{data:t,error:null}}function Aj(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Rj(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ij(t){return t}function Fj(t){return t.access_token&&t.refresh_token&&t.expires_in}var zj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class $j{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=$x(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ur})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=zj(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Aj,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ur})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ij});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ae(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await de(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ur})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ur})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ur})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await de(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}}const Bj={getItem:t=>_o()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{_o()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{_o()&&globalThis.localStorage.removeItem(t)}};function lm(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Uj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rs={debug:!!(globalThis&&_o()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Hj extends Hx{}async function Wj(t,e,n){Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Hj(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Rs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}Uj();const Vj={url:hj,storageKey:fj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Wi=30*1e3,cm=3;async function um(t,e,n){return await n()}class Zo{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zo.nextInstanceID,Zo.nextInstanceID+=1,this.instanceID>0&&nn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Vj),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $j({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=$x(s.fetch),this.lock=s.lock||um,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:nn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Wj:this.lock=um,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:_o()?this.storage=Bj:(this.memoryStorage={},this.storage=lm(this.memoryStorage)):(this.memoryStorage={},this.storage=lm(this.memoryStorage)),nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Fx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=nn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return ae(e)?{error:e}:{error:new Ux("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:rr}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Ts(this.storage,this.storageKey)),i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:rr})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:rr})}else throw new nl("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:am})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:am})}else throw new nl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Gu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await el(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:rr});if(await tl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Gu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ae(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:rr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Gu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ts(this.storage,this.storageKey));const{error:d}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new nl("You must provide either an email or phone number.")}catch(a){if(ae(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:rr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ts(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Nj})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new nr;const{error:s}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await de(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await de(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new nl("You must provide either an email or phone number and a type")}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await el(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ur}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nr}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ur})})}catch(n){if(ae(n))return Tj(n)&&(await this._removeSession(),await tl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new nr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ts(this.storage,this.storageKey));const{data:c,error:u}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ur});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return rm(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nr;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=rm(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ae(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new nr;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!nn())throw new rl("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new rl("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new sm("Not a valid PKCE flow url.");const n=Xu(window.location.href);if(e){if(!n.code)throw new sm("No code detected.");const{data:y,error:_}=await this._exchangeCodeForSession(n.code);if(_)throw _;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new rl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=n;if(!i||!a||!o||!c)throw new rl("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const p=f-u;p*1e3<=Wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const v=f-d;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,u);const{data:m,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:n.type},error:null}}catch(n){if(ae(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=Xu(window.location.href);return!!(nn()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Xu(window.location.href),n=await el(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Pj(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await tl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=mj(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ts(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return nn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ae(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await _j(async s=>(s>0&&await xj(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ju(i)&&Date.now()+o-r<Wi})}catch(r){if(this._debug(n,"error",r),ae(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),nn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await el(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+nm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${nm}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Ju(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new nr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new tu;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new nr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ae(i)){const o={session:null,error:i};return Ju(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Bx(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await tl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Wi}ms, refresh threshold is ${cm} ticks`),s<=cm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Hx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ts(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await de(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await de(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(ae(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ae(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Zo.nextInstanceID=0;const Yj=Zo;class Kj extends Yj{constructor(e){super(e)}}var qj=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Xj{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=uj(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:nj,realtime:sj,auth:Object.assign(Object.assign({},rj),{storageKey:l}),global:tj},u=dj(r??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=lj(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new kE(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new ZS(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new QE(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return qj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,u){var d;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kj({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new FE(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gj=(t,e,n)=>new Xj(t,e,n);function Wx(t,e){return e===""?t:t.startsWith(e)?t.slice(e.length):t}function Vx(t,e){return t.endsWith(e)?t.slice(0,-e.length):t}const Pr={SUPABASE_PROJECT_URL:"https://xhllsvlqdzgrhjjfgewk.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobGxzdmxxZHpncmhqamZnZXdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI2MDI1MjcsImV4cCI6MjA0ODE3ODUyN30.sgz9zSOQRqOzjWojV2acr6f3OQNNZ88D5zT-TSmYEIM",BASE_URL:Vx("/duitify","/")},Ut=Gj(Pr.SUPABASE_PROJECT_URL,Pr.SUPABASE_ANON_KEY);Ut.storage.from("images").getPublicUrl("accounts").data.publicUrl;const gc=Ut.storage.from("images").getPublicUrl("accounts").data.publicUrl,nu=Ut.storage.from("images").getPublicUrl("categories").data.publicUrl;function dm({nativeEvent:t}){return window.TouchEvent?t instanceof TouchEvent:"touches"in t}function hm(t){return t.nativeEvent instanceof MouseEvent}function Jj(t,e={}){const{threshold:n=400,onStart:r,onFinish:s,onCancel:i}=e,o=he.useRef(!1),a=he.useRef(!1),l=he.useRef();return he.useMemo(()=>{if(typeof t!="function")return{};const c=p=>{!hm(p)&&!dm(p)||(r&&r(p),a.current=!0,l.current=setTimeout(()=>{t(p),o.current=!0},n))},u=p=>{!hm(p)&&!dm(p)||(o.current?s&&s(p):a.current&&i&&i(p),o.current=!1,a.current=!1,l.current&&window.clearTimeout(l.current))};return{...{onMouseDown:c,onMouseUp:u,onMouseLeave:u},...{onTouchStart:c,onTouchEnd:u}}},[t,n,i,s,r])}const Qj=({date:t,transactions:e,onDeleted:n})=>{const r=b.useMemo(()=>e.reduce((s,i)=>s+(i.type==="transfer"?0:i.type==="expense"?-1*i.amount:i.amount),0),[e]);return h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-b-primary",children:[h.jsx("span",{className:"text-xs xs:text-sm",children:gt(t,{lang:"en-US"})}),h.jsx("span",{className:"dai-badge dai-badge-xs "+(r>0?"dai-badge-success":"dai-badge-error"),children:h.jsx(hn,{amount:r})})]}),h.jsx("div",{className:"flex flex-col gap-1",children:e.map((s,i)=>h.jsx(Zj,{el:s,onDeleted:n},i))})]})},Zj=({el:t})=>{var i,o,a,l,c,u;const e=Tt(),[,n]=ee(Gx),r=Jj(()=>{n(t),e("/transaction/create")},{threshold:500}),s=b.useMemo(()=>t.type==="expense"?-1*t.amount:t.amount,[t]);return h.jsxs("div",{...r,className:"flex cursor-pointer select-none flex-col gap-1.5 rounded bg-base-100 px-2 py-1.5 shadow",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("div",{className:"size-4 xs:size-5",children:h.jsx("img",{className:"aspect-square w-full",src:nu+"/"+(t.type==="transfer"?"transfer.webp":(i=t.category)==null?void 0:i.logo),loading:"lazy",alt:""})}),h.jsxs("div",{className:"grid flex-1 grid-cols-6 text-xs font-medium xs:text-sm",children:[h.jsx("span",{className:"col-span-2",children:t.type==="transfer"?"Transfer":(o=t.category)==null?void 0:o.name}),h.jsxs("div",{className:"col-span-3 flex flex-wrap items-center gap-0.5",children:[h.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[h.jsx("div",{className:"size-3 xs:size-4",children:h.jsx("img",{className:"aspect-square w-full",loading:"lazy",src:gc+"/"+((a=t.account)==null?void 0:a.logo),alt:""})}),h.jsx("span",{children:(l=t.account)==null?void 0:l.name})]}),t.type==="transfer"&&t.to_account&&h.jsxs(h.Fragment,{children:[h.jsx(ve,{className:"text-[8px] text-base-content",icon:"lucide:arrow-right"}),h.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[h.jsx("div",{className:"size-3 xs:size-4",children:h.jsx("img",{loading:"lazy",className:"aspect-square w-full",src:gc+"/"+((c=t.to_account)==null?void 0:c.logo),alt:""})}),h.jsx("span",{children:(u=t.to_account)==null?void 0:u.name})]})]})]}),h.jsx("span",{className:"select-text text-nowrap text-end "+(t.type==="transfer"?"text-secondary":s>0?"text-success":"text-error"),children:h.jsx(hn,{amount:s})})]})]}),t.description&&h.jsx("span",{className:"line-clamp-1 text-end text-[10px] text-base-content/80",children:t.description})]})},eC=()=>h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-b-primary",children:[h.jsx("span",{className:"text-xs xs:text-sm",children:h.jsx(ke,{children:"Wed, Sep 20, 2022"})}),h.jsx("span",{className:"dai-badge dai-badge-error dai-skeleton dai-badge-xs text-transparent",children:Bt(1e4)})]}),h.jsx("div",{className:"flex flex-col gap-1",children:Array.from({length:6}).map((t,e)=>h.jsx(tC,{},e))})]}),tC=()=>h.jsx("div",{className:"flex flex-col gap-1.5 rounded bg-base-100 px-2 py-1.5 shadow",children:h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(ke,{children:h.jsx("div",{className:"size-4 xs:size-5"})}),h.jsxs("div",{className:"grid flex-1 grid-cols-6 text-xs font-medium xs:text-sm",children:[h.jsx("span",{className:"col-span-2",children:h.jsx(ke,{children:"Transfer"})}),h.jsx("div",{className:"col-span-3 flex flex-wrap items-center gap-0.5",children:h.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[h.jsx(ke,{children:h.jsx("div",{className:"size-3 xs:size-4"})}),h.jsx("span",{children:h.jsx(ke,{children:"Shopee Pay"})})]})}),h.jsx("span",{className:"text-nowrap text-end",children:h.jsx(ke,{children:"24.320"})})]})]})}),nC=({children:t,onInvisible:e,onVisible:n,offset:r=0})=>{const s=b.useRef(null),[i,o]=b.useState(!1);return b.useEffect(()=>{if(i){n==null||n();return}e==null||e()},[i]),b.useEffect(()=>{if(!s.current)return;let a;function l(){const c=s.current;if(!c)return;const u=c.getBoundingClientRect(),d=Math.max(document.documentElement.clientHeight,window.innerHeight)-r,f=!(u.bottom<0||u.top-d>=0);f!==a&&o(f),a=f}return l(),window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[s,r]),h.jsx("div",{ref:s,children:t})};class xa{static get db(){return Ut.schema("public")}}const Yx=[25,50,100];class Dl extends xa{static async getTransactions(e,{cursor:n,account:r,category:s}){const i=new Date;i.setMonth(i.getMonth()+1);const o=this.db.from("transaction").select(`*, 
                category(id, name, logo),
                account:account!transaction_account_id_fkey(id, name, logo),
                to_account:account!transaction_to_account_id_fkey(id, name, logo)`).eq("user_id",e);return s&&o.eq("category_id",s),r&&o.or(`account_id.eq.${r}, to_account_id.eq.${r}`),o.order("occurred_at",{ascending:!1}).lt("occurred_at",n||gt(i,{format:"yyyy-MM-dd HH:mm:ss"})).limit(Yx[0])}static async update(e,n){return this.db.from("transaction").update(n).eq("id",e).select().single()}static async create(e){return this.db.from("transaction").insert(e).select().single()}static async delete(e){return await this.db.from("transaction").delete().eq("id",e)}}const Rt=Ne(null),Kx=()=>{const[,t]=ee(kn),[e]=ee(Rt),[n]=Yc(),[r,s]=b.useState(n.get("account")),[i,o]=b.useState(n.get("category")),[a,l]=b.useState(void 0),[c,u]=b.useState([]),[d,f]=b.useState(!1),[p,v]=b.useState(!1),[m,x]=b.useState(!0),g=b.useMemo(()=>{var w;return r?(w=c.find(k=>k.account_id===r))==null?void 0:w.account:null},[r,c]),y=b.useMemo(()=>{var w;return i?(w=c.find(k=>k.category_id===i))==null?void 0:w.category:null},[i,c]),_=b.useMemo(()=>c.reduce((w,k)=>{const E=gt(k.occurred_at,{format:"yyyy-MM-dd"});return w[E]||(w[E]=[]),w[E].push(k),w},{}),[c]);return b.useEffect(()=>{x(!0),v(!1),u([]),l(void 0),s(n.get("account")),o(n.get("category"))},[n]),b.useEffect(()=>{var w;t({revealer:!0,back:!!g||!!y,title:((w=g||y)==null?void 0:w.name)??h.jsx("img",{className:"size-8",src:Pr.BASE_URL+"/icons/icon-192x192.png"}),actions:[h.jsx(Of,{to:`/transaction/create?${n.toString()}`,className:"dai-btn dai-btn-success dai-btn-xs ml-2 xs:dai-btn-sm",children:"Create"})]})},[g,y]),b.useEffect(()=>{e!=null&&e.user.id&&(async()=>{f(!0);const{data:w,error:k}=await Dl.getTransactions(e.user.id,{cursor:a,account:r,category:i});if(f(!1),k){v(!1),K.error(k.message);return}u([...c,...w??[]]),x(!1),v(((w==null?void 0:w.length)??0)>=Yx[0])})()},[a,r,e,i]),h.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-2",children:[h.jsx("div",{className:"flex flex-col gap-4",children:d&&m?Array.from({length:4}).map((w,k)=>h.jsx(eC,{},k)):c.length===0?h.jsx("div",{className:"mt-1",children:h.jsx("p",{className:"text-center text-sm text-base-content/40",children:"Oops, you don't have any transaction yet"})}):Object.keys(_).sort((w,k)=>w>k?-1:1).map((w,k)=>h.jsx(Qj,{date:w,transactions:_[w],onDeleted:E=>{u(C=>C.filter(S=>S.id!==E))}},k))}),!m&&p&&!d?h.jsx(nC,{onVisible:()=>{var w;return l((w=c[c.length-1])==null?void 0:w.occurred_at)},children:h.jsx("span",{className:"invisible flex justify-center",children:h.jsx("span",{className:"dai-loading dai-loading-dots dai-loading-sm text-primary"})})}):h.jsx("span",{className:"flex justify-center "+(d&&!m?"visible":"invisible"),children:h.jsx("span",{className:"dai-loading dai-loading-dots dai-loading-sm text-primary"})})]})},rC={xs:"dai-btn-xs",sm:"dai-btn-sm",md:"dai-btn-md",lg:"dai-btn-lg",wide:"dai-btn-wide",block:"dai-btn-block"},sC={xs:"dai-loading-xs",sm:"dai-loading-sm",md:"dai-loading-md",lg:"dai-loading-lg",wide:"dai-loading-md",block:"dai-loading-md"},ru=({children:t,loading:e,className:n,disabled:r,size:s="md",disableWhileLoading:i=!0,...o})=>{const a=b.useMemo(()=>rC[s],[s]),l=b.useMemo(()=>sC[s],[s]);return h.jsxs("button",{disabled:r||i&&e,className:`dai-btn relative grid place-items-center ${n} ${a}`,...o,children:[h.jsx("span",{className:`${e?"opacity-0":""}`,children:t}),e&&h.jsx("span",{className:`dai-loading dai-loading-spinner absolute ${l}`})]})};class wo extends xa{static async getAccounts(e){return this.db.from("account").select("*").eq("user_id",e).order("name",{ascending:!0})}static async getAccount(e){return this.db.from("account").select().eq("id",e).single()}static async createAccount(e){return this.db.from("account").upsert(e).select().single()}static async updateAccount(e,n){return this.db.from("account").update(n).eq("id",e).select().single()}static async deleteAccount(e){return await this.db.from("account").delete().eq("id",e)}}const qs=gn(),si=Ne({loading:!1,fetched:!1,data:[]});async function iC(){var e;qs.set(si,n=>({...n,loading:!0,fetched:!1}));const t=await wo.getAccounts(((e=qs.get(Rt))==null?void 0:e.user.id)??"");if(t.error)return qs.set(si,n=>({...n,loading:!1})),t.error.message;qs.set(si,{loading:!1,fetched:!0,data:t.data??[]})}function oC(t){const e=qs.get(si);e.fetched&&qs.set(si,{...e,data:typeof t=="function"?t(e.data):t})}const aC=Ne(t=>({refresh:iC,setData:oC,...t(si)})),mc=()=>{const[t]=ee(aC);return t};class bo extends xa{static async getCategories(e){return this.db.from("category").select("*").eq("user_id",e).order("name",{ascending:!0})}static async getCategory(e){return this.db.from("category").select().eq("id",e).single()}static async createCategory(e){return this.db.from("category").insert(e).select().single()}static async updateCategory(e,n){return this.db.from("category").update(n).eq("id",e).select().single()}static async deleteCategory(e){return await this.db.from("category").delete().eq("id",e)}}const Xs=gn(),ii=Ne({loading:!1,fetched:!1,data:[]});async function lC(){var e;Xs.set(ii,n=>({...n,loading:!0,fetched:!1}));const t=await bo.getCategories(((e=Xs.get(Rt))==null?void 0:e.user.id)??"");if(t.error)return Xs.set(ii,n=>({...n,loading:!1})),t.error.message;Xs.set(ii,{loading:!1,fetched:!0,data:t.data??[]})}function cC(t){const e=Xs.get(ii);e.fetched&&Xs.set(ii,{...e,data:typeof t=="function"?t(e.data):t})}const uC=Ne(t=>({refresh:lC,setData:cC,...t(ii)})),su=()=>{const[t]=ee(uC);return t},$f=({open:t,children:e,text:n})=>{const r=b.useRef(null),s=b.useRef(void 0),[i,o]=b.useState(!1),[a,l]=b.useState(!1),c=b.useMemo(()=>t||i||a,[t,i,a]);b.useEffect(()=>{if(!r.current)return;const d=()=>o(!0),f=()=>o(!1),p=()=>l(!0),v=()=>l(!1);return r.current.addEventListener("mouseenter",d),r.current.addEventListener("mouseleave",f),r.current.addEventListener("focus",p),r.current.addEventListener("blur",v),()=>{var m,x,g,y;(m=r.current)==null||m.removeEventListener("mouseenter",d),(x=r.current)==null||x.removeEventListener("mouseleave",f),(g=r.current)==null||g.removeEventListener("focus",p),(y=r.current)==null||y.removeEventListener("blur",v)}},[r.current]),b.useEffect(()=>()=>{var d;(d=s.current)==null||d.remove()},[]),b.useEffect(()=>{s.current&&(s.current.innerText=n)},[n,s.current]),b.useEffect(()=>{var v;if((v=s.current)==null||v.remove(),s.current=void 0,!c||!r.current)return;const d=document.createElement("div"),{top:f,left:p}=u(r.current);d.style.top=`${f}px`,d.style.left=`${p}px`,d.className="tooltip",d.innerText=n,document.body.appendChild(d),s.current=d},[c,r.current]);const u=d=>{const f=d.getBoundingClientRect();return{top:f.top,left:f.left+f.width/2}};return e(r)},fm=["input","textarea","button","a","select","label"];function dC(){const t=b.useRef(null);return b.useEffect(()=>{if(!t.current)return;const e=t.current.tagName.toLowerCase();if(fm.includes(e)){t.current.focus();return}for(const n of fm){const r=t.current.querySelectorAll(n);if(r.length!==0){r[0].focus();return}}},[t]),t}const vh=gn();let hC=0;const yc=Ne([]),qx=Ne(t=>t(yc));function iu(t,{dismissible:e=!0,...n}){return n.modalId&&vh.get(yc).find(s=>s.modalId===n.modalId)?-1:(n.modalId||(n.modalId=++hC),vh.set(yc,r=>[...r,{Element:t,props:n,dismissible:e,modalId:n.modalId}]),n.modalId??0)}function xi(t){vh.set(yc,e=>(e.pop(),[...e]))}const Xx=({children:t,title:e,useFocus:n=!0,className:r})=>{const s=dC();return h.jsxs("div",{ref:n?s:void 0,className:"flex flex-col gap-1 rounded-2xl bg-base-100 p-6 shadow-xl sm:min-w-[30rem] sm:rounded-2xl "+r,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[e&&h.jsx("h3",{className:"text-lg font-bold",children:e}),h.jsx("button",{type:"button",onClick:()=>xi(),children:h.jsx(ve,{icon:"lucide:x"})})]}),t]})},fC=({title:t,body:e,okText:n,noText:r,onNo:s,onOk:i,onClose:o,hideNo:a})=>(b.useEffect(()=>()=>{o==null||o()},[]),h.jsxs(Xx,{title:t??"Konfirmasi",children:[e&&h.jsx("p",{className:"py-2",children:e}),h.jsxs("div",{className:"mt-2 flex w-full justify-end gap-2",children:[!a&&h.jsx("button",{onClick:s,className:"dai-btn dai-btn-ghost",children:r??"Cancel"}),h.jsx("button",{onClick:i,className:"dai-btn dai-btn-primary min-w-16",children:n??"OK"})]})]}));function _a(t={}){return new Promise(e=>{iu(fC,{onClose:()=>e(!1),onOk:()=>{e(!0),xi()},onNo:()=>{e(!1),xi()},...t})===-1&&e(!1)})}const pC=()=>{var N,F,H;const[,t]=ee(kn),[e]=ee(Rt),n=Tt(),[r]=Yc(),{setData:s}=mc(),[i,o]=ee(Gx),{fetched:a,refresh:l,data:c}=mc(),{fetched:u,refresh:d,data:f}=su(),[p,v]=b.useState((i==null?void 0:i.type)??"expense"),[m,x]=b.useState((i==null?void 0:i.amount.toString())??""),[g,y]=b.useState((i==null?void 0:i.description)??""),[_,w]=b.useState(gt((i==null?void 0:i.occurred_at)??new Date,{format:"yyyy-MM-dd HH:mm"})),[k,E]=b.useState(((N=i==null?void 0:i.category)==null?void 0:N.id)??""),[C,S]=b.useState(((F=i==null?void 0:i.account)==null?void 0:F.id)||r.get("account")||""),[P,L]=b.useState(((H=i==null?void 0:i.to_account)==null?void 0:H.id)??""),[D,R]=b.useState(!1),q=b.useMemo(()=>{var I;return!m||!C||isNaN(parseFloat(m))||p==="transfer"&&!P||p!=="transfer"&&!k||p!=="transfer"&&((I=f.find($=>$.id===k))==null?void 0:I.type)!==p},[m,C,k,P,p,f]),G=b.useMemo(()=>c.map(I=>({label:I.name,value:I.id})),[c]),Q=b.useMemo(()=>f.filter(I=>I.type===p).map(I=>({label:I.name,value:I.id})),[f,p]);b.useEffect(()=>(t({title:i?"Edit Transaction":"Create Transaction",back:!0,actions:i&&[h.jsx("button",{onClick:re,className:"dai-btn dai-btn-error dai-btn-xs",children:h.jsx(ve,{icon:"lucide:trash"})})]}),()=>{o(void 0)}),[i]),b.useEffect(()=>{a||(async()=>{const I=await l();I&&K.error(I)})()},[]),b.useEffect(()=>{u||(async()=>{const I=await d();I&&K.error(I)})()},[]);const re=async()=>{if(!i||!await _a({title:"Delete transaction",body:"Are you sure you want to delete this transaction?"}))return;Ee(!0);const{error:$}=await Dl.delete(i.id);if(Ee(!1),$){K.error($.message);return}s(te=>{const Z=te.find(ce=>ce.id===i.account_id);if(!Z)return te;if((i.type==="expense"||i.type==="transfer")&&(Z.balance+=i.amount),i.type==="income"&&(Z.balance-=i.amount),i.type==="transfer"){const ce=te.find(ue=>ue.id===i.to_account_id);if(!ce)return te;ce.balance-=i.amount}return[...te]}),n(-1)},ie=async()=>{R(!0);let I;if(i?I=await Dl.update(i.id,{type:p,occurred_at:gt(_,{format:"yyyy-MM-dd HH:mm",timeZone:"UTC"}),description:g,amount:parseFloat(m),account_id:C,category_id:k||null,to_account_id:P||null}):I=await Dl.create({type:p,occurred_at:gt(_,{format:"yyyy-MM-dd HH:mm",timeZone:"UTC"}),description:g,amount:parseFloat(m),account_id:C,category_id:k||null,to_account_id:P||null,user_id:e.user.id}),R(!1),I.error){K.error(I.error.message);return}s($=>{const te=$.find(Z=>Z.id===C);if(!te)return $;if(i){if(parseFloat(m)===i.amount)return $;if((p==="expense"||p==="transfer")&&(te.balance-=parseFloat(m)-i.amount),p==="income"&&(te.balance+=parseFloat(m)-i.amount),p==="transfer"){const Z=$.find(ce=>ce.id===P);if(!Z)return $;Z.balance+=parseFloat(m)-i.amount}return[...$]}if((p==="expense"||p==="transfer")&&(te.balance-=parseFloat(m)),p==="income"&&(te.balance+=parseFloat(m)),p==="transfer"){const Z=$.find(ce=>ce.id===P);if(!Z)return $;Z.balance+=parseFloat(m)}return[...$]}),n(-1)};return h.jsx("div",{className:"flex flex-1 flex-col gap-4 p-2",children:h.jsxs("form",{onSubmit:I=>{I.preventDefault(),ie()},className:"grid grid-cols-2 gap-2",children:[h.jsx("div",{role:"tablist",className:"dai-tabs-boxed dai-tabs col-span-full bg-base-100",children:["expense","income","transfer"].map((I,$)=>h.jsx("button",{type:"button",role:"tab",disabled:!!i&&I!==i.type,onClick:()=>{E(""),v(I)},className:"dai-tab capitalize "+(I===p?"dai-tab-active":""),children:I},$))}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Amount"})}),h.jsx($f,{open:!!m,text:Bt(isNaN(parseFloat(m))?0:parseFloat(m)),children:I=>h.jsx("input",{ref:I,value:m,onChange:$=>x($.target.value),type:"number",placeholder:"Amount",className:"dai-input dai-input-bordered"})})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Date"})}),h.jsx("input",{value:_,onChange:I=>w(I.target.value),type:"datetime-local",placeholder:"Date",className:"dai-input dai-input-bordered w-full"})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Account"})}),h.jsxs("select",{value:C,disabled:!!i||!!r.get("account")&&p!=="transfer"&&C===r.get("account"),onChange:I=>S(I.target.value),className:"dai-select dai-select-bordered w-full "+(C?"":"text-base-content/40"),children:[h.jsx("option",{value:"",children:"Select account"}),G.map((I,$)=>h.jsx("option",{value:I.value,children:I.label},$))]})]}),p==="transfer"&&h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"To Account"})}),h.jsxs("select",{value:P,disabled:!!i,onChange:I=>L(I.target.value),className:"dai-select dai-select-bordered w-full "+(P?"":"text-base-content/40"),children:[h.jsx("option",{value:"",children:"Select account"}),G.map((I,$)=>h.jsx("option",{value:I.value,children:I.label},$))]})]}),p!=="transfer"&&h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Category"})}),h.jsxs("select",{value:k,onChange:I=>E(I.target.value),className:"dai-select dai-select-bordered w-full "+(k?"":"text-base-content/40"),children:[h.jsx("option",{value:"",children:"Select category"}),Q.map((I,$)=>h.jsx("option",{value:I.value,children:I.label},$))]})]}),h.jsxs("label",{className:"dai-form-control col-span-full",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"dai-label-text",children:"Description"})}),h.jsx("textarea",{value:g,onChange:I=>y(I.target.value),className:"dai-textarea dai-textarea-bordered h-24",placeholder:"Description"})]}),h.jsx("div",{className:"col-span-full flex justify-end pt-4",children:h.jsx(ru,{size:"sm",disabled:q,loading:D,className:"dai-btn-primary",children:"Submit"})})]})})},Gx=Ne(),gC=()=>h.jsxs(ji,{children:[h.jsx(Ge,{path:"/",element:h.jsx(Kx,{})}),h.jsx(Ge,{path:"/create",element:h.jsx(pC,{})})]});function xh(t){const[e,n]=b.useState(t),r=b.useRef(t);return r.current=e,[e,n,r]}const Jx=({onClose:t,desktopOption:e})=>{const n=b.useMemo(()=>6,[]),r=b.useRef([]),[s,i,o]=xh([]),[a,l,c]=xh(!1),u=b.useRef(!0),d=b.useMemo(()=>s.length<n||s.findIndex(m=>!m)!==-1,[s,n]);b.useEffect(()=>{var m;(m=r.current[0])==null||m.focus()},[r.current]),b.useEffect(()=>()=>t(u.current?"":o.current.join(""),c.current),[]);const f=(m,x)=>{if(!/^[0-9]{1}$/.test(m.key)&&m.key!=="Backspace"&&m.key!=="Delete"&&m.key!=="Tab"&&!m.metaKey&&m.key!=="Enter"&&!((m.key==="v"||m.key==="V")&&m.ctrlKey)&&m.preventDefault(),m.key==="Delete"||m.key==="Backspace"){const g=r.current;x>0&&setTimeout(()=>g[x-1].focus())}},p=m=>{!r.current[m].value||m>=r.current.length-1||r.current[m+1].focus()},v=m=>{var y;m.preventDefault();const x=((y=m.clipboardData)==null?void 0:y.getData("text"))??"";if(!new RegExp(`^[0-9]{${r.current.length}}$`).test(x))return;const g=x.split("");i(g),r.current[r.current.length-1].focus()};return h.jsxs("form",{onSubmit:m=>{m.preventDefault(),u.current=!1,xi()},className:"flex flex-col items-center gap-8 rounded-xl border border-base-300 bg-base-100 px-8 py-12 shadow-md",children:[h.jsxs("header",{className:"text-center",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"PIN Verification"}),h.jsxs("p",{className:"text-sm text-base-content/50",children:["Enter the ",n,"-digit PIN code."]})]}),h.jsx("div",{className:"flex items-center justify-center gap-3",children:Array.from({length:n}).map((m,x)=>h.jsx("input",{type:"password",inputMode:"numeric",value:s[x]??"",onChange:g=>i(y=>(y[x]=g.target.value,[...y])),ref:g=>r.current[x]=g,onKeyDown:g=>f(g,x),onInput:()=>p(x),onFocus:g=>g.target.select(),onPaste:g=>v(g),className:"dai-input dai-input-bordered size-9 p-1 text-center text-lg font-medium sm:size-14 sm:text-2xl",pattern:"\\d*",maxLength:1},x))}),h.jsxs("div",{className:"flex w-full flex-col items-center gap-2",children:[h.jsx("button",{type:"submit",disabled:d,className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide sm:dai-btn-md",children:"Submit"}),e&&h.jsxs("label",{className:"dai-label cursor-pointer gap-2",children:[h.jsx("input",{type:"checkbox",checked:a,onChange:m=>l(m.target.checked),className:"dai-checkbox-primary dai-checkbox dai-checkbox-sm"}),h.jsx("span",{className:"dai-label-text",children:"Desktop Only"})]})]})]})};async function Qx(t,e){const n=e+t,s=new TextEncoder().encode(n);try{const i=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(i)).map(o=>o.toString(16).padStart(2,"0")).join("")}catch{return""}}function mC(t=16){const e=new Uint8Array(t);return crypto.getRandomValues(e),Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")}function yC(t){const e=["th","st","nd","rd"],n=t%100,r=n>=11&&n<=13?e[0]:e[t%10]||e[0];return t+r}const _h=async()=>{if(!await _a({body:"Are you sure want to logout?",title:"Logout",okText:"Logout"}))return;Ee(!0);const{error:e}=await Ut.auth.signOut();Ee(!1),console.error(e);const n=Wx(Pr.SUPABASE_PROJECT_URL,"https://").split(".")[0];localStorage.removeItem(`sb-${n}-auth-token`),window.location.href=Pr.BASE_URL+"/login"};class qr extends xa{static async getSetting(e){return this.db.from("settings").select().eq("user_id",e).single()}static async update(e,n,r){return this.db.from("settings").update({[n]:r}).eq("id",e)}}const vC={light:{primary:"#007bff","primary-content":"#eddaff",secondary:"#007985","secondary-content":"#d3e3e6",accent:"#d20000","accent-content":"#fdd6d0",neutral:"#170600","neutral-content":"#cbc6c3","base-100":"#fff9d6","base-200":"#ded9ba","base-300":"#beb99e","base-content":"#161510",info:"#00f9ff","info-content":"#001516",success:"#00c270","success-content":"#000e04",warning:"#fda200","warning-content":"#160a00",error:"#ff878e","error-content":"#160607"},dark:{primary:"#22d3ee","primary-content":"#001014",secondary:"#007985","secondary-content":"#d3e3e6",accent:"#00df00","accent-content":"#001200",neutral:"#001004","neutral-content":"#c4c9c5","base-100":"#1e2c2f","base-200":"#192527","base-300":"#131e20","base-content":"#cdd0d1",info:"#00dfff","info-content":"#001216",success:"#00d6af","success-content":"#00100b",warning:"#b86900","warning-content":"#0c0400",error:"#ff878e","error-content":"#160607"}};function xC(t,e){let n;n=e;const s=Ne((()=>{const o=localStorage.getItem(t);if(o==null)return n;try{return typeof n=="string"?o:JSON.parse(o)}catch{return n}})());return Ne(o=>o(s),(o,a,l)=>{const c=typeof l=="function"?l(o(s)):l;a(s,c);try{localStorage.setItem(t,typeof c=="string"?c:JSON.stringify(c))}catch(u){console.error(u)}})}const Zx=xC("dark",!1),e1=Ne(t=>t(Zx)?"dark":"light"),t1=Ne(t=>vC[t(e1)]),_C=()=>{var w,k;const[,t]=ee(kn),[e]=ee(Rt),[n,r]=ee(Zx),[s,i]=ee(zt),[,o]=ee(Df),[a,l]=b.useState(!1),[c,u]=b.useState(((w=s==null?void 0:s.max_visible_amount)==null?void 0:w.toString())??""),[d,f]=b.useState(!1),[p,v]=b.useState(((k=s==null?void 0:s.month_end_date)==null?void 0:k.toString())??"");b.useEffect(()=>{t({title:"Settings"})},[]);const m=async()=>{const E=!(s!=null&&s.hide_amount);Ee(!0);const C=await qr.update(s.id,"hide_amount",E);if(Ee(!1),C.error){K.error(C.error.message);return}i({...s,hide_amount:E})},x=async()=>{if(!a){l(!0);return}Ee(!0);const E=await qr.update(s.id,"max_visible_amount",parseFloat(c));if(Ee(!1),E.error){K.error(E.error.message);return}i({...s,max_visible_amount:parseFloat(c)}),l(!1)},g=async()=>{if(!d){f(!0);return}const E=p?parseInt(p):null;Ee(!0);const C=await qr.update(s.id,"month_end_date",E);if(Ee(!1),C.error){K.error(C.error.message);return}i({...s,month_end_date:E}),f(!1)},y=async(E,C)=>{if(!E)return;Ee(!0);const S=mC(),P=S+(e==null?void 0:e.user.id),L=await Qx(E,P);if(!L){Ee(!1),K.error("Failed to generate hash");return}const D=await qr.update(s.id,"pin_desktop_only",C??!1);if(D.error){Ee(!1),K.error(D.error.message);return}const{error:R}=await qr.update(s.id,"pin",L+":"+S);if(Ee(!1),R){K.error(R.message);return}o(!0),i({...s,pin:L+":"+S,pin_desktop_only:C??!1})},_=async()=>{if(!await _a({title:"Disable PIN?",body:"Are you sure you want to disable PIN?"}))return;Ee(!0);const{error:C}=await qr.update(s.id,"pin",null);if(Ee(!1),C){K.error(C.message);return}i({...s,pin:null})};return h.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-2",children:[h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 p-4",children:[h.jsx("img",{src:Pr.BASE_URL+"/icons/icon-192x192.png",className:"size-16",alt:""}),h.jsx("div",{className:"flex flex-col gap-0.5",children:h.jsx("span",{children:e==null?void 0:e.user.email})})]}),h.jsxs("div",{className:"flex flex-col gap-4 text-sm",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"font-medium",children:"Security"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ve,{icon:"lucide:keyboard"}),h.jsx("span",{children:"PIN"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[(s==null?void 0:s.pin)&&s.pin_desktop_only&&h.jsx(ve,{className:"text-accent",icon:"lucide:app-window"}),(s==null?void 0:s.pin)&&h.jsx("span",{className:"dai-badge dai-badge-success dai-badge-sm",children:"Enabled"}),(s==null?void 0:s.pin)&&h.jsx("div",{className:"h-5 w-[1px] bg-base-300"}),h.jsx("button",{onClick:()=>{iu(Jx,{onClose:y,desktopOption:!0})},children:h.jsx(ve,{icon:"lucide:pencil"})}),(s==null?void 0:s.pin)&&h.jsx("button",{onClick:_,className:"text-error",children:h.jsx(ve,{icon:"lucide:x-circle"})})]})]}),h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ve,{icon:"lucide:eye-off"}),h.jsx("span",{children:"Hide Amount"})]}),h.jsx("input",{type:"checkbox",checked:!!(s!=null&&s.hide_amount),onChange:m,className:"dai-toggle dai-toggle-success dai-toggle-sm"})]}),h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ve,{icon:"lucide:eye"}),h.jsx("span",{children:"Max amount always visible"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[a?h.jsx($f,{open:!!c,text:Bt(isNaN(parseFloat(c))?0:parseFloat(c)),children:E=>h.jsx("input",{ref:E,min:0,type:"number",value:c,onChange:C=>u(C.target.value),className:"dai-input dai-input-xs dai-input-bordered max-w-24 text-end"})}):h.jsx("span",{children:Bt((s==null?void 0:s.max_visible_amount)??0)}),h.jsx("button",{disabled:a&&(!c||isNaN(parseFloat(c))||parseFloat(c)<0),onClick:x,className:"disabled:opacity-20",children:a?h.jsx(ve,{icon:"lucide:check"}):h.jsx(ve,{icon:"lucide:pencil"})})]})]})]})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"font-medium",children:"Report"}),h.jsx("div",{className:"flex flex-col gap-2",children:h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ve,{icon:"lucide:calendar-days"}),h.jsx("span",{children:"End of month"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[d?h.jsx("input",{min:0,type:"number",value:p,onChange:E=>v(E.target.value),className:"dai-input dai-input-xs dai-input-bordered max-w-24 text-end"}):h.jsx("span",{children:s!=null&&s.month_end_date?yC(s.month_end_date):""}),h.jsx("button",{disabled:d&&!!p&&(isNaN(parseFloat(p))||parseFloat(p)<2),onClick:g,className:"disabled:opacity-20",children:d?h.jsx(ve,{icon:"lucide:check"}):h.jsx(ve,{icon:"lucide:pencil"})})]})]})})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"font-medium",children:"Settings"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ve,{icon:"lucide:moon"}),h.jsx("span",{children:"Dark Mode"})]}),h.jsx("input",{type:"checkbox",checked:n,onChange:E=>r(E.target.checked),className:"dai-toggle dai-toggle-success dai-toggle-sm"})]}),h.jsx("button",{onClick:_h,className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ve,{icon:"lucide:log-out"}),h.jsx("span",{children:"Logout"})]})})]})]})]})]})},wC=(t,e,n)=>{b.useEffect(()=>{const r=s=>{!t.current||t.current.contains(s.target)||n!=null&&n.some(i=>{var o;return(o=i.current)==null?void 0:o.contains(s.target)})||e(s)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[t,e,n])},pm=160,ws=({icon:t,disabled:e,options:n,position:r="bottom"})=>{const[s,i]=b.useState(!1),o=b.useRef(null),a=b.useRef(null),[l,c]=b.useState();return wC(o,()=>{s&&i(!1)},[a]),b.useEffect(()=>{if(!s||!o.current){c(void 0);return}const u=o.current.getBoundingClientRect(),d=u.top<=pm?"bottom":window.innerHeight-u.top<=pm?"top":r,f=d==="bottom"?u.top+u.height:u.top;c({top:f,offset:d,left:u.left+u.width})},[s,o.current,r]),h.jsxs("div",{children:[h.jsx("button",{ref:o,type:"button",disabled:e||!n.length,className:"dai-btn dai-btn-ghost dai-btn-sm text-base",onClick:u=>{i(d=>!d),u.stopPropagation()},children:h.jsx(ve,{icon:t??"lucide:more-vertical"})}),l&&h.jsx("ul",{ref:a,style:{top:l.top,left:l.left,position:"fixed"},className:"dai-menu z-[29] w-56 -translate-x-full rounded-box border-[2px] border-base-200 bg-base-100 shadow-all-lg "+(l.offset==="top"?"-translate-y-full":""),children:n.map((u,d)=>h.jsx("li",{children:h.jsxs("button",{className:"font-semibold "+u.style,onClick:f=>{var p;f.stopPropagation(),(p=u.onClick)==null||p.call(u),i(!1)},children:[h.jsx(ve,{className:"text-lg",icon:u.icon}),u.label]})},d))})]})},bC=({account:t,onDeleted:e})=>{const n=Tt(),r=async()=>{if(!await _a({title:"Delete Account",body:"Are you sure you want to delete this account?"}))return;Ee(!0);const{error:i}=await wo.deleteAccount(t.id);if(Ee(!1),i){K.error(i.message);return}e(t.id)};return h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md hover:cursor-pointer",children:[h.jsx("img",{onClick:()=>n(`/accounts/transaction?account=${t.id}`),src:gc+"/"+t.logo,className:"size-9 xs:size-12"}),h.jsxs("div",{className:"flex flex-1 flex-col gap-0.5",children:[h.jsx("p",{className:"text-sm xs:text-base",children:t.name}),h.jsx("div",{className:"flex items-center gap-2 text-xs xs:text-sm",children:h.jsx("span",{className:"font-semibold "+(t.balance<0?"text-error":"text-success"),children:h.jsx(hn,{amount:t.balance})})})]}),h.jsx(ws,{options:[{icon:"lucide:pencil",label:"Edit",onClick:()=>n(`/accounts/${t.id}`)},{icon:"lucide:trash",label:"Delete",onClick:r}]})]})},kC=()=>h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md",children:[h.jsx(ke,{children:h.jsx("div",{className:"size-9 rounded-full bg-accent xs:size-12"})}),h.jsxs("div",{className:"flex flex-1 flex-col gap-0.5",children:[h.jsx(ke,{children:h.jsx("p",{className:"text-sm xs:text-base",children:"Gopay"})}),h.jsx(ke,{children:h.jsxs("div",{className:"flex items-center gap-2 text-xs xs:text-sm",children:[h.jsx("p",{children:"Balance: "}),h.jsx("p",{className:"font-bold",children:Bt(1e7)})]})})]}),h.jsx(ke,{children:h.jsx(ws,{options:[]})})]}),SC=()=>{const[,t]=ee(kn),e=Tt(),{data:n,setData:r,loading:s,fetched:i,refresh:o}=mc(),a=b.useMemo(()=>n.reduce((l,c)=>l+c.balance,0),[n]);return b.useEffect(()=>{t({title:"Accounts",revealer:!0,actions:[h.jsx("button",{onClick:()=>e("/accounts/new"),className:"dai-btn dai-btn-success dai-btn-xs ml-2 xs:dai-btn-sm",children:"Create"})]})},[]),b.useEffect(()=>{i||(async()=>{const l=await o();l&&K.error(l)})()},[]),h.jsxs("div",{className:"flex flex-1 flex-col gap-2 p-2",children:[h.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-xl bg-base-100 px-3 py-2 text-sm font-semibold xs:text-base",children:[h.jsx("span",{children:s?h.jsx(ke,{children:"Total"}):"Total"}),h.jsx("span",{className:"text-success",children:s?h.jsx(ke,{children:Bt(1e7)}):h.jsx(hn,{amount:a})})]}),h.jsx("div",{className:"grid grid-cols-1 gap-2",children:s?Array.from({length:10}).map((l,c)=>h.jsx(kC,{},c)):n.length===0?h.jsx("p",{className:"text-center",children:"No accounts found"}):n.map(l=>h.jsx(bC,{account:l,onDeleted:c=>{r(u=>u.filter(d=>d.id!==c))}},l.id))})]})},ko=gn(),oi=Ne({loading:!1,fetched:!1,data:[]});async function EC(){ko.set(oi,e=>({...e,loading:!0,fetched:!1}));const t=await Ut.storage.from("images").list("accounts");if(t.error)return ko.set(oi,e=>({...e,loading:!1})),t.error.message;ko.set(oi,{loading:!1,fetched:!0,data:(t.data??[]).map(e=>e.name)})}function jC(t){const e=ko.get(oi);e.fetched&&ko.set(oi,{...e,data:typeof t=="function"?t(e.data):t})}const CC=Ne(t=>({refresh:EC,setData:jC,...t(oi)})),MC=()=>{const[t]=ee(CC);return t},gm=({})=>{const[,t]=ee(kn),[e]=ee(Rt),{id:n}=tx(),r=Tt(),{setData:s,fetched:i}=mc(),{data:o,refresh:a,loading:l,fetched:c}=MC(),[u,d]=b.useState(),[f,p]=b.useState(!1),[v,m]=b.useState(""),[x,g]=b.useState(""),[y,_]=b.useState(0),w=b.useMemo(()=>!v||!x||isNaN(parseFloat(x)),[v,x]);b.useEffect(()=>{t({title:n?"Update Account":"Create Account",back:!0}),!c&&(async()=>{const E=await a();if(E)return K.error(E)})()},[]),b.useEffect(()=>{n&&(async()=>{Ee(!0);const{data:E,error:C}=await wo.getAccount(n);if(Ee(!1),E)return d(E);K.error(!E||!C?"Account not found":C.message),r("/accounts",{replace:!0})})()},[]),b.useEffect(()=>{c&&_(u!=null&&u.logo?o.indexOf(u.logo):0)},[c,u,o]),b.useEffect(()=>{u&&(m(u.name),g(u.initial_balance.toString()))},[u]);const k=async()=>{p(!0);let E;if(n&&u?(E=await wo.updateAccount(n,{name:v,initial_balance:parseFloat(x),logo:o[y]}),E.data&&(E.data.balance+=parseFloat(x)-u.initial_balance)):(E=await wo.createAccount({name:v,initial_balance:parseFloat(x),logo:o[y],user_id:e.user.id}),E.data&&(E.data.balance=parseFloat(x))),p(!1),E.error||!E.data){K.error(!E.data||!E.error?"Something went wrong":E.error.message);return}i&&s(C=>n?C.map(S=>S.id===n?E.data:S):[E.data,...C]),r("/accounts",{replace:!0})};return h.jsx("div",{className:"flex flex-1 flex-col gap-4 p-2",children:h.jsxs("form",{onSubmit:E=>{E.preventDefault(),k()},className:"grid grid-cols-1 gap-2",children:[h.jsxs("label",{className:"dai-form-control w-full",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Name"})}),h.jsx("input",{value:v,onChange:E=>m(E.target.value),type:"text",placeholder:"Account Name",className:"dai-input dai-input-bordered"})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Initial Balance"})}),h.jsx($f,{open:!!x,text:Bt(isNaN(parseFloat(x))?0:parseFloat(x)),children:E=>h.jsx("input",{ref:E,value:x,onChange:C=>g(C.target.value),type:"number",placeholder:"Initial Balance",className:"dai-input dai-input-bordered"})})]}),h.jsxs("div",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Logo"})}),h.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2",children:l?Array.from({length:10}).map((E,C)=>h.jsx("button",{type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 outline-transparent",children:h.jsx("div",{className:"dai-skeleton size-12 rounded-lg"})},C)):o.length===0?h.jsx("div",{}):o.map((E,C)=>h.jsx("button",{onClick:()=>_(C),type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 "+(C===y?"outline-primary":"outline-transparent"),children:h.jsx("img",{className:"size-12 rounded-lg",src:gc+"/"+E,alt:""},C)},C))})]}),h.jsx("div",{className:"flex justify-end pt-2",children:h.jsx(ru,{size:"sm",disabled:w,loading:f,type:"submit",className:"dai-btn-primary",children:"Submit"})})]})})},PC=()=>h.jsxs(ji,{children:[h.jsx(Ge,{path:"/",element:h.jsx(SC,{})}),h.jsx(Ge,{path:"/transaction",element:h.jsx(Kx,{})}),h.jsx(Ge,{path:"/new",element:h.jsx(gm,{})}),h.jsx(Ge,{path:"/:id",element:h.jsx(gm,{})})]}),sl=gn();class Fn extends xa{static getDateRanges(e,n,r){if(!n)return{start:new Date(0),end:new Date(new Date().getFullYear(),new Date().getMonth()+1,1)};const s=new Date(n.getFullYear(),n.getMonth(),1),i=new Date((r==null?void 0:r.getFullYear())??n.getFullYear(),((r==null?void 0:r.getMonth())??n.getMonth())+1,1),o=sl.get(zt);return e&&(o!=null&&o.month_end_date)&&(s.setMonth(s.getMonth()-1),s.setDate(o.month_end_date+1),i.setMonth(i.getMonth()-1),i.setDate(o.month_end_date+1)),{start:s,end:i}}static async getExpenseOverview(e,n){const{start:r,end:s}=this.getDateRanges(!0,n),{data:i,error:o}=await this.db.from("transaction").select("amount:amount.sum(), category(id, name, logo)").eq("user_id",e).eq("type","expense").gte("occurred_at",gt(r,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})).lt("occurred_at",gt(s,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})),a=i;return a.sort((l,c)=>c.amount-l.amount),{error:o,data:a}}static async getIncomeTotal(e,n){const{start:r,end:s}=this.getDateRanges(!0,n),{data:i,error:o}=await this.db.from("transaction").select("amount:amount.sum()").eq("user_id",e).eq("type","income").gte("occurred_at",gt(r,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})).lt("occurred_at",gt(s,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})).single(),a=i;return{error:o,data:(a==null?void 0:a.amount)??0}}static async getCashFlowEveryMonth({userId:e,trx_type:n,year:r,yearEnd:s,categories:i}){var d;const o=new Date(s??r+1,0);o.setDate(o.getDate()-1);const{start:a,end:l}=this.getDateRanges(!1,new Date(r,0),o);l.setDate(l.getDate()-1);const{data:c,error:u}=await Ut.rpc("get_transaction_flow",{trx_type:n,day_flow:!1,month_end_date:((d=sl.get(zt))==null?void 0:d.month_end_date)??0,trx_user_id:e,categories:i,time_zone:yo,end_str:gt(l,{format:"yyyy-MM"}),start_str:gt(a,{format:"yyyy-MM"})});return{data:c,error:u}}static async getCashFlowEveryDay({userId:e,trx_type:n,month:r,monthEnd:s,categories:i}){var u;const{start:o,end:a}=this.getDateRanges(!0,r,s);a.setDate(a.getDate()-1);const{data:l,error:c}=await Ut.rpc("get_transaction_flow",{day_flow:!0,month_end_date:((u=sl.get(zt))==null?void 0:u.month_end_date)??0,trx_type:n,trx_user_id:e,categories:i,time_zone:yo,end_str:gt(a,{format:"yyyy-MM-dd"}),start_str:gt(o,{format:"yyyy-MM-dd"})});return{data:l,error:c}}static async getCurrentBalanceAt(e){var s;const{data:n,error:r}=await Ut.rpc("get_current_balance_at",{trx_user_id:e.userId,day_flow:!0,end_str:gt(e.lastDate,{format:"yyyy-MM-dd"}),month_end_date:((s=sl.get(zt))==null?void 0:s.month_end_date)??0,time_zone:yo});return{data:n,error:r}}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function wa(t){return t+.5|0}const gr=(t,e,n)=>Math.max(Math.min(t,n),e);function no(t){return gr(wa(t*2.55),0,255)}function jr(t){return gr(wa(t*255),0,255)}function Nn(t){return gr(wa(t/2.55)/100,0,1)}function mm(t){return gr(wa(t*100),0,100)}const Yt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wh=[..."0123456789ABCDEF"],TC=t=>wh[t&15],RC=t=>wh[(t&240)>>4]+wh[t&15],il=t=>(t&240)>>4===(t&15),LC=t=>il(t.r)&&il(t.g)&&il(t.b)&&il(t.a);function OC(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Yt[t[1]]*17,g:255&Yt[t[2]]*17,b:255&Yt[t[3]]*17,a:e===5?Yt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Yt[t[1]]<<4|Yt[t[2]],g:Yt[t[3]]<<4|Yt[t[4]],b:Yt[t[5]]<<4|Yt[t[6]],a:e===9?Yt[t[7]]<<4|Yt[t[8]]:255})),n}const DC=(t,e)=>t<255?e(t):"";function NC(t){var e=LC(t)?TC:RC;return t?"#"+e(t.r)+e(t.g)+e(t.b)+DC(t.a,e):void 0}const AC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function n1(t,e,n){const r=e*Math.min(n,1-n),s=(i,o=(i+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function IC(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function FC(t,e,n){const r=n1(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function zC(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function Bf(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),o=Math.min(n,r,s),a=(i+o)/2;let l,c,u;return i!==o&&(u=i-o,c=a>.5?u/(2-i-o):u/(i+o),l=zC(n,r,s,u,i),l=l*60+.5),[l|0,c||0,a]}function Uf(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(jr)}function Hf(t,e,n){return Uf(n1,t,e,n)}function $C(t,e,n){return Uf(FC,t,e,n)}function BC(t,e,n){return Uf(IC,t,e,n)}function r1(t){return(t%360+360)%360}function UC(t){const e=AC.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?no(+e[5]):jr(+e[5]));const s=r1(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=$C(s,i,o):e[1]==="hsv"?r=BC(s,i,o):r=Hf(s,i,o),{r:r[0],g:r[1],b:r[2],a:n}}function HC(t,e){var n=Bf(t);n[0]=r1(n[0]+e),n=Hf(n),t.r=n[0],t.g=n[1],t.b=n[2]}function WC(t){if(!t)return;const e=Bf(t),n=e[0],r=mm(e[1]),s=mm(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Nn(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const ym={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},vm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function VC(){const t={},e=Object.keys(vm),n=Object.keys(ym);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<n.length;s++)i=n[s],a=a.replace(i,ym[i]);i=parseInt(vm[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let ol;function YC(t){ol||(ol=VC(),ol.transparent=[0,0,0,0]);const e=ol[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const KC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function qC(t){const e=KC.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?no(o):gr(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?no(r):gr(r,0,255)),s=255&(e[4]?no(s):gr(s,0,255)),i=255&(e[6]?no(i):gr(i,0,255)),{r,g:s,b:i,a:n}}}function XC(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Nn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Qu=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ls=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function GC(t,e,n){const r=Ls(Nn(t.r)),s=Ls(Nn(t.g)),i=Ls(Nn(t.b));return{r:jr(Qu(r+n*(Ls(Nn(e.r))-r))),g:jr(Qu(s+n*(Ls(Nn(e.g))-s))),b:jr(Qu(i+n*(Ls(Nn(e.b))-i))),a:t.a+n*(e.a-t.a)}}function al(t,e,n){if(t){let r=Bf(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Hf(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function s1(t,e){return t&&Object.assign(e||{},t)}function xm(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=jr(t[3]))):(e=s1(t,{r:0,g:0,b:0,a:1}),e.a=jr(e.a)),e}function JC(t){return t.charAt(0)==="r"?qC(t):UC(t)}class ea{constructor(e){if(e instanceof ea)return e;const n=typeof e;let r;n==="object"?r=xm(e):n==="string"&&(r=OC(e)||YC(e)||JC(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=s1(this._rgb);return e&&(e.a=Nn(e.a)),e}set rgb(e){this._rgb=xm(e)}rgbString(){return this._valid?XC(this._rgb):void 0}hexString(){return this._valid?NC(this._rgb):void 0}hslString(){return this._valid?WC(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=r.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=GC(this._rgb,e._rgb,n)),this}clone(){return new ea(this.rgb)}alpha(e){return this._rgb.a=jr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=wa(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return al(this._rgb,2,e),this}darken(e){return al(this._rgb,2,-e),this}saturate(e){return al(this._rgb,1,e),this}desaturate(e){return al(this._rgb,1,-e),this}rotate(e){return HC(this._rgb,e),this}}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Pn(){}const QC=(()=>{let t=0;return()=>t++})();function ze(t){return t===null||typeof t>"u"}function nt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ge(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ut(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Dt(t,e){return ut(t)?t:e}function _e(t,e){return typeof t>"u"?e:t}const ZC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,i1=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ue(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function xe(t,e,n,r){let s,i,o;if(nt(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(ge(t))for(o=Object.keys(t),i=o.length,s=0;s<i;s++)e.call(n,t[o[s]],o[s])}function vc(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function xc(t){if(nt(t))return t.map(xc);if(ge(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=xc(t[n[s]]);return e}return t}function o1(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function eM(t,e,n,r){if(!o1(t))return;const s=e[t],i=n[t];ge(s)&&ge(i)?ta(s,i,r):e[t]=xc(i)}function ta(t,e,n){const r=nt(e)?e:[e],s=r.length;if(!ge(t))return t;n=n||{};const i=n.merger||eM;let o;for(let a=0;a<s;++a){if(o=r[a],!ge(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)i(l[c],t,o,n)}return t}function So(t,e){return ta(t,e,{merger:tM})}function tM(t,e,n){if(!o1(t))return;const r=e[t],s=n[t];ge(r)&&ge(s)?So(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=xc(s))}const _m={"":t=>t,x:t=>t.x,y:t=>t.y};function nM(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function rM(t){const e=nM(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function na(t,e){return(_m[e]||(_m[e]=rM(e)))(t)}function Wf(t){return t.charAt(0).toUpperCase()+t.slice(1)}const _c=t=>typeof t<"u",Tr=t=>typeof t=="function",wm=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function sM(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const $e=Math.PI,We=2*$e,iM=We+$e,wc=Number.POSITIVE_INFINITY,oM=$e/180,Je=$e/2,Br=$e/4,bm=$e*2/3,mr=Math.log10,_i=Math.sign;function Eo(t,e,n){return Math.abs(t-e)<n}function km(t){const e=Math.round(t);t=Eo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(mr(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function aM(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function ra(t){return!isNaN(parseFloat(t))&&isFinite(t)}function lM(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function a1(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function zn(t){return t*($e/180)}function cM(t){return t*(180/$e)}function Sm(t){if(!ut(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function l1(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*$e&&(i+=We),{angle:i,distance:s}}function bh(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function uM(t,e){return(t-e+iM)%We-$e}function sr(t){return(t%We+We)%We}function sa(t,e,n,r){const s=sr(t),i=sr(e),o=sr(n),a=sr(i-s),l=sr(o-s),c=sr(s-i),u=sr(s-o);return s===i||s===o||r&&i===o||a>l&&c<u}function yt(t,e,n){return Math.max(e,Math.min(n,t))}function dM(t){return yt(t,-32768,32767)}function c1(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Vf(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const rs=(t,e,n,r)=>Vf(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),hM=(t,e,n)=>Vf(t,n,r=>t[r][e]>=n);function fM(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const u1=["push","pop","shift","splice","unshift"];function pM(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),u1.forEach(n=>{const r="_onData"+Wf(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function Em(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(u1.forEach(i=>{delete t[i]}),delete t._chartjs)}function gM(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const d1=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function h1(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,d1.call(window,()=>{r=!1,t.apply(e,n)}))}}function mM(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const f1=t=>t==="start"?"left":t==="end"?"right":"center",jo=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2;function yM(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(s=yt(Math.min(rs(a,l,c).lo,n?r:rs(e,l,o.getPixelForValue(c)).lo),0,r-1)),f?i=yt(Math.max(rs(a,o.axis,u,!0).hi+1,n?0:rs(e,l,o.getPixelForValue(u),!0).hi+1),s,r)-s:i=r-s}return{start:s,count:i}}function vM(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const ll=t=>t===0||t===1,jm=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*We/n)),Cm=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*We/n)+1,Co={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Je)+1,easeOutSine:t=>Math.sin(t*Je),easeInOutSine:t=>-.5*(Math.cos($e*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ll(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ll(t)?t:jm(t,.075,.3),easeOutElastic:t=>ll(t)?t:Cm(t,.075,.3),easeInOutElastic(t){return ll(t)?t:t<.5?.5*jm(t*2,.1125,.45):.5+.5*Cm(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Co.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Co.easeInBounce(t*2)*.5:Co.easeOutBounce(t*2-1)*.5+.5};function Yf(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Mm(t){return Yf(t)?t:new ea(t)}function Zu(t){return Yf(t)?t:new ea(t).saturate(.5).darken(.1).hexString()}const xM=["x","y","borderWidth","radius","tension"],_M=["color","borderColor","backgroundColor"];function wM(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:_M},numbers:{type:"number",properties:xM}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function bM(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Pm=new Map;function kM(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Pm.get(n);return r||(r=new Intl.NumberFormat(t,e),Pm.set(n,r)),r}function ou(t,e,n){return kM(e,n).format(t)}const p1={values(t){return nt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=SM(t,n)}const o=mr(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ou(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(mr(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?p1.numeric.call(this,t,e,n):""}};function SM(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Kf={formatters:p1};function EM(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Kf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ms=Object.create(null),kh=Object.create(null);function Mo(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function ed(t,e,n){return typeof e=="string"?ta(Mo(t,e),n):ta(Mo(t,""),e)}class jM{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Zu(s.backgroundColor),this.hoverBorderColor=(r,s)=>Zu(s.borderColor),this.hoverColor=(r,s)=>Zu(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ed(this,e,n)}get(e){return Mo(this,e)}describe(e,n){return ed(kh,e,n)}override(e,n){return ed(ms,e,n)}route(e,n,r,s){const i=Mo(this,e),o=Mo(this,r),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return ge(l)?Object.assign({},c,l):_e(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ke=new jM({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[wM,bM,EM]);function CM(t){return!t||ze(t.size)||ze(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Tm(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Ur(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Rm(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Sh(t,e,n,r){MM(t,e,n,r)}function MM(t,e,n,r,s){let i,o,a,l,c,u,d,f;const p=e.pointStyle,v=e.rotation,m=e.radius;let x=(v||0)*oM;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(x),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),p){default:t.arc(n,r,m,0,We),t.closePath();break;case"triangle":u=m,t.moveTo(n+Math.sin(x)*u,r-Math.cos(x)*m),x+=bm,t.lineTo(n+Math.sin(x)*u,r-Math.cos(x)*m),x+=bm,t.lineTo(n+Math.sin(x)*u,r-Math.cos(x)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(x+Br)*l,d=Math.cos(x+Br)*l,a=Math.sin(x+Br)*l,f=Math.sin(x+Br)*l,t.arc(n-d,r-a,c,x-$e,x-Je),t.arc(n+f,r-o,c,x-Je,x),t.arc(n+d,r+a,c,x,x+Je),t.arc(n-f,r+o,c,x+Je,x+$e),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*m,u=l,t.rect(n-u,r-l,2*u,2*l);break}x+=Br;case"rectRot":d=Math.cos(x)*m,o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*m,t.moveTo(n-d,r-a),t.lineTo(n+f,r-o),t.lineTo(n+d,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":x+=Br;case"cross":d=Math.cos(x)*m,o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*m,t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":d=Math.cos(x)*m,o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*m,t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),x+=Br,d=Math.cos(x)*m,o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*m,t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=Math.cos(x)*m,a=Math.sin(x)*m,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(x)*m,r+Math.sin(x)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ia(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function g1(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function m1(t){t.restore()}function PM(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function TM(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function RM(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ze(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function LM(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function OM(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Eh(t,e,n,r,s,i={}){const o=nt(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,RM(t,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&OM(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),ze(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,n,r,i.maxWidth)),t.fillText(c,n,r,i.maxWidth),LM(t,n,r,c,i),r+=Number(s.lineHeight);t.restore()}function Lm(t,e){const{x:n,y:r,w:s,h:i,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*$e,$e,!0),t.lineTo(n,r+i-o.bottomLeft),t.arc(n+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,$e,Je,!0),t.lineTo(n+s-o.bottomRight,r+i),t.arc(n+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,Je,0,!0),t.lineTo(n+s,r+o.topRight),t.arc(n+s-o.topRight,r+o.topRight,o.topRight,0,-Je,!0),t.lineTo(n+o.topLeft,r)}const DM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,NM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function AM(t,e){const n=(""+t).match(DM);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const IM=t=>+t||0;function qf(t,e){const n={},r=ge(e),s=r?Object.keys(e):e,i=ge(t)?r?o=>_e(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=IM(i(o));return n}function FM(t){return qf(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Nl(t){return qf(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Yn(t){const e=FM(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Gt(t,e){t=t||{},e=e||Ke.font;let n=_e(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=_e(t.style,e.style);r&&!(""+r).match(NM)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:_e(t.family,e.family),lineHeight:AM(_e(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:_e(t.weight,e.weight),string:""};return s.string=CM(s),s}function cl(t,e,n,r){let s,i,o;for(s=0,i=t.length;s<i;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function zM(t,e,n){const{min:r,max:s}=t,i=i1(e,(s-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function bs(t,e){return Object.assign(Object.create(t),e)}function Xf(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=_1("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>Xf([a,...t],e,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return v1(a,l,()=>KM(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Dm(a).includes(l)},ownKeys(a){return Dm(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function wi(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:y1(t,r),setContext:i=>wi(t,i,n,r),override:i=>wi(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return v1(i,o,()=>BM(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function y1(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Tr(n)?n:()=>n,isIndexable:Tr(r)?r:()=>r}}const $M=(t,e)=>t?t+Wf(e):e,Gf=(t,e)=>ge(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function v1(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function BM(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=t;let a=r[e];return Tr(a)&&o.isScriptable(e)&&(a=UM(e,a,t,n)),nt(a)&&a.length&&(a=HM(e,a,t,o.isIndexable)),Gf(e,a)&&(a=wi(a,s,i&&i[e],o)),a}function UM(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||r);return a.delete(t),Gf(t,l)&&(l=Jf(s._scopes,s,t,l)),l}function HM(t,e,n,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(ge(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Jf(c,s,t,u);e.push(wi(d,i,o&&o[t],a))}}return e}function x1(t,e,n){return Tr(t)?t(e,n):t}const WM=(t,e)=>t===!0?e:typeof t=="string"?na(e,t):void 0;function VM(t,e,n,r,s){for(const i of e){const o=WM(n,i);if(o){t.add(o);const a=x1(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Jf(t,e,n,r){const s=e._rootScopes,i=x1(e._fallback,n,r),o=[...t,...s],a=new Set;a.add(r);let l=Om(a,o,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=Om(a,o,i,l,r),l===null)?!1:Xf(Array.from(a),[""],s,i,()=>YM(e,n,r))}function Om(t,e,n,r,s){for(;n;)n=VM(t,e,n,r,s);return n}function YM(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return nt(s)&&ge(n)?n:s||{}}function KM(t,e,n,r){let s;for(const i of e)if(s=_1($M(i,t),n),typeof s<"u")return Gf(t,s)?Jf(n,r,t,s):s}function _1(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Dm(t){let e=t._keys;return e||(e=t._keys=qM(t._scopes)),e}function qM(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const XM=Number.EPSILON||1e-14,bi=(t,e)=>e<t.length&&!t[e].skip&&t[e],w1=t=>t==="x"?"y":"x";function GM(t,e,n,r){const s=t.skip?e:t,i=e,o=n.skip?e:n,a=bh(i,s),l=bh(o,i);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,f=r*u;return{previous:{x:i.x-d*(o.x-s.x),y:i.y-d*(o.y-s.y)},next:{x:i.x+f*(o.x-s.x),y:i.y+f*(o.y-s.y)}}}function JM(t,e,n){const r=t.length;let s,i,o,a,l,c=bi(t,0);for(let u=0;u<r-1;++u)if(l=c,c=bi(t,u+1),!(!l||!c)){if(Eo(e[u],0,XM)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],i=n[u+1]/e[u],a=Math.pow(s,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*e[u],n[u+1]=i*o*e[u])}}function QM(t,e,n="x"){const r=w1(n),s=t.length;let i,o,a,l=bi(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=bi(t,c+1),!a)continue;const u=a[n],d=a[r];o&&(i=(u-o[n])/3,a[`cp1${n}`]=u-i,a[`cp1${r}`]=d-i*e[c]),l&&(i=(l[n]-u)/3,a[`cp2${n}`]=u+i,a[`cp2${r}`]=d+i*e[c])}}function ZM(t,e="x"){const n=w1(e),r=t.length,s=Array(r).fill(0),i=Array(r);let o,a,l,c=bi(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=bi(t,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[n]-l[n])/u:0}i[o]=a?c?_i(s[o-1])!==_i(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}JM(t,s,i),QM(t,i,e)}function ul(t,e,n){return Math.max(Math.min(t,n),e)}function eP(t,e){let n,r,s,i,o,a=ia(t[0],e);for(n=0,r=t.length;n<r;++n)o=i,i=a,a=n<r-1&&ia(t[n+1],e),i&&(s=t[n],o&&(s.cp1x=ul(s.cp1x,e.left,e.right),s.cp1y=ul(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=ul(s.cp2x,e.left,e.right),s.cp2y=ul(s.cp2y,e.top,e.bottom)))}function tP(t,e,n,r,s){let i,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")ZM(t,s);else{let c=r?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=GM(c,a,t[Math.min(i+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&eP(t,n)}function Qf(){return typeof window<"u"&&typeof document<"u"}function Zf(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function bc(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const au=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function nP(t,e){return au(t).getPropertyValue(e)}const rP=["top","right","bottom","left"];function as(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=rP[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const sP=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function iP(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(sP(s,i,t.target))a=s,l=i;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Xr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=au(n),i=s.boxSizing==="border-box",o=as(s,"padding"),a=as(s,"border","width"),{x:l,y:c,box:u}=iP(t,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:v}=e;return i&&(p-=o.width+a.width,v-=o.height+a.height),{x:Math.round((l-d)/p*n.width/r),y:Math.round((c-f)/v*n.height/r)}}function oP(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&Zf(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=au(i),l=as(a,"border","width"),c=as(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=bc(a.maxWidth,i,"clientWidth"),s=bc(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||wc,maxHeight:s||wc}}const dl=t=>Math.round(t*10)/10;function aP(t,e,n,r){const s=au(t),i=as(s,"margin"),o=bc(s.maxWidth,t,"clientWidth")||wc,a=bc(s.maxHeight,t,"clientHeight")||wc,l=oP(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=as(s,"border","width"),p=as(s,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-i.width),u=Math.max(0,r?c/r:u-i.height),c=dl(Math.min(c,o,l.maxWidth)),u=dl(Math.min(u,a,l.maxHeight)),c&&!u&&(u=dl(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=dl(Math.floor(u*r))),{width:c,height:u}}function Nm(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(t.currentDevicePixelRatio=r,o.height=s,o.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const lP=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Qf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Am(t,e){const n=nP(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Gr(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function cP(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function uP(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Gr(t,s,n),a=Gr(s,i,n),l=Gr(i,e,n),c=Gr(o,a,n),u=Gr(a,l,n);return Gr(c,u,n)}const dP=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},hP=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function td(t,e,n){return t?dP(e,n):hP()}function fP(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function pP(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function b1(t){return t==="angle"?{between:sa,compare:uM,normalize:sr}:{between:c1,compare:(e,n)=>e-n,normalize:e=>e}}function Im({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function gP(t,e,n){const{property:r,start:s,end:i}=n,{between:o,normalize:a}=b1(r),l=e.length;let{start:c,end:u,loop:d}=t,f,p;if(d){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(e[c%l][r]),s,i);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function mP(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,o=e.length,{compare:a,between:l,normalize:c}=b1(r),{start:u,end:d,loop:f,style:p}=gP(t,e,n),v=[];let m=!1,x=null,g,y,_;const w=()=>l(s,_,g)&&a(s,_)!==0,k=()=>a(i,g)===0||l(i,_,g),E=()=>m||w(),C=()=>!m||k();for(let S=u,P=u;S<=d;++S)y=e[S%o],!y.skip&&(g=c(y[r]),g!==_&&(m=l(g,s,i),x===null&&E()&&(x=a(g,s)===0?S:P),x!==null&&C()&&(v.push(Im({start:x,end:S,loop:f,count:o,style:p})),x=null),P=S,_=g));return x!==null&&v.push(Im({start:x,end:d,loop:f,count:o,style:p})),v}function yP(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=mP(r[s],t.points,e);i.length&&n.push(...i)}return n}function vP(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function xP(t,e,n,r){const s=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&i.push({start:e%s,end:o%s,loop:r}),i}function _P(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:o,end:a}=vP(n,s,i,r);if(r===!0)return Fm(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return Fm(t,xP(n,o,l,c),n,e)}function Fm(t,e,n,r){return!r||!r.setContext||!n?e:wP(t,e,n,r)}function wP(t,e,n,r){const s=t._chart.getContext(),i=zm(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=i,d=e[0].start,f=d;function p(v,m,x,g){const y=a?-1:1;if(v!==m){for(v+=l;n[v%l].skip;)v-=y;for(;n[m%l].skip;)m+=y;v%l!==m%l&&(c.push({start:v%l,end:m%l,loop:x,style:g}),u=g,d=m%l)}}for(const v of e){d=a?d:v.start;let m=n[d%l],x;for(f=d+1;f<=v.end;f++){const g=n[f%l];x=zm(r.setContext(bs(s,{type:"segment",p0:m,p1:g,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),bP(x,u)&&p(d,f-1,v.loop,u),m=g,u=x}d<f-1&&p(d,f-1,v.loop,u)}return c}function zm(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function bP(t,e){if(!e)return!1;const n=[],r=function(s,i){return Yf(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class kP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=d1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Rn=new kP;const $m="transparent",SP={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Mm(t||$m),s=r.valid&&Mm(e||$m);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class EP{constructor(e,n,r,s){const i=n[r];s=cl([e.to,s,i,e.from]);const o=cl([e.from,i,s]);this._active=!0,this._fn=e.fn||SP[e.type||typeof o],this._easing=Co[e.easing]||Co.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=cl([e.to,n,s,e.from]),this._from=cl([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<r),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class k1{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ge(e))return;const n=Object.keys(Ke.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!ge(i))return;const o={};for(const a of n)o[a]=i[a];(nt(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,s=CP(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&jP(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let d=i[c];const f=r.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}i[c]=d=new EP(f,e,c,u),s.push(d)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Rn.add(this._chart,r),!0}}function jP(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function CP(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Bm(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function MP(t,e,n){if(n===!1)return!1;const r=Bm(t,n),s=Bm(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function PP(t){let e,n,r,s;return ge(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function S1(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function Um(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],ut(c)&&(i||e===0||_i(e)===_i(c))&&(e+=c)}return!u&&!r.all?0:e}function TP(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[i]:t[u]};return a}function nd(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function RP(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function LP(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function OP(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Hm(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function Wm(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,c=o.axis,u=RP(i,o,r),d=e.length;let f;for(let p=0;p<d;++p){const v=e[p],{[l]:m,[c]:x}=v,g=v._stacks||(v._stacks={});f=g[c]=OP(s,u,m),f[a]=x,f._top=Hm(f,o,!0,r.type),f._bottom=Hm(f,o,!1,r.type);const y=f._visualValues||(f._visualValues={});y[a]=x}}function rd(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function DP(t,e){return bs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function NP(t,e,n){return bs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Vi(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const sd=t=>t==="reset"||t==="none",Vm=(t,e)=>e?t:Object.assign({},t),AP=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:S1(n,!0),values:null};class ai{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=nd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Vi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(d,f,p,v)=>d==="x"?f:d==="r"?v:p,i=n.xAxisID=_e(r.xAxisID,rd(e,"x")),o=n.yAxisID=_e(r.yAxisID,rd(e,"y")),a=n.rAxisID=_e(r.rAxisID,rd(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,i,o,a),u=n.vAxisID=s(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Em(this._data,this),e._stacked&&Vi(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(ge(n)){const s=this._cachedMeta;this._data=TP(n,s)}else if(r!==n){if(r){Em(r,this);const s=this._cachedMeta;Vi(s),s._parsed=[]}n&&Object.isExtensible(n)&&pM(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=nd(n.vScale,n),n.stack!==r.stack&&(s=!0,Vi(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(Wm(this,n._parsed),n._stacked=nd(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=e===0&&n===s.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{nt(s[e])?f=this.parseArrayData(r,s,e,n):ge(s[e])?f=this.parseObjectData(r,s,e,n):f=this.parsePrimitiveData(r,s,e,n);const p=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=d=f[u],l&&(p()&&(l=!1),c=d);r._sorted=l}o&&Wm(this,f)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,c=i.getLabels(),u=i===o,d=new Array(s);let f,p,v;for(f=0,p=s;f<p;++f)v=f+r,d[f]={[a]:u||i.parse(c[v],v),[l]:o.parse(n[v],v)};return d}parseArrayData(e,n,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+r,d=n[u],a[l]={x:i.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,d,f,p;for(u=0,d=s;u<d;++u)f=u+r,p=n[f],c[u]={x:i.parse(na(p,a),f),y:o.parse(na(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:S1(s,!0),values:n._stacks[e.axis]._visualValues};return Um(a,o,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let o=i===null?NaN:i;const a=s&&r._stacks[n.axis];s&&a&&(s.values=a,o=Um(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),l=AP(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=LP(a);let f,p;function v(){p=s[f];const m=p[a.axis];return!ut(p[e.axis])||u>m||d<m}for(f=0;f<o&&!(!v()&&(this.updateRangeFromParsed(c,e,p,l),i));++f);if(i){for(f=o-1;f>=0;--f)if(!v()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=n.length;s<i;++s)o=n[s][e.axis],ut(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=PP(_e(this.options.clip,MP(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,i,a,l),u=a;u<a+l;++u){const d=s[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=NP(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=DP(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&_c(r);if(a)return Vm(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(Ke.elements[e]),v=()=>this.getContext(r,s,n),m=c.resolveNamedOptions(f,p,v,d);return m.$shared&&(m.$shared=l,i[o]=Object.freeze(Vm(m,l))),m}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,r,n))}const c=new k1(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||sd(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:o}}updateElement(e,n,r,s){sd(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!sd(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=r.length,i=n.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Vi(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Y(ai,"defaults",{}),Y(ai,"datasetElementType",null),Y(ai,"dataElementType",null);function IP(t,e,n){let r=1,s=1,i=0,o=0;if(e<We){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),p=(_,w,k)=>sa(_,a,l,!0)?1:Math.max(w,w*n,k,k*n),v=(_,w,k)=>sa(_,a,l,!0)?-1:Math.min(w,w*n,k,k*n),m=p(0,c,d),x=p(Je,u,f),g=v($e,c,d),y=v($e+Je,u,f);r=(m-g)/2,s=(x-y)/2,i=-(m+g)/2,o=-(x+y)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:o}}class ro extends ai{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=l=>+r[l];if(ge(r[e])){const{key:l="value"}=this._parsing;i=c=>+na(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=i(o)}}_getRotation(){return zn(this.options.rotation-90)}_getCircumference(){return zn(this.options.circumference)}_getRotationExtents(){let e=We,n=-We;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),o=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(ZC(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:v,offsetY:m}=IP(d,u,l),x=(r.width-o)/f,g=(r.height-o)/p,y=Math.max(Math.min(x,g)/2,0),_=i1(this.options.radius,y),w=Math.max(_*l,0),k=(_-w)/this._getVisibleDatasetWeightTotal();this.offsetX=v*_,this.offsetY=m*_,s.total=this.calculateTotal(),this.outerRadius=_-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/We)}updateElements(e,n,r,s){const i=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=i&&c.animateScale,p=f?0:this.innerRadius,v=f?0:this.outerRadius,{sharedOptions:m,includeOptions:x}=this._getSharedOptions(n,s);let g=this._getRotation(),y;for(y=0;y<n;++y)g+=this._circumference(y,i);for(y=n;y<n+r;++y){const _=this._circumference(y,i),w=e[y],k={x:u+this.offsetX,y:d+this.offsetY,startAngle:g,endAngle:g+_,circumference:_,outerRadius:v,innerRadius:p};x&&(k.options=m||this.resolveDataElementOptions(y,w.active?"active":s)),g+=_,this.updateElement(w,y,k,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?We*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=ou(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,o,a,l;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){o=r.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(_e(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Y(ro,"id","doughnut"),Y(ro,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Y(ro,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Y(ro,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Al extends ai{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=yM(n,s,o);this._drawStart=a,this._drawCount=l,vM(n)&&(a=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,s),f=o.axis,p=a.axis,{spanGaps:v,segment:m}=this.options,x=ra(v)?v:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||s==="none",y=n+r,_=e.length;let w=n>0&&this.getParsed(n-1);for(let k=0;k<_;++k){const E=e[k],C=g?E:{};if(k<n||k>=y){C.skip=!0;continue}const S=this.getParsed(k),P=ze(S[p]),L=C[f]=o.getPixelForValue(S[f],k),D=C[p]=i||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[p],k);C.skip=isNaN(L)||isNaN(D)||P,C.stop=k>0&&Math.abs(S[f]-w[f])>x,m&&(C.parsed=S,C.raw=c.data[k]),d&&(C.options=u||this.resolveDataElementOptions(k,E.active?"active":s)),g||this.updateElement(E,k,C,s),w=S}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Y(Al,"id","line"),Y(Al,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Y(Al,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Hr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ep{constructor(e){Y(this,"options");this.options=e||{}}static override(e){Object.assign(ep.prototype,e)}init(){}formats(){return Hr()}parse(){return Hr()}format(){return Hr()}add(){return Hr()}diff(){return Hr()}startOf(){return Hr()}endOf(){return Hr()}}var FP={_date:ep};function zP(t,e,n,r){const{controller:s,data:i,_sorted:o}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const l=a._reversePixels?hM:rs;if(r){if(s._sharedOptions){const c=i[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(i,e,n-u),f=l(i,e,n+u);return{lo:d.lo,hi:f.hi}}}}else return l(i,e,n)}return{lo:0,hi:i.length-1}}function ba(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:c,data:u}=i[a],{lo:d,hi:f}=zP(i[a],e,o,s);for(let p=d;p<=f;++p){const v=u[p];v.skip||r(v,c,p)}}}function $P(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function id(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||ba(t,n,e,function(a,l,c){!s&&!ia(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function BP(t,e,n,r){let s=[];function i(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=l1(o,{x:e.x,y:e.y});sa(d,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return ba(t,n,e,i),s}function UP(t,e,n,r,s,i){let o=[];const a=$P(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const p=u.inRange(e.x,e.y,s);if(r&&!p)return;const v=u.getCenterPoint(s);if(!(!!i||t.isPointInArea(v))&&!p)return;const x=a(e,v);x<l?(o=[{element:u,datasetIndex:d,index:f}],l=x):x===l&&o.push({element:u,datasetIndex:d,index:f})}return ba(t,n,e,c),o}function od(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?BP(t,e,n,s):UP(t,e,n,r,s,i)}function Ym(t,e,n,r,s){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return ba(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],s)&&(i.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),r&&!a?[]:i}var HP={evaluateInteractionItems:ba,modes:{index(t,e,n,r){const s=Xr(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?id(t,s,i,r,o):od(t,s,i,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const s=Xr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?id(t,s,i,r,o):od(t,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const s=Xr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return id(t,s,i,r,o)},nearest(t,e,n,r){const s=Xr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return od(t,s,i,n.intersect,r,o)},x(t,e,n,r){const s=Xr(e,t);return Ym(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Xr(e,t);return Ym(t,s,"y",n.intersect,r)}}};const E1=["left","top","right","bottom"];function Yi(t,e){return t.filter(n=>n.pos===e)}function Km(t,e){return t.filter(n=>E1.indexOf(n.pos)===-1&&n.box.axis===e)}function Ki(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function WP(t){const e=[];let n,r,s,i,o,a;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function VP(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!E1.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function YP(t,e){const n=VP(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=s):(a.width=r,a.height=u?u*s:l&&e.availableHeight)}return n}function KP(t){const e=WP(t),n=Ki(e.filter(c=>c.box.fullSize),!0),r=Ki(Yi(e,"left"),!0),s=Ki(Yi(e,"right")),i=Ki(Yi(e,"top"),!0),o=Ki(Yi(e,"bottom")),a=Km(e,"x"),l=Km(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Yi(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function qm(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function j1(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function qP(t,e,n,r){const{pos:s,box:i}=n,o=t.maxPadding;if(!ge(s)){n.size&&(t[s]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?i.height:i.width),n.size=d.size/d.count,t[s]+=n.size}i.getPadding&&j1(o,i.getPadding());const a=Math.max(0,e.outerWidth-qm(o,t,"left","right")),l=Math.max(0,e.outerHeight-qm(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function XP(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function GP(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return r(t?["left","right"]:["top","bottom"])}function so(t,e,n,r){const s=[];let i,o,a,l,c,u;for(i=0,o=t.length,c=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,GP(a.horizontal,e));const{same:d,other:f}=qP(e,n,a,r);c|=d&&s.length,u=u||f,l.fullSize||s.push(a)}return c&&so(s,e,n,r)||u}function hl(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function Xm(t,e,n,r){const s=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;_c(c.start)&&(o=c.start),l.fullSize?hl(l,s.left,o,n.outerWidth-s.right-s.left,f):hl(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;_c(c.start)&&(i=c.start),l.fullSize?hl(l,i,s.top,f,n.outerHeight-s.bottom-s.top):hl(l,i,e.top+c.placed,f,d),c.start=i,c.placed+=d,i=l.right}}e.x=i,e.y=o}var yr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Yn(t.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=KP(t.boxes),l=a.vertical,c=a.horizontal;xe(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,x)=>x.box.options&&x.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);j1(f,Yn(r));const p=Object.assign({maxPadding:f,w:i,h:o,x:s.left,y:s.top},s),v=YP(l.concat(c),d);so(a.fullSize,p,d,v),so(l,p,d,v),so(c,p,d,v)&&so(l,p,d,v),XP(p),Xm(a.leftAndTop,p,d,v),p.x+=p.w,p.y+=p.h,Xm(a.rightAndBottom,p,d,v),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},xe(a.chartArea,m=>{const x=m.box;Object.assign(x,t.chartArea),x.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class C1{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class JP extends C1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Il="$chartjs",QP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Gm=t=>t===null||t==="";function ZP(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Il]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Gm(s)){const i=Am(t,"width");i!==void 0&&(t.width=i)}if(Gm(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Am(t,"height");i!==void 0&&(t.height=i)}return t}const M1=lP?{passive:!0}:!1;function eT(t,e,n){t&&t.addEventListener(e,n,M1)}function tT(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,M1)}function nT(t,e){const n=QP[t.type]||t.type,{x:r,y:s}=Xr(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function kc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function rT(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||kc(a.addedNodes,r),o=o&&!kc(a.removedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function sT(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||kc(a.removedNodes,r),o=o&&!kc(a.addedNodes,r);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const oa=new Map;let Jm=0;function P1(){const t=window.devicePixelRatio;t!==Jm&&(Jm=t,oa.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function iT(t,e){oa.size||window.addEventListener("resize",P1),oa.set(t,e)}function oT(t){oa.delete(t),oa.size||window.removeEventListener("resize",P1)}function aT(t,e,n){const r=t.canvas,s=r&&Zf(r);if(!s)return;const i=h1((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return o.observe(s),iT(t,i),o}function ad(t,e,n){n&&n.disconnect(),e==="resize"&&oT(t)}function lT(t,e,n){const r=t.canvas,s=h1(i=>{t.ctx!==null&&n(nT(i,t))},t);return eT(r,e,s),s}class cT extends C1{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(ZP(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Il])return!1;const r=n[Il].initial;["height","width"].forEach(i=>{const o=r[i];ze(o)?n.removeAttribute(i):n.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Il],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:rT,detach:sT,resize:aT}[n]||lT;s[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:ad,detach:ad,resize:ad}[n]||tT)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return aP(e,n,r,s)}isAttached(e){const n=e&&Zf(e);return!!(n&&n.isConnected)}}function uT(t){return!Qf()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?JP:cT}class Kn{constructor(){Y(this,"x");Y(this,"y");Y(this,"active",!1);Y(this,"options");Y(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return ra(this.x)&&ra(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}Y(Kn,"defaults",{}),Y(Kn,"defaultRoutes");function dT(t,e){const n=t.options.ticks,r=hT(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?pT(e):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>s)return gT(e,c,i,o/s),c;const u=fT(i,e,s);if(o>0){let d,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(fl(e,c,u,ze(p)?0:a-p,a),d=0,f=o-1;d<f;d++)fl(e,c,u,i[d],i[d+1]);return fl(e,c,u,l,ze(p)?e.length:l+p),c}return fl(e,c,u),c}function hT(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function fT(t,e,n){const r=mT(t),s=e.length/n;if(!r)return Math.max(s,1);const i=aM(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function pT(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function gT(t,e,n,r){let s=0,i=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===i&&(e.push(t[o]),s++,i=n[s*r])}function fl(t,e,n,r,s){const i=_e(r,0),o=Math.min(_e(s,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),u=i;u<0;)a++,u=Math.round(i+a*n);for(c=Math.max(i,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(i+a*n))}function mT(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const yT=t=>t==="left"?"right":t==="right"?"left":t,Qm=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Zm=(t,e)=>Math.min(e||t,t);function e0(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function vT(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(r===1?c=Math.max(l-i,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-a||l>o+a)))return l}function xT(t,e){xe(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function qi(t){return t.drawTicks?t.tickLength:0}function t0(t,e){if(!t.display)return 0;const n=Gt(t.font,e),r=Yn(t.padding);return(nt(t.text)?t.text.length:1)*n.lineHeight+r.height}function _T(t,e){return bs(t,{scale:e,type:"scale"})}function wT(t,e,n){return bs(t,{tick:n,index:e,type:"tick"})}function bT(t,e,n){let r=f1(t);return(n&&e!=="right"||!n&&e==="right")&&(r=yT(r)),r}function kT(t,e,n,r){const{top:s,left:i,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,p,v;const m=o-s,x=a-i;if(t.isHorizontal()){if(p=jo(r,i,a),ge(n)){const g=Object.keys(n)[0],y=n[g];v=u[g].getPixelForValue(y)+m-e}else n==="center"?v=(c.bottom+c.top)/2+m-e:v=Qm(t,n,e);f=a-i}else{if(ge(n)){const g=Object.keys(n)[0],y=n[g];p=u[g].getPixelForValue(y)-x+e}else n==="center"?p=(c.left+c.right)/2-x+e:p=Qm(t,n,e);v=jo(r,o,s),d=n==="left"?-Je:Je}return{titleX:p,titleY:v,maxWidth:f,rotation:d}}class ks extends Kn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Dt(e,Number.POSITIVE_INFINITY),n=Dt(n,Number.NEGATIVE_INFINITY),r=Dt(r,Number.POSITIVE_INFINITY),s=Dt(s,Number.NEGATIVE_INFINITY),{min:Dt(e,r),max:Dt(n,s),minDefined:ut(e),maxDefined:ut(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),i||(r=Math.max(r,o.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:Dt(n,Dt(r,n)),max:Dt(r,Dt(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ue(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zM(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?e0(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=dT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ue(this.options.afterUpdate,[this])}beforeSetDimensions(){Ue(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ue(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ue(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ue(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=Ue(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){Ue(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ue(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Zm(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,p=yt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),d+6>a&&(a=p/(r-(e.offset?.5:1)),l=this.maxHeight-qi(e.grid)-n.padding-t0(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=cM(Math.min(Math.asin(yt((u.highest.height+6)/a,-1,1)),Math.asin(yt(l/c,-1,1))-Math.asin(yt(f/c,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ue(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ue(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=t0(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=qi(i)+l):(e.height=this.maxHeight,e.width=qi(i)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),p=r.padding*2,v=zn(this.labelRotation),m=Math.cos(v),x=Math.sin(v);if(a){const g=r.mirror?0:x*d.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+g+p)}else{const g=r.mirror?0:m*d.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+g+p)}this._calculatePadding(c,u,x,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=s*e.width,p=r*n.height):(f=r*e.height,p=s*n.width):i==="start"?p=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ue(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ze(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=e0(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/Zm(n,r));let c=0,u=0,d,f,p,v,m,x,g,y,_,w,k;for(d=0;d<n;d+=l){if(v=e[d].label,m=this._resolveTickFontOptions(d),s.font=x=m.string,g=i[x]=i[x]||{data:{},gc:[]},y=m.lineHeight,_=w=0,!ze(v)&&!nt(v))_=Tm(s,g.data,g.gc,_,v),w=y;else if(nt(v))for(f=0,p=v.length;f<p;++f)k=v[f],!ze(k)&&!nt(k)&&(_=Tm(s,g.data,g.gc,_,k),w+=y);o.push(_),a.push(w),c=Math.max(_,c),u=Math.max(w,u)}xT(i,n);const E=o.indexOf(c),C=a.indexOf(u),S=P=>({width:o[P]||0,height:a[P]||0});return{first:S(0),last:S(n-1),widest:S(E),highest:S(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return dM(this._alignToPixels?Ur(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=wT(this.getContext(),e,r))}return this.$context||(this.$context=_T(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=zn(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=qi(i),p=[],v=a.setContext(this.getContext()),m=v.display?v.width:0,x=m/2,g=function(re){return Ur(r,re,m)};let y,_,w,k,E,C,S,P,L,D,R,q;if(o==="top")y=g(this.bottom),C=this.bottom-f,P=y-x,D=g(e.top)+x,q=e.bottom;else if(o==="bottom")y=g(this.top),D=e.top,q=g(e.bottom)-x,C=y+x,P=this.top+f;else if(o==="left")y=g(this.right),E=this.right-f,S=y-x,L=g(e.left)+x,R=e.right;else if(o==="right")y=g(this.left),L=e.left,R=g(e.right)-x,E=y+x,S=this.left+f;else if(n==="x"){if(o==="center")y=g((e.top+e.bottom)/2+.5);else if(ge(o)){const re=Object.keys(o)[0],ie=o[re];y=g(this.chart.scales[re].getPixelForValue(ie))}D=e.top,q=e.bottom,C=y+x,P=C+f}else if(n==="y"){if(o==="center")y=g((e.left+e.right)/2);else if(ge(o)){const re=Object.keys(o)[0],ie=o[re];y=g(this.chart.scales[re].getPixelForValue(ie))}E=y-x,S=E-f,L=e.left,R=e.right}const G=_e(s.ticks.maxTicksLimit,d),Q=Math.max(1,Math.ceil(d/G));for(_=0;_<d;_+=Q){const re=this.getContext(_),ie=i.setContext(re),N=a.setContext(re),F=ie.lineWidth,H=ie.color,I=N.dash||[],$=N.dashOffset,te=ie.tickWidth,Z=ie.tickColor,ce=ie.tickBorderDash||[],ue=ie.tickBorderDashOffset;w=vT(this,_,l),w!==void 0&&(k=Ur(r,w,F),c?E=S=L=R=k:C=P=D=q=k,p.push({tx1:E,ty1:C,tx2:S,ty2:P,x1:L,y1:D,x2:R,y2:q,width:F,color:H,borderDash:I,borderDashOffset:$,tickWidth:te,tickColor:Z,tickBorderDash:ce,tickBorderDashOffset:ue}))}return this._ticksLength=d,this._borderValue=y,p}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,f=qi(r.grid),p=f+u,v=d?-u:p,m=-zn(this.labelRotation),x=[];let g,y,_,w,k,E,C,S,P,L,D,R,q="middle";if(s==="top")E=this.bottom-v,C=this._getXAxisLabelAlignment();else if(s==="bottom")E=this.top+v,C=this._getXAxisLabelAlignment();else if(s==="left"){const Q=this._getYAxisLabelAlignment(f);C=Q.textAlign,k=Q.x}else if(s==="right"){const Q=this._getYAxisLabelAlignment(f);C=Q.textAlign,k=Q.x}else if(n==="x"){if(s==="center")E=(e.top+e.bottom)/2+p;else if(ge(s)){const Q=Object.keys(s)[0],re=s[Q];E=this.chart.scales[Q].getPixelForValue(re)+p}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")k=(e.left+e.right)/2-p;else if(ge(s)){const Q=Object.keys(s)[0],re=s[Q];k=this.chart.scales[Q].getPixelForValue(re)}C=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?q="top":l==="end"&&(q="bottom"));const G=this._getLabelSizes();for(g=0,y=a.length;g<y;++g){_=a[g],w=_.label;const Q=i.setContext(this.getContext(g));S=this.getPixelForTick(g)+i.labelOffset,P=this._resolveTickFontOptions(g),L=P.lineHeight,D=nt(w)?w.length:1;const re=D/2,ie=Q.color,N=Q.textStrokeColor,F=Q.textStrokeWidth;let H=C;o?(k=S,C==="inner"&&(g===y-1?H=this.options.reverse?"left":"right":g===0?H=this.options.reverse?"right":"left":H="center"),s==="top"?c==="near"||m!==0?R=-D*L+L/2:c==="center"?R=-G.highest.height/2-re*L+L:R=-G.highest.height+L/2:c==="near"||m!==0?R=L/2:c==="center"?R=G.highest.height/2-re*L:R=G.highest.height-D*L,d&&(R*=-1),m!==0&&!Q.showLabelBackdrop&&(k+=L/2*Math.sin(m))):(E=S,R=(1-D)*L/2);let I;if(Q.showLabelBackdrop){const $=Yn(Q.backdropPadding),te=G.heights[g],Z=G.widths[g];let ce=R-$.top,ue=0-$.left;switch(q){case"middle":ce-=te/2;break;case"bottom":ce-=te;break}switch(C){case"center":ue-=Z/2;break;case"right":ue-=Z;break;case"inner":g===y-1?ue-=Z:g>0&&(ue-=Z/2);break}I={left:ue,top:ce,width:Z+$.width,height:te+$.height,color:Q.backdropColor}}x.push({label:w,font:P,textOffset:R,options:{rotation:m,color:ie,strokeColor:N,strokeWidth:F,textAlign:H,textBaseline:q,translation:[k,E],backdrop:I}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-zn(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+i,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+i,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(i=0,o=s.length;i<o;++i){const l=s[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=Ur(e,this.left,o)-o/2,u=Ur(e,this.right,a)+a/2,d=f=l):(d=Ur(e,this.top,o)-o/2,f=Ur(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&g1(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Eh(r,c,0,u,l,a)}s&&m1(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=Gt(r.font),o=Yn(r.padding),a=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||ge(n)?(l+=o.bottom,nt(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=kT(this,l,n,a);Eh(e,r.text,0,0,i,{color:r.color,maxWidth:d,rotation:f,textAlign:bT(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=_e(e.grid&&e.grid.z,-1),s=_e(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ks.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Gt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class pl{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;jT(n)&&(r=this.register(n));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,ST(e,o,r),this.override&&Ke.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Ke[s]&&(delete Ke[s][r],this.override&&delete ms[r])}}function ST(t,e,n){const r=ta(Object.create(null),[n?Ke.get(n):{},Ke.get(e),t.defaults]);Ke.set(e,r),t.defaultRoutes&&ET(e,t.defaultRoutes),t.descriptors&&Ke.describe(e,t.descriptors)}function ET(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ke.route(i,s,l,a)})}function jT(t){return"id"in t&&"defaults"in t}class CT{constructor(){this.controllers=new pl(ai,"datasets",!0),this.elements=new pl(Kn,"elements"),this.plugins=new pl(Object,"plugins"),this.scales=new pl(ks,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):xe(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const s=Wf(e);Ue(r["before"+s],[],r),n[e](r),Ue(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var xn=new CT;class MT{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],l=[n,s,i.options];if(Ue(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=_e(r.options&&r.options.plugins,{}),i=PT(r);return s===!1&&!n?[]:RT(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function PT(t){const e={},n=[],r=Object.keys(xn.plugins.items);for(let i=0;i<r.length;i++)n.push(xn.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function TT(t,e){return!e&&t===!1?null:t===!0?{}:t}function RT(t,{plugins:e,localIds:n},r,s){const i=[],o=t.getContext();for(const a of e){const l=a.id,c=TT(r[l],s);c!==null&&i.push({plugin:a,options:LT(t.config,{plugin:a,local:n[l]},c,o)})}return i}function LT(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(r,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function jh(t,e){const n=Ke.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function OT(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function DT(t,e){return t===e?"_index_":"_value_"}function n0(t){if(t==="x"||t==="y"||t==="r")return t}function NT(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ch(t,...e){if(n0(t))return t;for(const n of e){const r=n.axis||NT(n.position)||t.length>1&&n0(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function r0(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function AT(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return r0(t,"x",n[0])||r0(t,"y",n[0])}return{}}function IT(t,e){const n=ms[t.type]||{scales:{}},r=e.scales||{},s=jh(t.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!ge(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Ch(o,a,AT(o,t),Ke.scales[a.type]),c=DT(l,s),u=n.scales||{};i[o]=So(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||jh(a,e),u=(ms[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=OT(d,l),p=o[f+"AxisID"]||f;i[p]=i[p]||Object.create(null),So(i[p],[{axis:f},r[p],u[d]])})}),Object.keys(i).forEach(o=>{const a=i[o];So(a,[Ke.scales[a.type],Ke.scale])}),i}function T1(t){const e=t.options||(t.options={});e.plugins=_e(e.plugins,{}),e.scales=IT(t,e)}function R1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function FT(t){return t=t||{},t.data=R1(t.data),T1(t),t}const s0=new Map,L1=new Set;function gl(t,e){let n=s0.get(t);return n||(n=e(),s0.set(t,n),L1.add(n)),n}const Xi=(t,e,n)=>{const r=na(e,n);r!==void 0&&t.add(r)};class zT{constructor(e){this._config=FT(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=R1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),T1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return gl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return gl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return gl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return gl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Xi(l,e,d))),u.forEach(d=>Xi(l,s,d)),u.forEach(d=>Xi(l,ms[i]||{},d)),u.forEach(d=>Xi(l,Ke,d)),u.forEach(d=>Xi(l,kh,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),L1.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,ms[n]||{},Ke.datasets[n]||{},{type:n},Ke,kh]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=i0(this._resolverCache,e,s);let l=o;if(BT(o,n)){i.$shared=!1,r=Tr(r)?r():r;const c=this.createResolver(e,r,a);l=wi(o,r,c)}for(const c of n)i[c]=l[c];return i}createResolver(e,n,r=[""],s){const{resolver:i}=i0(this._resolverCache,e,r);return ge(n)?wi(i,n,void 0,s):i}}function i0(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:Xf(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const $T=t=>ge(t)&&Object.getOwnPropertyNames(t).some(e=>Tr(t[e]));function BT(t,e){const{isScriptable:n,isIndexable:r}=y1(t);for(const s of e){const i=n(s),o=r(s),a=(o||i)&&t[s];if(i&&(Tr(a)||$T(a))||o&&nt(a))return!0}return!1}var UT="4.4.6";const HT=["top","bottom","left","right","chartArea"];function o0(t,e){return t==="top"||t==="bottom"||HT.indexOf(t)===-1&&e==="x"}function a0(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function l0(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ue(n&&n.onComplete,[t],e)}function WT(t){const e=t.chart,n=e.options.animation;Ue(n&&n.onProgress,[t],e)}function O1(t){return Qf()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Fl={},c0=t=>{const e=O1(t);return Object.values(Fl).filter(n=>n.canvas===e).pop()};function VT(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const o=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=o)}}}function YT(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function ml(t,e,n){return t.options.clip?t[n]:e[n]}function KT(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:ml(n,e,"left"),right:ml(n,e,"right"),top:ml(r,e,"top"),bottom:ml(r,e,"bottom")}:e}var er;let Pi=(er=class{static register(...e){xn.add(...e),u0()}static unregister(...e){xn.remove(...e),u0()}constructor(e,n){const r=this.config=new zT(n),s=O1(e),i=c0(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||uT(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=QC(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new MT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mM(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Fl[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Rn.listen(this,"complete",l0),Rn.listen(this,"progress",WT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return ze(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return xn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Nm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Rm(this.canvas,this.ctx),this}stop(){return Rn.stop(this),this}resize(e,n){Rn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Nm(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ue(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};xe(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=Ch(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),xe(i,o=>{const a=o.options,l=a.id,c=Ch(l,a),u=_e(a.type,o.dtype);(a.position===void 0||o0(a.position,c)!==o0(o.dposition))&&(a.position=o.dposition),s[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const f=xn.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),xe(s,(o,a)=>{o||delete r[a]}),xe(r,o=>{yr.configure(this,o,o.options),yr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(a0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||jh(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=xn.getController(a),{datasetElementType:c,dataElementType:u}=Ke.datasets[a];Object.assign(l,{dataElementType:xn.getElement(u),datasetElementType:c&&xn.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){xe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!s&&i.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||xe(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(a0("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){xe(this.scales,e=>{yr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!wm(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const o=r==="_removeElements"?-i:i;VT(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!wm(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;yr.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],xe(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Tr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Rn.has(this)?this.attached&&!Rn.running(this)&&Rn.start(this):(this.draw(),l0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const o=n[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,s=!r.disabled,i=KT(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&g1(n,{left:r.left===!1?0:i.left-r.left,right:r.right===!1?this.width:i.right+r.right,top:r.top===!1?0:i.top-r.top,bottom:r.bottom===!1?this.height:i.bottom+r.bottom}),e.controller.draw(),s&&m1(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return ia(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=HP.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=bs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);_c(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Rn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Rm(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Fl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};xe(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){xe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},xe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!vc(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=i(n,e),a=r?e:i(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,o=n,a=this._getActiveElements(e,s,r,o),l=sM(e),c=YT(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Ue(i.onHover,[e,a,this],this),l&&Ue(i.onClick,[e,a,this],this));const u=!vc(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},Y(er,"defaults",Ke),Y(er,"instances",Fl),Y(er,"overrides",ms),Y(er,"registry",xn),Y(er,"version",UT),Y(er,"getChart",c0),er);function u0(){return xe(Pi.instances,t=>t._plugins.invalidate())}function qT(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;t.beginPath(),t.arc(i,o,a,r-c,n+c),l>s?(c=s/l,t.arc(i,o,l,n+c,r-c,!0)):t.arc(i,o,s,n+Je,r-Je),t.closePath(),t.clip()}function XT(t){return qf(t,["outerStart","outerEnd","innerStart","innerEnd"])}function GT(t,e,n,r){const s=XT(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,r*e/2),a=l=>{const c=(n-Math.min(i,l))*r/2;return yt(l,0,Math.min(i,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:yt(s.innerStart,0,o),innerEnd:yt(s.innerEnd,0,o)}}function Os(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Sc(t,e,n,r,s,i){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+n-c,0),f=u>0?u+r+n+c:0;let p=0;const v=s-l;if(r){const Q=u>0?u-r:0,re=d>0?d-r:0,ie=(Q+re)/2,N=ie!==0?v*ie/(ie+r):v;p=(v-N)/2}const m=Math.max(.001,v*d-n/$e)/d,x=(v-m)/2,g=l+x+p,y=s-x-p,{outerStart:_,outerEnd:w,innerStart:k,innerEnd:E}=GT(e,f,d,y-g),C=d-_,S=d-w,P=g+_/C,L=y-w/S,D=f+k,R=f+E,q=g+k/D,G=y-E/R;if(t.beginPath(),i){const Q=(P+L)/2;if(t.arc(o,a,d,P,Q),t.arc(o,a,d,Q,L),w>0){const F=Os(S,L,o,a);t.arc(F.x,F.y,w,L,y+Je)}const re=Os(R,y,o,a);if(t.lineTo(re.x,re.y),E>0){const F=Os(R,G,o,a);t.arc(F.x,F.y,E,y+Je,G+Math.PI)}const ie=(y-E/f+(g+k/f))/2;if(t.arc(o,a,f,y-E/f,ie,!0),t.arc(o,a,f,ie,g+k/f,!0),k>0){const F=Os(D,q,o,a);t.arc(F.x,F.y,k,q+Math.PI,g-Je)}const N=Os(C,g,o,a);if(t.lineTo(N.x,N.y),_>0){const F=Os(C,P,o,a);t.arc(F.x,F.y,_,g-Je,P)}}else{t.moveTo(o,a);const Q=Math.cos(P)*d+o,re=Math.sin(P)*d+a;t.lineTo(Q,re);const ie=Math.cos(L)*d+o,N=Math.sin(L)*d+a;t.lineTo(ie,N)}t.closePath()}function JT(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a}=e;let l=e.endAngle;if(i){Sc(t,e,n,r,l,s);for(let c=0;c<i;++c)t.fill();isNaN(a)||(l=o+(a%We||We))}return Sc(t,e,n,r,l,s),t.fill(),l}function QT(t,e,n,r,s){const{fullCircles:i,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=f,p?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let v=e.endAngle;if(i){Sc(t,e,n,r,v,s);for(let m=0;m<i;++m)t.stroke();isNaN(a)||(v=o+(a%We||We))}p&&qT(t,e,v),i||(Sc(t,e,n,r,v,s),t.stroke())}class io extends Kn{constructor(n){super();Y(this,"circumference");Y(this,"endAngle");Y(this,"fullCircles");Y(this,"innerRadius");Y(this,"outerRadius");Y(this,"pixelMargin");Y(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:o,distance:a}=l1(i,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),p=(this.options.spacing+this.options.borderWidth)/2,v=_e(f,c-l),m=sa(o,l,c)&&l!==c,x=v>=We||m,g=c1(a,u+p,d+p);return x&&g}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(i+o)/2,f=(a+l+u+c)/2;return{x:r+Math.cos(d)*f,y:s+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>We?Math.floor(s/We):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min($e,s||0)),u=i*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,JT(n,this,u,o,a),QT(n,this,u,o,a),n.restore()}}Y(io,"id","arc"),Y(io,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Y(io,"defaultRoutes",{backgroundColor:"backgroundColor"}),Y(io,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function D1(t,e,n=e){t.lineCap=_e(n.borderCapStyle,e.borderCapStyle),t.setLineDash(_e(n.borderDash,e.borderDash)),t.lineDashOffset=_e(n.borderDashOffset,e.borderDashOffset),t.lineJoin=_e(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=_e(n.borderWidth,e.borderWidth),t.strokeStyle=_e(n.borderColor,e.borderColor)}function ZT(t,e,n){t.lineTo(n.x,n.y)}function eR(t){return t.stepped?PM:t.tension||t.cubicInterpolationMode==="monotone"?TM:ZT}function N1(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(i,a),u=s<o&&i<o||s>a&&i>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function tR(t,e,n,r){const{points:s,options:i}=e,{count:o,start:a,loop:l,ilen:c}=N1(s,n,r),u=eR(i);let{move:d=!0,reverse:f}=r||{},p,v,m;for(p=0;p<=c;++p)v=s[(a+(f?c-p:p))%o],!v.skip&&(d?(t.moveTo(v.x,v.y),d=!1):u(t,m,v,f,i.stepped),m=v);return l&&(v=s[(a+(f?c:0))%o],u(t,m,v,f,i.stepped)),!!l}function nR(t,e,n,r){const s=e.points,{count:i,start:o,ilen:a}=N1(s,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,f,p,v,m,x,g;const y=w=>(o+(c?a-w:w))%i,_=()=>{m!==x&&(t.lineTo(u,x),t.lineTo(u,m),t.lineTo(u,g))};for(l&&(p=s[y(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=s[y(f)],p.skip)continue;const w=p.x,k=p.y,E=w|0;E===v?(k<m?m=k:k>x&&(x=k),u=(d*u+w)/++d):(_(),t.lineTo(w,k),v=E,d=0,m=x=k),g=k}_()}function Mh(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?nR:tR}function rR(t){return t.stepped?cP:t.tension||t.cubicInterpolationMode==="monotone"?uP:Gr}function sR(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),D1(t,e.options),t.stroke(s)}function iR(t,e,n,r){const{segments:s,options:i}=e,o=Mh(e);for(const a of s)D1(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const oR=typeof Path2D=="function";function aR(t,e,n,r){oR&&!e.options.segment?sR(t,e,n,r):iR(t,e,n,r)}class Gs extends Kn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;tP(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_P(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,o=yP(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=rR(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],p=i[d],v=i[f];if(p===v){a.push(p);continue}const m=Math.abs((s-p[n])/(v[n]-p[n])),x=l(p,v,m,r.stepped);x[n]=e[n],a.push(x)}return a.length===1?a[0]:a}pathSegment(e,n,r){return Mh(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=Mh(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of s)o&=i(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),aR(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Y(Gs,"id","line"),Y(Gs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Y(Gs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Y(Gs,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function d0(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class Po extends Kn{constructor(n){super();Y(this,"parsed");Y(this,"skip");Y(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return d0(this,n,"x",r)}inYRange(n,r){return d0(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!ia(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Sh(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Y(Po,"id","point"),Y(Po,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Y(Po,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class A1 extends Kn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=nt(r.text)?r.text.length:1;this._padding=Yn(r.padding);const i=s*Gt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=jo(a,r,i),d=n+e,c=i-r):(o.position==="left"?(u=r+e,d=jo(a,s,n),l=$e*-.5):(u=i-e,d=jo(a,n,s),l=$e*.5),c=s-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Gt(n.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);Eh(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:f1(n.align),textBaseline:"middle",translation:[o,a]})}}function lR(t,e){const n=new A1({ctx:t.ctx,options:e,chart:t});yr.configure(t,n,e),yr.addBox(t,n),t.titleBlock=n}var tp={id:"title",_element:A1,start(t,e,n){lR(t,n)},stop(t){const e=t.titleBlock;yr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;yr.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const oo={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=bh(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function yn(t,e){return e&&(nt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ln(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function cR(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:t,label:o,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function h0(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=Gt(e.bodyFont),c=Gt(e.titleFont),u=Gt(e.footerFont),d=i.length,f=s.length,p=r.length,v=Yn(e.padding);let m=v.height,x=0,g=r.reduce((w,k)=>w+k.before.length+k.lines.length+k.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),g){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=p*w+(g-p)*l.lineHeight+(g-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let y=0;const _=function(w){x=Math.max(x,n.measureText(w).width+y)};return n.save(),n.font=c.string,xe(t.title,_),n.font=l.string,xe(t.beforeBody.concat(t.afterBody),_),y=e.displayColors?o+2+e.boxPadding:0,xe(r,w=>{xe(w.before,_),xe(w.lines,_),xe(w.after,_)}),y=0,n.font=u.string,xe(t.footer,_),n.restore(),x+=v.width,{width:x,height:m}}function uR(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function dR(t,e,n,r){const{x:s,width:i}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&s+i+o>e.width||t==="right"&&s-i-o<0)return!0}function hR(t,e,n,r){const{x:s,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=s<=(a+l)/2?"left":"right":s<=i/2?c="left":s>=o-i/2&&(c="right"),dR(c,t,e,n)&&(c="center"),c}function f0(t,e,n){const r=n.yAlign||e.yAlign||uR(t,n);return{xAlign:n.xAlign||e.xAlign||hR(t,e,n,r),yAlign:r}}function fR(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function pR(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function p0(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:p}=Nl(o);let v=fR(e,a);const m=pR(e,l,c);return l==="center"?a==="left"?v+=c:a==="right"&&(v-=c):a==="left"?v-=Math.max(u,f)+s:a==="right"&&(v+=Math.max(d,p)+s),{x:yt(v,0,r.width-e.width),y:yt(m,0,r.height-e.height)}}function yl(t,e,n){const r=Yn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function g0(t){return yn([],Ln(t))}function gR(t,e,n){return bs(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function m0(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const I1={beforeTitle:Pn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Pn,beforeBody:Pn,beforeLabel:Pn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ze(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Pn,afterBody:Pn,beforeFooter:Pn,footer:Pn,afterFooter:Pn};function bt(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?I1[e].call(n,r):s}class Ph extends Kn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new k1(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=gR(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=bt(r,"beforeTitle",this,e),i=bt(r,"title",this,e),o=bt(r,"afterTitle",this,e);let a=[];return a=yn(a,Ln(s)),a=yn(a,Ln(i)),a=yn(a,Ln(o)),a}getBeforeBody(e,n){return g0(bt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return xe(e,i=>{const o={before:[],lines:[],after:[]},a=m0(r,i);yn(o.before,Ln(bt(a,"beforeLabel",this,i))),yn(o.lines,bt(a,"label",this,i)),yn(o.after,Ln(bt(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,n){return g0(bt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=bt(r,"beforeFooter",this,e),i=bt(r,"footer",this,e),o=bt(r,"afterFooter",this,e);let a=[];return a=yn(a,Ln(s)),a=yn(a,Ln(i)),a=yn(a,Ln(o)),a}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(cR(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,r))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,r))),xe(a,u=>{const d=m0(e.callbacks,u);s.push(bt(d,"labelColor",this,u)),i.push(bt(d,"labelPointStyle",this,u)),o.push(bt(d,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=oo[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=h0(this,r),c=Object.assign({},a,l),u=f0(this.chart,r,c),d=p0(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Nl(a),{x:f,y:p}=e,{width:v,height:m}=n;let x,g,y,_,w,k;return i==="center"?(w=p+m/2,s==="left"?(x=f,g=x-o,_=w+o,k=w-o):(x=f+v,g=x+o,_=w-o,k=w+o),y=x):(s==="left"?g=f+Math.max(l,u)+o:s==="right"?g=f+v-Math.max(c,d)-o:g=this.caretX,i==="top"?(_=p,w=_-o,x=g-o,y=g+o):(_=p+m,w=_+o,x=g+o,y=g-o),k=_),{x1:x,x2:g,x3:y,y1:_,y2:w,y3:k}}drawTitle(e,n,r){const s=this.title,i=s.length;let o,a,l;if(i){const c=td(r.rtl,this.x,this.width);for(e.x=yl(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Gt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,u=Gt(i.bodyFont),d=yl(this,"left",i),f=s.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,v=n.y+p;if(i.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=s.leftForLtr(f,c)+c/2,g=v+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Sh(e,m,x,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Sh(e,m,x,g)}else{e.lineWidth=ge(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=s.leftForLtr(f,c),x=s.leftForLtr(s.xPlus(f,1),c-2),g=Nl(o.borderRadius);Object.values(g).some(y=>y!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Lm(e,{x:m,y:v,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Lm(e,{x,y:v+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(m,v,c,l),e.strokeRect(m,v,c,l),e.fillStyle=o.backgroundColor,e.fillRect(x,v+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=Gt(r.bodyFont);let f=d.lineHeight,p=0;const v=td(r.rtl,this.x,this.width),m=function(S){n.fillText(S,v.x(e.x+p),e.y+f/2),e.y+=f+i},x=v.textAlign(o);let g,y,_,w,k,E,C;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=yl(this,x,r),n.fillStyle=r.bodyColor,xe(this.beforeBody,m),p=a&&x!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,E=s.length;w<E;++w){for(g=s[w],y=this.labelTextColors[w],n.fillStyle=y,xe(g.before,m),_=g.lines,a&&_.length&&(this._drawColorBox(n,e,w,v,r),f=Math.max(d.lineHeight,l)),k=0,C=_.length;k<C;++k)m(_[k]),f=d.lineHeight;xe(g.after,m)}p=0,f=d.lineHeight,xe(this.afterBody,m),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let o,a;if(i){const l=td(r.rtl,this.x,this.width);for(e.x=yl(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Gt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:v}=Nl(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,s),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(a+c,l+u-v),n.quadraticCurveTo(a+c,l+u,a+c-v,l+u),o==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=oo[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=h0(this,e),l=Object.assign({},o,this._size),c=f0(n,e,l),u=p0(e,l,c,n);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Yn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),fP(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),pP(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!vc(r,s),o=this._positionChanged(s,n);(i||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,r),a=this._positionChanged(o,e),l=n||!vc(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,o=oo[i.position].call(this,e,n);return o!==!1&&(r!==o.x||s!==o.y)}}Y(Ph,"positioners",oo);var np={id:"tooltip",_element:Ph,positioners:oo,afterInit(t,e,n){n&&(t.tooltip=new Ph({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:I1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const mR=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function yR(t,e,n,r){const s=t.indexOf(e);if(s===-1)return mR(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const vR=(t,e)=>t===null?null:yt(Math.round(t),0,e);function y0(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class aa extends ks{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ze(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:yR(r,e,_e(n,e),this._addedLabels),vR(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return y0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Y(aa,"id","category"),Y(aa,"defaults",{ticks:{callback:y0}});function xR(t,e){const n=[],{bounds:s,step:i,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,p=i||1,v=u-1,{min:m,max:x}=e,g=!ze(o),y=!ze(a),_=!ze(c),w=(x-m)/(d+1);let k=km((x-m)/v/p)*p,E,C,S,P;if(k<1e-14&&!g&&!y)return[{value:m},{value:x}];P=Math.ceil(x/k)-Math.floor(m/k),P>v&&(k=km(P*k/v/p)*p),ze(l)||(E=Math.pow(10,l),k=Math.ceil(k*E)/E),s==="ticks"?(C=Math.floor(m/k)*k,S=Math.ceil(x/k)*k):(C=m,S=x),g&&y&&i&&lM((a-o)/i,k/1e3)?(P=Math.round(Math.min((a-o)/k,u)),k=(a-o)/P,C=o,S=a):_?(C=g?o:C,S=y?a:S,P=c-1,k=(S-C)/P):(P=(S-C)/k,Eo(P,Math.round(P),k/1e3)?P=Math.round(P):P=Math.ceil(P));const L=Math.max(Sm(k),Sm(C));E=Math.pow(10,ze(l)?L:l),C=Math.round(C*E)/E,S=Math.round(S*E)/E;let D=0;for(g&&(f&&C!==o?(n.push({value:o}),C<o&&D++,Eo(Math.round((C+D*k)*E)/E,o,v0(o,w,t))&&D++):C<o&&D++);D<P;++D){const R=Math.round((C+D*k)*E)/E;if(y&&R>a)break;n.push({value:R})}return y&&f&&S!==a?n.length&&Eo(n[n.length-1].value,a,v0(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!y||S===a)&&n.push({value:S}),n}function v0(t,e,{horizontal:n,minRotation:r}){const s=zn(r),i=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class F1 extends ks{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ze(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=n?s:l,a=l=>i=r?i:l;if(e){const l=_i(s),c=_i(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=xR(s,i);return e.bounds==="ticks"&&a1(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return ou(e,this.chart.options.locale,this.options.ticks.format)}}class la extends F1{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ut(e)?e:0,this.max=ut(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=zn(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Y(la,"id","linear"),Y(la,"defaults",{ticks:{callback:Kf.formatters.numeric}});const ca=t=>Math.floor(mr(t)),Wr=(t,e)=>Math.pow(10,ca(t)+e);function x0(t){return t/Math.pow(10,ca(t))===1}function _0(t,e,n){const r=Math.pow(10,n),s=Math.floor(t/r);return Math.ceil(e/r)-s}function _R(t,e){const n=e-t;let r=ca(n);for(;_0(t,e,r)>10;)r++;for(;_0(t,e,r)<10;)r--;return Math.min(r,ca(t))}function wR(t,{min:e,max:n}){e=Dt(t.min,e);const r=[],s=ca(e);let i=_R(e,n),o=i<0?Math.pow(10,Math.abs(i)):1;const a=Math.pow(10,i),l=s>i?Math.pow(10,s):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,i)),f=Dt(t.min,Math.round((l+u+d*Math.pow(10,i))*o)/o);for(;f<n;)r.push({value:f,major:x0(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(i++,d=2,o=i>=0?1:o),f=Math.round((l+u+d*Math.pow(10,i))*o)/o;const p=Dt(t.max,f);return r.push({value:p,major:x0(p),significand:d}),r}class Ec extends ks{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=F1.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return ut(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ut(e)?Math.max(0,e):null,this.max=ut(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ut(this._userMin)&&(this.min=e===Wr(this.min,0)?Wr(this.min,-1):Wr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,s=this.max;const i=a=>r=e?r:a,o=a=>s=n?s:a;r===s&&(r<=0?(i(1),o(10)):(i(Wr(r,-1)),o(Wr(s,1)))),r<=0&&i(Wr(s,-1)),s<=0&&o(Wr(r,1)),this.min=r,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=wR(n,this);return e.bounds==="ticks"&&a1(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":ou(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=mr(e),this._valueRange=mr(this.max)-mr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(mr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}Y(Ec,"id","logarithmic"),Y(Ec,"defaults",{ticks:{callback:Kf.formatters.logarithmic,major:{enabled:!0}}});const lu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Et=Object.keys(lu);function w0(t,e){return t-e}function b0(t,e){if(ze(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),ut(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(ra(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,s)),+o)}function k0(t,e,n,r){const s=Et.length;for(let i=Et.indexOf(t);i<s-1;++i){const o=lu[Et[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Et[i]}return Et[s-1]}function bR(t,e,n,r,s){for(let i=Et.length-1;i>=Et.indexOf(n);i--){const o=Et[i];if(lu[o].common&&t._adapter.diff(s,r,o)>=e-1)return o}return Et[n?Et.indexOf(n):0]}function kR(t){for(let e=Et.indexOf(t)+1,n=Et.length;e<n;++e)if(lu[Et[e]].common)return Et[e]}function S0(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=Vf(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function SR(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function E0(t,e,n){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!n?r:SR(t,r,s,n)}class jc extends ks{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new FP._date(e.adapters.date);s.init(n),So(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:b0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=ut(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=ut(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=fM(s,i,o);return this._unit=n.unit||(r.autoSkip?k0(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):bR(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:kR(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),E0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=yt(n,0,o),r=yt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||k0(i.minUnit,n,r,this._getLabelCapacity(n)),a=_e(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=ra(l)||l===!0,u={};let d=n,f,p;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const v=s.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<r;f=+e.add(f,a,o),p++)S0(u,f,v);return(f===r||s.bounds==="ticks"||p===1)&&S0(u,f,v),Object.keys(u).sort(w0).map(m=>+m)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,o=n||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,s){const i=this.options,o=i.ticks.callback;if(o)return Ue(o,[e,n,r],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=r[n],p=c&&d&&f&&f.major;return this._adapter.format(e,s||(p?d:u))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=zn(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,E0(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(b0(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return gM(e.sort(w0))}}Y(jc,"id","time"),Y(jc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function vl(t,e,n){let r=0,s=t.length-1,i,o,a,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=rs(t,"pos",e)),{pos:i,time:a}=t[r],{pos:o,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=rs(t,"time",e)),{time:i,pos:a}=t[r],{time:o,pos:l}=t[s]);const c=o-i;return c?a+(l-a)*(e-i)/c:a}class j0 extends jc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=vl(n,this.min),this._tableRange=vl(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(vl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return vl(this._table,r*this._tableRange+this._minPos,!0)}}Y(j0,"id","timeseries"),Y(j0,"defaults",jc.defaults);const z1="label";function C0(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function ER(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function $1(t,e){t.labels=e}function B1(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:z1;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(o=>o[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function jR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z1;const n={labels:[],datasets:[]};return $1(n,t.labels),B1(n,t.datasets,e),n}function CR(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,p=b.useRef(null),v=b.useRef(),m=()=>{p.current&&(v.current=new Pi(p.current,{type:o,data:jR(a,i),options:l&&{...l},plugins:c}),C0(e,v.current))},x=()=>{C0(e,null),v.current&&(v.current.destroy(),v.current=null)};return b.useEffect(()=>{!s&&v.current&&l&&ER(v.current,l)},[s,l]),b.useEffect(()=>{!s&&v.current&&$1(v.current.config.data,a.labels)},[s,a.labels]),b.useEffect(()=>{!s&&v.current&&a.datasets&&B1(v.current.config.data,a.datasets,i)},[s,a.datasets]),b.useEffect(()=>{v.current&&(s?(x(),setTimeout(m)):v.current.update(d))},[s,l,a.labels,a.datasets,d]),b.useEffect(()=>{v.current&&(x(),setTimeout(m))},[o]),b.useEffect(()=>(m(),()=>x()),[]),he.createElement("canvas",Object.assign({ref:p,role:"img",height:n,width:r},f),u)}const MR=b.forwardRef(CR);function U1(t,e){return Pi.register(e),b.forwardRef((n,r)=>he.createElement(MR,Object.assign({},n,{ref:r,type:t})))}const H1=U1("line",Al),PR=U1("doughnut",ro),ld=["#FF5733","#3498DB","#2ECC71","#F1C40F","#E67E22","#9B59B6","#FF69B4","#1ABC9C","#F39C12","#5DADE2","#58D68D","#48C9B0","#8E44AD","#7F8C8D","#BFC1C2"];Pi.register(tp,np,io,aa,la);const TR=gn(),RR=new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}),cd=()=>{const t=TR.get(zt),e=new Date;return!(t!=null&&t.month_end_date)||e.getDate()<=t.month_end_date||(e.setDate(1),e.setMonth(e.getMonth()+1)),e},LR=()=>{const[t]=ee(Rt),[e,n]=b.useState(!1),[r,s]=b.useState([]),[i,o]=b.useState(!1),[a,l]=b.useState(0),[c,u]=b.useState(cd),d=b.useMemo(()=>r.reduce((v,m)=>v+(m.amount??0),0),[r]),f=b.useMemo(()=>r.map((v,m)=>ld[m]??ld[ld.length-1]),[r]),p=b.useMemo(()=>({labels:r.map(v=>{var m;return((m=v.category)==null?void 0:m.name)??"unknown"}),datasets:[{data:r.map(v=>v.amount??0),backgroundColor:f,borderWidth:1}]}),[r,f]);return b.useEffect(()=>{t!=null&&t.user.id&&(async()=>{n(!0);const v=await Fn.getExpenseOverview(t.user.id,c);if(n(!1),v.error){K.error(v.error.message);return}s(v.data??[])})()},[c,t]),b.useEffect(()=>{t!=null&&t.user.id&&(async()=>{o(!0);const v=await Fn.getIncomeTotal(t.user.id,c);if(o(!1),v.error){K.error(v.error.message);return}l(v.data??0)})()},[c,t]),h.jsxs("div",{className:"flex flex-1 flex-col items-center gap-4 p-2",children:[h.jsxs("div",{className:"flex w-full items-center rounded-xl bg-base-100 p-2",children:[h.jsx("div",{className:"flex-1"}),h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("button",{disabled:e||!c,onClick:()=>u(v=>v?new Date(v.setMonth(v.getMonth()-1)):void 0),className:"text-xl disabled:opacity-20",children:h.jsx(ve,{icon:"lucide:chevron-left"})}),h.jsx("span",{className:"w-[10rem] text-center",children:c?RR.format(c):"All time"}),h.jsx("button",{disabled:e||!c||c.getMonth()===cd().getMonth(),onClick:()=>u(v=>v?new Date(v.setMonth(v.getMonth()+1)):void 0),className:"text-xl disabled:opacity-20",children:h.jsx(ve,{icon:"lucide:chevron-right"})})]}),h.jsx("div",{className:"flex flex-1 justify-end",children:h.jsx(ws,{options:[{icon:"lucide:calendar-days",label:c?"All time":"This month",onClick:()=>u(v=>v?void 0:cd())}]})})]}),h.jsx("div",{className:"aspect-square w-[60vw] max-w-[20rem]",children:e?h.jsx(ke,{className:"h-full w-full rounded-full",children:h.jsx("div",{})}):r.length===0?h.jsx("div",{className:"h-full w-full rounded-full bg-base-300"}):h.jsx(PR,{data:p,options:{responsive:!0,plugins:{tooltip:{callbacks:{label:function(v){return`${v.label}: ${Bt(parseFloat(v.raw))}`}}}}}})}),h.jsxs("div",{className:"flex w-full items-center justify-evenly gap-2 rounded-xl px-3 py-2 text-xs font-medium "+(e||i?"dai-skeleton":"bg-base-100"),children:[h.jsx("span",{className:e?"text-transparent":"text-error",children:h.jsx(hn,{count:6,amount:e?-1e6:-1*d})}),h.jsx("div",{className:"h-full w-[1px] bg-base-300"}),h.jsx("span",{className:i?"text-transparent":"text-success",children:h.jsx(hn,{count:6,amount:i?1e6:a})}),h.jsx("div",{className:"h-full w-[1px] bg-base-300"}),h.jsx("span",{className:e||i?"text-transparent":d>a?"text-error":"text-success",children:h.jsx(hn,{count:6,amount:e||i?1e6:a-d})})]}),h.jsx("div",{className:"grid w-full grid-cols-1 gap-1 md:grid-cols-2",children:e?Array.from({length:14}).map((v,m)=>h.jsx(DR,{},m)):r.length===0?null:r.map((v,m)=>h.jsx(OR,{el:v,total:d,color:f[m]??f[f.length-1]},m))})]})},OR=({el:t,total:e,color:n})=>{var r,s;return h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 shadow",children:[h.jsx("img",{className:"size-9 xs:size-12",src:nu+"/"+((r=t.category)==null?void 0:r.logo),alt:""}),h.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm xs:text-base",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("span",{style:{backgroundColor:n},className:"h-2 w-4"}),h.jsx("span",{children:(s=t.category)==null?void 0:s.name})]}),h.jsx("span",{className:"font-medium text-error",children:h.jsx(hn,{amount:-1*(t.amount??0)})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("progress",{className:"dai-progress dai-progress-primary",value:t.amount??0,max:e}),h.jsxs("span",{className:"text-xs sm:text-sm",children:[Math.round(100*(e===0?0:(t.amount??0)/e)),"%"]})]})]})]})},DR=()=>h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 shadow",children:[h.jsx(ke,{children:h.jsx("div",{className:"size-9 xs:size-12"})}),h.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[h.jsxs("div",{className:"flex justify-between text-sm xs:text-base",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(ke,{children:h.jsx("div",{className:"h-2 w-[1rem]"})}),h.jsx(ke,{children:h.jsx("span",{children:"Transportation"})})]}),h.jsx(ke,{children:h.jsx("span",{className:"font-medium text-error",children:Bt(-1*1e4)})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("progress",{className:"dai-progress dai-progress-primary dai-skeleton",value:0,max:0}),h.jsx("span",{className:"text-xs sm:text-sm",children:h.jsx(ke,{children:"28%"})})]})]})]});function W1(t,{minimumFractionDigits:e=0,maximumFractionDigits:n=2}={}){return t.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:n})}Pi.register(aa,la,Po,Gs,tp,np,Ec);const NR=gn(),AR=new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}),IR=new Intl.DateTimeFormat("en-US",{year:"numeric"}),Tn=()=>{const t=NR.get(zt),e=new Date;return!(t!=null&&t.month_end_date)||e.getDate()<=t.month_end_date||(e.setDate(1),e.setMonth(e.getMonth()+1)),e},FR=()=>{const[t]=ee(Rt),[e]=ee(t1),{data:n,fetched:r,refresh:s}=su(),[i,o]=b.useState(""),[a,l]=b.useState(""),[c,u]=b.useState(Tn()),[d,f]=b.useState("everyday"),[p,v]=b.useState(!0),[m,x]=b.useState(!1),[g,y]=b.useState(!1),[_,w]=b.useState(!1),[k,E]=b.useState([]),[C,S]=b.useState([]),P=b.useMemo(()=>g||_,[g,_]),L=b.useMemo(()=>[...new Set([...k.map(R=>parseInt(R.occurred_at.split("-").join(""))),...C.map(R=>parseInt(R.occurred_at.split("-").join("")))])],[C,k]),D=b.useMemo(()=>({labels:L,datasets:[{label:"Expense Flow",fill:!1,tension:.2,borderColor:e.error,data:k.map(R=>({y:R.amount,x:parseInt(R.occurred_at.split("-").join(""))})),pointHitRadius:10},{label:"Income Flow",fill:!1,tension:.2,borderColor:e.success,data:C.map(R=>({y:R.amount,x:parseInt(R.occurred_at.split("-").join(""))}))}]}),[k,C,e,L]);return b.useEffect(()=>{r||(async()=>{const R=await s();R&&K.error(R)})()},[]),b.useEffect(()=>{if(!p){E([]);return}(async()=>{var q;y(!0);let R;if(d==="everyday"?R=await Fn.getCashFlowEveryDay({trx_type:["expense"],userId:(t==null?void 0:t.user.id)??"",month:c??Tn(),categories:i?[i]:[]}):R=await Fn.getCashFlowEveryMonth({trx_type:["expense"],userId:(t==null?void 0:t.user.id)??"",year:(c==null?void 0:c.getFullYear())??Tn().getFullYear(),categories:i?[i]:[]}),y(!1),R.error){K.error(R.error.message);return}(q=R.data)==null||q.forEach(G=>G.amount=Math.abs(G.amount)),E(R.data??[])})()},[t,c,p,i]),b.useEffect(()=>{if(!m){S([]);return}(async()=>{var q;w(!0);let R;if(d==="everyday"?R=await Fn.getCashFlowEveryDay({trx_type:["income"],userId:(t==null?void 0:t.user.id)??"",month:c??Tn(),categories:a?[a]:[]}):R=await Fn.getCashFlowEveryMonth({trx_type:["income"],userId:(t==null?void 0:t.user.id)??"",year:(c==null?void 0:c.getFullYear())??Tn().getFullYear(),categories:a?[a]:[]}),w(!1),R.error){K.error(R.error.message);return}(q=R.data)==null||q.forEach(G=>G.amount=Math.abs(G.amount)),S(R.data??[])})()},[t,c,m,a]),h.jsxs("div",{className:"flex flex-1 flex-col items-center gap-2 overflow-x-auto p-2",children:[h.jsxs("div",{className:"flex w-full flex-col items-center gap-2 rounded-xl bg-base-100 p-2",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("select",{disabled:P,value:d,onChange:R=>{u(Tn()),f(R.target.value)},className:"dai-select dai-select-bordered dai-select-xs xs:dai-select-sm",children:[h.jsx("option",{value:"everyday",children:"Every Day"}),h.jsx("option",{value:"everymonth",children:"Every Month"})]}),h.jsx("div",{className:"dai-form-control",children:h.jsxs("label",{className:"dai-cursor-pointer dai-label justify-start gap-2",children:[h.jsx("input",{disabled:P,type:"checkbox",checked:p,onChange:R=>v(R.target.checked),className:"dai-checkbox-error dai-checkbox dai-checkbox-sm"}),h.jsx("span",{className:"dai-label-text",children:"Expense"})]})}),h.jsx("div",{className:"dai-form-control",children:h.jsxs("label",{className:"dai-cursor-pointer dai-label justify-start gap-2",children:[h.jsx("input",{disabled:P,type:"checkbox",checked:m,onChange:R=>x(R.target.checked),className:"dai-checkbox-success dai-checkbox dai-checkbox-sm"}),h.jsx("span",{className:"dai-label-text",children:"Income"})]})})]}),h.jsxs("div",{className:"flex w-full items-center",children:[h.jsx("div",{className:"flex flex-1 items-center pl-2",children:P&&h.jsx("span",{className:"dai-loading dai-loading-sm bg-primary"})}),h.jsxs("div",{className:"flex items-center justify-center gap-4",children:[h.jsx("button",{disabled:P||!c,onClick:()=>u(R=>R?new Date(d==="everymonth"?R.setFullYear(R.getFullYear()-1):R.setMonth(R.getMonth()-1)):void 0),className:"text-lg disabled:opacity-20",children:h.jsx(ve,{icon:"lucide:chevron-left"})}),h.jsx("span",{className:"w-[8rem] text-center",children:c?d==="everymonth"?IR.format(c):AR.format(c):"All time"}),h.jsx("button",{disabled:P||!c||d==="everymonth"&&c.getFullYear()===Tn().getFullYear()||d==="everyday"&&c.getMonth()===Tn().getMonth(),onClick:()=>u(R=>R?new Date(d==="everymonth"?R.setFullYear(R.getFullYear()+1):R.setMonth(R.getMonth()+1)):void 0),className:"text-lg disabled:opacity-20",children:h.jsx(ve,{icon:"lucide:chevron-right"})})]}),h.jsx("div",{className:"flex flex-1 justify-end",children:h.jsx(ws,{disabled:P,options:[{icon:"lucide:calendar-days",label:c?"All time":d==="everymonth"?"This year":"This month",onClick:()=>u(R=>R?void 0:Tn())}]})})]})]}),h.jsx("div",{className:"w-full rounded-xl bg-base-100 p-4",children:h.jsx(H1,{data:D,className:"h-56",options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{type:"logarithmic",ticks:{color:e["base-content"],callback:R=>typeof R=="string"?R:W1(R/(R>=1e3?1e3:1))+(R>=1e3?"K":"")}},x:{ticks:{color:e["base-content"],callback:(R,q)=>typeof R=="string"?R:L[q]%100}}}}})}),(p||m)&&h.jsxs("div",{className:"grid w-full gap-2 rounded-xl bg-base-100 p-4",children:[h.jsx("span",{className:"font-semibold",children:"Filter category"}),h.jsxs("div",{className:"grid w-full gap-2 text-xs xs:text-sm",children:[h.jsxs("select",{disabled:!p||P,value:i,onChange:R=>o(R.target.value),className:"dai-select dai-select-bordered w-full",children:[h.jsx("option",{value:"",children:"Select expense"}),n.filter(R=>R.type==="expense").map((R,q)=>h.jsx("option",{value:R.id,children:R.name},q))]}),h.jsxs("select",{disabled:!m||P,value:a,onChange:R=>l(R.target.value),className:"dai-select dai-select-bordered w-full",children:[h.jsx("option",{value:"",children:"Select income"}),n.filter(R=>R.type==="income").map((R,q)=>h.jsx("option",{value:R.id,children:R.name},q))]})]})]})]})},zR=({onClose:t,reports:e})=>{const n=b.useRef();b.useEffect(()=>()=>t(n.current),[]);const r=s=>{n.current=s,xi()};return h.jsx(Xx,{title:"Select Report",children:h.jsx("div",{className:"mt-4 flex flex-col items-center gap-3",children:e.map(s=>h.jsx("button",{onClick:()=>r(s.value),className:"dai-btn dai-btn-primary dai-btn-block",children:s.label},s.value))})})};Pi.register(aa,la,Po,Gs,tp,np,Ec);const $R=gn(),BR=new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}),UR=new Intl.DateTimeFormat("en-US",{year:"numeric"}),xl=()=>{const t=$R.get(zt),e=new Date;return!(t!=null&&t.month_end_date)||e.getDate()<=t.month_end_date||(e.setDate(1),e.setMonth(e.getMonth()+1)),e},HR=()=>{const[t]=ee(Rt),[e]=ee(t1),[n]=ee(zt),[r,s]=b.useState(xl()),[i,o]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState([]),[d,f]=b.useState(!1),[p,v]=b.useState(null),m=b.useMemo(()=>a||d,[a,d]),x=b.useMemo(()=>{if(!p)return[];let k=p;return c.map(E=>(k+=E.amount,{...E,amount:k}))},[c,p]),g=b.useMemo(()=>{if(!a&&p!=null)return x.length===0?p:x[0].amount},[x,p,a]),y=b.useMemo(()=>{if(!a&&p!=null)return x.length===0?p:x[x.length-1].amount},[x,p,a]),_=b.useMemo(()=>[...new Set([...x.map(k=>parseInt(k.occurred_at.split("-").join("")))])],[x]),w=b.useMemo(()=>({labels:_,datasets:[{label:"Expense Flow",fill:!1,tension:.2,borderColor:e.error,data:x.map(k=>({y:k.amount,x:parseInt(k.occurred_at.split("-").join(""))})),pointHitRadius:10}]}),[x,e,_]);return b.useEffect(()=>{(async()=>{const k=r?i?new Date(r.getFullYear(),n!=null&&n.month_end_date?r.getMonth()-1:r.getMonth(),n!=null&&n.month_end_date?n.month_end_date:0):new Date(r.getFullYear(),0,0):new Date(1970,0,2);f(!0);const E=await Fn.getCurrentBalanceAt({userId:(t==null?void 0:t.user.id)??"",lastDate:k});if(f(!1),E.error){K.error(E.error.message);return}v(E.data??null)})()},[r]),b.useEffect(()=>{(async()=>{l(!0);let k;if(i?k=await Fn.getCashFlowEveryDay({trx_type:["expense","income"],userId:(t==null?void 0:t.user.id)??"",month:r??new Date,categories:[]}):k=await Fn.getCashFlowEveryMonth({trx_type:["expense","income"],userId:(t==null?void 0:t.user.id)??"",year:(r==null?void 0:r.getFullYear())??new Date().getFullYear(),categories:[]}),l(!1),k.error){K.error(k.error.message);return}u(k.data??[])})()},[t,r]),h.jsxs("div",{className:"flex flex-1 flex-col items-center gap-2 overflow-x-auto p-2",children:[h.jsx("div",{className:"flex w-full flex-col items-center gap-2 rounded-xl bg-base-100 p-2",children:h.jsxs("div",{className:"flex w-full items-center",children:[h.jsx("div",{className:"flex flex-1 items-center pl-2",children:m&&h.jsx("span",{className:"dai-loading dai-loading-sm bg-primary"})}),h.jsxs("div",{className:"flex items-center justify-center gap-4",children:[h.jsx("button",{disabled:m||!r,onClick:()=>s(k=>k?new Date(i?k.setMonth(k.getMonth()-1):k.setFullYear(k.getFullYear()-1)):void 0),className:"text-lg disabled:opacity-20",children:h.jsx(ve,{icon:"lucide:chevron-left"})}),h.jsx("span",{className:"w-[8rem] text-center",children:r?i?BR.format(r):UR.format(r):"All time"}),h.jsx("button",{disabled:m||!r||!i&&r.getFullYear()===new Date().getFullYear()||i&&r.getMonth()===xl().getMonth(),onClick:()=>s(k=>k?new Date(i?k.setMonth(k.getMonth()+1):k.setFullYear(k.getFullYear()+1)):void 0),className:"text-lg disabled:opacity-20",children:h.jsx(ve,{icon:"lucide:chevron-right"})})]}),h.jsx("div",{className:"flex flex-1 justify-end",children:h.jsx(ws,{disabled:m,options:[{icon:"lucide:calendar-days",label:i?"Every Month":"Every Day",onClick:()=>{s(xl()),o(k=>!k)}},{icon:"lucide:infinity",label:r?"All time":i?"This month":"This year",onClick:()=>s(k=>k?void 0:xl())}]})})]})}),h.jsxs("div",{className:"w-full space-y-1 rounded-xl bg-base-100 p-4 text-sm",children:[h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("span",{children:d?h.jsx(ke,{children:"Previous:"}):"Previous:"}),h.jsx("span",{className:"font-semibold "+(p?p<0?"text-error":"text-success":""),children:d?h.jsx(ke,{children:Bt(1e7)}):h.jsx(hn,{amount:p??0})})]}),h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("span",{children:g==null?h.jsx(ke,{children:"Start:"}):"Start:"}),h.jsx("span",{className:"font-semibold "+(g?g<0?"text-error":"text-success":""),children:g==null?h.jsx(ke,{children:Bt(1e7)}):h.jsx(hn,{amount:g})})]}),h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("span",{children:y==null?h.jsx(ke,{children:"Last:"}):"Last:"}),h.jsx("span",{className:"font-semibold "+(y?y<0?"text-error":"text-success":""),children:y==null?h.jsx(ke,{children:Bt(1e7)}):h.jsx(hn,{amount:y})})]})]}),h.jsx("div",{className:"w-full rounded-xl bg-base-100 p-4",children:h.jsx(H1,{data:w,className:"h-56",options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{type:"linear",ticks:{color:e["base-content"],callback:k=>{if(typeof k=="string")return k;const E=Math.abs(k);return W1(k/(E>=1e3?1e3:1))+(E>=1e3?"K":"")}}},x:{ticks:{color:e["base-content"],callback:(k,E)=>typeof k=="string"?k:_[E]%100}}}}})})]})},WR=()=>{const[,t]=ee(kn),e=Tt(),{pathname:n}=Ar(),r=b.useMemo(()=>[{value:"/report",label:"Expense Overview"},{value:"/report/cash-flow",label:"Cash Flow"},{value:"/report/assets-flow",label:"Assets Flow"}],[]),s=b.useMemo(()=>r.find(i=>n===i.value),[r,n]);return b.useEffect(()=>{t({title:(s==null?void 0:s.label)??"Report",revealer:!0,actions:[h.jsx("button",{onClick:()=>iu(zR,{reports:r,onClose:i=>i&&e(i)}),className:"ml-2 text-2xl",children:h.jsx(ve,{icon:"lucide:menu"})})]})},[s]),h.jsxs(ji,{children:[h.jsx(Ge,{path:"/",element:h.jsx(LR,{})}),h.jsx(Ge,{path:"/cash-flow",element:h.jsx(FR,{})}),h.jsx(Ge,{path:"/assets-flow",element:h.jsx(HR,{})})]})},VR=({category:t,categoryType:e,onDeleted:n})=>{const r=Tt(),s=async()=>{if(!await _a({title:"Delete category",body:"Are you sure you want to delete this category?"}))return;Ee(!0);const o=await bo.deleteCategory(t.id);if(Ee(!1),o.error){K.error(o.error.message);return}n(t.id)};return h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md hover:cursor-pointer",children:[h.jsx("img",{onClick:()=>r(`/accounts/transaction?category=${t.id}`),src:`${nu}/${t.logo}`,className:"size-9 xs:size-12"}),h.jsx("div",{className:"flex flex-1 flex-col gap-0.5",children:h.jsx("p",{className:"text-sm xs:text-base",children:t.name})}),h.jsx(ws,{options:[{icon:"lucide:pencil",label:"Edit",onClick:()=>r(`/category/${t.id}?type=${e}`)},{icon:"lucide:trash",label:"Delete",onClick:s}]})]})},YR=()=>h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md",children:[h.jsx(ke,{children:h.jsx("div",{className:"size-9 xs:size-12"})}),h.jsx("div",{className:"flex flex-1 flex-col gap-0.5",children:h.jsx(ke,{children:h.jsx("p",{className:"text-sm xs:text-base",children:"Transportation"})})}),h.jsx(ke,{children:h.jsx(ws,{options:[]})})]}),KR=()=>{const[,t]=ee(kn),e=Tt(),{data:n,loading:r,refresh:s,fetched:i,setData:o}=su(),[a,l]=Yc(),c=b.useMemo(()=>a.get("type")==="income"?"income":"expense",[a]),u=b.useMemo(()=>n.filter(d=>d.type===c),[n,c]);return b.useEffect(()=>{t({title:"Categories",actions:[h.jsx("button",{onClick:()=>e(`/category/new?type=${c}`),className:"dai-btn dai-btn-success dai-btn-xs xs:dai-btn-sm",children:"Create"})]})},[c]),b.useEffect(()=>{i||(async()=>{const d=await s();d&&K.error(d)})()},[]),h.jsxs("div",{className:"flex flex-1 flex-col gap-2 p-2",children:[h.jsx("div",{role:"tablist",className:"dai-tabs-boxed dai-tabs bg-base-100",children:["expense","income"].map((d,f)=>h.jsx("button",{role:"tab",onClick:()=>l({type:d}),className:"dai-tab capitalize "+(d===c?"dai-tab-active":""),children:d},f))}),h.jsx("div",{className:"grid grid-cols-1 gap-2",children:r?Array.from({length:14}).map((d,f)=>h.jsx(YR,{},f)):u.length===0?h.jsx("p",{className:"text-center",children:"No categories found"}):u.map((d,f)=>h.jsx(VR,{category:d,categoryType:c,onDeleted:p=>o(v=>v.filter(m=>m.id!==p))},f))})]})},To=gn(),li=Ne({loading:!1,fetched:!1,data:[]});async function qR(){To.set(li,e=>({...e,loading:!0,fetched:!1}));const t=await Ut.storage.from("images").list("categories");if(t.error)return To.set(li,e=>({...e,loading:!1})),t.error.message;To.set(li,{loading:!1,fetched:!0,data:(t.data??[]).map(e=>e.name)})}function XR(t){const e=To.get(li);e.fetched&&To.set(li,{...e,data:typeof t=="function"?t(e.data):t})}const GR=Ne(t=>({refresh:qR,setData:XR,...t(li)})),JR=()=>{const[t]=ee(GR);return t},M0=()=>{const[t]=ee(Rt),[,e]=ee(kn),n=Tt(),[r]=Yc(),{id:s}=tx(),[i,o]=b.useState(),{setData:a}=su(),{data:l,refresh:c,fetched:u,loading:d}=JR(),[f,p]=b.useState(!1),[v,m]=b.useState((i==null?void 0:i.name)??""),[x,g]=b.useState(0),y=b.useMemo(()=>!v,[v]);b.useEffect(()=>{e({title:s?"Update Category":"Create "+(r.get("type")==="income"?"Income":"Expense"),back:!0})},[r]),b.useEffect(()=>{u||(async()=>{const w=await c();if(w)return K.error(w)})()},[]),b.useEffect(()=>{s&&(async()=>{Ee(!0);const{data:w,error:k}=await bo.getCategory(s);if(Ee(!1),w)return o(w);K.error(!w||!k?"Category not found":k.message),n("/category",{replace:!0})})()},[]),b.useEffect(()=>{i&&m(i.name)},[i]),b.useEffect(()=>{u&&g(i!=null&&i.logo?l.indexOf(i.logo):0)},[u,l,i]);const _=async()=>{p(!0);let w;if(!s||!i?w=await bo.createCategory({name:v,logo:l[x],type:r.get("type")==="income"?"income":"expense",user_id:t.user.id}):w=await bo.updateCategory(s,{name:v,logo:l[x],type:i.type}),p(!1),w.error||!w.data){K.error(!w.data||!w.error?"Something went wrong":w.error.message);return}a(k=>s?k.map(E=>E.id===s?w.data:E):[w.data,...k]),history.back()};return h.jsx("div",{className:"flex flex-1 flex-col gap-4 p-2",children:h.jsxs("form",{onSubmit:w=>{w.preventDefault(),_()},className:"grid grid-cols-1 gap-2",children:[h.jsxs("label",{className:"dai-form-control w-full",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Name"})}),h.jsx("input",{value:v,onChange:w=>m(w.target.value),type:"text",placeholder:"Category Name",className:"dai-input dai-input-bordered"})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Logo"})}),h.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2",children:d?Array.from({length:10}).map((w,k)=>h.jsx("button",{type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 outline-transparent",children:h.jsx("div",{className:"dai-skeleton size-12 rounded-lg"})},k)):l.length===0?h.jsx("div",{}):l.map((w,k)=>h.jsx("button",{onClick:()=>g(k),type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 "+(k===x?"outline-primary":"outline-transparent"),children:h.jsx("img",{className:"size-12 rounded-lg",src:`${nu}/${w}`,alt:""},k)},k))})]}),h.jsx("div",{className:"flex justify-end pt-2",children:h.jsx(ru,{size:"sm",disabled:y,loading:f,type:"submit",className:"dai-btn-primary",children:"Submit"})})]})})},QR=()=>h.jsxs(ji,{children:[h.jsx(Ge,{path:"/",element:h.jsx(KR,{})}),h.jsx(Ge,{path:"/new",element:h.jsx(M0,{})}),h.jsx(Ge,{path:"/:id",element:h.jsx(M0,{})})]}),V1=[{icon:"lucide:notebook-text",link:"/transaction",title:"Trx",el:gC,layout:!0},{icon:"lucide:chart-pie",link:"/report",title:"Report",el:WR,layout:!0},{icon:"lucide:wallet",link:"/accounts",title:"Account",el:PC,layout:!0},{icon:"lucide:group",link:"/category",title:"Categories",el:QR,layout:!0},{icon:"lucide:settings",link:"/settings",title:"Settings",el:_C}],ZR=()=>{const t=Tt(),[e,n]=ee(Rt),[r,s]=b.useState(!1),[i,o]=b.useState(""),[a,l]=b.useState(""),c=b.useDeferredValue(!i||!a);b.useEffect(()=>{if(!e)return;let f=new URLSearchParams(window.location.search).get("to");f&&(f=Wx(f,Pr.BASE_URL));const p=f??V1[0].link;t(p)},[e]);const u=async()=>{const f=await Ut.auth.signInWithOAuth({provider:"google"});if(f.error){K.error(f.error.message);return}},d=async()=>{s(!0);const{error:f,data:p}=await Ut.auth.signInWithPassword({email:i,password:a});if(s(!1),f){K.error(f.message);return}n(p.session)};return h.jsx("div",{className:"flex min-h-dvh items-center justify-center",children:h.jsxs("div",{className:"flex w-80 flex-col items-center gap-4 rounded-xl border border-base-300 bg-base-100 p-6 shadow-md",children:[h.jsxs("form",{onSubmit:f=>{f.preventDefault(),d()},className:"flex w-full flex-col items-center gap-4",children:[h.jsx("h2",{className:"text-center text-2xl font-medium",children:"Login"}),h.jsx("input",{type:"email",value:i,onChange:f=>o(f.target.value),placeholder:"Email",className:"dai-input dai-input-sm dai-input-bordered w-full xs:dai-input-md",required:!0}),h.jsx("input",{type:"password",value:a,onChange:f=>l(f.target.value),placeholder:"Password",className:"dai-input dai-input-sm dai-input-bordered w-full xs:dai-input-md",required:!0}),h.jsx(ru,{size:"sm",disabled:c,loading:r,className:"dai-btn-primary",children:"Submit"})]}),h.jsxs("span",{className:"flex w-full items-center gap-2 text-sm",children:[h.jsx("hr",{className:"flex-1 border-base-300"}),h.jsx("span",{children:"OR"}),h.jsx("hr",{className:"flex-1 border-base-300"})]}),h.jsx("div",{children:h.jsx("button",{disabled:!0,onClick:u,className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide",children:"Login with Google"})})]})})},eL=()=>{const[t]=ee(Rt),e=Tt();return b.useEffect(()=>{if(!t)return;const r=new URLSearchParams(window.location.search).get("to")??"/";e(r)},[t]),h.jsx("h1",{children:"Register"})},tL=({home:t})=>{const[,e]=ee(kn);return b.useEffect(()=>{e({title:"Not found"})},[]),h.jsx("div",{className:"grid flex-1 place-items-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-10",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-3xl font-bold",children:"404 | Not Found"}),h.jsx("p",{children:"Sorry, the page you are looking for does not exist."})]}),h.jsx(Of,{replace:!0,to:t,className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide",children:"Back to home"})]})})},P0=8,nL=()=>{var l,c;const[t]=ee(kn),[e,n]=b.useState(!1),[r,s]=b.useState(0),[i]=ee(zt),[o,a]=ee(_x);return b.useEffect(()=>{const u=()=>s(window.scrollY);return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]),b.useEffect(()=>{if(r<=P0&&e)return n(!1);if(r>P0&&!e)return n(!0)},[r]),h.jsxs("div",{children:[h.jsx("div",{className:"fixed left-0 top-0 z-20 grid h-14 w-full place-items-center bg-secondary text-secondary-content shadow-md xs:h-16 "+(e?"opacity-90":""),children:h.jsxs("div",{className:"flex w-full items-center justify-between px-6 md:w-[47rem]",children:[h.jsxs("div",{className:"flex items-center gap-4 text-3xl",children:[t.back&&h.jsx("button",{onClick:()=>history.back(),className:"flex items-center gap-4 text-xl xs:text-2xl",children:h.jsx(ve,{icon:"mdi:arrow-left"})}),t.title?typeof t.title!="string"?t.title:h.jsx("span",{className:"text-lg font-semibold xs:text-xl",children:t.title}):null,(l=t.leftActions)==null?void 0:l.map((u,d)=>h.jsx(b.Fragment,{children:u},d))]}),h.jsxs("div",{className:"flex items-center gap-4 text-3xl",children:[(i==null?void 0:i.hide_amount)&&t.revealer&&h.jsx("button",{onClick:()=>a(u=>!u),className:"text-lg text-secondary-content xs:text-xl",children:o?h.jsx(ve,{icon:"lucide:eye"}):h.jsx(ve,{icon:"lucide:eye-off"})}),(c=t.actions)==null?void 0:c.map((u,d)=>h.jsx(b.Fragment,{children:u},d))]})]})}),h.jsx("div",{className:"h-14 xs:h-16"})]})};function rL(){const[t,e]=b.useState({width:window.innerWidth,height:window.innerHeight});return b.useLayoutEffect(()=>{const n=()=>{e({width:window.innerWidth,height:window.innerHeight})};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),t}const sL=({icon:t,title:e,href:n})=>h.jsxs(_2,{to:n,className:({isActive:r})=>["group flex w-[4rem] flex-col items-center rounded-2xl px-3 py-1 transition-all duration-300 xs:w-[5rem]",r?"is-active bg-secondary/10 font-semibold text-secondary":""].join(" "),children:[h.jsx(ve,{icon:t,className:"text-xl xs:text-2xl"}),h.jsx("span",{className:"hidden text-center text-xxs group-[.is-active]:block xs:text-xs",children:e})]}),iL=({routes:t})=>{const[e,n,r]=xh(!0),s=b.useRef(0),i=rL();return b.useEffect(()=>{const o=()=>{const a=window.scrollY;if(a<=0){n(!0);return}a>s.current&&r.current?n(!1):a<s.current&&!r.current&&n(!0),s.current=a};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),h.jsx("div",{children:h.jsx("div",{className:`${i.height<600||!e?"translate-y-full":"transform-none"} fixed bottom-0 left-0 z-20 grid h-16 w-full place-items-center bg-base-100 shadow-t-md transition-transform`,children:h.jsx("div",{className:"flex w-full items-center justify-evenly py-1 md:w-[47rem]",children:t.map((o,a)=>h.jsx(sL,{href:o.link,title:o.title,icon:o.icon},a))})})})},oL=()=>{const{pathname:t}=Ar();return b.useEffect(()=>{window.scrollTo(0,0)},[t]),null},rp=()=>h.jsxs("div",{className:"relative grid place-items-center",children:[h.jsx("span",{className:"fixed size-20 animate-spin rounded-full border-4 border-b-transparent border-l-transparent border-r-primary border-t-primary"}),h.jsx("span",{className:"fixed size-16 animate-reverse-spin rounded-full border-4 border-b-transparent border-l-warning border-r-transparent border-t-warning"}),h.jsx("span",{className:"fixed size-12 animate-spin rounded-full border-4 border-b-primary border-l-primary border-r-transparent border-t-transparent"})]}),Y1="/duitify/error.svg",aL=()=>{const[t]=ee(zt),[,e]=ee(Df);b.useEffect(()=>{n()},[]);const n=()=>{iu(Jx,{onClose:r,dismissible:!1})},r=async s=>{if(!(t!=null&&t.pin))return;Ee(!0);const[i,o]=t.pin.split(":"),a=o+t.user_id,l=await Qx(s,a);if(Ee(!1),!l||i!==l){K.error(l?"Invalid PIN":"Failed to generate hash"),n();return}e(!0)};return h.jsx("div",{className:"grid min-h-dvh place-items-center bg-base-200"})};function lL(){return/Mobi|Android|iPhone|iPad|iPod|Windows Phone/i.test(navigator.userAgent)}const cL=()=>{const t=Tt(),[e]=ee(Rt),[n]=b.useState(V1),[r,s]=b.useState(!0),[i,o]=ee(zt),[a]=ee(Df),[l,c]=b.useState(""),[u,d]=b.useState(0),f=b.useMemo(()=>n[0].link,[n]),p=ox(({historyAction:v,currentLocation:m,nextLocation:x})=>v==="POP"&&m.pathname===f&&x.pathname!==f);return b.useEffect(()=>{p.state==="blocked"&&_h()},[p]),b.useEffect(()=>{let v=window.location.pathname;if(!e){const x=v!=="/"?`/login?${new URLSearchParams({to:v}).toString()}`:"/login";t(x,{replace:!0});return}if(f==="/")return;Vx(v,"/")===Pr.BASE_URL&&t(f,{replace:!0})},[e]),b.useEffect(()=>{e&&(async()=>{s(!0);const{data:v,error:m}=await qr.getSetting(e.user.id);if(s(!1),m){c(m.message);return}if(!v){c("Something went wrong, please try again");return}o(v)})()},[e,u]),e?i&&i.pin&&!a&&(!i.pin_desktop_only||!lL())?h.jsx(aL,{}):r||l?h.jsx("div",{className:"grid min-h-dvh place-items-center",children:r?h.jsx(rp,{}):h.jsxs("div",{className:"flex flex-col items-center gap-6",children:[h.jsx("img",{className:"h-64",src:Y1,alt:""}),h.jsx("span",{className:"text-xl font-semibold",children:l}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("button",{onClick:()=>d(v=>v+1),className:"dai-btn dai-btn-primary",children:"Try again"}),h.jsx("button",{onClick:_h,className:"dai-btn dai-btn-ghost underline",children:"Relogin"})]})]})}):h.jsxs("div",{className:"flex min-h-dvh flex-col items-center bg-base-200 text-base-content",children:[h.jsx(oL,{}),h.jsx(nL,{}),h.jsx("main",{className:"grid w-full flex-1 md:w-[47rem]",children:h.jsxs(ji,{children:[n.map(v=>h.jsx(Ge,{path:v.link+(v.layout?"/*":""),element:h.jsx(v.el,{})},v.link)),h.jsx(Ge,{path:"*",element:h.jsx(tL,{home:f})})]})}),h.jsx(iL,{routes:n})]}):null},uL=()=>h.jsxs(ji,{children:[h.jsx(Ge,{path:"/login",element:h.jsx(ZR,{})}),h.jsx(Ge,{path:"/register",element:h.jsx(eL,{})}),h.jsx(Ge,{path:"*",element:h.jsx(cL,{})})]}),dL=()=>{const[t,e]=ee(px);return t?h.jsx("div",{className:"fixed left-0 top-0 z-50 grid h-dvh w-full place-items-center bg-black bg-opacity-40",children:h.jsx(rp,{})}):null},hL=({})=>{const[t]=ee(qx),e=ox(t.length>0),n=()=>{t.length!==0&&t[t.length-1].dismissible&&xi()};b.useEffect(()=>(window.addEventListener("keyup",r),()=>window.removeEventListener("keyup",r)),[]);const r=s=>{s.key==="Escape"&&n()};return b.useEffect(()=>{const s=()=>{e.state==="blocked"&&n()};return window.addEventListener("popstate",s),()=>window.removeEventListener("popstate",s)},[e]),h.jsxs("div",{onClick:n,className:"fixed left-0 top-0 z-30 flex min-h-dvh w-full items-center justify-center bg-black bg-opacity-60 sm:items-center",children:[...t.map((s,i)=>h.jsx("div",{onClick:o=>o.stopPropagation(),hidden:i!==t.length-1,className:"absolute w-full px-3 sm:w-fit sm:px-0",children:h.jsx(s.Element,{...s.props,isOpen:i===t.length-1})},i))]})},fL=()=>{const[t]=ee(qx);return b.useEffect(()=>{if(t.length===0){document.body.style.overflowY="auto";return}document.body.style.overflowY="hidden"},[t]),t.length===0?null:h.jsx(hL,{})};function pL(){const[t]=ee(e1),[e,n]=b.useState(!0),[r,s]=b.useState(!1),[,i]=ee(Rt);b.useEffect(()=>{document.documentElement.setAttribute("data-theme",t)},[t]),b.useEffect(()=>{o()},[]);const o=async()=>{n(!0),s(!1);const{error:a,data:l}=await Ut.auth.getSession();if(a){n(!1),s(!0);return}i(l.session),n(!1)};return h.jsxs(h.Fragment,{children:[!e&&!r?h.jsx(uL,{}):e?h.jsx("div",{className:"grid min-h-dvh w-full place-items-center",children:h.jsx(rp,{})}):r?h.jsx("div",{className:"grid min-h-dvh w-full place-items-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-6",children:[h.jsx("img",{className:"h-64",src:Y1,alt:""}),h.jsx("span",{className:"text-xl font-semibold",children:"It's looks like something went wrong"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("button",{onClick:()=>o(),className:"dai-btn dai-btn-primary",children:"Try again"}),h.jsx("button",{onClick:()=>{s(!1)},className:"dai-btn dai-btn-ghost underline",children:"Relogin"})]})]})}):null,h.jsx(G2,{position:"top-center",theme:t}),h.jsx(fL,{}),h.jsx(dL,{})]})}function gL(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t;let a,l,c;const u=async(f=!0)=>{await l,await(c==null?void 0:c())};async function d(){if("serviceWorker"in navigator){if(a=await gs(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/duitify/sw.js",{scope:"/duitify/",type:"classic"})).catch(f=>{o==null||o(f)}),!a)return;c=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let f=!1;const p=()=>{f=!0,a==null||a.addEventListener("controlling",v=>{v.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",v=>{typeof v.isUpdate>"u"?typeof v.isExternal<"u"?v.isExternal?p():!f&&(r==null||r()):v.isExternal?window.location.reload():!f&&(r==null||r()):v.isUpdate||r==null||r()}),a.addEventListener("waiting",p),a.addEventListener("externalwaiting",p)}a.register({immediate:e}).then(f=>{i?i("/duitify/sw.js",f):s==null||s(f)}).catch(f=>{o==null||o(f)})}}return l=d(),u}const mL=gL({onNeedRefresh(){console.log("Content is ready to be updated."),alert("New content is available, please refresh."),mL(!0)},onOfflineReady(){console.log("Content is now offline ready.")},onRegisteredSW(){console.log("Service worker has been registered.")}}),yL=a2(dc(h.jsx(Ge,{path:"*",element:h.jsx(pL,{})})),{basename:"/duitify"});ud.createRoot(document.getElementById("root")).render(h.jsx(g2,{router:yL}));export{R0 as g};
