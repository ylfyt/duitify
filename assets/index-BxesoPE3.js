var n_=Object.defineProperty;var r_=(t,e,n)=>e in t?n_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var W=(t,e,n)=>r_(t,typeof e!="symbol"?e+"":e,n);function w0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function b0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function i_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var k0={exports:{}},jc={},S0={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia=Symbol.for("react.element"),s_=Symbol.for("react.portal"),o_=Symbol.for("react.fragment"),a_=Symbol.for("react.strict_mode"),l_=Symbol.for("react.profiler"),c_=Symbol.for("react.provider"),u_=Symbol.for("react.context"),d_=Symbol.for("react.forward_ref"),h_=Symbol.for("react.suspense"),f_=Symbol.for("react.memo"),p_=Symbol.for("react.lazy"),hp=Symbol.iterator;function g_(t){return t===null||typeof t!="object"?null:(t=hp&&t[hp]||t["@@iterator"],typeof t=="function"?t:null)}var j0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E0=Object.assign,C0={};function bs(t,e,n){this.props=t,this.context=e,this.refs=C0,this.updater=n||j0}bs.prototype.isReactComponent={};bs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function M0(){}M0.prototype=bs.prototype;function jh(t,e,n){this.props=t,this.context=e,this.refs=C0,this.updater=n||j0}var Eh=jh.prototype=new M0;Eh.constructor=jh;E0(Eh,bs.prototype);Eh.isPureReactComponent=!0;var fp=Array.isArray,P0=Object.prototype.hasOwnProperty,Ch={current:null},T0={key:!0,ref:!0,__self:!0,__source:!0};function R0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)P0.call(e,r)&&!T0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ia,type:t,key:s,ref:o,props:i,_owner:Ch.current}}function m_(t,e){return{$$typeof:ia,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ia}function y_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pp=/\/+/g;function au(t,e){return typeof t=="object"&&t!==null&&t.key!=null?y_(""+t.key):e.toString(36)}function yl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ia:case s_:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+au(o,0):r,fp(i)?(n="",t!=null&&(n=t.replace(pp,"$&/")+"/"),yl(i,e,n,"",function(c){return c})):i!=null&&(Mh(i)&&(i=m_(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(pp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",fp(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+au(s,a);o+=yl(s,e,n,l,i)}else if(l=g_(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+au(s,a++),o+=yl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ma(t,e,n){if(t==null)return t;var r=[],i=0;return yl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function v_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xt={current:null},vl={transition:null},x_={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:vl,ReactCurrentOwner:Ch};function L0(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Ma,forEach:function(t,e,n){Ma(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ma(t,function(){e++}),e},toArray:function(t){return Ma(t,function(e){return e})||[]},only:function(t){if(!Mh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=bs;ae.Fragment=o_;ae.Profiler=l_;ae.PureComponent=jh;ae.StrictMode=a_;ae.Suspense=h_;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x_;ae.act=L0;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=E0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ch.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)P0.call(e,l)&&!T0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ia,type:t.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:u_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:c_,_context:t},t.Consumer=t};ae.createElement=R0;ae.createFactory=function(t){var e=R0.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:d_,render:t}};ae.isValidElement=Mh;ae.lazy=function(t){return{$$typeof:p_,_payload:{_status:-1,_result:t},_init:v_}};ae.memo=function(t,e){return{$$typeof:f_,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=vl.transition;vl.transition={};try{t()}finally{vl.transition=e}};ae.unstable_act=L0;ae.useCallback=function(t,e){return xt.current.useCallback(t,e)};ae.useContext=function(t){return xt.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return xt.current.useDeferredValue(t)};ae.useEffect=function(t,e){return xt.current.useEffect(t,e)};ae.useId=function(){return xt.current.useId()};ae.useImperativeHandle=function(t,e,n){return xt.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return xt.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return xt.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return xt.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return xt.current.useReducer(t,e,n)};ae.useRef=function(t){return xt.current.useRef(t)};ae.useState=function(t){return xt.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return xt.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return xt.current.useTransition()};ae.version="18.3.1";S0.exports=ae;var k=S0.exports;const ge=b0(k),__=w0({__proto__:null,default:ge},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_=k,b_=Symbol.for("react.element"),k_=Symbol.for("react.fragment"),S_=Object.prototype.hasOwnProperty,j_=w_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E_={key:!0,ref:!0,__self:!0,__source:!0};function O0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)S_.call(e,r)&&!E_.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:b_,type:t,key:s,ref:o,props:i,_owner:j_.current}}jc.Fragment=k_;jc.jsx=O0;jc.jsxs=O0;k0.exports=jc;var h=k0.exports,sd={},D0={exports:{}},Ut={},N0={exports:{}},A0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,O){var F=A.length;A.push(O);e:for(;0<F;){var Q=F-1>>>1,X=A[Q];if(0<i(X,O))A[Q]=O,A[F]=X,F=Q;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var O=A[0],F=A.pop();if(F!==O){A[0]=F;e:for(var Q=0,X=A.length,oe=X>>>1;Q<oe;){var ce=2*(Q+1)-1,ke=A[ce],ue=ce+1,Je=A[ue];if(0>i(ke,F))ue<X&&0>i(Je,ke)?(A[Q]=Je,A[ue]=F,Q=ue):(A[Q]=ke,A[ce]=F,Q=ce);else if(ue<X&&0>i(Je,F))A[Q]=Je,A[ue]=F,Q=ue;else break e}}return O}function i(A,O){var F=A.sortIndex-O.sortIndex;return F!==0?F:A.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,g=!1,y=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(A){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=A)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function w(A){if(m=!1,_(A),!y)if(n(l)!==null)y=!0,ee(S);else{var O=n(c);O!==null&&te(w,O.startTime-A)}}function S(A,O){y=!1,m&&(m=!1,p(b),b=-1),g=!0;var F=f;try{for(_(O),d=n(l);d!==null&&(!(d.expirationTime>O)||A&&!N());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,f=d.priorityLevel;var X=Q(d.expirationTime<=O);O=t.unstable_now(),typeof X=="function"?d.callback=X:d===n(l)&&r(l),_(O)}else r(l);d=n(l)}if(d!==null)var oe=!0;else{var ce=n(c);ce!==null&&te(w,ce.startTime-O),oe=!1}return oe}finally{d=null,f=F,g=!1}}var E=!1,M=null,b=-1,P=5,L=-1;function N(){return!(t.unstable_now()-L<P)}function R(){if(M!==null){var A=t.unstable_now();L=A;var O=!0;try{O=M(!0,A)}finally{O?V():(E=!1,M=null)}}else E=!1}var V;if(typeof v=="function")V=function(){v(R)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,J=q.port2;q.port1.onmessage=R,V=function(){J.postMessage(null)}}else V=function(){x(R,0)};function ee(A){M=A,E||(E=!0,V())}function te(A,O){b=x(function(){A(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,ee(S))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var F=f;f=O;try{return A()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,O){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var F=f;f=A;try{return O()}finally{f=F}},t.unstable_scheduleCallback=function(A,O,F){var Q=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Q+F:Q):F=Q,A){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=F+X,A={id:u++,callback:O,priorityLevel:A,startTime:F,expirationTime:X,sortIndex:-1},F>Q?(A.sortIndex=F,e(c,A),n(l)===null&&A===n(c)&&(m?(p(b),b=-1):m=!0,te(w,F-Q))):(A.sortIndex=X,e(l,A),y||g||(y=!0,ee(S))),A},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(A){var O=f;return function(){var F=f;f=O;try{return A.apply(this,arguments)}finally{f=F}}}})(A0);N0.exports=A0;var C_=N0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_=k,Bt=C_;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I0=new Set,jo={};function xi(t,e){cs(t,e),cs(t+"Capture",e)}function cs(t,e){for(jo[t]=e,t=0;t<e.length;t++)I0.add(e[t])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),od=Object.prototype.hasOwnProperty,P_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gp={},mp={};function T_(t){return od.call(mp,t)?!0:od.call(gp,t)?!1:P_.test(t)?mp[t]=!0:(gp[t]=!0,!1)}function R_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L_(t,e,n,r){if(e===null||typeof e>"u"||R_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _t(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new _t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new _t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new _t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new _t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new _t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){st[t]=new _t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){st[t]=new _t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){st[t]=new _t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){st[t]=new _t(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ph=/[\-:]([a-z])/g;function Th(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ph,Th);st[e]=new _t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ph,Th);st[e]=new _t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ph,Th);st[e]=new _t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){st[t]=new _t(t,1,!1,t.toLowerCase(),null,!1,!1)});st.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){st[t]=new _t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rh(t,e,n,r){var i=st.hasOwnProperty(e)?st[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(L_(e,n,i,r)&&(n=null),r||i===null?T_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yn=M_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pa=Symbol.for("react.element"),Ii=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),Lh=Symbol.for("react.strict_mode"),ad=Symbol.for("react.profiler"),F0=Symbol.for("react.provider"),z0=Symbol.for("react.context"),Oh=Symbol.for("react.forward_ref"),ld=Symbol.for("react.suspense"),cd=Symbol.for("react.suspense_list"),Dh=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),$0=Symbol.for("react.offscreen"),yp=Symbol.iterator;function Ts(t){return t===null||typeof t!="object"?null:(t=yp&&t[yp]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,lu;function qs(t){if(lu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lu=e&&e[1]||""}return`
`+lu+t}var cu=!1;function uu(t,e){if(!t||cu)return"";cu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{cu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qs(t):""}function O_(t){switch(t.tag){case 5:return qs(t.type);case 16:return qs("Lazy");case 13:return qs("Suspense");case 19:return qs("SuspenseList");case 0:case 2:case 15:return t=uu(t.type,!1),t;case 11:return t=uu(t.type.render,!1),t;case 1:return t=uu(t.type,!0),t;default:return""}}function ud(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fi:return"Fragment";case Ii:return"Portal";case ad:return"Profiler";case Lh:return"StrictMode";case ld:return"Suspense";case cd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case z0:return(t.displayName||"Context")+".Consumer";case F0:return(t._context.displayName||"Context")+".Provider";case Oh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dh:return e=t.displayName||null,e!==null?e:ud(t.type)||"Memo";case sr:e=t._payload,t=t._init;try{return ud(t(e))}catch{}}return null}function D_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ud(e);case 8:return e===Lh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function B0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function N_(t){var e=B0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ta(t){t._valueTracker||(t._valueTracker=N_(t))}function U0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=B0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dd(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function H0(t,e){e=e.checked,e!=null&&Rh(t,"checked",e,!1)}function hd(t,e){H0(t,e);var n=Mr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fd(t,e.type,n):e.hasOwnProperty("defaultValue")&&fd(t,e.type,Mr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fd(t,e,n){(e!=="number"||Nl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xs=Array.isArray;function Zi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function pd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _p(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(Xs(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mr(n)}}function W0(t,e){var n=Mr(e.value),r=Mr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function V0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?V0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ra,Y0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ra=Ra||document.createElement("div"),Ra.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ra.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var so={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A_=["Webkit","ms","Moz","O"];Object.keys(so).forEach(function(t){A_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),so[e]=so[t]})});function K0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||so.hasOwnProperty(t)&&so[t]?(""+e).trim():e+"px"}function q0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=K0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var I_=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function md(t,e){if(e){if(I_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function yd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vd=null;function Nh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xd=null,es=null,ts=null;function bp(t){if(t=aa(t)){if(typeof xd!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Tc(e),xd(t.stateNode,t.type,e))}}function X0(t){es?ts?ts.push(t):ts=[t]:es=t}function G0(){if(es){var t=es,e=ts;if(ts=es=null,bp(t),e)for(t=0;t<e.length;t++)bp(e[t])}}function J0(t,e){return t(e)}function Q0(){}var du=!1;function Z0(t,e,n){if(du)return t(e,n);du=!0;try{return J0(t,e,n)}finally{du=!1,(es!==null||ts!==null)&&(Q0(),G0())}}function Co(t,e){var n=t.stateNode;if(n===null)return null;var r=Tc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var _d=!1;if($n)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){_d=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{_d=!1}function F_(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var oo=!1,Al=null,Il=!1,wd=null,z_={onError:function(t){oo=!0,Al=t}};function $_(t,e,n,r,i,s,o,a,l){oo=!1,Al=null,F_.apply(z_,arguments)}function B_(t,e,n,r,i,s,o,a,l){if($_.apply(this,arguments),oo){if(oo){var c=Al;oo=!1,Al=null}else throw Error(I(198));Il||(Il=!0,wd=c)}}function _i(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ey(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kp(t){if(_i(t)!==t)throw Error(I(188))}function U_(t){var e=t.alternate;if(!e){if(e=_i(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return kp(i),t;if(s===r)return kp(i),e;s=s.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function ty(t){return t=U_(t),t!==null?ny(t):null}function ny(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ny(t);if(e!==null)return e;t=t.sibling}return null}var ry=Bt.unstable_scheduleCallback,Sp=Bt.unstable_cancelCallback,H_=Bt.unstable_shouldYield,W_=Bt.unstable_requestPaint,Ue=Bt.unstable_now,V_=Bt.unstable_getCurrentPriorityLevel,Ah=Bt.unstable_ImmediatePriority,iy=Bt.unstable_UserBlockingPriority,Fl=Bt.unstable_NormalPriority,Y_=Bt.unstable_LowPriority,sy=Bt.unstable_IdlePriority,Ec=null,xn=null;function K_(t){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Ec,t,void 0,(t.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:G_,q_=Math.log,X_=Math.LN2;function G_(t){return t>>>=0,t===0?32:31-(q_(t)/X_|0)|0}var La=64,Oa=4194304;function Gs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Gs(a):(s&=o,s!==0&&(r=Gs(s)))}else o=n&~i,o!==0?r=Gs(o):s!==0&&(r=Gs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ln(e),i=1<<n,r|=t[n],e&=~i;return r}function J_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ln(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=J_(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function bd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oy(){var t=La;return La<<=1,!(La&4194240)&&(La=64),t}function hu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ln(e),t[e]=n}function Z_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ln(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ih(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ln(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function ay(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ly,Fh,cy,uy,dy,kd=!1,Da=[],vr=null,xr=null,_r=null,Mo=new Map,Po=new Map,lr=[],ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jp(t,e){switch(t){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Mo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(e.pointerId)}}function Ls(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=aa(e),e!==null&&Fh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function tw(t,e,n,r,i){switch(e){case"focusin":return vr=Ls(vr,t,e,n,r,i),!0;case"dragenter":return xr=Ls(xr,t,e,n,r,i),!0;case"mouseover":return _r=Ls(_r,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Mo.set(s,Ls(Mo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Po.set(s,Ls(Po.get(s)||null,t,e,n,r,i)),!0}return!1}function hy(t){var e=ti(t.target);if(e!==null){var n=_i(e);if(n!==null){if(e=n.tag,e===13){if(e=ey(n),e!==null){t.blockedOn=e,dy(t.priority,function(){cy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vd=r,n.target.dispatchEvent(r),vd=null}else return e=aa(n),e!==null&&Fh(e),t.blockedOn=n,!1;e.shift()}return!0}function Ep(t,e,n){xl(t)&&n.delete(e)}function nw(){kd=!1,vr!==null&&xl(vr)&&(vr=null),xr!==null&&xl(xr)&&(xr=null),_r!==null&&xl(_r)&&(_r=null),Mo.forEach(Ep),Po.forEach(Ep)}function Os(t,e){t.blockedOn===e&&(t.blockedOn=null,kd||(kd=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,nw)))}function To(t){function e(i){return Os(i,t)}if(0<Da.length){Os(Da[0],t);for(var n=1;n<Da.length;n++){var r=Da[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vr!==null&&Os(vr,t),xr!==null&&Os(xr,t),_r!==null&&Os(_r,t),Mo.forEach(e),Po.forEach(e),n=0;n<lr.length;n++)r=lr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<lr.length&&(n=lr[0],n.blockedOn===null);)hy(n),n.blockedOn===null&&lr.shift()}var ns=Yn.ReactCurrentBatchConfig,$l=!0;function rw(t,e,n,r){var i=_e,s=ns.transition;ns.transition=null;try{_e=1,zh(t,e,n,r)}finally{_e=i,ns.transition=s}}function iw(t,e,n,r){var i=_e,s=ns.transition;ns.transition=null;try{_e=4,zh(t,e,n,r)}finally{_e=i,ns.transition=s}}function zh(t,e,n,r){if($l){var i=Sd(t,e,n,r);if(i===null)bu(t,e,r,Bl,n),jp(t,r);else if(tw(i,t,e,n,r))r.stopPropagation();else if(jp(t,r),e&4&&-1<ew.indexOf(t)){for(;i!==null;){var s=aa(i);if(s!==null&&ly(s),s=Sd(t,e,n,r),s===null&&bu(t,e,r,Bl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else bu(t,e,r,null,n)}}var Bl=null;function Sd(t,e,n,r){if(Bl=null,t=Nh(r),t=ti(t),t!==null)if(e=_i(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ey(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bl=t,null}function fy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V_()){case Ah:return 1;case iy:return 4;case Fl:case Y_:return 16;case sy:return 536870912;default:return 16}default:return 16}}var dr=null,$h=null,_l=null;function py(){if(_l)return _l;var t,e=$h,n=e.length,r,i="value"in dr?dr.value:dr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _l=i.slice(t,1<r?1-r:void 0)}function wl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Na(){return!0}function Cp(){return!1}function Ht(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Na:Cp,this.isPropagationStopped=Cp,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),e}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bh=Ht(ks),oa=Oe({},ks,{view:0,detail:0}),sw=Ht(oa),fu,pu,Ds,Cc=Oe({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ds&&(Ds&&t.type==="mousemove"?(fu=t.screenX-Ds.screenX,pu=t.screenY-Ds.screenY):pu=fu=0,Ds=t),fu)},movementY:function(t){return"movementY"in t?t.movementY:pu}}),Mp=Ht(Cc),ow=Oe({},Cc,{dataTransfer:0}),aw=Ht(ow),lw=Oe({},oa,{relatedTarget:0}),gu=Ht(lw),cw=Oe({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),uw=Ht(cw),dw=Oe({},ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hw=Ht(dw),fw=Oe({},ks,{data:0}),Pp=Ht(fw),pw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mw[t])?!!e[t]:!1}function Uh(){return yw}var vw=Oe({},oa,{key:function(t){if(t.key){var e=pw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uh,charCode:function(t){return t.type==="keypress"?wl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xw=Ht(vw),_w=Oe({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tp=Ht(_w),ww=Oe({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uh}),bw=Ht(ww),kw=Oe({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sw=Ht(kw),jw=Oe({},Cc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ew=Ht(jw),Cw=[9,13,27,32],Hh=$n&&"CompositionEvent"in window,ao=null;$n&&"documentMode"in document&&(ao=document.documentMode);var Mw=$n&&"TextEvent"in window&&!ao,gy=$n&&(!Hh||ao&&8<ao&&11>=ao),Rp=" ",Lp=!1;function my(t,e){switch(t){case"keyup":return Cw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zi=!1;function Pw(t,e){switch(t){case"compositionend":return yy(e);case"keypress":return e.which!==32?null:(Lp=!0,Rp);case"textInput":return t=e.data,t===Rp&&Lp?null:t;default:return null}}function Tw(t,e){if(zi)return t==="compositionend"||!Hh&&my(t,e)?(t=py(),_l=$h=dr=null,zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gy&&e.locale!=="ko"?null:e.data;default:return null}}var Rw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Op(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Rw[t.type]:e==="textarea"}function vy(t,e,n,r){X0(r),e=Ul(e,"onChange"),0<e.length&&(n=new Bh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lo=null,Ro=null;function Lw(t){Py(t,0)}function Mc(t){var e=Ui(t);if(U0(e))return t}function Ow(t,e){if(t==="change")return e}var xy=!1;if($n){var mu;if($n){var yu="oninput"in document;if(!yu){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),yu=typeof Dp.oninput=="function"}mu=yu}else mu=!1;xy=mu&&(!document.documentMode||9<document.documentMode)}function Np(){lo&&(lo.detachEvent("onpropertychange",_y),Ro=lo=null)}function _y(t){if(t.propertyName==="value"&&Mc(Ro)){var e=[];vy(e,Ro,t,Nh(t)),Z0(Lw,e)}}function Dw(t,e,n){t==="focusin"?(Np(),lo=e,Ro=n,lo.attachEvent("onpropertychange",_y)):t==="focusout"&&Np()}function Nw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mc(Ro)}function Aw(t,e){if(t==="click")return Mc(e)}function Iw(t,e){if(t==="input"||t==="change")return Mc(e)}function Fw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hn=typeof Object.is=="function"?Object.is:Fw;function Lo(t,e){if(hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!od.call(e,i)||!hn(t[i],e[i]))return!1}return!0}function Ap(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ip(t,e){var n=Ap(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ap(n)}}function wy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function by(){for(var t=window,e=Nl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nl(t.document)}return e}function Wh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zw(t){var e=by(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wy(n.ownerDocument.documentElement,n)){if(r!==null&&Wh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ip(n,s);var o=Ip(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $w=$n&&"documentMode"in document&&11>=document.documentMode,$i=null,jd=null,co=null,Ed=!1;function Fp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ed||$i==null||$i!==Nl(r)||(r=$i,"selectionStart"in r&&Wh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),co&&Lo(co,r)||(co=r,r=Ul(jd,"onSelect"),0<r.length&&(e=new Bh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$i)))}function Aa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bi={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionend:Aa("Transition","TransitionEnd")},vu={},ky={};$n&&(ky=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Pc(t){if(vu[t])return vu[t];if(!Bi[t])return t;var e=Bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ky)return vu[t]=e[n];return t}var Sy=Pc("animationend"),jy=Pc("animationiteration"),Ey=Pc("animationstart"),Cy=Pc("transitionend"),My=new Map,zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(t,e){My.set(t,e),xi(e,[t])}for(var xu=0;xu<zp.length;xu++){var _u=zp[xu],Bw=_u.toLowerCase(),Uw=_u[0].toUpperCase()+_u.slice(1);Lr(Bw,"on"+Uw)}Lr(Sy,"onAnimationEnd");Lr(jy,"onAnimationIteration");Lr(Ey,"onAnimationStart");Lr("dblclick","onDoubleClick");Lr("focusin","onFocus");Lr("focusout","onBlur");Lr(Cy,"onTransitionEnd");cs("onMouseEnter",["mouseout","mouseover"]);cs("onMouseLeave",["mouseout","mouseover"]);cs("onPointerEnter",["pointerout","pointerover"]);cs("onPointerLeave",["pointerout","pointerover"]);xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Js));function $p(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,B_(r,e,void 0,t),t.currentTarget=null}function Py(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;$p(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;$p(i,a,c),s=l}}}if(Il)throw t=wd,Il=!1,wd=null,t}function Ce(t,e){var n=e[Rd];n===void 0&&(n=e[Rd]=new Set);var r=t+"__bubble";n.has(r)||(Ty(e,t,2,!1),n.add(r))}function wu(t,e,n){var r=0;e&&(r|=4),Ty(n,t,r,e)}var Ia="_reactListening"+Math.random().toString(36).slice(2);function Oo(t){if(!t[Ia]){t[Ia]=!0,I0.forEach(function(n){n!=="selectionchange"&&(Hw.has(n)||wu(n,!1,t),wu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ia]||(e[Ia]=!0,wu("selectionchange",!1,e))}}function Ty(t,e,n,r){switch(fy(e)){case 1:var i=rw;break;case 4:i=iw;break;default:i=zh}n=i.bind(null,e,n,t),i=void 0,!_d||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ti(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Z0(function(){var c=s,u=Nh(n),d=[];e:{var f=My.get(t);if(f!==void 0){var g=Bh,y=t;switch(t){case"keypress":if(wl(n)===0)break e;case"keydown":case"keyup":g=xw;break;case"focusin":y="focus",g=gu;break;case"focusout":y="blur",g=gu;break;case"beforeblur":case"afterblur":g=gu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=aw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=bw;break;case Sy:case jy:case Ey:g=uw;break;case Cy:g=Sw;break;case"scroll":g=sw;break;case"wheel":g=Ew;break;case"copy":case"cut":case"paste":g=hw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Tp}var m=(e&4)!==0,x=!m&&t==="scroll",p=m?f!==null?f+"Capture":null:f;m=[];for(var v=c,_;v!==null;){_=v;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,p!==null&&(w=Co(v,p),w!=null&&m.push(Do(v,w,_)))),x)break;v=v.return}0<m.length&&(f=new g(f,y,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==vd&&(y=n.relatedTarget||n.fromElement)&&(ti(y)||y[Bn]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=c,y=y?ti(y):null,y!==null&&(x=_i(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=c),g!==y)){if(m=Mp,w="onMouseLeave",p="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=Tp,w="onPointerLeave",p="onPointerEnter",v="pointer"),x=g==null?f:Ui(g),_=y==null?f:Ui(y),f=new m(w,v+"leave",g,n,u),f.target=x,f.relatedTarget=_,w=null,ti(u)===c&&(m=new m(p,v+"enter",y,n,u),m.target=_,m.relatedTarget=x,w=m),x=w,g&&y)t:{for(m=g,p=y,v=0,_=m;_;_=Mi(_))v++;for(_=0,w=p;w;w=Mi(w))_++;for(;0<v-_;)m=Mi(m),v--;for(;0<_-v;)p=Mi(p),_--;for(;v--;){if(m===p||p!==null&&m===p.alternate)break t;m=Mi(m),p=Mi(p)}m=null}else m=null;g!==null&&Bp(d,f,g,m,!1),y!==null&&x!==null&&Bp(d,x,y,m,!0)}}e:{if(f=c?Ui(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=Ow;else if(Op(f))if(xy)S=Iw;else{S=Nw;var E=Dw}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Aw);if(S&&(S=S(t,c))){vy(d,S,n,u);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&fd(f,"number",f.value)}switch(E=c?Ui(c):window,t){case"focusin":(Op(E)||E.contentEditable==="true")&&($i=E,jd=c,co=null);break;case"focusout":co=jd=$i=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,Fp(d,n,u);break;case"selectionchange":if($w)break;case"keydown":case"keyup":Fp(d,n,u)}var M;if(Hh)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zi?my(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(gy&&n.locale!=="ko"&&(zi||b!=="onCompositionStart"?b==="onCompositionEnd"&&zi&&(M=py()):(dr=u,$h="value"in dr?dr.value:dr.textContent,zi=!0)),E=Ul(c,b),0<E.length&&(b=new Pp(b,t,null,n,u),d.push({event:b,listeners:E}),M?b.data=M:(M=yy(n),M!==null&&(b.data=M)))),(M=Mw?Pw(t,n):Tw(t,n))&&(c=Ul(c,"onBeforeInput"),0<c.length&&(u=new Pp("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=M))}Py(d,e)})}function Do(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ul(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Co(t,n),s!=null&&r.unshift(Do(t,s,i)),s=Co(t,e),s!=null&&r.push(Do(t,s,i))),t=t.return}return r}function Mi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bp(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Co(n,s),l!=null&&o.unshift(Do(n,l,a))):i||(l=Co(n,s),l!=null&&o.push(Do(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ww=/\r\n?/g,Vw=/\u0000|\uFFFD/g;function Up(t){return(typeof t=="string"?t:""+t).replace(Ww,`
`).replace(Vw,"")}function Fa(t,e,n){if(e=Up(e),Up(t)!==e&&n)throw Error(I(425))}function Hl(){}var Cd=null,Md=null;function Pd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Td=typeof setTimeout=="function"?setTimeout:void 0,Yw=typeof clearTimeout=="function"?clearTimeout:void 0,Hp=typeof Promise=="function"?Promise:void 0,Kw=typeof queueMicrotask=="function"?queueMicrotask:typeof Hp<"u"?function(t){return Hp.resolve(null).then(t).catch(qw)}:Td;function qw(t){setTimeout(function(){throw t})}function ku(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),To(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);To(e)}function wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),vn="__reactFiber$"+Ss,No="__reactProps$"+Ss,Bn="__reactContainer$"+Ss,Rd="__reactEvents$"+Ss,Xw="__reactListeners$"+Ss,Gw="__reactHandles$"+Ss;function ti(t){var e=t[vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bn]||n[vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wp(t);t!==null;){if(n=t[vn])return n;t=Wp(t)}return e}t=n,n=t.parentNode}return null}function aa(t){return t=t[vn]||t[Bn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ui(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Tc(t){return t[No]||null}var Ld=[],Hi=-1;function Or(t){return{current:t}}function Me(t){0>Hi||(t.current=Ld[Hi],Ld[Hi]=null,Hi--)}function je(t,e){Hi++,Ld[Hi]=t.current,t.current=e}var Pr={},dt=Or(Pr),Ct=Or(!1),ui=Pr;function us(t,e){var n=t.type.contextTypes;if(!n)return Pr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mt(t){return t=t.childContextTypes,t!=null}function Wl(){Me(Ct),Me(dt)}function Vp(t,e,n){if(dt.current!==Pr)throw Error(I(168));je(dt,e),je(Ct,n)}function Ry(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(I(108,D_(t)||"Unknown",i));return Oe({},n,r)}function Vl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pr,ui=dt.current,je(dt,t),je(Ct,Ct.current),!0}function Yp(t,e,n){var r=t.stateNode;if(!r)throw Error(I(169));n?(t=Ry(t,e,ui),r.__reactInternalMemoizedMergedChildContext=t,Me(Ct),Me(dt),je(dt,t)):Me(Ct),je(Ct,n)}var Ln=null,Rc=!1,Su=!1;function Ly(t){Ln===null?Ln=[t]:Ln.push(t)}function Jw(t){Rc=!0,Ly(t)}function Dr(){if(!Su&&Ln!==null){Su=!0;var t=0,e=_e;try{var n=Ln;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ln=null,Rc=!1}catch(i){throw Ln!==null&&(Ln=Ln.slice(t+1)),ry(Ah,Dr),i}finally{_e=e,Su=!1}}return null}var Wi=[],Vi=0,Yl=null,Kl=0,Vt=[],Yt=0,di=null,Dn=1,Nn="";function Kr(t,e){Wi[Vi++]=Kl,Wi[Vi++]=Yl,Yl=t,Kl=e}function Oy(t,e,n){Vt[Yt++]=Dn,Vt[Yt++]=Nn,Vt[Yt++]=di,di=t;var r=Dn;t=Nn;var i=32-ln(r)-1;r&=~(1<<i),n+=1;var s=32-ln(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dn=1<<32-ln(e)+i|n<<i|r,Nn=s+t}else Dn=1<<s|n<<i|r,Nn=t}function Vh(t){t.return!==null&&(Kr(t,1),Oy(t,1,0))}function Yh(t){for(;t===Yl;)Yl=Wi[--Vi],Wi[Vi]=null,Kl=Wi[--Vi],Wi[Vi]=null;for(;t===di;)di=Vt[--Yt],Vt[Yt]=null,Nn=Vt[--Yt],Vt[Yt]=null,Dn=Vt[--Yt],Vt[Yt]=null}var $t=null,It=null,Pe=!1,on=null;function Dy(t,e){var n=Kt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,It=wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,It=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=di!==null?{id:Dn,overflow:Nn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$t=t,It=null,!0):!1;default:return!1}}function Od(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dd(t){if(Pe){var e=It;if(e){var n=e;if(!Kp(t,e)){if(Od(t))throw Error(I(418));e=wr(n.nextSibling);var r=$t;e&&Kp(t,e)?Dy(r,n):(t.flags=t.flags&-4097|2,Pe=!1,$t=t)}}else{if(Od(t))throw Error(I(418));t.flags=t.flags&-4097|2,Pe=!1,$t=t}}}function qp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function za(t){if(t!==$t)return!1;if(!Pe)return qp(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pd(t.type,t.memoizedProps)),e&&(e=It)){if(Od(t))throw Ny(),Error(I(418));for(;e;)Dy(t,e),e=wr(e.nextSibling)}if(qp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){It=wr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}It=null}}else It=$t?wr(t.stateNode.nextSibling):null;return!0}function Ny(){for(var t=It;t;)t=wr(t.nextSibling)}function ds(){It=$t=null,Pe=!1}function Kh(t){on===null?on=[t]:on.push(t)}var Qw=Yn.ReactCurrentBatchConfig;function Ns(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function $a(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xp(t){var e=t._init;return e(t._payload)}function Ay(t){function e(p,v){if(t){var _=p.deletions;_===null?(p.deletions=[v],p.flags|=16):_.push(v)}}function n(p,v){if(!t)return null;for(;v!==null;)e(p,v),v=v.sibling;return null}function r(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function i(p,v){return p=jr(p,v),p.index=0,p.sibling=null,p}function s(p,v,_){return p.index=_,t?(_=p.alternate,_!==null?(_=_.index,_<v?(p.flags|=2,v):_):(p.flags|=2,v)):(p.flags|=1048576,v)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,v,_,w){return v===null||v.tag!==6?(v=Ru(_,p.mode,w),v.return=p,v):(v=i(v,_),v.return=p,v)}function l(p,v,_,w){var S=_.type;return S===Fi?u(p,v,_.props.children,w,_.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===sr&&Xp(S)===v.type)?(w=i(v,_.props),w.ref=Ns(p,v,_),w.return=p,w):(w=Ml(_.type,_.key,_.props,null,p.mode,w),w.ref=Ns(p,v,_),w.return=p,w)}function c(p,v,_,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=Lu(_,p.mode,w),v.return=p,v):(v=i(v,_.children||[]),v.return=p,v)}function u(p,v,_,w,S){return v===null||v.tag!==7?(v=ai(_,p.mode,w,S),v.return=p,v):(v=i(v,_),v.return=p,v)}function d(p,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ru(""+v,p.mode,_),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Pa:return _=Ml(v.type,v.key,v.props,null,p.mode,_),_.ref=Ns(p,null,v),_.return=p,_;case Ii:return v=Lu(v,p.mode,_),v.return=p,v;case sr:var w=v._init;return d(p,w(v._payload),_)}if(Xs(v)||Ts(v))return v=ai(v,p.mode,_,null),v.return=p,v;$a(p,v)}return null}function f(p,v,_,w){var S=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(p,v,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Pa:return _.key===S?l(p,v,_,w):null;case Ii:return _.key===S?c(p,v,_,w):null;case sr:return S=_._init,f(p,v,S(_._payload),w)}if(Xs(_)||Ts(_))return S!==null?null:u(p,v,_,w,null);$a(p,_)}return null}function g(p,v,_,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(_)||null,a(v,p,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pa:return p=p.get(w.key===null?_:w.key)||null,l(v,p,w,S);case Ii:return p=p.get(w.key===null?_:w.key)||null,c(v,p,w,S);case sr:var E=w._init;return g(p,v,_,E(w._payload),S)}if(Xs(w)||Ts(w))return p=p.get(_)||null,u(v,p,w,S,null);$a(v,w)}return null}function y(p,v,_,w){for(var S=null,E=null,M=v,b=v=0,P=null;M!==null&&b<_.length;b++){M.index>b?(P=M,M=null):P=M.sibling;var L=f(p,M,_[b],w);if(L===null){M===null&&(M=P);break}t&&M&&L.alternate===null&&e(p,M),v=s(L,v,b),E===null?S=L:E.sibling=L,E=L,M=P}if(b===_.length)return n(p,M),Pe&&Kr(p,b),S;if(M===null){for(;b<_.length;b++)M=d(p,_[b],w),M!==null&&(v=s(M,v,b),E===null?S=M:E.sibling=M,E=M);return Pe&&Kr(p,b),S}for(M=r(p,M);b<_.length;b++)P=g(M,p,b,_[b],w),P!==null&&(t&&P.alternate!==null&&M.delete(P.key===null?b:P.key),v=s(P,v,b),E===null?S=P:E.sibling=P,E=P);return t&&M.forEach(function(N){return e(p,N)}),Pe&&Kr(p,b),S}function m(p,v,_,w){var S=Ts(_);if(typeof S!="function")throw Error(I(150));if(_=S.call(_),_==null)throw Error(I(151));for(var E=S=null,M=v,b=v=0,P=null,L=_.next();M!==null&&!L.done;b++,L=_.next()){M.index>b?(P=M,M=null):P=M.sibling;var N=f(p,M,L.value,w);if(N===null){M===null&&(M=P);break}t&&M&&N.alternate===null&&e(p,M),v=s(N,v,b),E===null?S=N:E.sibling=N,E=N,M=P}if(L.done)return n(p,M),Pe&&Kr(p,b),S;if(M===null){for(;!L.done;b++,L=_.next())L=d(p,L.value,w),L!==null&&(v=s(L,v,b),E===null?S=L:E.sibling=L,E=L);return Pe&&Kr(p,b),S}for(M=r(p,M);!L.done;b++,L=_.next())L=g(M,p,b,L.value,w),L!==null&&(t&&L.alternate!==null&&M.delete(L.key===null?b:L.key),v=s(L,v,b),E===null?S=L:E.sibling=L,E=L);return t&&M.forEach(function(R){return e(p,R)}),Pe&&Kr(p,b),S}function x(p,v,_,w){if(typeof _=="object"&&_!==null&&_.type===Fi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Pa:e:{for(var S=_.key,E=v;E!==null;){if(E.key===S){if(S=_.type,S===Fi){if(E.tag===7){n(p,E.sibling),v=i(E,_.props.children),v.return=p,p=v;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===sr&&Xp(S)===E.type){n(p,E.sibling),v=i(E,_.props),v.ref=Ns(p,E,_),v.return=p,p=v;break e}n(p,E);break}else e(p,E);E=E.sibling}_.type===Fi?(v=ai(_.props.children,p.mode,w,_.key),v.return=p,p=v):(w=Ml(_.type,_.key,_.props,null,p.mode,w),w.ref=Ns(p,v,_),w.return=p,p=w)}return o(p);case Ii:e:{for(E=_.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(p,v.sibling),v=i(v,_.children||[]),v.return=p,p=v;break e}else{n(p,v);break}else e(p,v);v=v.sibling}v=Lu(_,p.mode,w),v.return=p,p=v}return o(p);case sr:return E=_._init,x(p,v,E(_._payload),w)}if(Xs(_))return y(p,v,_,w);if(Ts(_))return m(p,v,_,w);$a(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(p,v.sibling),v=i(v,_),v.return=p,p=v):(n(p,v),v=Ru(_,p.mode,w),v.return=p,p=v),o(p)):n(p,v)}return x}var hs=Ay(!0),Iy=Ay(!1),ql=Or(null),Xl=null,Yi=null,qh=null;function Xh(){qh=Yi=Xl=null}function Gh(t){var e=ql.current;Me(ql),t._currentValue=e}function Nd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function rs(t,e){Xl=t,qh=Yi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Et=!0),t.firstContext=null)}function Jt(t){var e=t._currentValue;if(qh!==t)if(t={context:t,memoizedValue:e,next:null},Yi===null){if(Xl===null)throw Error(I(308));Yi=t,Xl.dependencies={lanes:0,firstContext:t}}else Yi=Yi.next=t;return e}var ni=null;function Jh(t){ni===null?ni=[t]:ni.push(t)}function Fy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Jh(e)):(n.next=i.next,i.next=n),e.interleaved=n,Un(t,r)}function Un(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var or=!1;function Qh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function br(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Un(t,n)}return i=r.interleaved,i===null?(e.next=e,Jh(r)):(e.next=i.next,i.next=e),r.interleaved=e,Un(t,n)}function bl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ih(t,n)}}function Gp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gl(t,e,n,r){var i=t.updateQueue;or=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,m=a;switch(f=e,g=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){d=y.call(g,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,f=typeof y=="function"?y.call(g,d,f):y,f==null)break e;d=Oe({},d,f);break e;case 2:or=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=d):u=u.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fi|=o,t.lanes=o,t.memoizedState=d}}function Jp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var la={},_n=Or(la),Ao=Or(la),Io=Or(la);function ri(t){if(t===la)throw Error(I(174));return t}function Zh(t,e){switch(je(Io,e),je(Ao,t),je(_n,la),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gd(e,t)}Me(_n),je(_n,e)}function fs(){Me(_n),Me(Ao),Me(Io)}function $y(t){ri(Io.current);var e=ri(_n.current),n=gd(e,t.type);e!==n&&(je(Ao,t),je(_n,n))}function ef(t){Ao.current===t&&(Me(_n),Me(Ao))}var Re=Or(0);function Jl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ju=[];function tf(){for(var t=0;t<ju.length;t++)ju[t]._workInProgressVersionPrimary=null;ju.length=0}var kl=Yn.ReactCurrentDispatcher,Eu=Yn.ReactCurrentBatchConfig,hi=0,Le=null,Ke=null,et=null,Ql=!1,uo=!1,Fo=0,Zw=0;function ot(){throw Error(I(321))}function nf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hn(t[n],e[n]))return!1;return!0}function rf(t,e,n,r,i,s){if(hi=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kl.current=t===null||t.memoizedState===null?rb:ib,t=n(r,i),uo){s=0;do{if(uo=!1,Fo=0,25<=s)throw Error(I(301));s+=1,et=Ke=null,e.updateQueue=null,kl.current=sb,t=n(r,i)}while(uo)}if(kl.current=Zl,e=Ke!==null&&Ke.next!==null,hi=0,et=Ke=Le=null,Ql=!1,e)throw Error(I(300));return t}function sf(){var t=Fo!==0;return Fo=0,t}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Le.memoizedState=et=t:et=et.next=t,et}function Qt(){if(Ke===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=et===null?Le.memoizedState:et.next;if(e!==null)et=e,Ke=t;else{if(t===null)throw Error(I(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},et===null?Le.memoizedState=et=t:et=et.next=t}return et}function zo(t,e){return typeof e=="function"?e(t):e}function Cu(t){var e=Qt(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=Ke,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((hi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Le.lanes|=u,fi|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,hn(r,e.memoizedState)||(Et=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Le.lanes|=s,fi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mu(t){var e=Qt(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);hn(s,e.memoizedState)||(Et=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function By(){}function Uy(t,e){var n=Le,r=Qt(),i=e(),s=!hn(r.memoizedState,i);if(s&&(r.memoizedState=i,Et=!0),r=r.queue,of(Vy.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,$o(9,Wy.bind(null,n,r,i,e),void 0,null),nt===null)throw Error(I(349));hi&30||Hy(n,e,i)}return i}function Hy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Wy(t,e,n,r){e.value=n,e.getSnapshot=r,Yy(e)&&Ky(t)}function Vy(t,e,n){return n(function(){Yy(e)&&Ky(t)})}function Yy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hn(t,n)}catch{return!0}}function Ky(t){var e=Un(t,1);e!==null&&cn(e,t,1,-1)}function Qp(t){var e=mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:t},e.queue=t,t=t.dispatch=nb.bind(null,Le,t),[e.memoizedState,t]}function $o(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qy(){return Qt().memoizedState}function Sl(t,e,n,r){var i=mn();Le.flags|=t,i.memoizedState=$o(1|e,n,void 0,r===void 0?null:r)}function Lc(t,e,n,r){var i=Qt();r=r===void 0?null:r;var s=void 0;if(Ke!==null){var o=Ke.memoizedState;if(s=o.destroy,r!==null&&nf(r,o.deps)){i.memoizedState=$o(e,n,s,r);return}}Le.flags|=t,i.memoizedState=$o(1|e,n,s,r)}function Zp(t,e){return Sl(8390656,8,t,e)}function of(t,e){return Lc(2048,8,t,e)}function Xy(t,e){return Lc(4,2,t,e)}function Gy(t,e){return Lc(4,4,t,e)}function Jy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qy(t,e,n){return n=n!=null?n.concat([t]):null,Lc(4,4,Jy.bind(null,e,t),n)}function af(){}function Zy(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ev(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function tv(t,e,n){return hi&21?(hn(n,e)||(n=oy(),Le.lanes|=n,fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Et=!0),t.memoizedState=n)}function eb(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=Eu.transition;Eu.transition={};try{t(!1),e()}finally{_e=n,Eu.transition=r}}function nv(){return Qt().memoizedState}function tb(t,e,n){var r=Sr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rv(t))iv(e,n);else if(n=Fy(t,e,n,r),n!==null){var i=vt();cn(n,t,r,i),sv(n,e,r)}}function nb(t,e,n){var r=Sr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rv(t))iv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,hn(a,o)){var l=e.interleaved;l===null?(i.next=i,Jh(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Fy(t,e,i,r),n!==null&&(i=vt(),cn(n,t,r,i),sv(n,e,r))}}function rv(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function iv(t,e){uo=Ql=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ih(t,n)}}var Zl={readContext:Jt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},rb={readContext:Jt,useCallback:function(t,e){return mn().memoizedState=[t,e===void 0?null:e],t},useContext:Jt,useEffect:Zp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sl(4194308,4,Jy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sl(4,2,t,e)},useMemo:function(t,e){var n=mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=tb.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=mn();return t={current:t},e.memoizedState=t},useState:Qp,useDebugValue:af,useDeferredValue:function(t){return mn().memoizedState=t},useTransition:function(){var t=Qp(!1),e=t[0];return t=eb.bind(null,t[1]),mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,i=mn();if(Pe){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),nt===null)throw Error(I(349));hi&30||Hy(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Zp(Vy.bind(null,r,s,t),[t]),r.flags|=2048,$o(9,Wy.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=mn(),e=nt.identifierPrefix;if(Pe){var n=Nn,r=Dn;n=(r&~(1<<32-ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Zw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ib={readContext:Jt,useCallback:Zy,useContext:Jt,useEffect:of,useImperativeHandle:Qy,useInsertionEffect:Xy,useLayoutEffect:Gy,useMemo:ev,useReducer:Cu,useRef:qy,useState:function(){return Cu(zo)},useDebugValue:af,useDeferredValue:function(t){var e=Qt();return tv(e,Ke.memoizedState,t)},useTransition:function(){var t=Cu(zo)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:By,useSyncExternalStore:Uy,useId:nv,unstable_isNewReconciler:!1},sb={readContext:Jt,useCallback:Zy,useContext:Jt,useEffect:of,useImperativeHandle:Qy,useInsertionEffect:Xy,useLayoutEffect:Gy,useMemo:ev,useReducer:Mu,useRef:qy,useState:function(){return Mu(zo)},useDebugValue:af,useDeferredValue:function(t){var e=Qt();return Ke===null?e.memoizedState=t:tv(e,Ke.memoizedState,t)},useTransition:function(){var t=Mu(zo)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:By,useSyncExternalStore:Uy,useId:nv,unstable_isNewReconciler:!1};function tn(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ad(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Oc={isMounted:function(t){return(t=t._reactInternals)?_i(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vt(),i=Sr(t),s=Fn(r,i);s.payload=e,n!=null&&(s.callback=n),e=br(t,s,i),e!==null&&(cn(e,t,i,r),bl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vt(),i=Sr(t),s=Fn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=br(t,s,i),e!==null&&(cn(e,t,i,r),bl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),r=Sr(t),i=Fn(n,r);i.tag=2,e!=null&&(i.callback=e),e=br(t,i,r),e!==null&&(cn(e,t,r,n),bl(e,t,r))}};function eg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Lo(n,r)||!Lo(i,s):!0}function ov(t,e,n){var r=!1,i=Pr,s=e.contextType;return typeof s=="object"&&s!==null?s=Jt(s):(i=Mt(e)?ui:dt.current,r=e.contextTypes,s=(r=r!=null)?us(t,i):Pr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Oc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function tg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Oc.enqueueReplaceState(e,e.state,null)}function Id(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Qh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Jt(s):(s=Mt(e)?ui:dt.current,i.context=us(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ad(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Oc.enqueueReplaceState(i,i.state,null),Gl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ps(t,e){try{var n="",r=e;do n+=O_(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Pu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ob=typeof WeakMap=="function"?WeakMap:Map;function av(t,e,n){n=Fn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tc||(tc=!0,qd=r),Fd(t,e)},n}function lv(t,e,n){n=Fn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Fd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Fd(t,e),typeof r!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ng(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ob;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=_b.bind(null,t,e,n),e.then(t,t))}function rg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ig(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fn(-1,1),e.tag=2,br(n,e,1))),n.lanes|=1),t)}var ab=Yn.ReactCurrentOwner,Et=!1;function pt(t,e,n,r){e.child=t===null?Iy(e,null,n,r):hs(e,t.child,n,r)}function sg(t,e,n,r,i){n=n.render;var s=e.ref;return rs(e,i),r=rf(t,e,n,r,s,i),n=sf(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hn(t,e,i)):(Pe&&n&&Vh(e),e.flags|=1,pt(t,e,r,i),e.child)}function og(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!gf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,cv(t,e,s,r,i)):(t=Ml(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Lo,n(o,r)&&t.ref===e.ref)return Hn(t,e,i)}return e.flags|=1,t=jr(s,r),t.ref=e.ref,t.return=e,e.child=t}function cv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Lo(s,r)&&t.ref===e.ref)if(Et=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Et=!0);else return e.lanes=t.lanes,Hn(t,e,i)}return zd(t,e,n,r,i)}function uv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(qi,Nt),Nt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(qi,Nt),Nt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,je(qi,Nt),Nt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,je(qi,Nt),Nt|=r;return pt(t,e,i,n),e.child}function dv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zd(t,e,n,r,i){var s=Mt(n)?ui:dt.current;return s=us(e,s),rs(e,i),n=rf(t,e,n,r,s,i),r=sf(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hn(t,e,i)):(Pe&&r&&Vh(e),e.flags|=1,pt(t,e,n,i),e.child)}function ag(t,e,n,r,i){if(Mt(n)){var s=!0;Vl(e)}else s=!1;if(rs(e,i),e.stateNode===null)jl(t,e),ov(e,n,r),Id(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Jt(c):(c=Mt(n)?ui:dt.current,c=us(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&tg(e,o,r,c),or=!1;var f=e.memoizedState;o.state=f,Gl(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Ct.current||or?(typeof u=="function"&&(Ad(e,n,u,r),l=e.memoizedState),(a=or||eg(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zy(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:tn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jt(l):(l=Mt(n)?ui:dt.current,l=us(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&tg(e,o,r,l),or=!1,f=e.memoizedState,o.state=f,Gl(e,r,o,i);var y=e.memoizedState;a!==d||f!==y||Ct.current||or?(typeof g=="function"&&(Ad(e,n,g,r),y=e.memoizedState),(c=or||eg(e,n,c,r,f,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return $d(t,e,n,r,s,i)}function $d(t,e,n,r,i,s){dv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Yp(e,n,!1),Hn(t,e,s);r=e.stateNode,ab.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=hs(e,t.child,null,s),e.child=hs(e,null,a,s)):pt(t,e,a,s),e.memoizedState=r.state,i&&Yp(e,n,!0),e.child}function hv(t){var e=t.stateNode;e.pendingContext?Vp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vp(t,e.context,!1),Zh(t,e.containerInfo)}function lg(t,e,n,r,i){return ds(),Kh(i),e.flags|=256,pt(t,e,n,r),e.child}var Bd={dehydrated:null,treeContext:null,retryLane:0};function Ud(t){return{baseLanes:t,cachePool:null,transitions:null}}function fv(t,e,n){var r=e.pendingProps,i=Re.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(Re,i&1),t===null)return Dd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ac(o,r,0,null),t=ai(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ud(n),e.memoizedState=Bd,t):lf(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return lb(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=jr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=jr(a,s):(s=ai(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ud(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Bd,r}return s=t.child,t=s.sibling,r=jr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lf(t,e){return e=Ac({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ba(t,e,n,r){return r!==null&&Kh(r),hs(e,t.child,null,n),t=lf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lb(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Pu(Error(I(422))),Ba(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ac({mode:"visible",children:r.children},i,0,null),s=ai(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&hs(e,t.child,null,o),e.child.memoizedState=Ud(o),e.memoizedState=Bd,s);if(!(e.mode&1))return Ba(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(I(419)),r=Pu(s,r,void 0),Ba(t,e,o,r)}if(a=(o&t.childLanes)!==0,Et||a){if(r=nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Un(t,i),cn(r,t,i,-1))}return pf(),r=Pu(Error(I(421))),Ba(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,It=wr(i.nextSibling),$t=e,Pe=!0,on=null,t!==null&&(Vt[Yt++]=Dn,Vt[Yt++]=Nn,Vt[Yt++]=di,Dn=t.id,Nn=t.overflow,di=e),e=lf(e,r.children),e.flags|=4096,e)}function cg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nd(t.return,e,n)}function Tu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function pv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(pt(t,e,r.children,n),r=Re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cg(t,n,e);else if(t.tag===19)cg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Re,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Jl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Jl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tu(e,!0,n,null,s);break;case"together":Tu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=jr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cb(t,e,n){switch(e.tag){case 3:hv(e),ds();break;case 5:$y(e);break;case 1:Mt(e.type)&&Vl(e);break;case 4:Zh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;je(ql,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Re,Re.current&1),e.flags|=128,null):n&e.child.childLanes?fv(t,e,n):(je(Re,Re.current&1),t=Hn(t,e,n),t!==null?t.sibling:null);je(Re,Re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Re,Re.current),r)break;return null;case 22:case 23:return e.lanes=0,uv(t,e,n)}return Hn(t,e,n)}var gv,Hd,mv,yv;gv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hd=function(){};mv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ri(_n.current);var s=null;switch(n){case"input":i=dd(t,i),r=dd(t,r),s=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),s=[];break;case"textarea":i=pd(t,i),r=pd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hl)}md(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ce("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};yv=function(t,e,n,r){n!==r&&(e.flags|=4)};function As(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ub(t,e,n){var r=e.pendingProps;switch(Yh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return Mt(e.type)&&Wl(),at(e),null;case 3:return r=e.stateNode,fs(),Me(Ct),Me(dt),tf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(za(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,on!==null&&(Jd(on),on=null))),Hd(t,e),at(e),null;case 5:ef(e);var i=ri(Io.current);if(n=e.type,t!==null&&e.stateNode!=null)mv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(I(166));return at(e),null}if(t=ri(_n.current),za(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vn]=e,r[No]=s,t=(e.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(i=0;i<Js.length;i++)Ce(Js[i],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":vp(r,s),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ce("invalid",r);break;case"textarea":_p(r,s),Ce("invalid",r)}md(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Fa(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Fa(r.textContent,a,t),i=["children",""+a]):jo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ce("scroll",r)}switch(n){case"input":Ta(r),xp(r,s,!0);break;case"textarea":Ta(r),wp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Hl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=V0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vn]=e,t[No]=r,gv(t,e,!1,!1),e.stateNode=t;e:{switch(o=yd(n,r),n){case"dialog":Ce("cancel",t),Ce("close",t),i=r;break;case"iframe":case"object":case"embed":Ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<Js.length;i++)Ce(Js[i],t);i=r;break;case"source":Ce("error",t),i=r;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),i=r;break;case"details":Ce("toggle",t),i=r;break;case"input":vp(t,r),i=dd(t,r),Ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),Ce("invalid",t);break;case"textarea":_p(t,r),i=pd(t,r),Ce("invalid",t);break;default:i=r}md(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?q0(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Y0(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Eo(t,l):typeof l=="number"&&Eo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ce("scroll",t):l!=null&&Rh(t,s,l,o))}switch(n){case"input":Ta(t),xp(t,r,!1);break;case"textarea":Ta(t),wp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Zi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Zi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(t&&e.stateNode!=null)yv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(I(166));if(n=ri(Io.current),ri(_n.current),za(e)){if(r=e.stateNode,n=e.memoizedProps,r[vn]=e,(s=r.nodeValue!==n)&&(t=$t,t!==null))switch(t.tag){case 3:Fa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fa(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vn]=e,e.stateNode=r}return at(e),null;case 13:if(Me(Re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&It!==null&&e.mode&1&&!(e.flags&128))Ny(),ds(),e.flags|=98560,s=!1;else if(s=za(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(I(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[vn]=e}else ds(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),s=!1}else on!==null&&(Jd(on),on=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?qe===0&&(qe=3):pf())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return fs(),Hd(t,e),t===null&&Oo(e.stateNode.containerInfo),at(e),null;case 10:return Gh(e.type._context),at(e),null;case 17:return Mt(e.type)&&Wl(),at(e),null;case 19:if(Me(Re),s=e.memoizedState,s===null)return at(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)As(s,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jl(t),o!==null){for(e.flags|=128,As(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Re,Re.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ue()>gs&&(e.flags|=128,r=!0,As(s,!1),e.lanes=4194304)}else{if(!r)if(t=Jl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),As(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pe)return at(e),null}else 2*Ue()-s.renderingStartTime>gs&&n!==1073741824&&(e.flags|=128,r=!0,As(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ue(),e.sibling=null,n=Re.current,je(Re,r?n&1|2:n&1),e):(at(e),null);case 22:case 23:return ff(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nt&1073741824&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function db(t,e){switch(Yh(e),e.tag){case 1:return Mt(e.type)&&Wl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fs(),Me(Ct),Me(dt),tf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ef(e),null;case 13:if(Me(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));ds()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Re),null;case 4:return fs(),null;case 10:return Gh(e.type._context),null;case 22:case 23:return ff(),null;case 24:return null;default:return null}}var Ua=!1,lt=!1,hb=typeof WeakSet=="function"?WeakSet:Set,B=null;function Ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function Wd(t,e,n){try{n()}catch(r){Ie(t,e,r)}}var ug=!1;function fb(t,e){if(Cd=$l,t=by(),Wh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Md={focusedElem:t,selectionRange:n},$l=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,x=y.memoizedState,p=e.stateNode,v=p.getSnapshotBeforeUpdate(e.elementType===e.type?m:tn(e.type,m),x);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(w){Ie(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return y=ug,ug=!1,y}function ho(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Wd(e,n,s)}i=i.next}while(i!==r)}}function Dc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vv(t){var e=t.alternate;e!==null&&(t.alternate=null,vv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vn],delete e[No],delete e[Rd],delete e[Xw],delete e[Gw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xv(t){return t.tag===5||t.tag===3||t.tag===4}function dg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hl));else if(r!==4&&(t=t.child,t!==null))for(Yd(t,e,n),t=t.sibling;t!==null;)Yd(t,e,n),t=t.sibling}function Kd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kd(t,e,n),t=t.sibling;t!==null;)Kd(t,e,n),t=t.sibling}var rt=null,nn=!1;function Zn(t,e,n){for(n=n.child;n!==null;)_v(t,e,n),n=n.sibling}function _v(t,e,n){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Ec,n)}catch{}switch(n.tag){case 5:lt||Ki(n,e);case 6:var r=rt,i=nn;rt=null,Zn(t,e,n),rt=r,nn=i,rt!==null&&(nn?(t=rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(nn?(t=rt,n=n.stateNode,t.nodeType===8?ku(t.parentNode,n):t.nodeType===1&&ku(t,n),To(t)):ku(rt,n.stateNode));break;case 4:r=rt,i=nn,rt=n.stateNode.containerInfo,nn=!0,Zn(t,e,n),rt=r,nn=i;break;case 0:case 11:case 14:case 15:if(!lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Wd(n,e,o),i=i.next}while(i!==r)}Zn(t,e,n);break;case 1:if(!lt&&(Ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ie(n,e,a)}Zn(t,e,n);break;case 21:Zn(t,e,n);break;case 22:n.mode&1?(lt=(r=lt)||n.memoizedState!==null,Zn(t,e,n),lt=r):Zn(t,e,n);break;default:Zn(t,e,n)}}function hg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hb),e.forEach(function(r){var i=bb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rt=a.stateNode,nn=!1;break e;case 3:rt=a.stateNode.containerInfo,nn=!0;break e;case 4:rt=a.stateNode.containerInfo,nn=!0;break e}a=a.return}if(rt===null)throw Error(I(160));_v(s,o,i),rt=null,nn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ie(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wv(e,t),e=e.sibling}function wv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zt(e,t),pn(t),r&4){try{ho(3,t,t.return),Dc(3,t)}catch(m){Ie(t,t.return,m)}try{ho(5,t,t.return)}catch(m){Ie(t,t.return,m)}}break;case 1:Zt(e,t),pn(t),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(Zt(e,t),pn(t),r&512&&n!==null&&Ki(n,n.return),t.flags&32){var i=t.stateNode;try{Eo(i,"")}catch(m){Ie(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&H0(i,s),yd(a,o);var c=yd(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?q0(i,d):u==="dangerouslySetInnerHTML"?Y0(i,d):u==="children"?Eo(i,d):Rh(i,u,d,c)}switch(a){case"input":hd(i,s);break;case"textarea":W0(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Zi(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Zi(i,!!s.multiple,s.defaultValue,!0):Zi(i,!!s.multiple,s.multiple?[]:"",!1))}i[No]=s}catch(m){Ie(t,t.return,m)}}break;case 6:if(Zt(e,t),pn(t),r&4){if(t.stateNode===null)throw Error(I(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Ie(t,t.return,m)}}break;case 3:if(Zt(e,t),pn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{To(e.containerInfo)}catch(m){Ie(t,t.return,m)}break;case 4:Zt(e,t),pn(t);break;case 13:Zt(e,t),pn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(df=Ue())),r&4&&hg(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(lt=(c=lt)||u,Zt(e,t),lt=c):Zt(e,t),pn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(B=t,u=t.child;u!==null;){for(d=B=u;B!==null;){switch(f=B,g=f.child,f.tag){case 0:case 11:case 14:case 15:ho(4,f,f.return);break;case 1:Ki(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){Ie(r,n,m)}}break;case 5:Ki(f,f.return);break;case 22:if(f.memoizedState!==null){pg(d);continue}}g!==null?(g.return=f,B=g):pg(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=K0("display",o))}catch(m){Ie(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Ie(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zt(e,t),pn(t),r&4&&hg(t);break;case 21:break;default:Zt(e,t),pn(t)}}function pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xv(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Eo(i,""),r.flags&=-33);var s=dg(t);Kd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=dg(t);Yd(t,a,o);break;default:throw Error(I(161))}}catch(l){Ie(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pb(t,e,n){B=t,bv(t)}function bv(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ua;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||lt;a=Ua;var c=lt;if(Ua=o,(lt=l)&&!c)for(B=i;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?gg(i):l!==null?(l.return=o,B=l):gg(i);for(;s!==null;)B=s,bv(s),s=s.sibling;B=i,Ua=a,lt=c}fg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,B=s):fg(t)}}function fg(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:lt||Dc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Jp(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jp(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&To(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}lt||e.flags&512&&Vd(e)}catch(f){Ie(e,e.return,f)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function pg(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function gg(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dc(4,e)}catch(l){Ie(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ie(e,i,l)}}var s=e.return;try{Vd(e)}catch(l){Ie(e,s,l)}break;case 5:var o=e.return;try{Vd(e)}catch(l){Ie(e,o,l)}}}catch(l){Ie(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var gb=Math.ceil,ec=Yn.ReactCurrentDispatcher,cf=Yn.ReactCurrentOwner,Xt=Yn.ReactCurrentBatchConfig,he=0,nt=null,Ve=null,it=0,Nt=0,qi=Or(0),qe=0,Bo=null,fi=0,Nc=0,uf=0,fo=null,kt=null,df=0,gs=1/0,Rn=null,tc=!1,qd=null,kr=null,Ha=!1,hr=null,nc=0,po=0,Xd=null,El=-1,Cl=0;function vt(){return he&6?Ue():El!==-1?El:El=Ue()}function Sr(t){return t.mode&1?he&2&&it!==0?it&-it:Qw.transition!==null?(Cl===0&&(Cl=oy()),Cl):(t=_e,t!==0||(t=window.event,t=t===void 0?16:fy(t.type)),t):1}function cn(t,e,n,r){if(50<po)throw po=0,Xd=null,Error(I(185));sa(t,n,r),(!(he&2)||t!==nt)&&(t===nt&&(!(he&2)&&(Nc|=n),qe===4&&cr(t,it)),Pt(t,r),n===1&&he===0&&!(e.mode&1)&&(gs=Ue()+500,Rc&&Dr()))}function Pt(t,e){var n=t.callbackNode;Q_(t,e);var r=zl(t,t===nt?it:0);if(r===0)n!==null&&Sp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sp(n),e===1)t.tag===0?Jw(mg.bind(null,t)):Ly(mg.bind(null,t)),Kw(function(){!(he&6)&&Dr()}),n=null;else{switch(ay(r)){case 1:n=Ah;break;case 4:n=iy;break;case 16:n=Fl;break;case 536870912:n=sy;break;default:n=Fl}n=Tv(n,kv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kv(t,e){if(El=-1,Cl=0,he&6)throw Error(I(327));var n=t.callbackNode;if(is()&&t.callbackNode!==n)return null;var r=zl(t,t===nt?it:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rc(t,r);else{e=r;var i=he;he|=2;var s=jv();(nt!==t||it!==e)&&(Rn=null,gs=Ue()+500,oi(t,e));do try{vb();break}catch(a){Sv(t,a)}while(!0);Xh(),ec.current=s,he=i,Ve!==null?e=0:(nt=null,it=0,e=qe)}if(e!==0){if(e===2&&(i=bd(t),i!==0&&(r=i,e=Gd(t,i))),e===1)throw n=Bo,oi(t,0),cr(t,r),Pt(t,Ue()),n;if(e===6)cr(t,r);else{if(i=t.current.alternate,!(r&30)&&!mb(i)&&(e=rc(t,r),e===2&&(s=bd(t),s!==0&&(r=s,e=Gd(t,s))),e===1))throw n=Bo,oi(t,0),cr(t,r),Pt(t,Ue()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(I(345));case 2:qr(t,kt,Rn);break;case 3:if(cr(t,r),(r&130023424)===r&&(e=df+500-Ue(),10<e)){if(zl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Td(qr.bind(null,t,kt,Rn),e);break}qr(t,kt,Rn);break;case 4:if(cr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ln(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gb(r/1960))-r,10<r){t.timeoutHandle=Td(qr.bind(null,t,kt,Rn),r);break}qr(t,kt,Rn);break;case 5:qr(t,kt,Rn);break;default:throw Error(I(329))}}}return Pt(t,Ue()),t.callbackNode===n?kv.bind(null,t):null}function Gd(t,e){var n=fo;return t.current.memoizedState.isDehydrated&&(oi(t,e).flags|=256),t=rc(t,e),t!==2&&(e=kt,kt=n,e!==null&&Jd(e)),t}function Jd(t){kt===null?kt=t:kt.push.apply(kt,t)}function mb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cr(t,e){for(e&=~uf,e&=~Nc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ln(e),r=1<<n;t[n]=-1,e&=~r}}function mg(t){if(he&6)throw Error(I(327));is();var e=zl(t,0);if(!(e&1))return Pt(t,Ue()),null;var n=rc(t,e);if(t.tag!==0&&n===2){var r=bd(t);r!==0&&(e=r,n=Gd(t,r))}if(n===1)throw n=Bo,oi(t,0),cr(t,e),Pt(t,Ue()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qr(t,kt,Rn),Pt(t,Ue()),null}function hf(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(gs=Ue()+500,Rc&&Dr())}}function pi(t){hr!==null&&hr.tag===0&&!(he&6)&&is();var e=he;he|=1;var n=Xt.transition,r=_e;try{if(Xt.transition=null,_e=1,t)return t()}finally{_e=r,Xt.transition=n,he=e,!(he&6)&&Dr()}}function ff(){Nt=qi.current,Me(qi)}function oi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Yw(n)),Ve!==null)for(n=Ve.return;n!==null;){var r=n;switch(Yh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wl();break;case 3:fs(),Me(Ct),Me(dt),tf();break;case 5:ef(r);break;case 4:fs();break;case 13:Me(Re);break;case 19:Me(Re);break;case 10:Gh(r.type._context);break;case 22:case 23:ff()}n=n.return}if(nt=t,Ve=t=jr(t.current,null),it=Nt=e,qe=0,Bo=null,uf=Nc=fi=0,kt=fo=null,ni!==null){for(e=0;e<ni.length;e++)if(n=ni[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ni=null}return t}function Sv(t,e){do{var n=Ve;try{if(Xh(),kl.current=Zl,Ql){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ql=!1}if(hi=0,et=Ke=Le=null,uo=!1,Fo=0,cf.current=null,n===null||n.return===null){qe=1,Bo=e,Ve=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=it,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=rg(o);if(g!==null){g.flags&=-257,ig(g,o,a,s,e),g.mode&1&&ng(s,c,e),e=g,l=c;var y=e.updateQueue;if(y===null){var m=new Set;m.add(l),e.updateQueue=m}else y.add(l);break e}else{if(!(e&1)){ng(s,c,e),pf();break e}l=Error(I(426))}}else if(Pe&&a.mode&1){var x=rg(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),ig(x,o,a,s,e),Kh(ps(l,a));break e}}s=l=ps(l,a),qe!==4&&(qe=2),fo===null?fo=[s]:fo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=av(s,l,e);Gp(s,p);break e;case 1:a=l;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(kr===null||!kr.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=lv(s,a,e);Gp(s,w);break e}}s=s.return}while(s!==null)}Cv(n)}catch(S){e=S,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(!0)}function jv(){var t=ec.current;return ec.current=Zl,t===null?Zl:t}function pf(){(qe===0||qe===3||qe===2)&&(qe=4),nt===null||!(fi&268435455)&&!(Nc&268435455)||cr(nt,it)}function rc(t,e){var n=he;he|=2;var r=jv();(nt!==t||it!==e)&&(Rn=null,oi(t,e));do try{yb();break}catch(i){Sv(t,i)}while(!0);if(Xh(),he=n,ec.current=r,Ve!==null)throw Error(I(261));return nt=null,it=0,qe}function yb(){for(;Ve!==null;)Ev(Ve)}function vb(){for(;Ve!==null&&!H_();)Ev(Ve)}function Ev(t){var e=Pv(t.alternate,t,Nt);t.memoizedProps=t.pendingProps,e===null?Cv(t):Ve=e,cf.current=null}function Cv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=db(n,e),n!==null){n.flags&=32767,Ve=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,Ve=null;return}}else if(n=ub(n,e,Nt),n!==null){Ve=n;return}if(e=e.sibling,e!==null){Ve=e;return}Ve=e=t}while(e!==null);qe===0&&(qe=5)}function qr(t,e,n){var r=_e,i=Xt.transition;try{Xt.transition=null,_e=1,xb(t,e,n,r)}finally{Xt.transition=i,_e=r}return null}function xb(t,e,n,r){do is();while(hr!==null);if(he&6)throw Error(I(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Z_(t,s),t===nt&&(Ve=nt=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ha||(Ha=!0,Tv(Fl,function(){return is(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xt.transition,Xt.transition=null;var o=_e;_e=1;var a=he;he|=4,cf.current=null,fb(t,n),wv(n,t),zw(Md),$l=!!Cd,Md=Cd=null,t.current=n,pb(n),W_(),he=a,_e=o,Xt.transition=s}else t.current=n;if(Ha&&(Ha=!1,hr=t,nc=i),s=t.pendingLanes,s===0&&(kr=null),K_(n.stateNode),Pt(t,Ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tc)throw tc=!1,t=qd,qd=null,t;return nc&1&&t.tag!==0&&is(),s=t.pendingLanes,s&1?t===Xd?po++:(po=0,Xd=t):po=0,Dr(),null}function is(){if(hr!==null){var t=ay(nc),e=Xt.transition,n=_e;try{if(Xt.transition=null,_e=16>t?16:t,hr===null)var r=!1;else{if(t=hr,hr=null,nc=0,he&6)throw Error(I(331));var i=he;for(he|=4,B=t.current;B!==null;){var s=B,o=s.child;if(B.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(B=c;B!==null;){var u=B;switch(u.tag){case 0:case 11:case 15:ho(8,u,s)}var d=u.child;if(d!==null)d.return=u,B=d;else for(;B!==null;){u=B;var f=u.sibling,g=u.return;if(vv(u),u===c){B=null;break}if(f!==null){f.return=g,B=f;break}B=g}}}var y=s.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}B=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ho(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,B=p;break e}B=s.return}}var v=t.current;for(B=v;B!==null;){o=B;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,B=_;else e:for(o=v;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dc(9,a)}}catch(S){Ie(a,a.return,S)}if(a===o){B=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,B=w;break e}B=a.return}}if(he=i,Dr(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Ec,t)}catch{}r=!0}return r}finally{_e=n,Xt.transition=e}}return!1}function yg(t,e,n){e=ps(n,e),e=av(t,e,1),t=br(t,e,1),e=vt(),t!==null&&(sa(t,1,e),Pt(t,e))}function Ie(t,e,n){if(t.tag===3)yg(t,t,n);else for(;e!==null;){if(e.tag===3){yg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kr===null||!kr.has(r))){t=ps(n,t),t=lv(e,t,1),e=br(e,t,1),t=vt(),e!==null&&(sa(e,1,t),Pt(e,t));break}}e=e.return}}function _b(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(it&n)===n&&(qe===4||qe===3&&(it&130023424)===it&&500>Ue()-df?oi(t,0):uf|=n),Pt(t,e)}function Mv(t,e){e===0&&(t.mode&1?(e=Oa,Oa<<=1,!(Oa&130023424)&&(Oa=4194304)):e=1);var n=vt();t=Un(t,e),t!==null&&(sa(t,e,n),Pt(t,n))}function wb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Mv(t,n)}function bb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(e),Mv(t,n)}var Pv;Pv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ct.current)Et=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Et=!1,cb(t,e,n);Et=!!(t.flags&131072)}else Et=!1,Pe&&e.flags&1048576&&Oy(e,Kl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jl(t,e),t=e.pendingProps;var i=us(e,dt.current);rs(e,n),i=rf(null,e,r,t,i,n);var s=sf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mt(r)?(s=!0,Vl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qh(e),i.updater=Oc,e.stateNode=i,i._reactInternals=e,Id(e,r,t,n),e=$d(null,e,r,!0,s,n)):(e.tag=0,Pe&&s&&Vh(e),pt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Sb(r),t=tn(r,t),i){case 0:e=zd(null,e,r,t,n);break e;case 1:e=ag(null,e,r,t,n);break e;case 11:e=sg(null,e,r,t,n);break e;case 14:e=og(null,e,r,tn(r.type,t),n);break e}throw Error(I(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),zd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),ag(t,e,r,i,n);case 3:e:{if(hv(e),t===null)throw Error(I(387));r=e.pendingProps,s=e.memoizedState,i=s.element,zy(t,e),Gl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ps(Error(I(423)),e),e=lg(t,e,r,n,i);break e}else if(r!==i){i=ps(Error(I(424)),e),e=lg(t,e,r,n,i);break e}else for(It=wr(e.stateNode.containerInfo.firstChild),$t=e,Pe=!0,on=null,n=Iy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ds(),r===i){e=Hn(t,e,n);break e}pt(t,e,r,n)}e=e.child}return e;case 5:return $y(e),t===null&&Dd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Pd(r,i)?o=null:s!==null&&Pd(r,s)&&(e.flags|=32),dv(t,e),pt(t,e,o,n),e.child;case 6:return t===null&&Dd(e),null;case 13:return fv(t,e,n);case 4:return Zh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hs(e,null,r,n):pt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),sg(t,e,r,i,n);case 7:return pt(t,e,e.pendingProps,n),e.child;case 8:return pt(t,e,e.pendingProps.children,n),e.child;case 12:return pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,je(ql,r._currentValue),r._currentValue=o,s!==null)if(hn(s.value,o)){if(s.children===i.children&&!Ct.current){e=Hn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Fn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Nd(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Nd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,rs(e,n),i=Jt(i),r=r(i),e.flags|=1,pt(t,e,r,n),e.child;case 14:return r=e.type,i=tn(r,e.pendingProps),i=tn(r.type,i),og(t,e,r,i,n);case 15:return cv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),jl(t,e),e.tag=1,Mt(r)?(t=!0,Vl(e)):t=!1,rs(e,n),ov(e,r,i),Id(e,r,i,n),$d(null,e,r,!0,t,n);case 19:return pv(t,e,n);case 22:return uv(t,e,n)}throw Error(I(156,e.tag))};function Tv(t,e){return ry(t,e)}function kb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,n,r){return new kb(t,e,n,r)}function gf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sb(t){if(typeof t=="function")return gf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Oh)return 11;if(t===Dh)return 14}return 2}function jr(t,e){var n=t.alternate;return n===null?(n=Kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ml(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")gf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fi:return ai(n.children,i,s,e);case Lh:o=8,i|=8;break;case ad:return t=Kt(12,n,e,i|2),t.elementType=ad,t.lanes=s,t;case ld:return t=Kt(13,n,e,i),t.elementType=ld,t.lanes=s,t;case cd:return t=Kt(19,n,e,i),t.elementType=cd,t.lanes=s,t;case $0:return Ac(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F0:o=10;break e;case z0:o=9;break e;case Oh:o=11;break e;case Dh:o=14;break e;case sr:o=16,r=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=Kt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ai(t,e,n,r){return t=Kt(7,t,r,e),t.lanes=n,t}function Ac(t,e,n,r){return t=Kt(22,t,r,e),t.elementType=$0,t.lanes=n,t.stateNode={isHidden:!1},t}function Ru(t,e,n){return t=Kt(6,t,null,e),t.lanes=n,t}function Lu(t,e,n){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hu(0),this.expirationTimes=hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mf(t,e,n,r,i,s,o,a,l){return t=new jb(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qh(s),t}function Eb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ii,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Rv(t){if(!t)return Pr;t=t._reactInternals;e:{if(_i(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(Mt(n))return Ry(t,n,e)}return e}function Lv(t,e,n,r,i,s,o,a,l){return t=mf(n,r,!0,t,i,s,o,a,l),t.context=Rv(null),n=t.current,r=vt(),i=Sr(n),s=Fn(r,i),s.callback=e??null,br(n,s,i),t.current.lanes=i,sa(t,i,r),Pt(t,r),t}function Ic(t,e,n,r){var i=e.current,s=vt(),o=Sr(i);return n=Rv(n),e.context===null?e.context=n:e.pendingContext=n,e=Fn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=br(i,e,o),t!==null&&(cn(t,i,o,s),bl(t,i,o)),o}function ic(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yf(t,e){vg(t,e),(t=t.alternate)&&vg(t,e)}function Cb(){return null}var Ov=typeof reportError=="function"?reportError:function(t){console.error(t)};function vf(t){this._internalRoot=t}Fc.prototype.render=vf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));Ic(t,e,null,null)};Fc.prototype.unmount=vf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pi(function(){Ic(null,t,null,null)}),e[Bn]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var e=uy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<lr.length&&e!==0&&e<lr[n].priority;n++);lr.splice(n,0,t),n===0&&hy(t)}};function xf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xg(){}function Mb(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ic(o);s.call(c)}}var o=Lv(e,r,t,0,null,!1,!1,"",xg);return t._reactRootContainer=o,t[Bn]=o.current,Oo(t.nodeType===8?t.parentNode:t),pi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ic(l);a.call(c)}}var l=mf(t,0,!1,null,null,!1,!1,"",xg);return t._reactRootContainer=l,t[Bn]=l.current,Oo(t.nodeType===8?t.parentNode:t),pi(function(){Ic(e,l,n,r)}),l}function $c(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ic(o);a.call(l)}}Ic(e,o,t,i)}else o=Mb(n,e,t,i,r);return ic(o)}ly=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gs(e.pendingLanes);n!==0&&(Ih(e,n|1),Pt(e,Ue()),!(he&6)&&(gs=Ue()+500,Dr()))}break;case 13:pi(function(){var r=Un(t,1);if(r!==null){var i=vt();cn(r,t,1,i)}}),yf(t,1)}};Fh=function(t){if(t.tag===13){var e=Un(t,134217728);if(e!==null){var n=vt();cn(e,t,134217728,n)}yf(t,134217728)}};cy=function(t){if(t.tag===13){var e=Sr(t),n=Un(t,e);if(n!==null){var r=vt();cn(n,t,e,r)}yf(t,e)}};uy=function(){return _e};dy=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};xd=function(t,e,n){switch(e){case"input":if(hd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tc(r);if(!i)throw Error(I(90));U0(r),hd(r,i)}}}break;case"textarea":W0(t,n);break;case"select":e=n.value,e!=null&&Zi(t,!!n.multiple,e,!1)}};J0=hf;Q0=pi;var Pb={usingClientEntryPoint:!1,Events:[aa,Ui,Tc,X0,G0,hf]},Is={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tb={bundleType:Is.bundleType,version:Is.version,rendererPackageName:Is.rendererPackageName,rendererConfig:Is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ty(t),t===null?null:t.stateNode},findFiberByHostInstance:Is.findFiberByHostInstance||Cb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wa.isDisabled&&Wa.supportsFiber)try{Ec=Wa.inject(Tb),xn=Wa}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pb;Ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xf(e))throw Error(I(200));return Eb(t,e,null,n)};Ut.createRoot=function(t,e){if(!xf(t))throw Error(I(299));var n=!1,r="",i=Ov;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mf(t,1,!1,null,null,n,!1,r,i),t[Bn]=e.current,Oo(t.nodeType===8?t.parentNode:t),new vf(e)};Ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=ty(e),t=t===null?null:t.stateNode,t};Ut.flushSync=function(t){return pi(t)};Ut.hydrate=function(t,e,n){if(!zc(e))throw Error(I(200));return $c(null,t,e,!0,n)};Ut.hydrateRoot=function(t,e,n){if(!xf(t))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Ov;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Lv(e,null,t,1,n??null,i,!1,s,o),t[Bn]=e.current,Oo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Fc(e)};Ut.render=function(t,e,n){if(!zc(e))throw Error(I(200));return $c(null,t,e,!1,n)};Ut.unmountComponentAtNode=function(t){if(!zc(t))throw Error(I(40));return t._reactRootContainer?(pi(function(){$c(null,null,t,!1,function(){t._reactRootContainer=null,t[Bn]=null})}),!0):!1};Ut.unstable_batchedUpdates=hf;Ut.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zc(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return $c(t,e,n,!1,r)};Ut.version="18.3.1-next-f1338f8080-20240426";function Dv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dv)}catch(t){console.error(t)}}Dv(),D0.exports=Ut;var _f=D0.exports;const Rb=b0(_f),Lb=w0({__proto__:null,default:Rb},[_f]);var _g=_f;sd.createRoot=_g.createRoot,sd.hydrateRoot=_g.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Te(){return Te=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Te.apply(this,arguments)}var $e;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($e||($e={}));const wg="popstate";function Ob(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Uo("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gi(i)}return Nb(e,n,null,t)}function ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ms(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Db(){return Math.random().toString(36).substr(2,8)}function bg(t,e){return{usr:t.state,key:t.key,idx:e}}function Uo(t,e,n,r){return n===void 0&&(n=null),Te({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Kn(e):e,{state:n,key:e&&e.key||r||Db()})}function gi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Kn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Nb(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=$e.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Te({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=$e.Pop;let x=u(),p=x==null?null:x-c;c=x,l&&l({action:a,location:m.location,delta:p})}function f(x,p){a=$e.Push;let v=Uo(m.location,x,p);c=u()+1;let _=bg(v,c),w=m.createHref(v);try{o.pushState(_,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(w)}s&&l&&l({action:a,location:m.location,delta:1})}function g(x,p){a=$e.Replace;let v=Uo(m.location,x,p);c=u();let _=bg(v,c),w=m.createHref(v);o.replaceState(_,"",w),s&&l&&l({action:a,location:m.location,delta:0})}function y(x){let p=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof x=="string"?x:gi(x);return v=v.replace(/ $/,"%20"),ne(p,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,p)}let m={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(wg,d),l=x,()=>{i.removeEventListener(wg,d),l=null}},createHref(x){return e(i,x)},createURL:y,encodeLocation(x){let p=y(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:g,go(x){return o.go(x)}};return m}var be;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(be||(be={}));const Ab=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ib(t){return t.index===!0}function Ho(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(ne(i.index!==!0||!i.children,"Cannot specify children on an index route"),ne(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Ib(i)){let l=Te({},i,e(i),{id:a});return r[a]=l,l}else{let l=Te({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Ho(i.children,e,o,r)),l}})}function Zr(t,e,n){return n===void 0&&(n="/"),Pl(t,e,n,!1)}function Pl(t,e,n,r){let i=typeof e=="string"?Kn(e):e,s=fn(i.pathname||"/",n);if(s==null)return null;let o=Nv(t);zb(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Gb(s);a=qb(o[l],c,r)}return a}function Fb(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Nv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ne(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=zn([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(ne(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Nv(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Yb(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Av(s.path))i(s,o,l)}),e}function Av(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Av(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function zb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Kb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $b=/^:[\w-]+$/,Bb=3,Ub=2,Hb=1,Wb=10,Vb=-2,kg=t=>t==="*";function Yb(t,e){let n=t.split("/"),r=n.length;return n.some(kg)&&(r+=Vb),e&&(r+=Ub),n.filter(i=>!kg(i)).reduce((i,s)=>i+($b.test(s)?Bb:s===""?Hb:Wb),r)}function Kb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qb(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=sc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=sc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:zn([s,d.pathname]),pathnameBase:Zb(zn([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=zn([s,d.pathnameBase]))}return o}function sc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Xb(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const y=a[d];return g&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Xb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ms(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Gb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ms(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Jb(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Kn(t):t;return{pathname:n?n.startsWith("/")?n:Qb(n,e):e,search:ek(r),hash:tk(i)}}function Qb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ou(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Iv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wf(t,e){let n=Iv(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bf(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Kn(t):(i=Te({},t),ne(!i.pathname||!i.pathname.includes("?"),Ou("?","pathname","search",i)),ne(!i.pathname||!i.pathname.includes("#"),Ou("#","pathname","hash",i)),ne(!i.search||!i.search.includes("#"),Ou("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Jb(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const zn=t=>t.join("/").replace(/\/\/+/g,"/"),Zb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ek=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class oc{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Bc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Fv=["post","put","patch","delete"],nk=new Set(Fv),rk=["get",...Fv],ik=new Set(rk),sk=new Set([301,302,303,307,308]),ok=new Set([307,308]),Du={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ak={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ai={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},kf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lk=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),zv="remix-router-transitions";function ck(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ne(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;i=C=>({hasErrorBoundary:j(C)})}else i=lk;let s={},o=Ho(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.unstable_dataStrategy||gk,u=t.unstable_patchRoutesOnNavigation,d=Te({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,g=new Set,y=1e3,m=new Set,x=null,p=null,v=null,_=t.hydrationData!=null,w=Zr(o,t.history.location,l),S=null;if(w==null&&!u){let j=ft(404,{pathname:t.history.location.pathname}),{matches:C,route:T}=Lg(o);w=C,S={[T.id]:j}}w&&!t.hydrationData&&ba(w,o,t.history.location.pathname).active&&(w=null);let E;if(w)if(w.some(j=>j.route.lazy))E=!1;else if(!w.some(j=>j.route.loader))E=!0;else if(d.v7_partialHydration){let j=t.hydrationData?t.hydrationData.loaderData:null,C=t.hydrationData?t.hydrationData.errors:null,T=D=>D.route.loader?typeof D.route.loader=="function"&&D.route.loader.hydrate===!0?!1:j&&j[D.route.id]!==void 0||C&&C[D.route.id]!==void 0:!0;if(C){let D=w.findIndex($=>C[$.route.id]!==void 0);E=w.slice(0,D+1).every(T)}else E=w.every(T)}else E=t.hydrationData!=null;else if(E=!1,w=[],d.v7_partialHydration){let j=ba(null,o,t.history.location.pathname);j.active&&j.matches&&(w=j.matches)}let M,b={historyAction:t.history.action,location:t.history.location,matches:w,initialized:E,navigation:Du,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},P=$e.Pop,L=!1,N,R=!1,V=new Map,q=null,J=!1,ee=!1,te=[],A=new Set,O=new Map,F=0,Q=-1,X=new Map,oe=new Set,ce=new Map,ke=new Map,ue=new Set,Je=new Map,bn=new Map,F1=new Map,va;function z1(){if(f=t.history.listen(j=>{let{action:C,location:T,delta:D}=j;if(va){va(),va=void 0;return}ms(bn.size===0||D!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let $=ap({currentLocation:b.location,nextLocation:T,historyAction:C});if($&&D!=null){let Y=new Promise(Z=>{va=Z});t.history.go(D*-1),_a($,{state:"blocked",location:T,proceed(){_a($,{state:"proceeding",proceed:void 0,reset:void 0,location:T}),Y.then(()=>t.history.go(D))},reset(){let Z=new Map(b.blockers);Z.set($,Ai),ht({blockers:Z})}});return}return zr(C,T)}),n){Tk(e,V);let j=()=>Rk(e,V);e.addEventListener("pagehide",j),q=()=>e.removeEventListener("pagehide",j)}return b.initialized||zr($e.Pop,b.location,{initialHydration:!0}),M}function $1(){f&&f(),q&&q(),g.clear(),N&&N.abort(),b.fetchers.forEach((j,C)=>xa(C)),b.blockers.forEach((j,C)=>op(C))}function B1(j){return g.add(j),()=>g.delete(j)}function ht(j,C){C===void 0&&(C={}),b=Te({},b,j);let T=[],D=[];d.v7_fetcherPersist&&b.fetchers.forEach(($,Y)=>{$.state==="idle"&&(ue.has(Y)?D.push(Y):T.push(Y))}),[...g].forEach($=>$(b,{deletedFetchers:D,unstable_viewTransitionOpts:C.viewTransitionOpts,unstable_flushSync:C.flushSync===!0})),d.v7_fetcherPersist&&(T.forEach($=>b.fetchers.delete($)),D.forEach($=>xa($)))}function Ei(j,C,T){var D,$;let{flushSync:Y}=T===void 0?{}:T,Z=b.actionData!=null&&b.navigation.formMethod!=null&&rn(b.navigation.formMethod)&&b.navigation.state==="loading"&&((D=j.state)==null?void 0:D._isRedirect)!==!0,z;C.actionData?Object.keys(C.actionData).length>0?z=C.actionData:z=null:Z?z=b.actionData:z=null;let G=C.loaderData?Tg(b.loaderData,C.loaderData,C.matches||[],C.errors):b.loaderData,U=b.blockers;U.size>0&&(U=new Map(U),U.forEach((me,Ee)=>U.set(Ee,Ai)));let H=L===!0||b.navigation.formMethod!=null&&rn(b.navigation.formMethod)&&(($=j.state)==null?void 0:$._isRedirect)!==!0;a&&(o=a,a=void 0),J||P===$e.Pop||(P===$e.Push?t.history.push(j,j.state):P===$e.Replace&&t.history.replace(j,j.state));let pe;if(P===$e.Pop){let me=V.get(b.location.pathname);me&&me.has(j.pathname)?pe={currentLocation:b.location,nextLocation:j}:V.has(j.pathname)&&(pe={currentLocation:j,nextLocation:b.location})}else if(R){let me=V.get(b.location.pathname);me?me.add(j.pathname):(me=new Set([j.pathname]),V.set(b.location.pathname,me)),pe={currentLocation:b.location,nextLocation:j}}ht(Te({},C,{actionData:z,loaderData:G,historyAction:P,location:j,initialized:!0,navigation:Du,revalidation:"idle",restoreScrollPosition:cp(j,C.matches||b.matches),preventScrollReset:H,blockers:U}),{viewTransitionOpts:pe,flushSync:Y===!0}),P=$e.Pop,L=!1,R=!1,J=!1,ee=!1,te=[]}async function Zf(j,C){if(typeof j=="number"){t.history.go(j);return}let T=Qd(b.location,b.matches,l,d.v7_prependBasename,j,d.v7_relativeSplatPath,C==null?void 0:C.fromRouteId,C==null?void 0:C.relative),{path:D,submission:$,error:Y}=Sg(d.v7_normalizeFormMethod,!1,T,C),Z=b.location,z=Uo(b.location,D,C&&C.state);z=Te({},z,t.history.encodeLocation(z));let G=C&&C.replace!=null?C.replace:void 0,U=$e.Push;G===!0?U=$e.Replace:G===!1||$!=null&&rn($.formMethod)&&$.formAction===b.location.pathname+b.location.search&&(U=$e.Replace);let H=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,pe=(C&&C.unstable_flushSync)===!0,me=ap({currentLocation:Z,nextLocation:z,historyAction:U});if(me){_a(me,{state:"blocked",location:z,proceed(){_a(me,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),Zf(j,C)},reset(){let Ee=new Map(b.blockers);Ee.set(me,Ai),ht({blockers:Ee})}});return}return await zr(U,z,{submission:$,pendingError:Y,preventScrollReset:H,replace:C&&C.replace,enableViewTransition:C&&C.unstable_viewTransition,flushSync:pe})}function U1(){if(iu(),ht({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){zr(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}zr(P||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation,enableViewTransition:R===!0})}}async function zr(j,C,T){N&&N.abort(),N=null,P=j,J=(T&&T.startUninterruptedRevalidation)===!0,Q1(b.location,b.matches),L=(T&&T.preventScrollReset)===!0,R=(T&&T.enableViewTransition)===!0;let D=a||o,$=T&&T.overrideNavigation,Y=Zr(D,C,l),Z=(T&&T.flushSync)===!0,z=ba(Y,D,C.pathname);if(z.active&&z.matches&&(Y=z.matches),!Y){let{error:de,notFoundMatches:Qe,route:We}=su(C.pathname);Ei(C,{matches:Qe,loaderData:{},errors:{[We.id]:de}},{flushSync:Z});return}if(b.initialized&&!ee&&wk(b.location,C)&&!(T&&T.submission&&rn(T.submission.formMethod))){Ei(C,{matches:Y},{flushSync:Z});return}N=new AbortController;let G=Pi(t.history,C,N.signal,T&&T.submission),U;if(T&&T.pendingError)U=[Xi(Y).route.id,{type:be.error,error:T.pendingError}];else if(T&&T.submission&&rn(T.submission.formMethod)){let de=await H1(G,C,T.submission,Y,z.active,{replace:T.replace,flushSync:Z});if(de.shortCircuited)return;if(de.pendingActionResult){let[Qe,We]=de.pendingActionResult;if(At(We)&&Bc(We.error)&&We.error.status===404){N=null,Ei(C,{matches:de.matches,loaderData:{},errors:{[Qe]:We.error}});return}}Y=de.matches||Y,U=de.pendingActionResult,$=Nu(C,T.submission),Z=!1,z.active=!1,G=Pi(t.history,G.url,G.signal)}let{shortCircuited:H,matches:pe,loaderData:me,errors:Ee}=await W1(G,C,Y,z.active,$,T&&T.submission,T&&T.fetcherSubmission,T&&T.replace,T&&T.initialHydration===!0,Z,U);H||(N=null,Ei(C,Te({matches:pe||Y},Rg(U),{loaderData:me,errors:Ee})))}async function H1(j,C,T,D,$,Y){Y===void 0&&(Y={}),iu();let Z=Mk(C,T);if(ht({navigation:Z},{flushSync:Y.flushSync===!0}),$){let U=await ka(D,C.pathname,j.signal);if(U.type==="aborted")return{shortCircuited:!0};if(U.type==="error"){let{boundaryId:H,error:pe}=wa(C.pathname,U);return{matches:U.partialMatches,pendingActionResult:[H,{type:be.error,error:pe}]}}else if(U.matches)D=U.matches;else{let{notFoundMatches:H,error:pe,route:me}=su(C.pathname);return{matches:H,pendingActionResult:[me.id,{type:be.error,error:pe}]}}}let z,G=Qs(D,C);if(!G.route.action&&!G.route.lazy)z={type:be.error,error:ft(405,{method:j.method,pathname:C.pathname,routeId:G.route.id})};else if(z=(await Ms("action",b,j,[G],D,null))[G.route.id],j.signal.aborted)return{shortCircuited:!0};if(ii(z)){let U;return Y&&Y.replace!=null?U=Y.replace:U=Cg(z.response.headers.get("Location"),new URL(j.url),l)===b.location.pathname+b.location.search,await $r(j,z,!0,{submission:T,replace:U}),{shortCircuited:!0}}if(fr(z))throw ft(400,{type:"defer-action"});if(At(z)){let U=Xi(D,G.route.id);return(Y&&Y.replace)!==!0&&(P=$e.Push),{matches:D,pendingActionResult:[U.route.id,z]}}return{matches:D,pendingActionResult:[G.route.id,z]}}async function W1(j,C,T,D,$,Y,Z,z,G,U,H){let pe=$||Nu(C,Y),me=Y||Z||Dg(pe),Ee=!J&&(!d.v7_partialHydration||!G);if(D){if(Ee){let De=ep(H);ht(Te({navigation:pe},De!==void 0?{actionData:De}:{}),{flushSync:U})}let ie=await ka(T,C.pathname,j.signal);if(ie.type==="aborted")return{shortCircuited:!0};if(ie.type==="error"){let{boundaryId:De,error:Lt}=wa(C.pathname,ie);return{matches:ie.partialMatches,loaderData:{},errors:{[De]:Lt}}}else if(ie.matches)T=ie.matches;else{let{error:De,notFoundMatches:Lt,route:Ne}=su(C.pathname);return{matches:Lt,loaderData:{},errors:{[Ne.id]:De}}}}let de=a||o,[Qe,We]=jg(t.history,b,T,me,C,d.v7_partialHydration&&G===!0,d.v7_skipActionErrorRevalidation,ee,te,A,ue,ce,oe,de,l,H);if(ou(ie=>!(T&&T.some(De=>De.route.id===ie))||Qe&&Qe.some(De=>De.route.id===ie)),Q=++F,Qe.length===0&&We.length===0){let ie=ip();return Ei(C,Te({matches:T,loaderData:{},errors:H&&At(H[1])?{[H[0]]:H[1].error}:null},Rg(H),ie?{fetchers:new Map(b.fetchers)}:{}),{flushSync:U}),{shortCircuited:!0}}if(Ee){let ie={};if(!D){ie.navigation=pe;let De=ep(H);De!==void 0&&(ie.actionData=De)}We.length>0&&(ie.fetchers=V1(We)),ht(ie,{flushSync:U})}We.forEach(ie=>{O.has(ie.key)&&Jn(ie.key),ie.controller&&O.set(ie.key,ie.controller)});let Ps=()=>We.forEach(ie=>Jn(ie.key));N&&N.signal.addEventListener("abort",Ps);let{loaderResults:Sn,fetcherResults:Ci}=await tp(b,T,Qe,We,j);if(j.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",Ps),We.forEach(ie=>O.delete(ie.key));let Qn=Va(Sn);if(Qn)return await $r(j,Qn.result,!0,{replace:z}),{shortCircuited:!0};if(Qn=Va(Ci),Qn)return oe.add(Qn.key),await $r(j,Qn.result,!0,{replace:z}),{shortCircuited:!0};let{loaderData:Sa,errors:jn}=Pg(b,T,Qe,Sn,H,We,Ci,Je);Je.forEach((ie,De)=>{ie.subscribe(Lt=>{(Lt||ie.done)&&Je.delete(De)})}),d.v7_partialHydration&&G&&b.errors&&Object.entries(b.errors).filter(ie=>{let[De]=ie;return!Qe.some(Lt=>Lt.route.id===De)}).forEach(ie=>{let[De,Lt]=ie;jn=Object.assign(jn||{},{[De]:Lt})});let ja=ip(),Ea=sp(Q),Ca=ja||Ea||We.length>0;return Te({matches:T,loaderData:Sa,errors:jn},Ca?{fetchers:new Map(b.fetchers)}:{})}function ep(j){if(j&&!At(j[1]))return{[j[0]]:j[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function V1(j){return j.forEach(C=>{let T=b.fetchers.get(C.key),D=Fs(void 0,T?T.data:void 0);b.fetchers.set(C.key,D)}),new Map(b.fetchers)}function Y1(j,C,T,D){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");O.has(j)&&Jn(j);let $=(D&&D.unstable_flushSync)===!0,Y=a||o,Z=Qd(b.location,b.matches,l,d.v7_prependBasename,T,d.v7_relativeSplatPath,C,D==null?void 0:D.relative),z=Zr(Y,Z,l),G=ba(z,Y,Z);if(G.active&&G.matches&&(z=G.matches),!z){kn(j,C,ft(404,{pathname:Z}),{flushSync:$});return}let{path:U,submission:H,error:pe}=Sg(d.v7_normalizeFormMethod,!0,Z,D);if(pe){kn(j,C,pe,{flushSync:$});return}let me=Qs(z,U);if(L=(D&&D.preventScrollReset)===!0,H&&rn(H.formMethod)){K1(j,C,U,me,z,G.active,$,H);return}ce.set(j,{routeId:C,path:U}),q1(j,C,U,me,z,G.active,$,H)}async function K1(j,C,T,D,$,Y,Z,z){iu(),ce.delete(j);function G(Ne){if(!Ne.route.action&&!Ne.route.lazy){let En=ft(405,{method:z.formMethod,pathname:T,routeId:C});return kn(j,C,En,{flushSync:Z}),!0}return!1}if(!Y&&G(D))return;let U=b.fetchers.get(j);Gn(j,Pk(z,U),{flushSync:Z});let H=new AbortController,pe=Pi(t.history,T,H.signal,z);if(Y){let Ne=await ka($,T,pe.signal);if(Ne.type==="aborted")return;if(Ne.type==="error"){let{error:En}=wa(T,Ne);kn(j,C,En,{flushSync:Z});return}else if(Ne.matches){if($=Ne.matches,D=Qs($,T),G(D))return}else{kn(j,C,ft(404,{pathname:T}),{flushSync:Z});return}}O.set(j,H);let me=F,de=(await Ms("action",b,pe,[D],$,j))[D.route.id];if(pe.signal.aborted){O.get(j)===H&&O.delete(j);return}if(d.v7_fetcherPersist&&ue.has(j)){if(ii(de)||At(de)){Gn(j,tr(void 0));return}}else{if(ii(de))if(O.delete(j),Q>me){Gn(j,tr(void 0));return}else return oe.add(j),Gn(j,Fs(z)),$r(pe,de,!1,{fetcherSubmission:z});if(At(de)){kn(j,C,de.error);return}}if(fr(de))throw ft(400,{type:"defer-action"});let Qe=b.navigation.location||b.location,We=Pi(t.history,Qe,H.signal),Ps=a||o,Sn=b.navigation.state!=="idle"?Zr(Ps,b.navigation.location,l):b.matches;ne(Sn,"Didn't find any matches after fetcher action");let Ci=++F;X.set(j,Ci);let Qn=Fs(z,de.data);b.fetchers.set(j,Qn);let[Sa,jn]=jg(t.history,b,Sn,z,Qe,!1,d.v7_skipActionErrorRevalidation,ee,te,A,ue,ce,oe,Ps,l,[D.route.id,de]);jn.filter(Ne=>Ne.key!==j).forEach(Ne=>{let En=Ne.key,dp=b.fetchers.get(En),t_=Fs(void 0,dp?dp.data:void 0);b.fetchers.set(En,t_),O.has(En)&&Jn(En),Ne.controller&&O.set(En,Ne.controller)}),ht({fetchers:new Map(b.fetchers)});let ja=()=>jn.forEach(Ne=>Jn(Ne.key));H.signal.addEventListener("abort",ja);let{loaderResults:Ea,fetcherResults:Ca}=await tp(b,Sn,Sa,jn,We);if(H.signal.aborted)return;H.signal.removeEventListener("abort",ja),X.delete(j),O.delete(j),jn.forEach(Ne=>O.delete(Ne.key));let ie=Va(Ea);if(ie)return $r(We,ie.result,!1);if(ie=Va(Ca),ie)return oe.add(ie.key),$r(We,ie.result,!1);let{loaderData:De,errors:Lt}=Pg(b,Sn,Sa,Ea,void 0,jn,Ca,Je);if(b.fetchers.has(j)){let Ne=tr(de.data);b.fetchers.set(j,Ne)}sp(Ci),b.navigation.state==="loading"&&Ci>Q?(ne(P,"Expected pending action"),N&&N.abort(),Ei(b.navigation.location,{matches:Sn,loaderData:De,errors:Lt,fetchers:new Map(b.fetchers)})):(ht({errors:Lt,loaderData:Tg(b.loaderData,De,Sn,Lt),fetchers:new Map(b.fetchers)}),ee=!1)}async function q1(j,C,T,D,$,Y,Z,z){let G=b.fetchers.get(j);Gn(j,Fs(z,G?G.data:void 0),{flushSync:Z});let U=new AbortController,H=Pi(t.history,T,U.signal);if(Y){let de=await ka($,T,H.signal);if(de.type==="aborted")return;if(de.type==="error"){let{error:Qe}=wa(T,de);kn(j,C,Qe,{flushSync:Z});return}else if(de.matches)$=de.matches,D=Qs($,T);else{kn(j,C,ft(404,{pathname:T}),{flushSync:Z});return}}O.set(j,U);let pe=F,Ee=(await Ms("loader",b,H,[D],$,j))[D.route.id];if(fr(Ee)&&(Ee=await Sf(Ee,H.signal,!0)||Ee),O.get(j)===U&&O.delete(j),!H.signal.aborted){if(ue.has(j)){Gn(j,tr(void 0));return}if(ii(Ee))if(Q>pe){Gn(j,tr(void 0));return}else{oe.add(j),await $r(H,Ee,!1);return}if(At(Ee)){kn(j,C,Ee.error);return}ne(!fr(Ee),"Unhandled fetcher deferred data"),Gn(j,tr(Ee.data))}}async function $r(j,C,T,D){let{submission:$,fetcherSubmission:Y,replace:Z}=D===void 0?{}:D;C.response.headers.has("X-Remix-Revalidate")&&(ee=!0);let z=C.response.headers.get("Location");ne(z,"Expected a Location header on the redirect Response"),z=Cg(z,new URL(j.url),l);let G=Uo(b.location,z,{_isRedirect:!0});if(n){let de=!1;if(C.response.headers.has("X-Remix-Reload-Document"))de=!0;else if(kf.test(z)){const Qe=t.history.createURL(z);de=Qe.origin!==e.location.origin||fn(Qe.pathname,l)==null}if(de){Z?e.location.replace(z):e.location.assign(z);return}}N=null;let U=Z===!0||C.response.headers.has("X-Remix-Replace")?$e.Replace:$e.Push,{formMethod:H,formAction:pe,formEncType:me}=b.navigation;!$&&!Y&&H&&pe&&me&&($=Dg(b.navigation));let Ee=$||Y;if(ok.has(C.response.status)&&Ee&&rn(Ee.formMethod))await zr(U,G,{submission:Te({},Ee,{formAction:z}),preventScrollReset:L,enableViewTransition:T?R:void 0});else{let de=Nu(G,$);await zr(U,G,{overrideNavigation:de,fetcherSubmission:Y,preventScrollReset:L,enableViewTransition:T?R:void 0})}}async function Ms(j,C,T,D,$,Y){let Z,z={};try{Z=await mk(c,j,C,T,D,$,Y,s,i)}catch(G){return D.forEach(U=>{z[U.route.id]={type:be.error,error:G}}),z}for(let[G,U]of Object.entries(Z))if(kk(U)){let H=U.result;z[G]={type:be.redirect,response:xk(H,T,G,$,l,d.v7_relativeSplatPath)}}else z[G]=await vk(U);return z}async function tp(j,C,T,D,$){let Y=j.matches,Z=Ms("loader",j,$,T,C,null),z=Promise.all(D.map(async H=>{if(H.matches&&H.match&&H.controller){let me=(await Ms("loader",j,Pi(t.history,H.path,H.controller.signal),[H.match],H.matches,H.key))[H.match.route.id];return{[H.key]:me}}else return Promise.resolve({[H.key]:{type:be.error,error:ft(404,{pathname:H.path})}})})),G=await Z,U=(await z).reduce((H,pe)=>Object.assign(H,pe),{});return await Promise.all([Ek(C,G,$.signal,Y,j.loaderData),Ck(C,U,D)]),{loaderResults:G,fetcherResults:U}}function iu(){ee=!0,te.push(...ou()),ce.forEach((j,C)=>{O.has(C)&&(A.add(C),Jn(C))})}function Gn(j,C,T){T===void 0&&(T={}),b.fetchers.set(j,C),ht({fetchers:new Map(b.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function kn(j,C,T,D){D===void 0&&(D={});let $=Xi(b.matches,C);xa(j),ht({errors:{[$.route.id]:T},fetchers:new Map(b.fetchers)},{flushSync:(D&&D.flushSync)===!0})}function np(j){return d.v7_fetcherPersist&&(ke.set(j,(ke.get(j)||0)+1),ue.has(j)&&ue.delete(j)),b.fetchers.get(j)||ak}function xa(j){let C=b.fetchers.get(j);O.has(j)&&!(C&&C.state==="loading"&&X.has(j))&&Jn(j),ce.delete(j),X.delete(j),oe.delete(j),ue.delete(j),A.delete(j),b.fetchers.delete(j)}function X1(j){if(d.v7_fetcherPersist){let C=(ke.get(j)||0)-1;C<=0?(ke.delete(j),ue.add(j)):ke.set(j,C)}else xa(j);ht({fetchers:new Map(b.fetchers)})}function Jn(j){let C=O.get(j);ne(C,"Expected fetch controller: "+j),C.abort(),O.delete(j)}function rp(j){for(let C of j){let T=np(C),D=tr(T.data);b.fetchers.set(C,D)}}function ip(){let j=[],C=!1;for(let T of oe){let D=b.fetchers.get(T);ne(D,"Expected fetcher: "+T),D.state==="loading"&&(oe.delete(T),j.push(T),C=!0)}return rp(j),C}function sp(j){let C=[];for(let[T,D]of X)if(D<j){let $=b.fetchers.get(T);ne($,"Expected fetcher: "+T),$.state==="loading"&&(Jn(T),X.delete(T),C.push(T))}return rp(C),C.length>0}function G1(j,C){let T=b.blockers.get(j)||Ai;return bn.get(j)!==C&&bn.set(j,C),T}function op(j){b.blockers.delete(j),bn.delete(j)}function _a(j,C){let T=b.blockers.get(j)||Ai;ne(T.state==="unblocked"&&C.state==="blocked"||T.state==="blocked"&&C.state==="blocked"||T.state==="blocked"&&C.state==="proceeding"||T.state==="blocked"&&C.state==="unblocked"||T.state==="proceeding"&&C.state==="unblocked","Invalid blocker state transition: "+T.state+" -> "+C.state);let D=new Map(b.blockers);D.set(j,C),ht({blockers:D})}function ap(j){let{currentLocation:C,nextLocation:T,historyAction:D}=j;if(bn.size===0)return;bn.size>1&&ms(!1,"A router only supports one blocker at a time");let $=Array.from(bn.entries()),[Y,Z]=$[$.length-1],z=b.blockers.get(Y);if(!(z&&z.state==="proceeding")&&Z({currentLocation:C,nextLocation:T,historyAction:D}))return Y}function su(j){let C=ft(404,{pathname:j}),T=a||o,{matches:D,route:$}=Lg(T);return ou(),{notFoundMatches:D,route:$,error:C}}function wa(j,C){return{boundaryId:Xi(C.partialMatches).route.id,error:ft(400,{type:"route-discovery",pathname:j,message:C.error!=null&&"message"in C.error?C.error:String(C.error)})}}function ou(j){let C=[];return Je.forEach((T,D)=>{(!j||j(D))&&(T.cancel(),C.push(D),Je.delete(D))}),C}function J1(j,C,T){if(x=j,v=C,p=T||null,!_&&b.navigation===Du){_=!0;let D=cp(b.location,b.matches);D!=null&&ht({restoreScrollPosition:D})}return()=>{x=null,v=null,p=null}}function lp(j,C){return p&&p(j,C.map(D=>Fb(D,b.loaderData)))||j.key}function Q1(j,C){if(x&&v){let T=lp(j,C);x[T]=v()}}function cp(j,C){if(x){let T=lp(j,C),D=x[T];if(typeof D=="number")return D}return null}function ba(j,C,T){if(u){if(m.has(T))return{active:!1,matches:j};if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:Pl(C,T,l,!0)}}else return{active:!0,matches:Pl(C,T,l,!0)||[]}}return{active:!1,matches:null}}async function ka(j,C,T){let D=j;for(;;){let $=a==null,Y=a||o;try{await fk(u,C,D,Y,s,i,F1,T)}catch(G){return{type:"error",error:G,partialMatches:D}}finally{$&&(o=[...o])}if(T.aborted)return{type:"aborted"};let Z=Zr(Y,C,l);if(Z)return up(C,m),{type:"success",matches:Z};let z=Pl(Y,C,l,!0);if(!z||D.length===z.length&&D.every((G,U)=>G.route.id===z[U].route.id))return up(C,m),{type:"success",matches:null};D=z}}function up(j,C){if(C.size>=y){let T=C.values().next().value;C.delete(T)}C.add(j)}function Z1(j){s={},a=Ho(j,i,void 0,s)}function e_(j,C){let T=a==null;Bv(j,C,a||o,s,i),T&&(o=[...o],ht({}))}return M={get basename(){return l},get future(){return d},get state(){return b},get routes(){return o},get window(){return e},initialize:z1,subscribe:B1,enableScrollRestoration:J1,navigate:Zf,fetch:Y1,revalidate:U1,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:np,deleteFetcher:X1,dispose:$1,getBlocker:G1,deleteBlocker:op,patchRoutes:e_,_internalFetchControllers:O,_internalActiveDeferreds:Je,_internalSetRoutes:Z1},M}function uk(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Qd(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=bf(i||".",wf(l,s),fn(t.pathname,n)||t.pathname,a==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!jf(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:zn([n,u.pathname])),gi(u)}function Sg(t,e,n,r){if(!r||!uk(r))return{path:n};if(r.formMethod&&!jk(r.formMethod))return{path:n,error:ft(405,{method:r.formMethod})};let i=()=>({path:n,error:ft(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=Uv(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!rn(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((g,y)=>{let[m,x]=y;return""+g+m+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!rn(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}ne(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Zd(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Zd(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Mg(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Mg(l)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(rn(u.formMethod))return{path:n,submission:u};let d=Kn(n);return e&&d.search&&jf(d.search)&&l.append("index",""),d.search="?"+l,{path:gi(d),submission:u}}function dk(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function jg(t,e,n,r,i,s,o,a,l,c,u,d,f,g,y,m){let x=m?At(m[1])?m[1].error:m[1].data:void 0,p=t.createURL(e.location),v=t.createURL(i),_=m&&At(m[1])?m[0]:void 0,w=_?dk(n,_):n,S=m?m[1].statusCode:void 0,E=o&&S&&S>=400,M=w.filter((P,L)=>{let{route:N}=P;if(N.lazy)return!0;if(N.loader==null)return!1;if(s)return typeof N.loader!="function"||N.loader.hydrate?!0:e.loaderData[N.id]===void 0&&(!e.errors||e.errors[N.id]===void 0);if(hk(e.loaderData,e.matches[L],P)||l.some(q=>q===P.route.id))return!0;let R=e.matches[L],V=P;return Eg(P,Te({currentUrl:p,currentParams:R.params,nextUrl:v,nextParams:V.params},r,{actionResult:x,actionStatus:S,defaultShouldRevalidate:E?!1:a||p.pathname+p.search===v.pathname+v.search||p.search!==v.search||$v(R,V)}))}),b=[];return d.forEach((P,L)=>{if(s||!n.some(J=>J.route.id===P.routeId)||u.has(L))return;let N=Zr(g,P.path,y);if(!N){b.push({key:L,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(L),V=Qs(N,P.path),q=!1;f.has(L)?q=!1:c.has(L)?(c.delete(L),q=!0):R&&R.state!=="idle"&&R.data===void 0?q=a:q=Eg(V,Te({currentUrl:p,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:S,defaultShouldRevalidate:E?!1:a})),q&&b.push({key:L,routeId:P.routeId,path:P.path,matches:N,match:V,controller:new AbortController})}),[M,b]}function hk(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function $v(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Eg(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function fk(t,e,n,r,i,s,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(u,d)=>{a.aborted||Bv(u,d,r,i,s)}}),o.set(l,c)),c&&bk(c)&&await c}finally{o.delete(l)}}function Bv(t,e,n,r,i){if(t){var s;let o=r[t];ne(o,"No route found to patch children into: routeId = "+t);let a=Ho(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=Ho(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function pk(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ne(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";ms(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Ab.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Te({},e(i),{lazy:void 0}))}async function gk(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function mk(t,e,n,r,i,s,o,a,l,c){let u=s.map(g=>g.route.lazy?pk(g.route,l,a):void 0),d=s.map((g,y)=>{let m=u[y],x=i.some(v=>v.route.id===g.route.id);return Te({},g,{shouldLoad:x,resolve:async v=>(v&&r.method==="GET"&&(g.route.lazy||g.route.loader)&&(x=!0),x?yk(e,r,g,m,v,c):Promise.resolve({type:be.data,result:void 0}))})}),f=await t({matches:d,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return f}async function yk(t,e,n,r,i,s){let o,a,l=c=>{let u,d=new Promise((y,m)=>u=m);a=()=>u(),e.signal.addEventListener("abort",a);let f=y=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...y!==void 0?[y]:[]),g=(async()=>{try{return{type:"data",result:await(i?i(m=>f(m)):f())}}catch(y){return{type:"error",result:y}}})();return Promise.race([g,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw ft(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:be.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw ft(404,{pathname:d})}ne(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:be.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function vk(t){let{result:e,type:n}=t;if(Hv(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:be.error,error:u}}return n===be.error?{type:be.error,error:new oc(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:be.data,data:c,statusCode:e.status,headers:e.headers}}if(n===be.error){if(Og(e)){var r;if(e.data instanceof Error){var i;return{type:be.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new oc(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:be.error,error:e,statusCode:Bc(e)?e.status:void 0}}if(Sk(e)){var s,o;return{type:be.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Og(e)){var a,l;return{type:be.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:be.data,data:e}}function xk(t,e,n,r,i,s){let o=t.headers.get("Location");if(ne(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!kf.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Qd(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function Cg(t,e,n){if(kf.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=fn(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Pi(t,e,n,r){let i=t.createURL(Uv(e)).toString(),s={signal:n};if(r&&rn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Zd(r.formData):s.body=r.formData}return new Request(i,s)}function Zd(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Mg(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function _k(t,e,n,r,i){let s={},o=null,a,l=!1,c={},u=n&&At(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let f=d.route.id,g=e[f];if(ne(!ii(g),"Cannot handle redirect results in processLoaderData"),At(g)){let y=g.error;u!==void 0&&(y=u,u=void 0),o=o||{};{let m=Xi(t,f);o[m.route.id]==null&&(o[m.route.id]=y)}s[f]=void 0,l||(l=!0,a=Bc(g.error)?g.error.status:500),g.headers&&(c[f]=g.headers)}else fr(g)?(r.set(f,g.deferredData),s[f]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[f]=g.headers)):(s[f]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(c[f]=g.headers))}),u!==void 0&&n&&(o={[n[0]]:u},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function Pg(t,e,n,r,i,s,o,a){let{loaderData:l,errors:c}=_k(e,r,i,a);return s.forEach(u=>{let{key:d,match:f,controller:g}=u,y=o[d];if(ne(y,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(At(y)){let m=Xi(t.matches,f==null?void 0:f.route.id);c&&c[m.route.id]||(c=Te({},c,{[m.route.id]:y.error})),t.fetchers.delete(d)}else if(ii(y))ne(!1,"Unhandled fetcher revalidation redirect");else if(fr(y))ne(!1,"Unhandled fetcher deferred data");else{let m=tr(y.data);t.fetchers.set(d,m)}}),{loaderData:l,errors:c}}function Tg(t,e,n,r){let i=Te({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Rg(t){return t?At(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Xi(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Lg(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ft(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new oc(t||500,a,new Error(l),!0)}function Va(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(ii(i))return{key:r,result:i}}}function Uv(t){let e=typeof t=="string"?Kn(t):t;return gi(Te({},e,{hash:""}))}function wk(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function bk(t){return typeof t=="object"&&t!=null&&"then"in t}function kk(t){return Hv(t.result)&&sk.has(t.result.status)}function fr(t){return t.type===be.deferred}function At(t){return t.type===be.error}function ii(t){return(t&&t.type)===be.redirect}function Og(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Sk(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Hv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function jk(t){return ik.has(t.toLowerCase())}function rn(t){return nk.has(t.toLowerCase())}async function Ek(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),d=u!=null&&!$v(u,c)&&(i&&i[c.route.id])!==void 0;fr(l)&&d&&await Sf(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function Ck(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&fr(a)&&(ne(o,"Expected an AbortController for revalidating fetcher deferred result"),await Sf(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function Sf(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:be.data,data:t.deferredData.unwrappedData}}catch(i){return{type:be.error,error:i}}return{type:be.data,data:t.deferredData.data}}}function jf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Qs(t,e){let n=typeof e=="string"?Kn(e).search:e.search;if(t[t.length-1].route.index&&jf(n||""))return t[t.length-1];let r=Iv(t);return r[r.length-1]}function Dg(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Nu(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Mk(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fs(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Pk(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function tr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Tk(t,e){try{let n=t.sessionStorage.getItem(zv);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function Rk(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(zv,JSON.stringify(n))}catch(r){ms(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mi(){return mi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mi.apply(this,arguments)}const ca=k.createContext(null),Ef=k.createContext(null),Nr=k.createContext(null),Uc=k.createContext(null),wi=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Wv=k.createContext(null);function Lk(t,e){let{relative:n}=e===void 0?{}:e;ua()||ne(!1);let{basename:r,navigator:i}=k.useContext(Nr),{hash:s,pathname:o,search:a}=Hc(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:zn([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ua(){return k.useContext(Uc)!=null}function Ar(){return ua()||ne(!1),k.useContext(Uc).location}function Vv(t){k.useContext(Nr).static||k.useLayoutEffect(t)}function wn(){let{isDataRoute:t}=k.useContext(wi);return t?Hk():Ok()}function Ok(){ua()||ne(!1);let t=k.useContext(ca),{basename:e,future:n,navigator:r}=k.useContext(Nr),{matches:i}=k.useContext(wi),{pathname:s}=Ar(),o=JSON.stringify(wf(i,n.v7_relativeSplatPath)),a=k.useRef(!1);return Vv(()=>{a.current=!0}),k.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=bf(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:zn([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function Hc(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(Nr),{matches:i}=k.useContext(wi),{pathname:s}=Ar(),o=JSON.stringify(wf(i,r.v7_relativeSplatPath));return k.useMemo(()=>bf(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Dk(t,e){return Yv(t,e)}function Yv(t,e,n,r){ua()||ne(!1);let{navigator:i}=k.useContext(Nr),{matches:s}=k.useContext(wi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ar(),u;if(e){var d;let x=typeof e=="string"?Kn(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||ne(!1),u=x}else u=c;let f=u.pathname||"/",g=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=Zr(t,{pathname:g}),m=zk(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:zn([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:zn([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&m?k.createElement(Uc.Provider,{value:{location:mi({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:$e.Pop}},m):m}function Nk(){let t=Bk(),e=Bc(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const Ak=k.createElement(Nk,null);class Ik extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(wi.Provider,{value:this.props.routeContext},k.createElement(Wv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fk(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(ca);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(wi.Provider,{value:e},r)}function zk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||ne(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:g}=n,y=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let g,y=!1,m=null,x=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||Ak,l&&(c<0&&f===0?(y=!0,x=null):c===f&&(y=!0,x=d.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,f+1)),v=()=>{let _;return g?_=m:y?_=x:d.route.Component?_=k.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,k.createElement(Fk,{match:d,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?k.createElement(Ik,{location:n.location,revalidation:n.revalidation,component:m,error:g,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var Cf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Cf||{}),Wo=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wo||{});function Kv(t){let e=k.useContext(ca);return e||ne(!1),e}function qv(t){let e=k.useContext(Ef);return e||ne(!1),e}function $k(t){let e=k.useContext(wi);return e||ne(!1),e}function Xv(t){let e=$k(),n=e.matches[e.matches.length-1];return n.route.id||ne(!1),n.route.id}function Bk(){var t;let e=k.useContext(Wv),n=qv(Wo.UseRouteError),r=Xv(Wo.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}let Uk=0;function Gv(t){let{router:e,basename:n}=Kv(Cf.UseBlocker),r=qv(Wo.UseBlocker),[i,s]=k.useState(""),o=k.useCallback(a=>{if(typeof t!="function")return!!t;if(n==="/")return t(a);let{currentLocation:l,nextLocation:c,historyAction:u}=a;return t({currentLocation:mi({},l,{pathname:fn(l.pathname,n)||l.pathname}),nextLocation:mi({},c,{pathname:fn(c.pathname,n)||c.pathname}),historyAction:u})},[n,t]);return k.useEffect(()=>{let a=String(++Uk);return s(a),()=>e.deleteBlocker(a)},[e]),k.useEffect(()=>{i!==""&&e.getBlocker(i,o)},[e,i,o]),i&&r.blockers.has(i)?r.blockers.get(i):Ai}function Hk(){let{router:t}=Kv(Cf.UseNavigateStable),e=Xv(Wo.UseNavigateStable),n=k.useRef(!1);return Vv(()=>{n.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,mi({fromRouteId:e},s)))},[t,e])}function Tt(t){ne(!1)}function Wk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=$e.Pop,navigator:s,static:o=!1,future:a}=t;ua()&&ne(!1);let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:s,static:o,future:mi({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Kn(r));let{pathname:u="/",search:d="",hash:f="",state:g=null,key:y="default"}=r,m=k.useMemo(()=>{let x=fn(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:g,key:y},navigationType:i}},[l,u,d,f,g,y,i]);return m==null?null:k.createElement(Nr.Provider,{value:c},k.createElement(Uc.Provider,{children:n,value:m}))}function da(t){let{children:e,location:n}=t;return Dk(ac(e),n)}new Promise(()=>{});function ac(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let s=[...e,i];if(r.type===k.Fragment){n.push.apply(n,ac(r.props.children,s));return}r.type!==Tt&&ne(!1),!r.props.index||!r.props.children||ne(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ac(r.props.children,s)),n.push(o)}),n}function Vk(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:k.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ys.apply(this,arguments)}function Jv(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Yk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Kk(t,e){return t.button===0&&(!e||e==="_self")&&!Yk(t)}function eh(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function qk(t,e){let n=eh(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const Xk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Gk=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],Jk="6";try{window.__reactRouterVersion=Jk}catch{}function Qk(t,e){return ck({basename:e==null?void 0:e.basename,future:ys({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Ob({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Zk(),routes:t,mapRouteProperties:Vk,unstable_dataStrategy:e==null?void 0:e.unstable_dataStrategy,unstable_patchRoutesOnNavigation:e==null?void 0:e.unstable_patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Zk(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ys({},e,{errors:e2(e.errors)})),e}function e2(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new oc(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Qv=k.createContext({isTransitioning:!1}),t2=k.createContext(new Map),n2="startTransition",Ng=__[n2],r2="flushSync",Ag=Lb[r2];function i2(t){Ng?Ng(t):t()}function zs(t){Ag?Ag(t):t()}let s2=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function o2(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=k.useState(n.state),[o,a]=k.useState(),[l,c]=k.useState({isTransitioning:!1}),[u,d]=k.useState(),[f,g]=k.useState(),[y,m]=k.useState(),x=k.useRef(new Map),{v7_startTransition:p}=r||{},v=k.useCallback(b=>{p?i2(b):b()},[p]),_=k.useCallback((b,P)=>{let{deletedFetchers:L,unstable_flushSync:N,unstable_viewTransitionOpts:R}=P;L.forEach(q=>x.current.delete(q)),b.fetchers.forEach((q,J)=>{q.data!==void 0&&x.current.set(J,q.data)});let V=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!R||V){N?zs(()=>s(b)):v(()=>s(b));return}if(N){zs(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let q=n.window.document.startViewTransition(()=>{zs(()=>s(b))});q.finished.finally(()=>{zs(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),zs(()=>g(q));return}f?(u&&u.resolve(),f.skipTransition(),m({state:b,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(a(b),c({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[n.window,f,u,x,v]);k.useLayoutEffect(()=>n.subscribe(_),[n,_]),k.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new s2)},[l]),k.useEffect(()=>{if(u&&o&&n.window){let b=o,P=u.promise,L=n.window.document.startViewTransition(async()=>{v(()=>s(b)),await P});L.finished.finally(()=>{d(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(L)}},[v,o,u,n.window]),k.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,f,i.location,o]),k.useEffect(()=>{!l.isTransitioning&&y&&(a(y.state),c({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),m(void 0))},[l.isTransitioning,y]),k.useEffect(()=>{},[]);let w=k.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:b=>n.navigate(b),push:(b,P,L)=>n.navigate(b,{state:P,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(b,P,L)=>n.navigate(b,{replace:!0,state:P,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[n]),S=n.basename||"/",E=k.useMemo(()=>({router:n,navigator:w,static:!1,basename:S}),[n,w,S]),M=k.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return k.createElement(k.Fragment,null,k.createElement(ca.Provider,{value:E},k.createElement(Ef.Provider,{value:i},k.createElement(t2.Provider,{value:x.current},k.createElement(Qv.Provider,{value:l},k.createElement(Wk,{basename:S,location:i.location,navigationType:i.historyAction,navigator:w,future:M},i.initialized||n.future.v7_partialHydration?k.createElement(a2,{routes:n.routes,future:n.future,state:i}):e))))),null)}const a2=k.memo(l2);function l2(t){let{routes:e,future:n,state:r}=t;return Yv(e,void 0,r,n)}const c2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mf=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,f=Jv(e,Xk),{basename:g}=k.useContext(Nr),y,m=!1;if(typeof c=="string"&&u2.test(c)&&(y=c,c2))try{let _=new URL(window.location.href),w=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=fn(w.pathname,g);w.origin===_.origin&&S!=null?c=S+w.search+w.hash:m=!0}catch{}let x=Lk(c,{relative:i}),p=f2(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function v(_){r&&r(_),_.defaultPrevented||p(_)}return k.createElement("a",ys({},f,{href:y||x,onClick:m||s?r:v,ref:n,target:l}))}),d2=k.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,d=Jv(e,Gk),f=Hc(l,{relative:d.relative}),g=Ar(),y=k.useContext(Ef),{navigator:m,basename:x}=k.useContext(Nr),p=y!=null&&g2(f)&&c===!0,v=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,_=g.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(_=_.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&x&&(w=fn(w,x)||w);const S=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=_===v||!o&&_.startsWith(v)&&_.charAt(S)==="/",M=w!=null&&(w===v||!o&&w.startsWith(v)&&w.charAt(v.length)==="/"),b={isActive:E,isPending:M,isTransitioning:p},P=E?r:void 0,L;typeof s=="function"?L=s(b):L=[s,E?"active":null,M?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(b):a;return k.createElement(Mf,ys({},d,{"aria-current":P,className:L,ref:n,style:N,to:l,unstable_viewTransition:c}),typeof u=="function"?u(b):u)});var th;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(th||(th={}));var Ig;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ig||(Ig={}));function h2(t){let e=k.useContext(ca);return e||ne(!1),e}function f2(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=wn(),c=Ar(),u=Hc(t,{relative:o});return k.useCallback(d=>{if(Kk(d,n)){d.preventDefault();let f=r!==void 0?r:gi(c)===gi(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function p2(t){let e=k.useRef(eh(t)),n=k.useRef(!1),r=Ar(),i=k.useMemo(()=>qk(r.search,n.current?null:e.current),[r.search]),s=wn(),o=k.useCallback((a,l)=>{const c=eh(typeof a=="function"?a(i):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}function g2(t,e){e===void 0&&(e={});let n=k.useContext(Qv);n==null&&ne(!1);let{basename:r}=h2(th.useViewTransitionState),i=Hc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=fn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=fn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sc(i.pathname,o)!=null||sc(i.pathname,s)!=null}const an={BASE_URL:"/duitify",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobGxzdmxxZHpncmhqamZnZXdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI2MDI1MjcsImV4cCI6MjA0ODE3ODUyN30.sgz9zSOQRqOzjWojV2acr6f3OQNNZ88D5zT-TSmYEIM",VITE_SUPABASE_PROJECT_URL:"https://xhllsvlqdzgrhjjfgewk.supabase.co"};let m2=0;function Ge(t,e){const n=`atom${++m2}`,r={toString(){return(an?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=y2,r.write=v2),e&&(r.write=e),r}function y2(t){return t(this)}function v2(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}const Fg=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,Au=t=>"init"in t,Iu=t=>!!t.write,lc=new WeakMap,nh=t=>{var e;return rh(t)&&!((e=lc.get(t))!=null&&e[1])},x2=(t,e)=>{const n=lc.get(t);if(n)n[1]=!0,n[0].forEach(r=>r(e));else if((an?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},_2=t=>{if(lc.has(t))return;const e=[new Set,!1];lc.set(t,e);const n=()=>{e[1]=!0};t.then(n,n),t.onCancel=r=>{e[0].add(r)}},rh=t=>typeof(t==null?void 0:t.then)=="function",zg=t=>"v"in t||"e"in t,Ya=t=>{if("e"in t)throw t.e;if((an?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},Zv=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},$g=(t,e,n,r,i)=>{var s;if((an?"production":void 0)!=="production"&&r===e)throw new Error("[Bug] atom cannot depend on itself");n.d.set(r,i.n),nh(n.v)&&Zv(e,n.v,i),(s=i.m)==null||s.t.add(e),t&&w2(t,r,e)},Ti=()=>[new Map,new Map,new Set],Fu=(t,e,n)=>{t[0].has(e)||t[0].set(e,new Set),t[1].set(e,n)},w2=(t,e,n)=>{const r=t[0].get(e);r&&r.add(n)},b2=(t,e)=>t[0].get(e),Bg=(t,e)=>{t[2].add(e)},Br=t=>{for(;t[1].size||t[2].size;){t[0].clear();const e=new Set(t[1].values());t[1].clear();const n=new Set(t[2]);t[2].clear(),e.forEach(r=>{var i;return(i=r.m)==null?void 0:i.l.forEach(s=>s())}),n.forEach(r=>r())}},ex=t=>{let e;(an?"production":void 0)!=="production"&&(e=new Set);const n=(m,x,p)=>{const v="v"in x,_=x.v,w=nh(x.v)?x.v:null;if(rh(p)){_2(p);for(const S of x.d.keys())Zv(m,p,t(S,x));x.v=p,delete x.e}else x.v=p,delete x.e;(!v||!Object.is(_,x.v))&&(++x.n,w&&x2(w,p))},r=(m,x,p,v)=>{var _;if(!(v!=null&&v(x))&&zg(p)&&(p.m||Array.from(p.d).every(([P,L])=>r(m,P,t(P,p),v).n===L)))return p;p.d.clear();let w=!0;const S=P=>{if(Fg(x,P)){const N=t(P,p);if(!zg(N))if(Au(P))n(P,N,P.init);else throw new Error("no atom init");return Ya(N)}const L=r(m,P,t(P,p),v);if(w)$g(m,x,p,P,L);else{const N=Ti();$g(N,x,p,P,L),c(N,x,p),Br(N)}return Ya(L)};let E,M;const b={get signal(){return E||(E=new AbortController),E.signal},get setSelf(){return(an?"production":void 0)!=="production"&&!Iu(x)&&console.warn("setSelf function cannot be used with read-only atom"),!M&&Iu(x)&&(M=(...P)=>{if((an?"production":void 0)!=="production"&&w&&console.warn("setSelf function cannot be called in sync"),!w)return l(x,...P)}),M}};try{const P=x.read(S,b);if(n(x,p,P),rh(P)){(_=P.onCancel)==null||_.call(P,()=>E==null?void 0:E.abort());const L=()=>{if(p.m){const N=Ti();c(N,x,p),Br(N)}};P.then(L,L)}return p}catch(P){return delete p.v,p.e=P,++p.n,p}finally{w=!1}},i=m=>Ya(r(void 0,m,t(m))),s=(m,x,p)=>{var v,_;const w=new Map;for(const S of((v=p.m)==null?void 0:v.t)||[])w.set(S,t(S,p));for(const S of p.p)w.set(S,t(S,p));return(_=b2(m,x))==null||_.forEach(S=>{w.set(S,t(S,p))}),w},o=(m,x,p)=>{const v=[],_=new Set,w=(M,b)=>{if(!_.has(M)){_.add(M);for(const[P,L]of s(m,M,b))M!==P&&w(P,L);v.push([M,b,b.n])}};w(x,p);const S=new Set([x]),E=M=>_.has(M);for(let M=v.length-1;M>=0;--M){const[b,P,L]=v[M];let N=!1;for(const R of P.d.keys())if(R!==b&&S.has(R)){N=!0;break}N&&(r(m,b,P,E),c(m,b,P),L!==P.n&&(Fu(m,b,P),S.add(b))),_.delete(b)}},a=(m,x,p,...v)=>{const _=E=>Ya(r(m,E,t(E,p))),w=(E,...M)=>{const b=t(E,p);let P;if(Fg(x,E)){if(!Au(E))throw new Error("atom not writable");const L="v"in b,N=b.v,R=M[0];n(E,b,R),c(m,E,b),(!L||!Object.is(N,b.v))&&(Fu(m,E,b),o(m,E,b))}else P=a(m,E,b,...M);return Br(m),P};return x.write(_,w,...v)},l=(m,...x)=>{const p=Ti(),v=a(p,m,t(m),...x);return Br(p),v},c=(m,x,p)=>{if(p.m&&!nh(p.v)){for(const v of p.d.keys())p.m.d.has(v)||(u(m,v,t(v,p)).t.add(x),p.m.d.add(v));for(const v of p.m.d||[])if(!p.d.has(v)){p.m.d.delete(v);const _=d(m,v,t(v,p));_==null||_.t.delete(x)}}},u=(m,x,p)=>{if(!p.m){r(m,x,p);for(const v of p.d.keys())u(m,v,t(v,p)).t.add(x);if(p.m={l:new Set,d:new Set(p.d.keys()),t:new Set},(an?"production":void 0)!=="production"&&e.add(x),Iu(x)&&x.onMount){const v=p.m,{onMount:_}=x;Bg(m,()=>{const w=_((...S)=>a(m,x,p,...S));w&&(v.u=w)})}}return p.m},d=(m,x,p)=>{if(p.m&&!p.m.l.size&&!Array.from(p.m.t).some(v=>{var _;return(_=t(v,p).m)==null?void 0:_.d.has(x)})){const v=p.m.u;v&&Bg(m,v),delete p.m,(an?"production":void 0)!=="production"&&e.delete(x);for(const _ of p.d.keys()){const w=d(m,_,t(_,p));w==null||w.t.delete(x)}return}return p.m},y={get:i,set:l,sub:(m,x)=>{const p=Ti(),v=t(m),_=u(p,m,v);Br(p);const w=_.l;return w.add(x),()=>{w.delete(x);const S=Ti();d(S,m,v),Br(S)}},unstable_derive:m=>ex(...m(t))};return(an?"production":void 0)!=="production"&&Object.assign(y,{dev4_get_internal_weak_map:()=>({get:x=>{const p=t(x);if(p.n!==0)return p}}),dev4_get_mounted_atoms:()=>e,dev4_restore_atoms:x=>{const p=Ti();for(const[v,_]of x)if(Au(v)){const w=t(v),S="v"in w,E=w.v;n(v,w,_),c(p,v,w),(!S||!Object.is(E,w.v))&&(Fu(p,v,w),o(p,v,w))}Br(p)}}),y},k2=()=>{const t=new WeakMap;return ex(n=>{let r=t.get(n);return r||(r={d:new Map,p:new Set,n:0},t.set(n,r)),r})};let $s;const qn=()=>($s||($s=k2(),(an?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=$s),globalThis.__JOTAI_DEFAULT_STORE__!==$s&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),$s),tx={BASE_URL:"/duitify",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobGxzdmxxZHpncmhqamZnZXdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI2MDI1MjcsImV4cCI6MjA0ODE3ODUyN30.sgz9zSOQRqOzjWojV2acr6f3OQNNZ88D5zT-TSmYEIM",VITE_SUPABASE_PROJECT_URL:"https://xhllsvlqdzgrhjjfgewk.supabase.co"},S2=k.createContext(void 0),nx=t=>k.useContext(S2)||qn(),rx=t=>typeof(t==null?void 0:t.then)=="function",j2=t=>{t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e})},E2=ge.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(j2(t),t)}),zu=new WeakMap,C2=t=>{let e=zu.get(t);return e||(e=new Promise((n,r)=>{let i=t;const s=l=>c=>{i===l&&n(c)},o=l=>c=>{i===l&&r(c)},a=l=>{"onCancel"in l&&typeof l.onCancel=="function"&&l.onCancel(c=>{if((tx?"production":void 0)!=="production"&&c===l)throw new Error("[Bug] p is not updated even after cancelation");rx(c)?(zu.set(c,e),i=c,c.then(s(c),o(c)),a(c)):n(c)})};t.then(s(t),o(t)),a(t)}),zu.set(t,e)),e};function M2(t,e){const n=nx(),[[r,i,s],o]=k.useReducer(c=>{const u=n.get(t);return Object.is(c[0],u)&&c[1]===n&&c[2]===t?c:[u,n,t]},void 0,()=>[n.get(t),n,t]);let a=r;if((i!==n||s!==t)&&(o(),a=n.get(t)),k.useEffect(()=>{const c=n.sub(t,()=>{o()});return o(),c},[n,t,void 0]),k.useDebugValue(a),rx(a)){const c=C2(a);return E2(c)}return a}function P2(t,e){const n=nx();return k.useCallback((...i)=>{if((tx?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...i)},[n,t])}function re(t,e){return[M2(t),P2(t)]}const T2=qn(),ix=Ge(!1);function Ae(t){return T2.set(ix,t),t}Ge(!0);Ge(!1);const Ir=Ge({title:"Duitify",actions:[]}),ih=qn();let R2=0;const cc=Ge([]),sx=Ge(t=>t(cc));function Fr(t,{dismissible:e=!0,...n}){return n.modalId&&ih.get(cc).find(i=>i.modalId===n.modalId)?-1:(n.modalId||(n.modalId=++R2),ih.set(cc,r=>[...r,{Element:t,props:n,dismissible:e,modalId:n.modalId}]),n.modalId??0)}function Tr(t){ih.set(cc,e=>(e.pop(),[...e]))}function ox(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ox(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ox(t))&&(r&&(r+=" "),r+=e);return r}const Vo=t=>typeof t=="number"&&!isNaN(t),li=t=>typeof t=="string",Ft=t=>typeof t=="function",Tl=t=>li(t)||Ft(t)?t:null,sh=t=>k.isValidElement(t)||li(t)||Ft(t)||Vo(t);function L2(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Wc(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:f,playToast:g}=o;const y=r?`${e}--${l}`:e,m=r?`${n}--${l}`:n,x=k.useRef(0);return k.useLayoutEffect(()=>{const p=d.current,v=y.split(" "),_=w=>{w.target===d.current&&(g(),p.removeEventListener("animationend",_),p.removeEventListener("animationcancel",_),x.current===0&&w.type!=="animationcancel"&&p.classList.remove(...v))};p.classList.add(...v),p.addEventListener("animationend",_),p.addEventListener("animationcancel",_)},[]),k.useEffect(()=>{const p=d.current,v=()=>{p.removeEventListener("animationend",v),i?L2(p,u,s):u()};f||(c?v():(x.current=1,p.className+=` ${m}`,p.addEventListener("animationend",v)))},[f]),ge.createElement(ge.Fragment,null,a)}}function Ug(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const mt=new Map;let Yo=[];const oh=new Set,O2=t=>oh.forEach(e=>e(t)),ax=()=>mt.size>0;function lx(t,e){var n;if(e)return!((n=mt.get(e))==null||!n.isToastActive(t));let r=!1;return mt.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function cx(t,e){sh(t)&&(ax()||Yo.push({content:t,options:e}),mt.forEach(n=>{n.buildToast(t,e)}))}function Hg(t,e){mt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function D2(t){const{subscribe:e,getSnapshot:n,setProps:r}=k.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(u,d,f){let g=1,y=0,m=[],x=[],p=[],v=d;const _=new Map,w=new Set,S=()=>{p=Array.from(_.values()),w.forEach(b=>b())},E=b=>{x=b==null?[]:x.filter(P=>P!==b),S()},M=b=>{const{toastId:P,onOpen:L,updateId:N,children:R}=b.props,V=N==null;b.staleId&&_.delete(b.staleId),_.set(P,b),x=[...x,b.props.toastId].filter(q=>q!==b.staleId),S(),f(Ug(b,V?"added":"updated")),V&&Ft(L)&&L(k.isValidElement(R)&&R.props)};return{id:u,props:v,observe:b=>(w.add(b),()=>w.delete(b)),toggle:(b,P)=>{_.forEach(L=>{P!=null&&P!==L.props.toastId||Ft(L.toggle)&&L.toggle(b)})},removeToast:E,toasts:_,clearQueue:()=>{y-=m.length,m=[]},buildToast:(b,P)=>{if((X=>{let{containerId:oe,toastId:ce,updateId:ke}=X;const ue=oe?oe!==u:u!==1,Je=_.has(ce)&&ke==null;return ue||Je})(P))return;const{toastId:L,updateId:N,data:R,staleId:V,delay:q}=P,J=()=>{E(L)},ee=N==null;ee&&y++;const te={...v,style:v.toastStyle,key:g++,...Object.fromEntries(Object.entries(P).filter(X=>{let[oe,ce]=X;return ce!=null})),toastId:L,updateId:N,data:R,closeToast:J,isIn:!1,className:Tl(P.className||v.toastClassName),bodyClassName:Tl(P.bodyClassName||v.bodyClassName),progressClassName:Tl(P.progressClassName||v.progressClassName),autoClose:!P.isLoading&&(A=P.autoClose,O=v.autoClose,A===!1||Vo(A)&&A>0?A:O),deleteToast(){const X=_.get(L),{onClose:oe,children:ce}=X.props;Ft(oe)&&oe(k.isValidElement(ce)&&ce.props),f(Ug(X,"removed")),_.delete(L),y--,y<0&&(y=0),m.length>0?M(m.shift()):S()}};var A,O;te.closeButton=v.closeButton,P.closeButton===!1||sh(P.closeButton)?te.closeButton=P.closeButton:P.closeButton===!0&&(te.closeButton=!sh(v.closeButton)||v.closeButton);let F=b;k.isValidElement(b)&&!li(b.type)?F=k.cloneElement(b,{closeToast:J,toastProps:te,data:R}):Ft(b)&&(F=b({closeToast:J,toastProps:te,data:R}));const Q={content:F,props:te,staleId:V};v.limit&&v.limit>0&&y>v.limit&&ee?m.push(Q):Vo(q)?setTimeout(()=>{M(Q)},q):M(Q)},setProps(b){v=b},setToggle:(b,P)=>{_.get(b).toggle=P},isToastActive:b=>x.some(P=>P===b),getSnapshot:()=>v.newestOnTop?p.reverse():p}}(o,s,O2);mt.set(o,l);const c=l.observe(a);return Yo.forEach(u=>cx(u.content,u.options)),Yo=[],()=>{c(),mt.delete(o)}},setProps(a){var l;(l=mt.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=mt.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=k.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:lx,count:i==null?void 0:i.length}}function N2(t){const[e,n]=k.useState(!1),[r,i]=k.useState(!1),s=k.useRef(null),o=k.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:d}=t;var f,g;function y(){n(!0)}function m(){n(!1)}function x(_){const w=s.current;o.canDrag&&w&&(o.didMove=!0,e&&m(),o.delta=t.draggableDirection==="x"?_.clientX-o.start:_.clientY-o.start,o.start!==_.clientX&&(o.canCloseOnClick=!1),w.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,w.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function p(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",p);const _=s.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}(g=mt.get((f={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||g.setToggle(f.id,f.fn),k.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||m(),window.addEventListener("focus",y),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",y),window.removeEventListener("blur",m)}},[t.pauseOnFocusLoss]);const v={onPointerDown:function(_){if(t.draggable===!0||t.draggable===_.pointerType){o.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",p);const w=s.current;o.canCloseOnClick=!0,o.canDrag=!0,w.style.transition="none",t.draggableDirection==="x"?(o.start=_.clientX,o.removalDistance=w.offsetWidth*(t.draggablePercent/100)):(o.start=_.clientY,o.removalDistance=w.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(_){const{top:w,bottom:S,left:E,right:M}=s.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&_.clientX>=E&&_.clientX<=M&&_.clientY>=w&&_.clientY<=S?m():y()}};return a&&l&&(v.onMouseEnter=m,t.stacked||(v.onMouseLeave=y)),d&&(v.onClick=_=>{u&&u(_),o.canCloseOnClick&&c()}),{playToast:y,pauseToast:m,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:v}}function A2(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:f}=t;const g=s||l&&c===0,y={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(y.transform=`scaleX(${c})`);const m=pr("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),x=Ft(o)?o({rtl:u,type:i,defaultClassName:m}):pr(m,o),p={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}};return ge.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},ge.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),ge.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:x,style:y,...p}))}let I2=1;const ux=()=>""+I2++;function F2(t){return t&&(li(t.toastId)||Vo(t.toastId))?t.toastId:ux()}function go(t,e){return cx(t,e),e.toastId}function uc(t,e){return{...e,type:e&&e.type||t,toastId:F2(e)}}function Ka(t){return(e,n)=>go(e,uc(t,n))}function K(t,e){return go(t,uc("default",e))}K.loading=(t,e)=>go(t,uc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),K.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=li(i)?K.loading(i,n):K.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null)return void K.dismiss(r);const g={type:u,...a,...n,data:f},y=li(d)?{render:d}:d;return r?K.update(r,{...g,...y}):K(y.render,{...g,...y}),f},c=Ft(t)?t():t;return c.then(u=>l("success",o,u)).catch(u=>l("error",s,u)),c},K.success=Ka("success"),K.info=Ka("info"),K.error=Ka("error"),K.warning=Ka("warning"),K.warn=K.warning,K.dark=(t,e)=>go(t,uc("default",{theme:"dark",...e})),K.dismiss=function(t){(function(e){var n;if(ax()){if(e==null||li(n=e)||Vo(n))mt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=mt.get(e.containerId);r?r.removeToast(e.id):mt.forEach(i=>{i.removeToast(e.id)})}}else Yo=Yo.filter(r=>e!=null&&r.options.toastId!==e)})(t)},K.clearWaitingQueue=function(t){t===void 0&&(t={}),mt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},K.isActive=lx,K.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=mt.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:ux()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,go(o,s)}},K.done=t=>{K.update(t,{progress:1})},K.onChange=function(t){return oh.add(t),()=>{oh.delete(t)}},K.play=t=>Hg(!0,t),K.pause=t=>Hg(!1,t);const z2=typeof window<"u"?k.useLayoutEffect:k.useEffect,qa=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return ge.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},$u={info:function(t){return ge.createElement(qa,{...t},ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ge.createElement(qa,{...t},ge.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ge.createElement(qa,{...t},ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ge.createElement(qa,{...t},ge.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ge.createElement("div",{className:"Toastify__spinner"})}},$2=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=N2(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:f,transition:g,position:y,className:m,style:x,bodyClassName:p,bodyStyle:v,progressClassName:_,progressStyle:w,updateId:S,role:E,progress:M,rtl:b,toastId:P,deleteToast:L,isIn:N,isLoading:R,closeOnClick:V,theme:q}=t,J=pr("Toastify__toast",`Toastify__toast-theme--${q}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":b},{"Toastify__toast--close-on-click":V}),ee=Ft(m)?m({rtl:b,position:y,type:u,defaultClassName:J}):pr(J,m),te=function(Q){let{theme:X,type:oe,isLoading:ce,icon:ke}=Q,ue=null;const Je={theme:X,type:oe};return ke===!1||(Ft(ke)?ue=ke({...Je,isLoading:ce}):k.isValidElement(ke)?ue=k.cloneElement(ke,Je):ce?ue=$u.spinner():(bn=>bn in $u)(oe)&&(ue=$u[oe](Je))),ue}(t),A=!!M||!l,O={closeToast:f,type:u,theme:q};let F=null;return o===!1||(F=Ft(o)?o(O):k.isValidElement(o)?k.cloneElement(o,O):function(Q){let{closeToast:X,theme:oe,ariaLabel:ce="close"}=Q;return ge.createElement("button",{className:`Toastify__close-button Toastify__close-button--${oe}`,type:"button",onClick:ke=>{ke.stopPropagation(),X(ke)},"aria-label":ce},ge.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ge.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(O)),ge.createElement(g,{isIn:N,done:L,position:y,preventExitTransition:n,nodeRef:r,playToast:s},ge.createElement("div",{id:P,onClick:c,"data-in":N,className:ee,...i,style:x,ref:r},ge.createElement("div",{...N&&{role:E},className:Ft(p)?p({type:u}):pr("Toastify__toast-body",p),style:v},te!=null&&ge.createElement("div",{className:pr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},te),ge.createElement("div",null,a)),F,ge.createElement(A2,{...S&&!A?{key:`pb-${S}`}:{},rtl:b,theme:q,delay:l,isRunning:e,isIn:N,closeToast:f,hide:d,type:u,style:w,className:_,controlledProgress:A,progress:M||0})))},Vc=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},B2=Wc(Vc("bounce",!0));Wc(Vc("slide",!0));Wc(Vc("zoom"));Wc(Vc("flip"));const U2={position:"top-right",transition:B2,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function H2(t){let e={...U2,...t};const n=t.stacked,[r,i]=k.useState(!0),s=k.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=D2(e),{className:c,style:u,rtl:d,containerId:f}=e;function g(m){const x=pr("Toastify__toast-container",`Toastify__toast-container--${m}`,{"Toastify__toast-container--rtl":d});return Ft(c)?c({position:m,rtl:d,defaultClassName:x}):pr(x,Tl(c))}function y(){n&&(i(!0),K.play())}return z2(()=>{if(n){var m;const x=s.current.querySelectorAll('[data-in="true"]'),p=12,v=(m=e.position)==null?void 0:m.includes("top");let _=0,w=0;Array.from(x).reverse().forEach((S,E)=>{const M=S;M.classList.add("Toastify__toast--stacked"),E>0&&(M.dataset.collapsed=`${r}`),M.dataset.pos||(M.dataset.pos=v?"top":"bot");const b=_*(r?.2:1)+(r?0:p*E);M.style.setProperty("--y",`${v?b:-1*b}px`),M.style.setProperty("--g",`${p}`),M.style.setProperty("--s",""+(1-(r?w:0))),_+=M.offsetHeight,w+=.025})}},[r,l,n]),ge.createElement("div",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{n&&(i(!1),K.pause())},onMouseLeave:y},o((m,x)=>{const p=x.length?{...u}:{...u,pointerEvents:"none"};return ge.createElement("div",{className:g(m),style:p,key:`container-${m}`},x.map(v=>{let{content:_,props:w}=v;return ge.createElement($2,{...w,stacked:n,collapseAll:y,isIn:a(w.toastId,w.containerId),style:w.style,key:`toast-${w.key}`},_)}))}))}const W2={xs:"dai-btn-xs",sm:"dai-btn-sm",md:"dai-btn-md",lg:"dai-btn-lg",wide:"dai-btn-wide",block:"dai-btn-block"},V2={xs:"dai-loading-xs",sm:"dai-loading-sm",md:"dai-loading-md",lg:"dai-loading-lg",wide:"dai-loading-md",block:"dai-loading-md"},Yc=({children:t,loading:e,className:n,disabled:r,size:i="md",disableWhileLoading:s=!0,...o})=>{const a=k.useMemo(()=>W2[i],[i]),l=k.useMemo(()=>V2[i],[i]);return h.jsxs("button",{disabled:r||s&&e,className:`dai-btn relative grid place-items-center ${n} ${a}`,...o,children:[h.jsx("span",{className:`${e?"opacity-0":""}`,children:t}),e&&h.jsx("span",{className:`dai-loading dai-loading-spinner absolute ${l}`})]})},Wg=["input","textarea","button","a","select","label"];function Y2(){const t=k.useRef(null);return k.useEffect(()=>{if(!t.current)return;const e=t.current.tagName.toLowerCase();if(Wg.includes(e)){t.current.focus();return}for(const n of Wg){const r=t.current.querySelectorAll(n);if(r.length!==0){r[0].focus();return}}},[t]),t}const K2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}),h.jsx("path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"})]})}),q2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z"}),h.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"})]})}),X2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M3 12a9 9 0 1 0 9-9a9.75 9.75 0 0 0-6.74 2.74L3 8"}),h.jsx("path",{d:"M3 3v5h5m4-1v5l4 2"})]})}),G2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,children:[h.jsx("path",{d:"M10.11 3.9a1 1 0 0 1 .995-.9h1.79a1 1 0 0 1 .995.9l.033.333a8 8 0 0 1 2.209.915l.259-.212a1 1 0 0 1 1.34.067l1.266 1.266a1 1 0 0 1 .067 1.34l-.212.26c.409.676.72 1.419.915 2.208l.332.033a1 1 0 0 1 .901.995v1.79a1 1 0 0 1-.9.995l-.333.033a8 8 0 0 1-.915 2.209l.212.259a1 1 0 0 1-.067 1.34l-1.266 1.266a1 1 0 0 1-1.34.067l-.26-.212a8 8 0 0 1-2.208.915l-.033.332a1 1 0 0 1-.995.901h-1.79a1 1 0 0 1-.995-.9l-.033-.333a8 8 0 0 1-2.209-.915l-.259.212a1 1 0 0 1-1.34-.067L5.003 17.73a1 1 0 0 1-.067-1.34l.212-.26a8 8 0 0 1-.915-2.208L3.9 13.89a1 1 0 0 1-.9-.995v-1.79a1 1 0 0 1 .9-.995l.333-.033a8 8 0 0 1 .915-2.209l-.212-.259a1 1 0 0 1 .067-1.34L6.27 5.003a1 1 0 0 1 1.34-.067l.26.212a8 8 0 0 1 2.208-.915z"}),h.jsx("path",{d:"M14.5 12a2.5 2.5 0 1 0-5 0a2.5 2.5 0 0 0 5 0"})]})}),J2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"M12 8v4m0 4h.01"})]})}),Q2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"m13 21l2-1l2 1v-7h-4m4-5V7l-2 1l-2-1v2l-2 1l2 1v2l2-1l2 1v-2l2-1m1-7H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7v-2H4V5h16v10h-1v2h1a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-9 5H5V6h6m-2 5H5V9h4m2 5H5v-2h6Z"})}),Z2=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),h.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]})}),eS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M12 8a4 4 0 0 1 4 4a4 4 0 0 1-4 4a4 4 0 0 1-4-4a4 4 0 0 1 4-4m0 2a2 2 0 0 0-2 2a2 2 0 0 0 2 2a2 2 0 0 0 2-2a2 2 0 0 0-2-2m-2 12c-.25 0-.46-.18-.5-.42l-.37-2.65c-.63-.25-1.17-.59-1.69-.99l-2.49 1.01c-.22.08-.49 0-.61-.22l-2-3.46a.493.493 0 0 1 .12-.64l2.11-1.66L4.5 12l.07-1l-2.11-1.63a.493.493 0 0 1-.12-.64l2-3.46c.12-.22.39-.31.61-.22l2.49 1c.52-.39 1.06-.73 1.69-.98l.37-2.65c.04-.24.25-.42.5-.42h4c.25 0 .46.18.5.42l.37 2.65c.63.25 1.17.59 1.69.98l2.49-1c.22-.09.49 0 .61.22l2 3.46c.13.22.07.49-.12.64L19.43 11l.07 1l-.07 1l2.11 1.63c.19.15.25.42.12.64l-2 3.46c-.12.22-.39.31-.61.22l-2.49-1c-.52.39-1.06.73-1.69.98l-.37 2.65c-.04.24-.25.42-.5.42zm1.25-18l-.37 2.61c-1.2.25-2.26.89-3.03 1.78L5.44 7.35l-.75 1.3L6.8 10.2a5.55 5.55 0 0 0 0 3.6l-2.12 1.56l.75 1.3l2.43-1.04c.77.88 1.82 1.52 3.01 1.76l.37 2.62h1.52l.37-2.61c1.19-.25 2.24-.89 3.01-1.77l2.43 1.04l.75-1.3l-2.12-1.55c.4-1.17.4-2.44 0-3.61l2.11-1.55l-.75-1.3l-2.41 1.04a5.42 5.42 0 0 0-3.03-1.77L12.75 4z"})}),tS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M20 11v2H8l5.5 5.5l-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5L8 11z"})}),nS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M14.94 19.5L12 17.77L9.06 19.5l.78-3.34l-2.59-2.24l3.41-.29L12 10.5l1.34 3.13l3.41.29l-2.59 2.24M20 2H4v2l4.86 3.64a8 8 0 1 0 6.28 0L20 4m-2 11a6 6 0 1 1-7.18-5.88a5.9 5.9 0 0 1 2.36 0A6 6 0 0 1 18 15m-5.37-8h-1.26l-4-3h9.34Z"})}),rS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M12 5c3.87 0 7 3.13 7 7s-3.13 7-7 7s-7-3.13-7-7s3.13-7 7-7m0-3c5.5 0 10 4.5 10 10s-4.5 10-10 10S2 17.5 2 12S6.5 2 12 2m0 2c-4.42 0-8 3.58-8 8s3.58 8 8 8s8-3.58 8-8s-3.58-8-8-8"})}),iS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4m7 14l5-5l-5-5m5 5H9"})}),sS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:11,cy:11,r:8}),h.jsx("path",{d:"m21 21l-4.3-4.3"})]})}),oS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M20 7h-9m3 10H5"}),h.jsx("circle",{cx:17,cy:17,r:3}),h.jsx("circle",{cx:7,cy:7,r:3})]})}),aS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"currentColor",d:"M5 20h14v-2H5m14-9h-4V3H9v6H5l7 7z"})}),lS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M2.062 12.348a1 1 0 0 1 0-.696a10.75 10.75 0 0 1 19.876 0a1 1 0 0 1 0 .696a10.75 10.75 0 0 1-19.876 0"}),h.jsx("circle",{cx:12,cy:12,r:3})]})}),cS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575a1 1 0 0 1 0 .696a10.8 10.8 0 0 1-1.444 2.49m-6.41-.679a3 3 0 0 1-4.242-4.242"}),h.jsx("path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151a1 1 0 0 1 0-.696a10.75 10.75 0 0 1 4.446-5.143M2 2l20 20"})]})}),uS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),h.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"})]})}),dS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}),h.jsx("path",{d:"m9 11l3 3L22 4"})]})}),hS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"m15 9l-6 6m0-6l6 6"})]})}),fS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"m9 12l2 2l4-4"})]})}),pS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 16h.01M12 8v4m3.312-10a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z"})}),gS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m21.73 18l-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3M12 9v4m0 4h.01"})}),mS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"M12 16v-4m0-4h.01"})]})}),yS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"}),h.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"})]})}),vS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:1}),h.jsx("circle",{cx:12,cy:5,r:1}),h.jsx("circle",{cx:12,cy:19,r:1})]})}),xS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497zM15 5l4 4"})}),_S=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m-7-7v14"})}),wS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:4}),h.jsx("path",{d:"M12 2v2m0 16v2M4.93 4.93l1.41 1.41m11.32 11.32l1.41 1.41M2 12h2m16 0h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"})]})}),bS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3a6 6 0 0 0 9 9a9 9 0 1 1-9-9"})}),kS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6h18m-2 0v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6m3 0V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})}),SS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M3 7V5c0-1.1.9-2 2-2h2m10 0h2c1.1 0 2 .9 2 2v2m0 10v2c0 1.1-.9 2-2 2h-2M7 21H5c-1.1 0-2-.9-2-2v-2"}),h.jsx("rect",{width:7,height:5,x:7,y:7,rx:1}),h.jsx("rect",{width:7,height:5,x:10,y:12,rx:1})]})}),jS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14m-7-7l7 7l-7 7"})}),ES=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 6L6 18M6 6l12 12"})}),CS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2"}),h.jsx("circle",{cx:12,cy:12,r:3})]})}),MS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4m4-5l5 5l5-5m-5 5V3"})}),PS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m9 18l6-6l-6-6"})}),TS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m15 18l-6-6l6-6"})}),RS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v20m5-17H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})}),LS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M10 8h.01M12 12h.01M14 8h.01M16 12h.01M18 8h.01M6 8h.01M7 16h10m-9-4h.01"}),h.jsx("rect",{width:20,height:16,x:2,y:4,rx:2})]})}),OS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 6L9 17l-5-5"})}),DS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("path",{d:"M8 2v4m8-4v4"}),h.jsx("rect",{width:18,height:18,x:3,y:4,rx:2}),h.jsx("path",{d:"M3 10h18M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01M16 18h.01"})]})}),NS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 12h16M4 6h16M4 18h16"})}),AS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"M8 12h8m-4-4v8"})]})}),IS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("circle",{cx:12,cy:12,r:10}),h.jsx("path",{d:"M8 12h8"})]})}),FS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[h.jsx("rect",{width:20,height:16,x:2,y:4,rx:2}),h.jsx("path",{d:"M10 4v4M2 8h20M6 4v4"})]})}),zS=t=>h.jsx("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...t,children:h.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4m0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4"})}),$S={"lucide:house":K2,"lucide:chart-pie":q2,"lucide:history":X2,"mynaui:cog":G2,"lucide:circle-alert":J2,"mdi:certificate-outline":Q2,"lucide:pie-chart":Z2,"mdi:gear-outline":eS,"mdi:arrow-left":tS,"mdi:medal-outline":nS,"mdi:circle-slice-8":rS,"lucide:log-out":iS,"lucide:search":sS,"lucide:settings-2":oS,"mdi:download":aS,"lucide:eye":lS,"lucide:eye-off":cS,"lucide:file":uS,"lucide:check-circle":dS,"lucide:x-circle":hS,"lucide:circle-check":fS,"lucide:octagon-alert":pS,"lucide:triangle-alert":gS,"lucide:info":mS,"lucide:wallet":yS,"lucide:more-vertical":vS,"lucide:pencil":xS,"lucide:plus":_S,"lucide:sun":wS,"lucide:moon":bS,"lucide:trash":kS,"lucide:group":SS,"lucide:arrow-right":jS,"lucide:x":ES,"lucide:settings":CS,"lucide:download":MS,"lucide:chevron-right":PS,"lucide:dollar-sign":RS,"lucide:keyboard":LS,"lucide:check":OS,"lucide:chevron-left":TS,"lucide:calendar-days":DS,"lucide:menu":NS,"lucide:circle-plus":AS,"lucide:circle-minus":IS,"lucide:app-window":FS,"lucide:infinity":zS},we=({icon:t,...e})=>{const n=k.useMemo(()=>$S[t],[t]);return h.jsx(n,{...e})},Kc=({children:t,title:e,useFocus:n=!0,className:r})=>{const i=Y2();return h.jsxs("div",{ref:n?i:void 0,className:"flex flex-col gap-1 rounded-2xl bg-base-100 p-6 shadow-xl sm:min-w-[30rem] sm:rounded-2xl "+r,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[e&&h.jsx("h3",{className:"text-lg font-bold",children:e}),h.jsx("button",{type:"button",onClick:()=>Tr(),children:h.jsx(we,{icon:"lucide:x"})})]}),t]})};function dx(t,e){return e===""?t:t.startsWith(e)?t.slice(e.length):t}function hx(t,e){return t.endsWith(e)?t.slice(0,-e.length):t}const ut={SUPABASE_PROJECT_URL:"https://xhllsvlqdzgrhjjfgewk.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhobGxzdmxxZHpncmhqamZnZXdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI2MDI1MjcsImV4cCI6MjA0ODE3ODUyN30.sgz9zSOQRqOzjWojV2acr6f3OQNNZ88D5zT-TSmYEIM",BASE_URL:hx("/duitify","/")},Xa=["/accounts/shopee.webp","/accounts/gopay.webp","/accounts/bca.webp","/accounts/wallet.webp","/accounts/ovo.webp","/accounts/dana.webp","/accounts/bri.webp","/accounts/invest.webp","/accounts/loan.webp","/accounts/bni.webp","/accounts/livin-mandiri.webp"],Ga=["/categories/bill.webp","/categories/education.webp","/categories/future.webp","/categories/health.webp","/categories/internet.webp","/categories/laundry.webp","/categories/rent.webp","/categories/salary.webp","/categories/snack.webp","/categories/sport.webp","/categories/support.webp","/categories/transportation.webp","/categories/coupon.webp","/categories/food.webp","/categories/grants.webp","/categories/insurance.webp","/categories/invest.webp","/categories/refund.webp","/categories/reward.webp","/categories/shopping.webp","/categories/social.webp","/categories/subscription.webp","/categories/tax.webp"],BS="modulepreload",US=function(t){return"/duitify/"+t},Vg={},yi=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=US(l),l in Vg)return;Vg[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":BS,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},HS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yi(async()=>{const{default:r}=await Promise.resolve().then(()=>js);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Pf extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class WS extends Pf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class VS extends Pf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class YS extends Pf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ah;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ah||(ah={}));var KS=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class qS{constructor(e,{headers:n={},customFetch:r,region:i=ah.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=HS(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return KS(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(y=>{throw new WS(y)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new VS(u);if(!u.ok)throw new YS(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield u.json():f==="application/octet-stream"?g=yield u.blob():f==="text/event-stream"?g=u:f==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(i){return{data:null,error:i}}})}}var St={},Tf={},qc={},ha={},Xc={},Gc={},XS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vs=XS();const GS=vs.fetch,fx=vs.fetch.bind(vs),px=vs.Headers,JS=vs.Request,QS=vs.Response,js=Object.freeze(Object.defineProperty({__proto__:null,Headers:px,Request:JS,Response:QS,default:fx,fetch:GS},Symbol.toStringTag,{value:"Module"})),ZS=i_(js);var Jc={};Object.defineProperty(Jc,"__esModule",{value:!0});class ej extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Jc.default=ej;var gx=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gc,"__esModule",{value:!0});const tj=gx(ZS),nj=gx(Jc);let rj=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=tj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,d=null,f=s.status,g=s.statusText;if(s.ok){if(this.method!=="HEAD"){const p=await s.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=p:u=JSON.parse(p))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await s.text();try{c=JSON.parse(m),Array.isArray(c)&&s.status===404&&(u=[],c=null,f=200,g="OK")}catch{s.status===404&&m===""?(f=204,g="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,g="OK"),c&&this.shouldThrowOnError)throw new nj.default(c)}return{error:c,data:u,count:d,status:f,statusText:g}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}};Gc.default=rj;var ij=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xc,"__esModule",{value:!0});const sj=ij(Gc);let oj=class extends sj.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Xc.default=oj;var aj=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ha,"__esModule",{value:!0});const lj=aj(Xc);let cj=class extends lj.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ha.default=cj;var uj=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qc,"__esModule",{value:!0});const Bs=uj(ha);let dj=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Bs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Bs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Bs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Bs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Bs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};qc.default=dj;var Qc={},Zc={};Object.defineProperty(Zc,"__esModule",{value:!0});Zc.version=void 0;Zc.version="0.0.0-automated";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.DEFAULT_HEADERS=void 0;const hj=Zc;Qc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${hj.version}`};var mx=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tf,"__esModule",{value:!0});const fj=mx(qc),pj=mx(ha),gj=Qc;let mj=class yx{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},gj.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new fj.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new yx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new pj.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Tf.default=mj;var Es=Gt&&Gt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(St,"__esModule",{value:!0});St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const vx=Es(Tf);St.PostgrestClient=vx.default;const xx=Es(qc);St.PostgrestQueryBuilder=xx.default;const _x=Es(ha);St.PostgrestFilterBuilder=_x.default;const wx=Es(Xc);St.PostgrestTransformBuilder=wx.default;const bx=Es(Gc);St.PostgrestBuilder=bx.default;const kx=Es(Jc);St.PostgrestError=kx.default;var yj=St.default={PostgrestClient:vx.default,PostgrestQueryBuilder:xx.default,PostgrestFilterBuilder:_x.default,PostgrestTransformBuilder:wx.default,PostgrestBuilder:bx.default,PostgrestError:kx.default};const{PostgrestClient:vj,PostgrestQueryBuilder:iL,PostgrestFilterBuilder:sL,PostgrestTransformBuilder:oL,PostgrestBuilder:aL}=yj,xj="2.10.7",_j={"X-Client-Info":`realtime-js/${xj}`},wj="1.0.0",Sx=1e4,bj=1e3;var ss;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ss||(ss={}));var Ot;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ot||(Ot={}));var sn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(sn||(sn={}));var lh;(function(t){t.websocket="websocket"})(lh||(lh={}));var ei;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ei||(ei={}));class kj{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class jx{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Se||(Se={}));const Yg=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=Sj(o,t,e,i),s),{})},Sj=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?Ex(s,o):ch(o)},Ex=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Mj(e,n)}switch(t){case Se.bool:return jj(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return Ej(e);case Se.json:case Se.jsonb:return Cj(e);case Se.timestamp:return Pj(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return ch(e);default:return ch(e)}},ch=t=>t,jj=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ej=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Cj=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Mj=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Ex(e,a))}return t},Pj=t=>typeof t=="string"?t.replace(" ","T"):t,Cx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Bu{constructor(e,n,r={},i=Sx){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Kg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Kg||(Kg={}));class mo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mo.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=mo.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=mo.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=s[c];if(d){const f=u.map(x=>x.presence_ref),g=d.map(x=>x.presence_ref),y=u.filter(x=>g.indexOf(x.presence_ref)<0),m=d.filter(x=>f.indexOf(x.presence_ref)<0);y.length>0&&(a[c]=y),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(g=>g.presence_ref),f=u.filter(g=>d.indexOf(g.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(qg||(qg={}));var Xg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Xg||(Xg={}));var Gg;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Gg||(Gg={}));class Rf{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Bu(this,sn.join,this.params,this.timeout),this.rejoinTimer=new jx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ot.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new mo(this),this.broadcastEndpointURL=Cx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const f=this.bindings.postgres_changes,g=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,y=[];for(let m=0;m<g;m++){const x=f[m],{filter:{event:p,schema:v,table:_,filter:w}}=x,S=u&&u[m];if(S&&S.event===p&&S.schema===v&&S.table===_&&S.filter===w)y.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ot.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Bu(this,sn.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Bu(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=sn;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var y,m,x;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(m=g.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(s=this.bindings[o])===null||s===void 0||s.filter(g=>{var y,m,x,p,v,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const w=g.id,S=(y=g.filter)===null||y===void 0?void 0:y.event;return w&&((m=n.ids)===null||m===void 0?void 0:m.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(v=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return w==="*"||w===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:m,table:x,commit_timestamp:p,type:v,errors:_}=y;f=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:p,eventType:v,new:{},old:{},errors:_}),this._getPayloadRecords(y))}g.callback(f,r)})}_isClosed(){return this.state===Ot.closed}_isJoined(){return this.state===Ot.joined}_isJoining(){return this.state===Ot.joining}_isLeaving(){return this.state===Ot.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Rf.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(sn.close,{},e)}_onError(e){this._on(sn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ot.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Yg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Yg(e.columns,e.old_record)),n}}const Tj=()=>{},Rj=typeof WebSocket<"u",Lj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Oj{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=_j,this.params={},this.timeout=Sx,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Tj,this.conn=null,this.sendBuffer=[],this.serializer=new kj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>yi(async()=>{const{default:l}=await Promise.resolve().then(()=>js);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${lh.websocket}`,this.httpEndpoint=Cx(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(Rj){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new Dj(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),yi(async()=>{const{default:e}=await import("./browser-DS5JYRvK.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ss.connecting:return ei.Connecting;case ss.open:return ei.Open;case ss.closing:return ei.Closing;default:return ei.Closed}}isConnected(){return this.connectionState()===ei.Open}channel(e,n={config:{}}){const r=new Rf(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(sn.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wj}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(sn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(bj,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Lj],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Dj{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ss.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Lf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ze(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Nj extends Lf{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class uh extends Lf{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Aj=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Mx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yi(async()=>{const{default:r}=await Promise.resolve().then(()=>js);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Ij=()=>Aj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yi(()=>Promise.resolve().then(()=>js),void 0)).Response:Response}),dh=t=>{if(Array.isArray(t))return t.map(n=>dh(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=dh(r)}),e};var bi=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Uu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Fj=(t,e,n)=>bi(void 0,void 0,void 0,function*(){const r=yield Ij();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new Nj(Uu(i),t.status||500))}).catch(i=>{e(new uh(Uu(i),i))}):e(new uh(Uu(t),t))}),zj=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function fa(t,e,n,r,i,s){return bi(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,zj(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Fj(l,a,r))})})}function dc(t,e,n,r){return bi(this,void 0,void 0,function*(){return fa(t,"GET",e,n,r)})}function ar(t,e,n,r,i){return bi(this,void 0,void 0,function*(){return fa(t,"POST",e,r,i,n)})}function $j(t,e,n,r,i){return bi(this,void 0,void 0,function*(){return fa(t,"PUT",e,r,i,n)})}function Bj(t,e,n,r){return bi(this,void 0,void 0,function*(){return fa(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Px(t,e,n,r,i){return bi(this,void 0,void 0,function*(){return fa(t,"DELETE",e,r,i,n)})}var wt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Uj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hj{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Mx(i)}uploadOrUpdate(e,n,r,i){return wt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Jg),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}upload(e,n,r){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return wt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Jg.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ze(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return wt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield ar(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Lf("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}update(e,n,r){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return wt(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ze(i))return{data:null,error:i};throw i}})}copy(e,n,r){return wt(this,void 0,void 0,function*(){try{return{data:{path:(yield ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ze(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return wt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield ar(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Ze(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return wt(this,void 0,void 0,function*(){try{const i=yield ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Ze(i))return{data:null,error:i};throw i}})}download(e,n){return wt(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield dc(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ze(a))return{data:null,error:a};throw a}})}info(e){return wt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield dc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:dh(r),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}exists(e){return wt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Bj(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ze(r)&&r instanceof uh){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return wt(this,void 0,void 0,function*(){try{return{data:yield Px(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}list(e,n,r){return wt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Uj),n),{prefix:e||""});return{data:yield ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ze(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Wj="2.7.1",Vj={"X-Client-Info":`storage-js/${Wj}`};var Ri=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Yj{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Vj),n),this.fetch=Mx(r)}listBuckets(){return Ri(this,void 0,void 0,function*(){try{return{data:yield dc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ze(e))return{data:null,error:e};throw e}})}getBucket(e){return Ri(this,void 0,void 0,function*(){try{return{data:yield dc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ri(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Ri(this,void 0,void 0,function*(){try{return{data:yield $j(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ri(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ri(this,void 0,void 0,function*(){try{return{data:yield Px(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}}class Kj extends Yj{constructor(e,n={},r){super(e,n,r)}from(e){return new Hj(this.url,this.headers,e,this.fetch)}}const qj="2.46.1";let Zs="";typeof Deno<"u"?Zs="deno":typeof document<"u"?Zs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zs="react-native":Zs="node";const Xj={"X-Client-Info":`supabase-js-${Zs}/${qj}`},Gj={headers:Xj},Jj={schema:"public"},Qj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zj={};var eE=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const tE=t=>{let e;return t?e=t:typeof fetch>"u"?e=fx:e=fetch,(...n)=>e(...n)},nE=()=>typeof Headers>"u"?px:Headers,rE=(t,e,n)=>{const r=tE(n),i=nE();return(s,o)=>eE(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var iE=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function sE(t){return t.replace(/\/$/,"")}function oE(t,e){const{db:n,auth:r,realtime:i,global:s}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>iE(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Tx="2.65.1",aE="http://localhost:9999",lE="supabase.auth.token",cE={"X-Client-Info":`gotrue-js/${Tx}`},Qg=10,hh="X-Supabase-Api-Version",Rx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function uE(t){return Math.round(Date.now()/1e3)+t}function dE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const en=()=>typeof document<"u",Ur={tested:!1,writable:!1},yo=()=>{if(!en())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ur.tested)return Ur.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ur.tested=!0,Ur.writable=!0}catch{Ur.tested=!0,Ur.writable=!1}return Ur.writable};function Hu(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Lx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yi(async()=>{const{default:r}=await Promise.resolve().then(()=>js);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},hE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ox=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ja=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Qa=async(t,e)=>{await t.removeItem(e)};function fE(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,i,s,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),r=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|c,n=n+String.fromCharCode(r),l!=64&&i!=0&&(n=n+String.fromCharCode(i)),c!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}class eu{constructor(){this.promise=new eu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}eu.promiseConstructor=Promise;function Zg(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(fE(r))}async function pE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gE(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function mE(t){return("0"+t.toString(16)).substr(-2)}function yE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,mE).join("")}async function vE(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function xE(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _E(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await vE(t);return xE(n)}async function Li(t,e,n=!1){const r=yE();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Ox(t,`${e}-code-verifier`,i);const s=await _E(r);return[s,r===s?"plain":"s256"]}const wE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bE(t){const e=t.headers.get(hh);if(!e||!e.match(wE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Of extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class kE extends Of{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function SE(t){return se(t)&&t.name==="AuthApiError"}class Dx extends Of{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ki extends Of{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class nr extends ki{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jE(t){return se(t)&&t.name==="AuthSessionMissingError"}class Wu extends ki{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Za extends ki{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class el extends ki{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class em extends ki{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fh extends ki{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Vu(t){return se(t)&&t.name==="AuthRetryableFetchError"}class tm extends ki{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var EE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Xr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),CE=[502,503,504];async function nm(t){var e;if(!hE(t))throw new fh(Xr(t),0);if(CE.includes(t.status))throw new fh(Xr(t),t.status);let n;try{n=await t.json()}catch(s){throw new Dx(Xr(s),s)}let r;const i=bE(t);if(i&&i.getTime()>=Rx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new tm(Xr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new nr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new tm(Xr(n),t.status,n.weak_password.reasons);throw new kE(Xr(n),t.status||500,r)}const ME=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function le(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[hh]||(s[hh]=Rx["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await PE(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function PE(t,e,n,r,i,s){const o=ME(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new fh(Xr(l),0)}if(a.ok||await nm(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await nm(l)}}function rr(t){var e;let n=null;OE(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=uE(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function rm(t){const e=rr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ur(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function TE(t){return{data:t,error:null}}function RE(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=EE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function LE(t){return t}function OE(t){return t.access_token&&t.refresh_token&&t.expires_in}var DE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class NE{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Lx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ur})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=DE(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:RE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ur})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:LE});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);c[`${x}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(se(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ur})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ur})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ur})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}}const AE={getItem:t=>yo()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{yo()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{yo()&&globalThis.localStorage.removeItem(t)}};function im(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function IE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Oi={debug:!!(globalThis&&yo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Nx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class FE extends Nx{}async function zE(t,e,n){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new FE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Oi.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}IE();const $E={url:aE,storageKey:lE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Us=30*1e3,sm=3;async function om(t,e,n){return await n()}class Ko{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ko.nextInstanceID,Ko.nextInstanceID+=1,this.instanceID>0&&en()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},$E),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new NE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Lx(i.fetch),this.lock=i.lock||om,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:en()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=zE:this.lock=om,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:yo()?this.storage=AE:(this.memoryStorage={},this.storage=im(this.memoryStorage)):(this.memoryStorage={},this.storage=im(this.memoryStorage)),en()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Tx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=en()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:i,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return se(e)?{error:e}:{error:new Dx("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:rr}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:u,password:d,options:f}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Li(this.storage,this.storageKey)),s=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:y},xform:rr})}else if("phone"in e){const{phone:u,password:d,options:f}=e;s=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:rr})}else throw new Za("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:rm})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:rm})}else throw new Za("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Wu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Ja(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:rr});if(await Qa(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Wu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(se(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:rr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Wu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Li(this.storage,this.storageKey));const{error:d}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Za("You must provide either an email or phone number.")}catch(a){if(se(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:rr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(se(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Li(this.storage,this.storageKey)),await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:TE})}catch(s){if(se(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new nr;const{error:i}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(se(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await le(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await le(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Za("You must provide either an email or phone number and a type")}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ja(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ur}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nr}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ur})})}catch(n){if(se(n))return jE(n)&&(await this._removeSession(),await Qa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new nr;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Li(this.storage,this.storageKey));const{data:c,error:u}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ur});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Zg(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new nr;const n=Date.now()/1e3;let r=n,i=!0,s=null;const o=Zg(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(se(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new nr;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!en())throw new el("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new el("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new em("Not a valid PKCE flow url.");const n=Hu(window.location.href);if(e){if(!n.code)throw new em("No code detected.");const{data:v,error:_}=await this._exchangeCodeForSession(n.code);if(_)throw _;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:v.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new el(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=n;if(!s||!a||!o||!c)throw new el("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const g=f-u;g*1e3<=Us&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const y=f-d;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,u);const{data:m,error:x}=await this._getUser(s);if(x)throw x;const p={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:n.type},error:null}}catch(n){if(se(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=Hu(window.location.href);return!!(en()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Hu(window.location.href),n=await Ja(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(SE(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Qa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=dE(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Li(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(se(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:d,error:f}=s;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return en()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(se(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await gE(async i=>(i>0&&await pE(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rr})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Vu(s)&&Date.now()+o-r<Us})}catch(r){if(this._debug(n,"error",r),se(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),en()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ja(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+Qg;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Qg}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Vu(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new nr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new eu;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new nr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),se(s)){const o={session:null,error:s};return Vu(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ox(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Qa(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&en()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Us);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Us);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Us}ms, refresh threshold is ${sm} ticks`),i<=sm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Nx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!en()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Li(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await le(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(se(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(se(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Ko.nextInstanceID=0;const BE=Ko;class UE extends BE{constructor(e){super(e)}}var HE=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class WE{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=sE(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Jj,realtime:Zj,auth:Object.assign(Object.assign({},Qj),{storageKey:l}),global:Gj},u=oE(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=rE(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},u.realtime)),this.rest=new vj(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new qS(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Kj(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return HE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,u){var d;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new UE({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new Oj(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const VE=(t,e,n)=>new WE(t,e,n),Er=VE(ut.SUPABASE_PROJECT_URL,ut.SUPABASE_ANON_KEY);class pa{static get db(){return Er.schema("public")}}class hc extends pa{static async getCategories(e){return this.db.from("category").select("*").eq("user_id",e).order("name",{ascending:!0})}static async createCategory(e){return this.db.from("category").insert(e).select().single()}static async updateCategory(e,n){return this.db.from("category").update(n).eq("id",e).select().single()}static async deleteCategory(e){return await this.db.from("category").delete().eq("id",e)}}const Rt=Ge(null),Ax=({onSuccess:t,category:e,categoryType:n})=>{const[r]=re(Rt),[i,s]=k.useState(!1),[o,a]=k.useState((e==null?void 0:e.name)??""),[l,c]=k.useState(e!=null&&e.logo?Ga.indexOf(e.logo):0),u=k.useMemo(()=>!o,[o]),d=async()=>{s(!0);let f;if(e?f=await hc.updateCategory(e.id,{name:o,logo:Ga[l],type:n}):f=await hc.createCategory({name:o,logo:Ga[l],type:n,user_id:r.user.id}),s(!1),f.error){K.error(f.error.message);return}if(!f.data){K.error("Something went wrong");return}t(f.data),Tr()};return h.jsx(Kc,{title:e?"Update Category":"Create Category",className:"w-[90vw] max-w-[30rem]",children:h.jsxs("form",{onSubmit:f=>{f.preventDefault(),d()},className:"grid grid-cols-1 gap-2",children:[h.jsxs("label",{className:"dai-form-control w-full",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Name"})}),h.jsx("input",{value:o,onChange:f=>a(f.target.value),type:"text",placeholder:"Category Name",className:"dai-input dai-input-bordered"})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Logo"})}),h.jsx("div",{className:"flex items-center gap-3 overflow-x-scroll px-2 py-2",children:Ga.map((f,g)=>h.jsx("button",{onClick:()=>c(g),type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 "+(g===l?"outline-primary":"outline-transparent"),children:h.jsx("img",{className:"size-12 rounded-lg",src:ut.BASE_URL+f,alt:""},g)},g))})]}),h.jsx("div",{className:"flex justify-end pt-2",children:h.jsx(Yc,{disabled:u,loading:i,type:"submit",className:"dai-btn-primary",children:"Submit"})})]})})},YE=(t,e,n)=>{k.useEffect(()=>{const r=i=>{!t.current||t.current.contains(i.target)||n!=null&&n.some(s=>{var o;return(o=s.current)==null?void 0:o.contains(i.target)})||e(i)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[t,e,n])},am=160,Xn=({icon:t,disabled:e,options:n,position:r="bottom"})=>{const[i,s]=k.useState(!1),o=k.useRef(null),a=k.useRef(null),[l,c]=k.useState();return YE(o,()=>{i&&s(!1)},[a]),k.useEffect(()=>{if(!i||!o.current){c(void 0);return}const u=o.current.getBoundingClientRect(),d=u.top<=am?"bottom":window.innerHeight-u.top<=am?"top":r,f=d==="bottom"?u.top+u.height:u.top;c({top:f,offset:d,left:u.left+u.width})},[i,o.current,r]),h.jsxs("div",{children:[h.jsx("button",{ref:o,type:"button",disabled:e||!n.length,className:"dai-btn dai-btn-ghost dai-btn-sm text-base",onClick:u=>{s(d=>!d),u.stopPropagation()},children:h.jsx(we,{icon:t??"lucide:more-vertical"})}),l&&h.jsx("ul",{ref:a,style:{top:l.top,left:l.left,position:"fixed"},className:"dai-menu z-[29] w-56 -translate-x-full rounded-box border-[2px] border-base-200 bg-base-100 shadow-all-lg "+(l.offset==="top"?"-translate-y-full":""),children:n.map((u,d)=>h.jsx("li",{children:h.jsxs("button",{className:"font-semibold "+u.style,onClick:f=>{var g;f.stopPropagation(),(g=u.onClick)==null||g.call(u),s(!1)},children:[h.jsx(we,{className:"text-lg",icon:u.icon}),u.label]})},d))})]})},ve=({children:t,className:e})=>h.jsx("div",{className:"dai-skeleton w-fit "+e,children:h.jsx("div",{className:"invisible",children:t})}),KE=({title:t,body:e,okText:n,noText:r,onNo:i,onOk:s,onClose:o,hideNo:a})=>(k.useEffect(()=>()=>{o==null||o()},[]),h.jsxs(Kc,{title:t??"Konfirmasi",children:[e&&h.jsx("p",{className:"py-2",children:e}),h.jsxs("div",{className:"mt-2 flex w-full justify-end gap-2",children:[!a&&h.jsx("button",{onClick:i,className:"dai-btn dai-btn-ghost",children:r??"Cancel"}),h.jsx("button",{onClick:s,className:"dai-btn dai-btn-primary min-w-16",children:n??"OK"})]})]}));function ga(t={}){return new Promise(e=>{Fr(KE,{onClose:()=>e(!1),onOk:()=>{e(!0),Tr()},onNo:()=>{e(!1),Tr()},...t})===-1&&e(!1)})}const qE=({category:t,categoryType:e,onUpdated:n,onDeleted:r})=>{const i=wn(),s=async()=>{if(!await ga({title:"Delete category",body:"Are you sure you want to delete this category?"}))return;Ae(!0);const a=await hc.deleteCategory(t.id);if(Ae(!1),a.error){K.error(a.error.message);return}r(t.id)};return h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md hover:cursor-pointer",children:[h.jsx("img",{onClick:()=>i(`/accounts/transaction?category=${t.id}`),src:ut.BASE_URL+t.logo,className:"size-9 xs:size-12"}),h.jsx("div",{className:"flex flex-1 flex-col gap-0.5",children:h.jsx("p",{className:"text-sm xs:text-base",children:t.name})}),h.jsx(Xn,{options:[{icon:"lucide:pencil",label:"Edit",onClick:()=>Fr(Ax,{category:t,onSuccess:n,categoryType:e})},{icon:"lucide:trash",label:"Delete",onClick:s}]})]})},XE=()=>h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md",children:[h.jsx(ve,{children:h.jsx("div",{className:"size-9 xs:size-12"})}),h.jsx("div",{className:"flex flex-1 flex-col gap-0.5",children:h.jsx(ve,{children:h.jsx("p",{className:"text-sm xs:text-base",children:"Transportation"})})}),h.jsx(ve,{children:h.jsx(Xn,{options:[]})})]}),Gi=qn(),os=Ge({loading:!1,fetched:!1,data:[]});async function GE(){var e;Gi.set(os,n=>({...n,loading:!0,fetched:!1}));const t=await hc.getCategories(((e=Gi.get(Rt))==null?void 0:e.user.id)??"");if(t.error)return Gi.set(os,n=>({...n,loading:!1})),t.error.message;Gi.set(os,{loading:!1,fetched:!0,data:t.data??[]})}function JE(t){const e=Gi.get(os);e.fetched&&Gi.set(os,{...e,data:typeof t=="function"?t(e.data):t})}const QE=Ge(t=>({refresh:GE,setData:JE,...t(os)})),Df=()=>{const[t]=re(QE);return t},ZE=()=>{const[,t]=re(Ir),{data:e,loading:n,refresh:r,fetched:i,setData:s}=Df(),[o,a]=k.useState("expense"),l=k.useMemo(()=>e.filter(c=>c.type===o),[e,o]);return k.useEffect(()=>{t({title:"Categories",actions:[h.jsx("button",{onClick:()=>Fr(Ax,{onSuccess:c=>s(u=>[c,...u]),categoryType:o}),className:"dai-btn dai-btn-success dai-btn-xs xs:dai-btn-sm",children:"Create"})]})},[o]),k.useEffect(()=>{i||(async()=>{const c=await r();c&&K.error(c)})()},[]),h.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-2",children:[h.jsx("div",{role:"tablist",className:"dai-tabs-boxed dai-tabs bg-base-100",children:["expense","income"].map((c,u)=>h.jsx("button",{role:"tab",onClick:()=>a(c),className:"dai-tab capitalize "+(c===o?"dai-tab-active":""),children:c},u))}),h.jsx("div",{className:"grid grid-cols-1 gap-2",children:n?Array.from({length:14}).map((c,u)=>h.jsx(XE,{},u)):l.length===0?h.jsx("p",{className:"text-center",children:"No categories found"}):l.map((c,u)=>h.jsx(qE,{category:c,categoryType:o,onDeleted:d=>s(f=>f.filter(g=>g.id!==d)),onUpdated:d=>{s(f=>f.map(g=>g.id===d.id?d:g))}},u))})]})},vo=Intl.DateTimeFormat().resolvedOptions().timeZone;function gt(t,{placeholder:e="-",lang:n,format:r="yyyy-MM-dd",timeZone:i}={}){if(!t||(typeof t=="string"&&(t=new Date(t)),typeof t=="number"&&(t=new Date(t)),!(t instanceof Date)))return e;if(i||(i=vo),n)return new Intl.DateTimeFormat(n,{day:"2-digit",month:"short",year:"numeric",weekday:"short",timeZone:i}).format(t);i!==vo&&(t=new Date(t.toLocaleString("en-US",{timeZone:i})));const s=t.getFullYear(),o=t.getMonth()+1,a=t.getDate(),l=t.getHours(),c=t.getMinutes(),u=t.getSeconds();return r.replace("yyyy",s.toString()).replace("MM",o.toString().padStart(2,"0")).replace("dd",a.toString().padStart(2,"0")).replace("HH",l.toString().padStart(2,"0")).replace("mm",c.toString().padStart(2,"0")).replace("ss",u.toString().padStart(2,"0"))}function un(t,{currency:e="IDR"}={}){return new Intl.NumberFormat("id-ID",{style:"currency",currency:e}).format(t)}const Ix=[15,25,50];class fc extends pa{static async getTransactions(e,{cursor:n,account:r,category:i}){const s=new Date;s.setMonth(s.getMonth()+1);const o=this.db.from("transaction").select(`*, 
                category(id, name, logo),
                account:account!transaction_account_id_fkey(id, name, logo),
                to_account:account!transaction_to_account_id_fkey(id, name, logo)`).eq("user_id",e);return i&&o.eq("category_id",i),r&&o.or(`account_id.eq.${r}, to_account_id.eq.${r}`),o.order("occurred_at",{ascending:!1}).lt("occurred_at",n||gt(s,{format:"yyyy-MM-dd HH:mm:ss"})).limit(Ix[0])}static async update(e,n){return this.db.from("transaction").update(n).eq("id",e).select().single()}static async create(e){return this.db.from("transaction").insert(e).select().single()}static async delete(e){return await this.db.from("transaction").delete().eq("id",e)}}class pc extends pa{static async getAccounts(e){return this.db.from("account").select("*").eq("user_id",e).order("name",{ascending:!0})}static async createAccount(e){return this.db.from("account").upsert(e).select().single()}static async updateAccount(e,n){return this.db.from("account").update(n).eq("id",e).select().single()}static async deleteAccount(e){return await this.db.from("account").delete().eq("id",e)}}const Ji=qn(),as=Ge({loading:!1,fetched:!1,data:[]});async function eC(){var e;Ji.set(as,n=>({...n,loading:!0,fetched:!1}));const t=await pc.getAccounts(((e=Ji.get(Rt))==null?void 0:e.user.id)??"");if(t.error)return Ji.set(as,n=>({...n,loading:!1})),t.error.message;Ji.set(as,{loading:!1,fetched:!0,data:t.data??[]})}function tC(t){const e=Ji.get(as);e.fetched&&Ji.set(as,{...e,data:typeof t=="function"?t(e.data):t})}const nC=Ge(t=>({refresh:eC,setData:tC,...t(as)})),gc=()=>{const[t]=re(nC);return t},Fx=Ge(!1),zt=Ge(),Nf=Ge(!1),dn=({amount:t,count:e})=>{const[n]=re(zt),[r]=re(Fx),i=k.useMemo(()=>Math.abs(t),[t]);return!(n!=null&&n.hide_amount)||r||i<=(n.max_visible_amount??0)?un(t):e?h.jsx(Yu,{num:e}):i>=1e6?h.jsx(Yu,{num:9}):h.jsx(Yu,{num:7})},Yu=({num:t})=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:t}).map((e,n)=>h.jsx("span",{className:"size-2 rounded-full bg-current"},n))}),h.jsx("p",{className:"invisible w-[0px]",children:"r"})]}),rC=({date:t,transactions:e,onDeleted:n})=>{const r=k.useMemo(()=>e.reduce((i,s)=>i+(s.type==="transfer"?0:s.type==="expense"?-1*s.amount:s.amount),0),[e]);return h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between border-b-2 border-b-primary",children:[h.jsx("span",{className:"text-sm xs:text-base",children:gt(t,{lang:"en-US"})}),h.jsx("span",{className:"dai-badge dai-badge-sm "+(r>0?"dai-badge-success":"dai-badge-error"),children:h.jsx(dn,{amount:r})})]}),h.jsx("div",{className:"flex flex-col gap-1",children:e.map((i,s)=>h.jsx(iC,{el:i,onDeleted:n},s))})]})},iC=({el:t,onDeleted:e})=>{var a,l,c,u,d,f;const[,n]=re($x),r=wn(),{setData:i}=gc(),s=k.useMemo(()=>t.type==="expense"?-1*t.amount:t.amount,[t]),o=async()=>{if(!await ga({title:"Delete transaction",body:"Are you sure you want to delete this transaction?"}))return;Ae(!0);const{error:y}=await fc.delete(t.id);if(Ae(!1),y){K.error(y.message);return}i(m=>{const x=m.find(p=>p.id===t.account_id);if(!x)return m;if((t.type==="expense"||t.type==="transfer")&&(x.balance+=t.amount),t.type==="income"&&(x.balance-=t.amount),t.type==="transfer"){const p=m.find(v=>v.id===t.to_account_id);if(!p)return m;p.balance-=t.amount}return[...m]}),e(t.id)};return h.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-base-100 px-3 py-2 shadow",children:[h.jsx("img",{className:"size-9 xs:size-12",src:ut.BASE_URL+(t.type==="transfer"?"/categories/transfer.webp":(a=t.category)==null?void 0:a.logo),loading:"lazy",alt:""}),h.jsxs("div",{className:"flex w-full items-center justify-between",children:[h.jsxs("div",{className:"flex w-full flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium xs:text-base",children:t.type==="transfer"?"Transfer":(l=t.category)==null?void 0:l.name}),h.jsx("span",{className:"text-nowrap text-sm font-medium xs:text-base "+(t.type==="transfer"?"text-secondary":s>0?"text-success":"text-error"),children:h.jsx(dn,{amount:s})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-wrap items-center gap-0.5",children:[h.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[h.jsx("img",{loading:"lazy",className:"size-3 xs:size-4",src:ut.BASE_URL+((c=t.account)==null?void 0:c.logo),alt:""}),h.jsx("span",{children:(u=t.account)==null?void 0:u.name})]}),t.type==="transfer"&&t.to_account&&h.jsxs(h.Fragment,{children:[h.jsx("span",{children:h.jsx(we,{className:"text-xs",icon:"lucide:arrow-right"})}),h.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[h.jsx("img",{loading:"lazy",className:"size-3 xs:size-4",src:ut.BASE_URL+((d=t.to_account)==null?void 0:d.logo),alt:""}),h.jsx("span",{children:(f=t.to_account)==null?void 0:f.name})]})]})]}),h.jsx("span",{className:"line-clamp-1 text-xs",children:t.description})]})]}),h.jsx(Xn,{options:[{icon:"lucide:pencil",label:"Edit",onClick:()=>{n(t),r("/transaction/create")}},{icon:"lucide:trash",label:"Delete",onClick:o}]})]})]})},sC=()=>h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between border-b-2 border-b-primary",children:[h.jsx("span",{className:"text-sm xs:text-base",children:h.jsx(ve,{children:"Wed, Sep 20, 2022"})}),h.jsx("span",{className:"dai-badge dai-badge-error dai-skeleton dai-badge-sm text-transparent",children:un(1e4)})]}),h.jsx("div",{className:"flex flex-col gap-1",children:Array.from({length:3}).map((t,e)=>h.jsx(oC,{},e))})]}),oC=()=>h.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-base-100 px-3 py-2 shadow",children:[h.jsx(ve,{children:h.jsx("div",{className:"size-9 xs:size-12"})}),h.jsxs("div",{className:"flex w-full items-center justify-between",children:[h.jsxs("div",{className:"flex w-full flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(ve,{children:h.jsx("span",{className:"text-sm font-medium xs:text-base",children:"Transportation"})}),h.jsx(ve,{children:h.jsx("span",{className:"text-nowrap text-sm font-medium xs:text-base",children:un(1e5)})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"flex flex-wrap items-center gap-0.5",children:h.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[h.jsx(ve,{children:h.jsx("div",{className:"size-3 xs:size-4"})}),h.jsx(ve,{children:h.jsx("span",{children:"Shopee Pay"})})]})}),h.jsx(ve,{children:h.jsx("span",{className:"line-clamp-1 text-xs",children:"Lorem, ipsum."})})]})]}),h.jsx(ve,{children:h.jsx(Xn,{options:[]})})]})]}),aC=({children:t,onInvisible:e,onVisible:n,offset:r=0})=>{const i=k.useRef(null),[s,o]=k.useState(!1);return k.useEffect(()=>{if(s){n==null||n();return}e==null||e()},[s]),k.useEffect(()=>{if(!i.current)return;let a;function l(){const c=i.current;if(!c)return;const u=c.getBoundingClientRect(),d=Math.max(document.documentElement.clientHeight,window.innerHeight)-r,f=!(u.bottom<0||u.top-d>=0);f!==a&&o(f),a=f}return l(),window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[i,r]),h.jsx("div",{ref:i,children:t})},zx=()=>{const[,t]=re(Ir),[e]=re(Rt),[n]=p2(),[r,i]=k.useState(n.get("account")),[s,o]=k.useState(n.get("category")),[a,l]=k.useState(void 0),[c,u]=k.useState([]),[d,f]=k.useState(!1),[g,y]=k.useState(!1),[m,x]=k.useState(!0),p=k.useMemo(()=>{var w;return r?(w=c.find(S=>S.account_id===r))==null?void 0:w.account:null},[r,c]),v=k.useMemo(()=>{var w;return s?(w=c.find(S=>S.category_id===s))==null?void 0:w.category:null},[s,c]),_=k.useMemo(()=>c.reduce((w,S)=>{const E=gt(S.occurred_at,{format:"yyyy-MM-dd"});return w[E]||(w[E]=[]),w[E].push(S),w},{}),[c]);return k.useEffect(()=>{x(!0),y(!1),u([]),l(void 0),i(n.get("account")),o(n.get("category"))},[n]),k.useEffect(()=>{var w;t({revealer:!0,back:!!p||!!v,title:((w=p||v)==null?void 0:w.name)??h.jsx("img",{className:"size-8",src:ut.BASE_URL+"/icons/icon-192x192.png"}),actions:[h.jsx(Mf,{to:"/transaction/create",className:"dai-btn dai-btn-success dai-btn-xs ml-2 xs:dai-btn-sm",children:"Create"})]})},[p,v]),k.useEffect(()=>{e!=null&&e.user.id&&(async()=>{f(!0);const{data:w,error:S}=await fc.getTransactions(e.user.id,{cursor:a,account:r,category:s});if(f(!1),S){y(!1),K.error(S.message);return}u([...c,...w??[]]),x(!1),y(((w==null?void 0:w.length)??0)>=Ix[0])})()},[a,r,e,s]),h.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-2",children:[h.jsx("div",{className:"flex flex-col gap-4",children:d&&m?Array.from({length:4}).map((w,S)=>h.jsx(sC,{},S)):c.length===0?h.jsx("p",{className:"text-center text-xl",children:"No transactions found"}):Object.keys(_).sort((w,S)=>w>S?-1:1).map((w,S)=>h.jsx(rC,{date:w,transactions:_[w],onDeleted:E=>{u(M=>M.filter(b=>b.id!==E))}},S))}),!m&&g&&!d?h.jsx(aC,{onVisible:()=>{var w;return l((w=c[c.length-1])==null?void 0:w.occurred_at)},children:h.jsx("span",{className:"invisible flex justify-center",children:h.jsx("span",{className:"dai-loading dai-loading-dots dai-loading-sm text-primary"})})}):h.jsx("span",{className:"flex justify-center "+(d&&!m?"visible":"invisible"),children:h.jsx("span",{className:"dai-loading dai-loading-dots dai-loading-sm text-primary"})})]})},lC=()=>{var ee,te,A;const[,t]=re(Ir),[e]=re(Rt),n=wn(),{setData:r}=gc(),[i,s]=re($x),{fetched:o,refresh:a,data:l}=gc(),{fetched:c,refresh:u,data:d}=Df(),[f,g]=k.useState((i==null?void 0:i.type)??"expense"),[y,m]=k.useState((i==null?void 0:i.amount.toString())??""),[x,p]=k.useState((i==null?void 0:i.description)??""),[v,_]=k.useState(gt((i==null?void 0:i.occurred_at)??new Date,{format:"yyyy-MM-dd HH:mm"})),[w,S]=k.useState(((ee=i==null?void 0:i.category)==null?void 0:ee.id)??""),[E,M]=k.useState(((te=i==null?void 0:i.account)==null?void 0:te.id)??""),[b,P]=k.useState(((A=i==null?void 0:i.to_account)==null?void 0:A.id)??""),[L,N]=k.useState(!1),R=k.useMemo(()=>{var O;return!y||!E||isNaN(parseFloat(y))||f==="transfer"&&!b||f!=="transfer"&&!w||f!=="transfer"&&((O=d.find(F=>F.id===w))==null?void 0:O.type)!==f},[y,E,w,b,f,d]),V=k.useMemo(()=>l.map(O=>({label:O.name,value:O.id})),[l]),q=k.useMemo(()=>d.filter(O=>O.type===f).map(O=>({label:O.name,value:O.id})),[d,f]);k.useEffect(()=>(t({title:i?"Edit Transaction":"Create Transaction",back:!0}),()=>{s(void 0)}),[i]),k.useEffect(()=>{o||(async()=>{const O=await a();O&&K.error(O)})()},[]),k.useEffect(()=>{c||(async()=>{const O=await u();O&&K.error(O)})()},[]);const J=async()=>{N(!0);let O;if(i?O=await fc.update(i.id,{type:f,occurred_at:gt(v,{format:"yyyy-MM-dd HH:mm",timeZone:"UTC"}),description:x,amount:parseFloat(y),account_id:E,category_id:w||null,to_account_id:b||null}):O=await fc.create({type:f,occurred_at:gt(v,{format:"yyyy-MM-dd HH:mm",timeZone:"UTC"}),description:x,amount:parseFloat(y),account_id:E,category_id:w||null,to_account_id:b||null,user_id:e.user.id}),N(!1),O.error){K.error(O.error.message);return}r(F=>{const Q=F.find(X=>X.id===E);if(!Q)return F;if(i){if(parseFloat(y)===i.amount)return F;if((f==="expense"||f==="transfer")&&(Q.balance-=parseFloat(y)-i.amount),f==="income"&&(Q.balance+=parseFloat(y)-i.amount),f==="transfer"){const X=F.find(oe=>oe.id===b);if(!X)return F;X.balance+=parseFloat(y)-i.amount}return[...F]}if((f==="expense"||f==="transfer")&&(Q.balance-=parseFloat(y)),f==="income"&&(Q.balance+=parseFloat(y)),f==="transfer"){const X=F.find(oe=>oe.id===b);if(!X)return F;X.balance+=parseFloat(y)}return[...F]}),n(-1)};return h.jsx("div",{className:"flex flex-1 flex-col gap-4 p-2",children:h.jsxs("form",{onSubmit:O=>{O.preventDefault(),J()},className:"grid grid-cols-2 gap-2",children:[h.jsx("div",{role:"tablist",className:"dai-tabs-boxed dai-tabs col-span-full bg-base-100",children:["expense","income","transfer"].map((O,F)=>h.jsx("button",{type:"button",role:"tab",disabled:!!i&&O!==i.type,onClick:()=>{S(""),g(O)},className:"dai-tab capitalize "+(O===f?"dai-tab-active":""),children:O},F))}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Amount"})}),h.jsx("input",{value:y,onChange:O=>m(O.target.value),type:"number",placeholder:"Amount",className:"dai-input dai-input-bordered"})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Date"})}),h.jsx("input",{value:v,onChange:O=>_(O.target.value),type:"datetime-local",placeholder:"Date",className:"dai-input dai-input-bordered w-full"})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Account"})}),h.jsxs("select",{value:E,disabled:!!i,onChange:O=>M(O.target.value),className:"dai-select dai-select-bordered w-full "+(E?"":"text-base-content/40"),children:[h.jsx("option",{value:"",children:"Select account"}),V.map((O,F)=>h.jsx("option",{value:O.value,children:O.label},F))]})]}),f==="transfer"&&h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"To Account"})}),h.jsxs("select",{value:b,disabled:!!i,onChange:O=>P(O.target.value),className:"dai-select dai-select-bordered w-full "+(b?"":"text-base-content/40"),children:[h.jsx("option",{value:"",children:"Select account"}),V.map((O,F)=>h.jsx("option",{value:O.value,children:O.label},F))]})]}),f!=="transfer"&&h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Category"})}),h.jsxs("select",{value:w,onChange:O=>S(O.target.value),className:"dai-select dai-select-bordered w-full "+(w?"":"text-base-content/40"),children:[h.jsx("option",{value:"",children:"Select category"}),q.map((O,F)=>h.jsx("option",{value:O.value,children:O.label},F))]})]}),h.jsxs("label",{className:"dai-form-control col-span-full",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"dai-label-text",children:"Description"})}),h.jsx("textarea",{value:x,onChange:O=>p(O.target.value),className:"dai-textarea dai-textarea-bordered h-24",placeholder:"Description"})]}),h.jsx("div",{className:"col-span-full flex justify-end pt-4",children:h.jsx(Yc,{disabled:R,loading:L,className:"dai-btn-primary",children:"Submit"})})]})})},$x=Ge(),cC=()=>h.jsxs(da,{children:[h.jsx(Tt,{path:"/",element:h.jsx(zx,{})}),h.jsx(Tt,{path:"/create",element:h.jsx(lC,{})})]});function ph(t){const[e,n]=k.useState(t),r=k.useRef(t);return r.current=e,[e,n,r]}const Bx=({onClose:t,desktopOption:e})=>{const n=k.useMemo(()=>6,[]),r=k.useRef([]),[i,s,o]=ph([]),[a,l,c]=ph(!1),u=k.useRef(!0),d=k.useMemo(()=>i.length<n||i.findIndex(m=>!m)!==-1,[i,n]);k.useEffect(()=>{var m;(m=r.current[0])==null||m.focus()},[r.current]),k.useEffect(()=>()=>t(u.current?"":o.current.join(""),c.current),[]);const f=(m,x)=>{if(!/^[0-9]{1}$/.test(m.key)&&m.key!=="Backspace"&&m.key!=="Delete"&&m.key!=="Tab"&&!m.metaKey&&m.key!=="Enter"&&!((m.key==="v"||m.key==="V")&&m.ctrlKey)&&m.preventDefault(),m.key==="Delete"||m.key==="Backspace"){const p=r.current;x>0&&setTimeout(()=>p[x-1].focus())}},g=m=>{!r.current[m].value||m>=r.current.length-1||r.current[m+1].focus()},y=m=>{var v;m.preventDefault();const x=((v=m.clipboardData)==null?void 0:v.getData("text"))??"";if(!new RegExp(`^[0-9]{${r.current.length}}$`).test(x))return;const p=x.split("");s(p),r.current[r.current.length-1].focus()};return h.jsxs("form",{onSubmit:m=>{m.preventDefault(),u.current=!1,Tr()},className:"flex flex-col items-center gap-8 rounded-xl border border-base-300 bg-base-100 px-8 py-12 shadow-md",children:[h.jsxs("header",{className:"text-center",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"PIN Verification"}),h.jsxs("p",{className:"text-sm text-base-content/50",children:["Enter the ",n,"-digit PIN code."]})]}),h.jsx("div",{className:"flex items-center justify-center gap-3",children:Array.from({length:n}).map((m,x)=>h.jsx("input",{type:"password",inputMode:"numeric",value:i[x]??"",onChange:p=>s(v=>(v[x]=p.target.value,[...v])),ref:p=>r.current[x]=p,onKeyDown:p=>f(p,x),onInput:()=>g(x),onFocus:p=>p.target.select(),onPaste:p=>y(p),className:"dai-input dai-input-bordered size-9 p-1 text-center text-lg font-medium sm:size-14 sm:text-2xl",pattern:"\\d*",maxLength:1},x))}),h.jsxs("div",{className:"flex w-full flex-col items-center gap-2",children:[h.jsx("button",{type:"submit",disabled:d,className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide sm:dai-btn-md",children:"Submit"}),e&&h.jsxs("label",{className:"dai-label cursor-pointer gap-2",children:[h.jsx("input",{type:"checkbox",checked:a,onChange:m=>l(m.target.checked),className:"dai-checkbox-primary dai-checkbox dai-checkbox-sm"}),h.jsx("span",{className:"dai-label-text",children:"Desktop Only"})]})]})]})};async function Ux(t,e){const n=e+t,i=new TextEncoder().encode(n);try{const s=await crypto.subtle.digest("SHA-256",i);return Array.from(new Uint8Array(s)).map(o=>o.toString(16).padStart(2,"0")).join("")}catch{return""}}function uC(t=16){const e=new Uint8Array(t);return crypto.getRandomValues(e),Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")}function dC(t){const e=["th","st","nd","rd"],n=t%100,r=n>=11&&n<=13?e[0]:e[t%10]||e[0];return t+r}const gh=async()=>{if(!await ga({body:"Are you sure want to logout?",title:"Logout",okText:"Logout"}))return;Ae(!0);const{error:e}=await Er.auth.signOut();Ae(!1),console.error(e);const n=dx(ut.SUPABASE_PROJECT_URL,"https://").split(".")[0];localStorage.removeItem(`sb-${n}-auth-token`),window.location.href=ut.BASE_URL+"/login"};class Gr extends pa{static async getSetting(e){return this.db.from("settings").select().eq("user_id",e).single()}static async update(e,n,r){return this.db.from("settings").update({[n]:r}).eq("id",e)}}const hC={light:{primary:"#007bff","primary-content":"#eddaff",secondary:"#007985","secondary-content":"#d3e3e6",accent:"#d20000","accent-content":"#fdd6d0",neutral:"#170600","neutral-content":"#cbc6c3","base-100":"#fff9d6","base-200":"#ded9ba","base-300":"#beb99e","base-content":"#161510",info:"#00f9ff","info-content":"#001516",success:"#00c270","success-content":"#000e04",warning:"#fda200","warning-content":"#160a00",error:"#ff878e","error-content":"#160607"},dark:{primary:"#22d3ee","primary-content":"#001014",secondary:"#007985","secondary-content":"#d3e3e6",accent:"#00df00","accent-content":"#001200",neutral:"#001004","neutral-content":"#c4c9c5","base-100":"#1e2c2f","base-200":"#192527","base-300":"#131e20","base-content":"#cdd0d1",info:"#00dfff","info-content":"#001216",success:"#00d6af","success-content":"#00100b",warning:"#b86900","warning-content":"#0c0400",error:"#ff878e","error-content":"#160607"}};function fC(t,e){let n;n=e;const i=Ge((()=>{const o=localStorage.getItem(t);if(o==null)return n;try{return typeof n=="string"?o:JSON.parse(o)}catch{return n}})());return Ge(o=>o(i),(o,a,l)=>{const c=typeof l=="function"?l(o(i)):l;a(i,c);try{localStorage.setItem(t,typeof c=="string"?c:JSON.stringify(c))}catch(u){console.error(u)}})}const Hx=fC("dark",!1),Wx=Ge(t=>t(Hx)?"dark":"light"),Vx=Ge(t=>hC[t(Wx)]),pC=()=>{var w,S;const[,t]=re(Ir),[e]=re(Rt),[n,r]=re(Hx),[i,s]=re(zt),[,o]=re(Nf),[a,l]=k.useState(!1),[c,u]=k.useState(((w=i==null?void 0:i.max_visible_amount)==null?void 0:w.toString())??""),[d,f]=k.useState(!1),[g,y]=k.useState(((S=i==null?void 0:i.month_end_date)==null?void 0:S.toString())??"");k.useEffect(()=>{t({title:"Settings"})},[]);const m=async()=>{const E=!(i!=null&&i.hide_amount);Ae(!0);const M=await Gr.update(i.id,"hide_amount",E);if(Ae(!1),M.error){K.error(M.error.message);return}s({...i,hide_amount:E})},x=async()=>{if(!a){l(!0);return}Ae(!0);const E=await Gr.update(i.id,"max_visible_amount",parseFloat(c));if(Ae(!1),E.error){K.error(E.error.message);return}s({...i,max_visible_amount:parseFloat(c)}),l(!1)},p=async()=>{if(!d){f(!0);return}const E=g?parseInt(g):null;Ae(!0);const M=await Gr.update(i.id,"month_end_date",E);if(Ae(!1),M.error){K.error(M.error.message);return}s({...i,month_end_date:E}),f(!1)},v=async(E,M)=>{if(!E)return;Ae(!0);const b=uC(),P=b+(e==null?void 0:e.user.id),L=await Ux(E,P);if(!L){Ae(!1),K.error("Failed to generate hash");return}const N=await Gr.update(i.id,"pin_desktop_only",M??!1);if(N.error){Ae(!1),K.error(N.error.message);return}const{error:R}=await Gr.update(i.id,"pin",L+":"+b);if(Ae(!1),R){K.error(R.message);return}o(!0),s({...i,pin:L+":"+b,pin_desktop_only:M??!1})},_=async()=>{if(!await ga({title:"Disable PIN?",body:"Are you sure you want to disable PIN?"}))return;Ae(!0);const{error:M}=await Gr.update(i.id,"pin",null);if(Ae(!1),M){K.error(M.message);return}s({...i,pin:null})};return h.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-2",children:[h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 p-4",children:[h.jsx("img",{src:ut.BASE_URL+"/icons/icon-192x192.png",className:"size-16",alt:""}),h.jsx("div",{className:"flex flex-col gap-0.5",children:h.jsx("span",{children:e==null?void 0:e.user.email})})]}),h.jsxs("div",{className:"flex flex-col gap-4 text-sm",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"font-medium",children:"Security"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:keyboard"}),h.jsx("span",{children:"PIN"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[(i==null?void 0:i.pin)&&i.pin_desktop_only&&h.jsx(we,{className:"text-accent",icon:"lucide:app-window"}),(i==null?void 0:i.pin)&&h.jsx("span",{className:"dai-badge dai-badge-success dai-badge-sm",children:"Enabled"}),(i==null?void 0:i.pin)&&h.jsx("div",{className:"h-5 w-[1px] bg-base-300"}),h.jsx("button",{onClick:()=>{Fr(Bx,{onClose:v,desktopOption:!0})},children:h.jsx(we,{icon:"lucide:pencil"})}),(i==null?void 0:i.pin)&&h.jsx("button",{onClick:_,className:"text-error",children:h.jsx(we,{icon:"lucide:x-circle"})})]})]}),h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:eye-off"}),h.jsx("span",{children:"Hide Amount"})]}),h.jsx("input",{type:"checkbox",checked:!!(i!=null&&i.hide_amount),onChange:m,className:"dai-toggle dai-toggle-success dai-toggle-sm"})]}),h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:eye"}),h.jsx("span",{children:"Max amount always visible"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[a?h.jsx("input",{min:0,type:"number",value:c,onChange:E=>u(E.target.value),className:"dai-input dai-input-xs dai-input-bordered max-w-24 text-end"}):h.jsx("span",{children:un((i==null?void 0:i.max_visible_amount)??0)}),h.jsx("button",{disabled:a&&(!c||isNaN(parseFloat(c))||parseFloat(c)<0),onClick:x,className:"disabled:opacity-20",children:a?h.jsx(we,{icon:"lucide:check"}):h.jsx(we,{icon:"lucide:pencil"})})]})]})]})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"font-medium",children:"Report"}),h.jsx("div",{className:"flex flex-col gap-2",children:h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:calendar-days"}),h.jsx("span",{children:"End of month"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[d?h.jsx("input",{min:0,type:"number",value:g,onChange:E=>y(E.target.value),className:"dai-input dai-input-xs dai-input-bordered max-w-24 text-end"}):h.jsx("span",{children:i!=null&&i.month_end_date?dC(i.month_end_date):""}),h.jsx("button",{disabled:d&&!!g&&(isNaN(parseFloat(g))||parseFloat(g)<2),onClick:p,className:"disabled:opacity-20",children:d?h.jsx(we,{icon:"lucide:check"}):h.jsx(we,{icon:"lucide:pencil"})})]})]})})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"font-medium",children:"Settings"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:moon"}),h.jsx("span",{children:"Dark Mode"})]}),h.jsx("input",{type:"checkbox",checked:n,onChange:E=>r(E.target.checked),className:"dai-toggle dai-toggle-success dai-toggle-sm"})]}),h.jsx("button",{onClick:gh,className:"flex items-center justify-between rounded-xl bg-base-100 p-3 shadow",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(we,{icon:"lucide:log-out"}),h.jsx("span",{children:"Logout"})]})})]})]})]})]})},Yx=({onSuccess:t,account:e})=>{var g;const[n]=re(Rt),[r,i]=k.useState(!1),[s,o]=k.useState((e==null?void 0:e.name)??""),[a,l]=k.useState(((g=e==null?void 0:e.initial_balance)==null?void 0:g.toString())??""),[c,u]=k.useState(e!=null&&e.logo?Xa.indexOf(e.logo):0),d=k.useMemo(()=>!s||!a||isNaN(parseFloat(a)),[s,a]),f=async()=>{i(!0);let y;if(e?(y=await pc.updateAccount(e.id,{name:s,initial_balance:parseFloat(a),logo:Xa[c]}),y.data&&(y.data.balance+=parseFloat(a)-e.initial_balance)):(y=await pc.createAccount({name:s,initial_balance:parseFloat(a),logo:Xa[c],user_id:n.user.id}),y.data&&(y.data.balance=parseFloat(a))),i(!1),y.error){K.error(y.error.message);return}if(!y.data){K.error("Something went wrong");return}t(y.data),Tr()};return h.jsx(Kc,{title:e?"Update Account":"Create Account",className:"w-[90vw] max-w-[30rem]",children:h.jsxs("form",{onSubmit:y=>{y.preventDefault(),f()},className:"grid grid-cols-1 gap-2",children:[h.jsxs("label",{className:"dai-form-control w-full",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Name"})}),h.jsx("input",{value:s,onChange:y=>o(y.target.value),type:"text",placeholder:"Account Name",className:"dai-input dai-input-bordered"})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Intial Balance"})}),h.jsx("input",{value:a,onChange:y=>l(y.target.value),type:"number",placeholder:"Intial Balance",className:"dai-input dai-input-bordered"})]}),h.jsxs("label",{className:"dai-form-control",children:[h.jsx("div",{className:"dai-label",children:h.jsx("span",{className:"req dai-label-text",children:"Logo"})}),h.jsx("div",{className:"flex items-center gap-2 overflow-x-scroll px-2 py-2",children:Xa.map((y,m)=>h.jsx("button",{onClick:()=>u(m),type:"button",className:"flex-shrink-0 rounded-xl border-4 border-transparent outline outline-4 "+(m===c?"outline-primary":"outline-transparent"),children:h.jsx("img",{className:"size-12 rounded-lg",src:ut.BASE_URL+y,alt:""},m)},m))})]}),h.jsx("div",{className:"flex justify-end pt-2",children:h.jsx(Yc,{disabled:d,loading:r,type:"submit",className:"dai-btn-primary",children:"Submit"})})]})})},gC=({account:t,onDeleted:e,onUpdated:n})=>{const r=wn(),i=async()=>{if(!await ga({title:"Delete Account",body:"Are you sure you want to delete this account?"}))return;Ae(!0);const{error:o}=await pc.deleteAccount(t.id);if(Ae(!1),o){K.error(o.message);return}e(t.id)};return h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md hover:cursor-pointer",children:[h.jsx("img",{onClick:()=>r(`/accounts/transaction?account=${t.id}`),src:ut.BASE_URL+t.logo,className:"size-9 xs:size-12"}),h.jsxs("div",{className:"flex flex-1 flex-col gap-0.5",children:[h.jsx("p",{className:"text-sm xs:text-base",children:t.name}),h.jsxs("div",{className:"flex items-center gap-2 text-xs xs:text-sm",children:[h.jsx("p",{children:"Balance: "}),h.jsx("span",{className:"font-semibold "+(t.balance<0?"text-error":"text-success"),children:h.jsx(dn,{amount:t.balance})})]})]}),h.jsx(Xn,{options:[{icon:"lucide:pencil",label:"Edit",onClick:()=>Fr(Yx,{account:t,onSuccess:n})},{icon:"lucide:trash",label:"Delete",onClick:i}]})]})},mC=()=>h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 text-sm shadow-md",children:[h.jsx(ve,{children:h.jsx("div",{className:"size-9 rounded-full bg-accent xs:size-12"})}),h.jsxs("div",{className:"flex flex-1 flex-col gap-0.5",children:[h.jsx(ve,{children:h.jsx("p",{className:"text-sm xs:text-base",children:"Gopay"})}),h.jsx(ve,{children:h.jsxs("div",{className:"flex items-center gap-2 text-xs xs:text-sm",children:[h.jsx("p",{children:"Balance: "}),h.jsx("p",{className:"font-bold",children:un(1e7)})]})})]}),h.jsx(ve,{children:h.jsx(Xn,{options:[]})})]}),yC=()=>{const[,t]=re(Ir),{data:e,setData:n,loading:r,fetched:i,refresh:s}=gc(),o=k.useMemo(()=>e.reduce((a,l)=>a+l.balance,0),[e]);return k.useEffect(()=>{t({title:"Accounts",revealer:!0,actions:[h.jsx("button",{onClick:()=>Fr(Yx,{onSuccess:a=>n(l=>[a,...l])}),className:"dai-btn dai-btn-success dai-btn-xs ml-2 xs:dai-btn-sm",children:"Create"})]})},[]),k.useEffect(()=>{i||(async()=>{const a=await s();a&&K.error(a)})()},[]),h.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-2",children:[h.jsx("div",{className:"rounded-xl bg-base-100 p-4",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{children:r?h.jsx(ve,{children:"Total:"}):"Total:"}),h.jsx("span",{className:"font-semibold text-success",children:r?h.jsx(ve,{children:un(1e7)}):h.jsx(dn,{amount:o})})]})}),h.jsx("div",{className:"grid grid-cols-1 gap-2",children:r?Array.from({length:10}).map((a,l)=>h.jsx(mC,{},l)):e.length===0?h.jsx("p",{className:"text-center",children:"No accounts found"}):e.map(a=>h.jsx(gC,{account:a,onDeleted:l=>{n(c=>c.filter(u=>u.id!==l))},onUpdated:l=>{n(c=>c.map(u=>u.id===l.id?l:u))}},a.id))})]})},vC=()=>h.jsxs(da,{children:[h.jsx(Tt,{path:"/",element:h.jsx(yC,{})}),h.jsx(Tt,{path:"/transaction",element:h.jsx(zx,{})})]}),tl=qn();class An extends pa{static getDateRanges(e,n,r){if(!n)return{start:new Date(0),end:new Date(new Date().getFullYear(),new Date().getMonth()+1,1)};const i=new Date(n.getFullYear(),n.getMonth(),1),s=new Date((r==null?void 0:r.getFullYear())??n.getFullYear(),((r==null?void 0:r.getMonth())??n.getMonth())+1,1),o=tl.get(zt);return e&&(o!=null&&o.month_end_date)&&(i.setMonth(i.getMonth()-1),i.setDate(o.month_end_date+1),s.setMonth(s.getMonth()-1),s.setDate(o.month_end_date+1)),{start:i,end:s}}static async getExpenseOverview(e,n){const{start:r,end:i}=this.getDateRanges(!0,n),{data:s,error:o}=await this.db.from("transaction").select("amount:amount.sum(), category(id, name, logo)").eq("user_id",e).eq("type","expense").gte("occurred_at",gt(r,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})).lt("occurred_at",gt(i,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})),a=s;return a.sort((l,c)=>c.amount-l.amount),{error:o,data:a}}static async getIncomeTotal(e,n){const{start:r,end:i}=this.getDateRanges(!0,n),{data:s,error:o}=await this.db.from("transaction").select("amount:amount.sum()").eq("user_id",e).eq("type","income").gte("occurred_at",gt(r,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})).lt("occurred_at",gt(i,{format:"yyyy-MM-dd HH:mm:ss",timeZone:"UTC"})).single(),a=s;return{error:o,data:(a==null?void 0:a.amount)??0}}static async getCashFlowEveryMonth({userId:e,trx_type:n,year:r,yearEnd:i,categories:s}){var d;const o=new Date(i??r+1,0);o.setDate(o.getDate()-1);const{start:a,end:l}=this.getDateRanges(!1,new Date(r,0),o);l.setDate(l.getDate()-1);const{data:c,error:u}=await Er.rpc("get_transaction_flow",{trx_type:n,day_flow:!1,month_end_date:((d=tl.get(zt))==null?void 0:d.month_end_date)??0,trx_user_id:e,categories:s,time_zone:vo,end_str:gt(l,{format:"yyyy-MM"}),start_str:gt(a,{format:"yyyy-MM"})});return{data:c,error:u}}static async getCashFlowEveryDay({userId:e,trx_type:n,month:r,monthEnd:i,categories:s}){var u;const{start:o,end:a}=this.getDateRanges(!0,r,i);a.setDate(a.getDate()-1);const{data:l,error:c}=await Er.rpc("get_transaction_flow",{day_flow:!0,month_end_date:((u=tl.get(zt))==null?void 0:u.month_end_date)??0,trx_type:n,trx_user_id:e,categories:s,time_zone:vo,end_str:gt(a,{format:"yyyy-MM-dd"}),start_str:gt(o,{format:"yyyy-MM-dd"})});return{data:l,error:c}}static async getCurrentBalanceAt(e){var i;const{data:n,error:r}=await Er.rpc("get_current_balance_at",{trx_user_id:e.userId,day_flow:!0,end_str:gt(e.lastDate,{format:"yyyy-MM-dd"}),month_end_date:((i=tl.get(zt))==null?void 0:i.month_end_date)??0,time_zone:vo});return{data:n,error:r}}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ma(t){return t+.5|0}const gr=(t,e,n)=>Math.max(Math.min(t,n),e);function eo(t){return gr(ma(t*2.55),0,255)}function Cr(t){return gr(ma(t*255),0,255)}function On(t){return gr(ma(t/2.55)/100,0,1)}function lm(t){return gr(ma(t*100),0,100)}const Wt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},mh=[..."0123456789ABCDEF"],xC=t=>mh[t&15],_C=t=>mh[(t&240)>>4]+mh[t&15],nl=t=>(t&240)>>4===(t&15),wC=t=>nl(t.r)&&nl(t.g)&&nl(t.b)&&nl(t.a);function bC(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Wt[t[1]]*17,g:255&Wt[t[2]]*17,b:255&Wt[t[3]]*17,a:e===5?Wt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Wt[t[1]]<<4|Wt[t[2]],g:Wt[t[3]]<<4|Wt[t[4]],b:Wt[t[5]]<<4|Wt[t[6]],a:e===9?Wt[t[7]]<<4|Wt[t[8]]:255})),n}const kC=(t,e)=>t<255?e(t):"";function SC(t){var e=wC(t)?xC:_C;return t?"#"+e(t.r)+e(t.g)+e(t.b)+kC(t.a,e):void 0}const jC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Kx(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function EC(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function CC(t,e,n){const r=Kx(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function MC(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function Af(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=MC(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function If(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Cr)}function Ff(t,e,n){return If(Kx,t,e,n)}function PC(t,e,n){return If(CC,t,e,n)}function TC(t,e,n){return If(EC,t,e,n)}function qx(t){return(t%360+360)%360}function RC(t){const e=jC.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?eo(+e[5]):Cr(+e[5]));const i=qx(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=PC(i,s,o):e[1]==="hsv"?r=TC(i,s,o):r=Ff(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function LC(t,e){var n=Af(t);n[0]=qx(n[0]+e),n=Ff(n),t.r=n[0],t.g=n[1],t.b=n[2]}function OC(t){if(!t)return;const e=Af(t),n=e[0],r=lm(e[1]),i=lm(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${On(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const cm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},um={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function DC(){const t={},e=Object.keys(um),n=Object.keys(cm);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,cm[s]);s=parseInt(um[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let rl;function NC(t){rl||(rl=DC(),rl.transparent=[0,0,0,0]);const e=rl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const AC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function IC(t){const e=AC.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?eo(o):gr(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?eo(r):gr(r,0,255)),i=255&(e[4]?eo(i):gr(i,0,255)),s=255&(e[6]?eo(s):gr(s,0,255)),{r,g:i,b:s,a:n}}}function FC(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${On(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ku=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Di=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function zC(t,e,n){const r=Di(On(t.r)),i=Di(On(t.g)),s=Di(On(t.b));return{r:Cr(Ku(r+n*(Di(On(e.r))-r))),g:Cr(Ku(i+n*(Di(On(e.g))-i))),b:Cr(Ku(s+n*(Di(On(e.b))-s))),a:t.a+n*(e.a-t.a)}}function il(t,e,n){if(t){let r=Af(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Ff(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Xx(t,e){return t&&Object.assign(e||{},t)}function dm(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Cr(t[3]))):(e=Xx(t,{r:0,g:0,b:0,a:1}),e.a=Cr(e.a)),e}function $C(t){return t.charAt(0)==="r"?IC(t):RC(t)}class qo{constructor(e){if(e instanceof qo)return e;const n=typeof e;let r;n==="object"?r=dm(e):n==="string"&&(r=bC(e)||NC(e)||$C(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Xx(this._rgb);return e&&(e.a=On(e.a)),e}set rgb(e){this._rgb=dm(e)}rgbString(){return this._valid?FC(this._rgb):void 0}hexString(){return this._valid?SC(this._rgb):void 0}hslString(){return this._valid?OC(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=zC(this._rgb,e._rgb,n)),this}clone(){return new qo(this.rgb)}alpha(e){return this._rgb.a=Cr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ma(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return il(this._rgb,2,e),this}darken(e){return il(this._rgb,2,-e),this}saturate(e){return il(this._rgb,1,e),this}desaturate(e){return il(this._rgb,1,-e),this}rotate(e){return LC(this._rgb,e),this}}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Cn(){}const BC=(()=>{let t=0;return()=>t++})();function Fe(t){return t===null||typeof t>"u"}function tt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function fe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ct(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Dt(t,e){return ct(t)?t:e}function xe(t,e){return typeof t>"u"?e:t}const UC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Gx=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Be(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ye(t,e,n,r){let i,s,o;if(tt(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(fe(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function mc(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function yc(t){if(tt(t))return t.map(yc);if(fe(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=yc(t[n[i]]);return e}return t}function Jx(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function HC(t,e,n,r){if(!Jx(t))return;const i=e[t],s=n[t];fe(i)&&fe(s)?Xo(i,s,r):e[t]=yc(s)}function Xo(t,e,n){const r=tt(e)?e:[e],i=r.length;if(!fe(t))return t;n=n||{};const s=n.merger||HC;let o;for(let a=0;a<i;++a){if(o=r[a],!fe(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function xo(t,e){return Xo(t,e,{merger:WC})}function WC(t,e,n){if(!Jx(t))return;const r=e[t],i=n[t];fe(r)&&fe(i)?xo(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=yc(i))}const hm={"":t=>t,x:t=>t.x,y:t=>t.y};function VC(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function YC(t){const e=VC(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Go(t,e){return(hm[e]||(hm[e]=YC(e)))(t)}function zf(t){return t.charAt(0).toUpperCase()+t.slice(1)}const vc=t=>typeof t<"u",Rr=t=>typeof t=="function",fm=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function KC(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ze=Math.PI,He=2*ze,qC=He+ze,xc=Number.POSITIVE_INFINITY,XC=ze/180,Xe=ze/2,Hr=ze/4,pm=ze*2/3,mr=Math.log10,xs=Math.sign;function _o(t,e,n){return Math.abs(t-e)<n}function gm(t){const e=Math.round(t);t=_o(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(mr(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function GC(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function Jo(t){return!isNaN(parseFloat(t))&&isFinite(t)}function JC(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Qx(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function In(t){return t*(ze/180)}function QC(t){return t*(180/ze)}function mm(t){if(!ct(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Zx(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*ze&&(s+=He),{angle:s,distance:i}}function yh(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ZC(t,e){return(t-e+qC)%He-ze}function ir(t){return(t%He+He)%He}function Qo(t,e,n,r){const i=ir(t),s=ir(e),o=ir(n),a=ir(s-i),l=ir(o-i),c=ir(i-s),u=ir(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function yt(t,e,n){return Math.max(e,Math.min(n,t))}function eM(t){return yt(t,-32768,32767)}function e1(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function $f(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const si=(t,e,n,r)=>$f(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),tM=(t,e,n)=>$f(t,n,r=>t[r][e]>=n);function nM(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const t1=["push","pop","shift","splice","unshift"];function rM(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),t1.forEach(n=>{const r="_onData"+zf(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function ym(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(t1.forEach(s=>{delete t[s]}),delete t._chartjs)}function iM(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const n1=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function r1(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,n1.call(window,()=>{r=!1,t.apply(e,n)}))}}function sM(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const i1=t=>t==="start"?"left":t==="end"?"right":"center",wo=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2;function oM(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(i=yt(Math.min(si(a,l,c).lo,n?r:si(e,l,o.getPixelForValue(c)).lo),0,r-1)),f?s=yt(Math.max(si(a,o.axis,u,!0).hi+1,n?0:si(e,l,o.getPixelForValue(u),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function aM(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const sl=t=>t===0||t===1,vm=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*He/n)),xm=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*He/n)+1,bo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Xe)+1,easeOutSine:t=>Math.sin(t*Xe),easeInOutSine:t=>-.5*(Math.cos(ze*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>sl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>sl(t)?t:vm(t,.075,.3),easeOutElastic:t=>sl(t)?t:xm(t,.075,.3),easeInOutElastic(t){return sl(t)?t:t<.5?.5*vm(t*2,.1125,.45):.5+.5*xm(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-bo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?bo.easeInBounce(t*2)*.5:bo.easeOutBounce(t*2-1)*.5+.5};function Bf(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function _m(t){return Bf(t)?t:new qo(t)}function qu(t){return Bf(t)?t:new qo(t).saturate(.5).darken(.1).hexString()}const lM=["x","y","borderWidth","radius","tension"],cM=["color","borderColor","backgroundColor"];function uM(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:cM},numbers:{type:"number",properties:lM}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function dM(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const wm=new Map;function hM(t,e){e=e||{};const n=t+JSON.stringify(e);let r=wm.get(n);return r||(r=new Intl.NumberFormat(t,e),wm.set(n,r)),r}function tu(t,e,n){return hM(e,n).format(t)}const s1={values(t){return tt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=fM(t,n)}const o=mr(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),tu(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(mr(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?s1.numeric.call(this,t,e,n):""}};function fM(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Uf={formatters:s1};function pM(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Uf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const vi=Object.create(null),vh=Object.create(null);function ko(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function Xu(t,e,n){return typeof e=="string"?Xo(ko(t,e),n):Xo(ko(t,""),e)}class gM{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>qu(i.backgroundColor),this.hoverBorderColor=(r,i)=>qu(i.borderColor),this.hoverColor=(r,i)=>qu(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Xu(this,e,n)}get(e){return ko(this,e)}describe(e,n){return Xu(vh,e,n)}override(e,n){return Xu(vi,e,n)}route(e,n,r,i){const s=ko(this,e),o=ko(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return fe(l)?Object.assign({},c,l):xe(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ye=new gM({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[uM,dM,pM]);function mM(t){return!t||Fe(t.size)||Fe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function bm(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Wr(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function km(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function xh(t,e,n,r){yM(t,e,n,r)}function yM(t,e,n,r,i){let s,o,a,l,c,u,d,f;const g=e.pointStyle,y=e.rotation,m=e.radius;let x=(y||0)*XC;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(x),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),g){default:t.arc(n,r,m,0,He),t.closePath();break;case"triangle":u=m,t.moveTo(n+Math.sin(x)*u,r-Math.cos(x)*m),x+=pm,t.lineTo(n+Math.sin(x)*u,r-Math.cos(x)*m),x+=pm,t.lineTo(n+Math.sin(x)*u,r-Math.cos(x)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(x+Hr)*l,d=Math.cos(x+Hr)*l,a=Math.sin(x+Hr)*l,f=Math.sin(x+Hr)*l,t.arc(n-d,r-a,c,x-ze,x-Xe),t.arc(n+f,r-o,c,x-Xe,x),t.arc(n+d,r+a,c,x,x+Xe),t.arc(n-f,r+o,c,x+Xe,x+ze),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*m,u=l,t.rect(n-u,r-l,2*u,2*l);break}x+=Hr;case"rectRot":d=Math.cos(x)*m,o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*m,t.moveTo(n-d,r-a),t.lineTo(n+f,r-o),t.lineTo(n+d,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":x+=Hr;case"cross":d=Math.cos(x)*m,o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*m,t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":d=Math.cos(x)*m,o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*m,t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),x+=Hr,d=Math.cos(x)*m,o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*m,t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=Math.cos(x)*m,a=Math.sin(x)*m,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(x)*m,r+Math.sin(x)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Zo(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function o1(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function a1(t){t.restore()}function vM(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function xM(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function _M(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Fe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function wM(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function bM(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function _h(t,e,n,r,i,s={}){const o=tt(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,_M(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&bM(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Fe(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),wM(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function Sm(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*ze,ze,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,ze,Xe,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Xe,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Xe,!0),t.lineTo(n+o.topLeft,r)}const kM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,SM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function jM(t,e){const n=(""+t).match(kM);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const EM=t=>+t||0;function Hf(t,e){const n={},r=fe(e),i=r?Object.keys(e):e,s=fe(t)?r?o=>xe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=EM(s(o));return n}function CM(t){return Hf(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Rl(t){return Hf(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Wn(t){const e=CM(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function qt(t,e){t=t||{},e=e||Ye.font;let n=xe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=xe(t.style,e.style);r&&!(""+r).match(SM)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:xe(t.family,e.family),lineHeight:jM(xe(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:xe(t.weight,e.weight),string:""};return i.string=mM(i),i}function ol(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function MM(t,e,n){const{min:r,max:i}=t,s=Gx(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Si(t,e){return Object.assign(Object.create(t),e)}function Wf(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=d1("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>Wf([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return c1(a,l,()=>AM(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Em(a).includes(l)},ownKeys(a){return Em(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function _s(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:l1(t,r),setContext:s=>_s(t,s,n,r),override:s=>_s(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return c1(s,o,()=>TM(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function l1(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Rr(n)?n:()=>n,isIndexable:Rr(r)?r:()=>r}}const PM=(t,e)=>t?t+zf(e):e,Vf=(t,e)=>fe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function c1(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function TM(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Rr(a)&&o.isScriptable(e)&&(a=RM(e,a,t,n)),tt(a)&&a.length&&(a=LM(e,a,t,o.isIndexable)),Vf(e,a)&&(a=_s(a,i,s&&s[e],o)),a}function RM(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),Vf(t,l)&&(l=Yf(i._scopes,i,t,l)),l}function LM(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(fe(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=Yf(c,i,t,u);e.push(_s(d,s,o&&o[t],a))}}return e}function u1(t,e,n){return Rr(t)?t(e,n):t}const OM=(t,e)=>t===!0?e:typeof t=="string"?Go(e,t):void 0;function DM(t,e,n,r,i){for(const s of e){const o=OM(n,s);if(o){t.add(o);const a=u1(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Yf(t,e,n,r){const i=e._rootScopes,s=u1(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=jm(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=jm(a,o,s,l,r),l===null)?!1:Wf(Array.from(a),[""],i,s,()=>NM(e,n,r))}function jm(t,e,n,r,i){for(;n;)n=DM(t,e,n,r,i);return n}function NM(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return tt(i)&&fe(n)?n:i||{}}function AM(t,e,n,r){let i;for(const s of e)if(i=d1(PM(s,t),n),typeof i<"u")return Vf(t,i)?Yf(n,r,t,i):i}function d1(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Em(t){let e=t._keys;return e||(e=t._keys=IM(t._scopes)),e}function IM(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const FM=Number.EPSILON||1e-14,ws=(t,e)=>e<t.length&&!t[e].skip&&t[e],h1=t=>t==="x"?"y":"x";function zM(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=yh(s,i),l=yh(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,f=r*u;return{previous:{x:s.x-d*(o.x-i.x),y:s.y-d*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function $M(t,e,n){const r=t.length;let i,s,o,a,l,c=ws(t,0);for(let u=0;u<r-1;++u)if(l=c,c=ws(t,u+1),!(!l||!c)){if(_o(e[u],0,FM)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}}function BM(t,e,n="x"){const r=h1(n),i=t.length;let s,o,a,l=ws(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=ws(t,c+1),!a)continue;const u=a[n],d=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=d-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=d+s*e[c])}}function UM(t,e="x"){const n=h1(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=ws(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=ws(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?xs(i[o-1])!==xs(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}$M(t,i,s),BM(t,s,e)}function al(t,e,n){return Math.max(Math.min(t,n),e)}function HM(t,e){let n,r,i,s,o,a=Zo(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&Zo(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=al(i.cp1x,e.left,e.right),i.cp1y=al(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=al(i.cp2x,e.left,e.right),i.cp2y=al(i.cp2y,e.top,e.bottom)))}function WM(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")UM(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=zM(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&HM(t,n)}function Kf(){return typeof window<"u"&&typeof document<"u"}function qf(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function _c(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const nu=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function VM(t,e){return nu(t).getPropertyValue(e)}const YM=["top","right","bottom","left"];function ci(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=YM[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const KM=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function qM(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(KM(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Jr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=nu(n),s=i.boxSizing==="border-box",o=ci(i,"padding"),a=ci(i,"border","width"),{x:l,y:c,box:u}=qM(t,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:g,height:y}=e;return s&&(g-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-d)/g*n.width/r),y:Math.round((c-f)/y*n.height/r)}}function XM(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&qf(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=nu(s),l=ci(a,"border","width"),c=ci(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=_c(a.maxWidth,s,"clientWidth"),i=_c(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||xc,maxHeight:i||xc}}const ll=t=>Math.round(t*10)/10;function GM(t,e,n,r){const i=nu(t),s=ci(i,"margin"),o=_c(i.maxWidth,t,"clientWidth")||xc,a=_c(i.maxHeight,t,"clientHeight")||xc,l=XM(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=ci(i,"border","width"),g=ci(i,"padding");c-=g.width+f.width,u-=g.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=ll(Math.min(c,o,l.maxWidth)),u=ll(Math.min(u,a,l.maxHeight)),c&&!u&&(u=ll(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=ll(Math.floor(u*r))),{width:c,height:u}}function Cm(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const JM=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Kf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Mm(t,e){const n=VM(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Qr(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function QM(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function ZM(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Qr(t,i,n),a=Qr(i,s,n),l=Qr(s,e,n),c=Qr(o,a,n),u=Qr(a,l,n);return Qr(c,u,n)}const eP=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},tP=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Gu(t,e,n){return t?eP(e,n):tP()}function nP(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function rP(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function f1(t){return t==="angle"?{between:Qo,compare:ZC,normalize:ir}:{between:e1,compare:(e,n)=>e-n,normalize:e=>e}}function Pm({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function iP(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=f1(r),l=e.length;let{start:c,end:u,loop:d}=t,f,g;if(d){for(c+=l,u+=l,f=0,g=l;f<g&&o(a(e[c%l][r]),i,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function sP(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=f1(r),{start:u,end:d,loop:f,style:g}=iP(t,e,n),y=[];let m=!1,x=null,p,v,_;const w=()=>l(i,_,p)&&a(i,_)!==0,S=()=>a(s,p)===0||l(s,_,p),E=()=>m||w(),M=()=>!m||S();for(let b=u,P=u;b<=d;++b)v=e[b%o],!v.skip&&(p=c(v[r]),p!==_&&(m=l(p,i,s),x===null&&E()&&(x=a(p,i)===0?b:P),x!==null&&M()&&(y.push(Pm({start:x,end:b,loop:f,count:o,style:g})),x=null),P=b,_=p));return x!==null&&y.push(Pm({start:x,end:d,loop:f,count:o,style:g})),y}function oP(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=sP(r[i],t.points,e);s.length&&n.push(...s)}return n}function aP(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function lP(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function cP(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=aP(n,i,s,r);if(r===!0)return Tm(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return Tm(t,lP(n,o,l,c),n,e)}function Tm(t,e,n,r){return!r||!r.setContext||!n?e:uP(t,e,n,r)}function uP(t,e,n,r){const i=t._chart.getContext(),s=Rm(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,d=e[0].start,f=d;function g(y,m,x,p){const v=a?-1:1;if(y!==m){for(y+=l;n[y%l].skip;)y-=v;for(;n[m%l].skip;)m+=v;y%l!==m%l&&(c.push({start:y%l,end:m%l,loop:x,style:p}),u=p,d=m%l)}}for(const y of e){d=a?d:y.start;let m=n[d%l],x;for(f=d+1;f<=y.end;f++){const p=n[f%l];x=Rm(r.setContext(Si(i,{type:"segment",p0:m,p1:p,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),dP(x,u)&&g(d,f-1,y.loop,u),m=p,u=x}d<f-1&&g(d,f-1,y.loop,u)}return c}function Rm(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function dP(t,e){if(!e)return!1;const n=[],r=function(i,s){return Bf(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class hP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=n1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Pn=new hP;const Lm="transparent",fP={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=_m(t||Lm),i=r.valid&&_m(e||Lm);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class pP{constructor(e,n,r,i){const s=n[r];i=ol([e.to,i,s,e.from]);const o=ol([e.from,s,i]);this._active=!0,this._fn=e.fn||fP[e.type||typeof o],this._easing=bo[e.easing]||bo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ol([e.to,n,i,e.from]),this._from=ol([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class p1{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!fe(e))return;const n=Object.keys(Ye.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!fe(s))return;const o={};for(const a of n)o[a]=s[a];(tt(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=mP(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&gP(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=s[c];const f=r.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}s[c]=d=new pP(f,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Pn.add(this._chart,r),!0}}function gP(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function mP(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Om(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function yP(t,e,n){if(n===!1)return!1;const r=Om(t,n),i=Om(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function vP(t){let e,n,r,i;return fe(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function g1(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Dm(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],ct(c)&&(s||e===0||xs(e)===xs(c))&&(e+=c)}return!u&&!r.all?0:e}function xP(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}function Ju(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function _P(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function wP(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function bP(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Nm(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function Am(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=_P(s,o,r),d=e.length;let f;for(let g=0;g<d;++g){const y=e[g],{[l]:m,[c]:x}=y,p=y._stacks||(y._stacks={});f=p[c]=bP(i,u,m),f[a]=x,f._top=Nm(f,o,!0,r.type),f._bottom=Nm(f,o,!1,r.type);const v=f._visualValues||(f._visualValues={});v[a]=x}}function Qu(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function kP(t,e){return Si(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function SP(t,e,n){return Si(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Hs(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Zu=t=>t==="reset"||t==="none",Im=(t,e)=>e?t:Object.assign({},t),jP=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:g1(n,!0),values:null};class ls{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ju(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Hs(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,f,g,y)=>d==="x"?f:d==="r"?y:g,s=n.xAxisID=xe(r.xAxisID,Qu(e,"x")),o=n.yAxisID=xe(r.yAxisID,Qu(e,"y")),a=n.rAxisID=xe(r.rAxisID,Qu(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ym(this._data,this),e._stacked&&Hs(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(fe(n)){const i=this._cachedMeta;this._data=xP(n,i)}else if(r!==n){if(r){ym(r,this);const i=this._cachedMeta;Hs(i),i._parsed=[]}n&&Object.isExtensible(n)&&rM(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Ju(n.vScale,n),n.stack!==r.stack&&(i=!0,Hs(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(Am(this,n._parsed),n._stacked=Ju(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{tt(i[e])?f=this.parseArrayData(r,i,e,n):fe(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const g=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=d=f[u],l&&(g()&&(l=!1),c=d);r._sorted=l}o&&Am(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(i);let f,g,y;for(f=0,g=i;f<g;++f)y=f+r,d[f]={[a]:u||s.parse(c[y],y),[l]:o.parse(n[y],y)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+r,d=n[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,f,g;for(u=0,d=i;u<d;++u)f=u+r,g=n[f],c[u]={x:s.parse(Go(g,a),f),y:o.parse(Go(g,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:g1(i,!0),values:n._stacks[e.axis]._visualValues};return Dm(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=Dm(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=jP(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=wP(a);let f,g;function y(){g=i[f];const m=g[a.axis];return!ct(g[e.axis])||u>m||d<m}for(f=0;f<o&&!(!y()&&(this.updateRangeFromParsed(c,e,g,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(c,e,g,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],ct(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=vP(xe(this.options.clip,yP(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=SP(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=kP(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&vc(r);if(a)return Im(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),g=Object.keys(Ye.elements[e]),y=()=>this.getContext(r,i,n),m=c.resolveNamedOptions(f,g,y,d);return m.$shared&&(m.$shared=l,s[o]=Object.freeze(Im(m,l))),m}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,r,n))}const c=new p1(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Zu(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){Zu(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!Zu(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Hs(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}W(ls,"defaults",{}),W(ls,"datasetElementType",null),W(ls,"dataElementType",null);function EP(t,e,n){let r=1,i=1,s=0,o=0;if(e<He){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),g=(_,w,S)=>Qo(_,a,l,!0)?1:Math.max(w,w*n,S,S*n),y=(_,w,S)=>Qo(_,a,l,!0)?-1:Math.min(w,w*n,S,S*n),m=g(0,c,d),x=g(Xe,u,f),p=y(ze,c,d),v=y(ze+Xe,u,f);r=(m-p)/2,i=(x-v)/2,s=-(m+p)/2,o=-(x+v)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class to extends ls{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(fe(r[e])){const{key:l="value"}=this._parsing;s=c=>+Go(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return In(this.options.rotation-90)}_getCircumference(){return In(this.options.circumference)}_getRotationExtents(){let e=He,n=-He;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(UC(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:y,offsetY:m}=EP(d,u,l),x=(r.width-o)/f,p=(r.height-o)/g,v=Math.max(Math.min(x,p)/2,0),_=Gx(this.options.radius,v),w=Math.max(_*l,0),S=(_-w)/this._getVisibleDatasetWeightTotal();this.offsetX=y*_,this.offsetY=m*_,i.total=this.calculateTotal(),this.outerRadius=_-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/He)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=s&&c.animateScale,g=f?0:this.innerRadius,y=f?0:this.outerRadius,{sharedOptions:m,includeOptions:x}=this._getSharedOptions(n,i);let p=this._getRotation(),v;for(v=0;v<n;++v)p+=this._circumference(v,s);for(v=n;v<n+r;++v){const _=this._circumference(v,s),w=e[v],S={x:u+this.offsetX,y:d+this.offsetY,startAngle:p,endAngle:p+_,circumference:_,outerRadius:y,innerRadius:g};x&&(S.options=m||this.resolveDataElementOptions(v,w.active?"active":i)),p+=_,this.updateElement(w,v,S,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?He*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=tu(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(xe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}W(to,"id","doughnut"),W(to,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),W(to,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),W(to,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Ll extends ls{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=oM(n,i,o);this._drawStart=a,this._drawCount=l,aM(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),f=o.axis,g=a.axis,{spanGaps:y,segment:m}=this.options,x=Jo(y)?y:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||s||i==="none",v=n+r,_=e.length;let w=n>0&&this.getParsed(n-1);for(let S=0;S<_;++S){const E=e[S],M=p?E:{};if(S<n||S>=v){M.skip=!0;continue}const b=this.getParsed(S),P=Fe(b[g]),L=M[f]=o.getPixelForValue(b[f],S),N=M[g]=s||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,b,l):b[g],S);M.skip=isNaN(L)||isNaN(N)||P,M.stop=S>0&&Math.abs(b[f]-w[f])>x,m&&(M.parsed=b,M.raw=c.data[S]),d&&(M.options=u||this.resolveDataElementOptions(S,E.active?"active":i)),p||this.updateElement(E,S,M,i),w=b}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}W(Ll,"id","line"),W(Ll,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),W(Ll,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Vr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Xf{constructor(e){W(this,"options");this.options=e||{}}static override(e){Object.assign(Xf.prototype,e)}init(){}formats(){return Vr()}parse(){return Vr()}format(){return Vr()}add(){return Vr()}diff(){return Vr()}startOf(){return Vr()}endOf(){return Vr()}}var CP={_date:Xf};function MP(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?tM:si;if(r){if(i._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(s,e,n-u),f=l(s,e,n+u);return{lo:d.lo,hi:f.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function ya(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:f}=MP(s[a],e,o,i);for(let g=d;g<=f;++g){const y=u[g];y.skip||r(y,c,g)}}}function PP(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function ed(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||ya(t,n,e,function(a,l,c){!i&&!Zo(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function TP(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=Zx(o,{x:e.x,y:e.y});Qo(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return ya(t,n,e,s),i}function RP(t,e,n,r,i,s){let o=[];const a=PP(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const g=u.inRange(e.x,e.y,i);if(r&&!g)return;const y=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(y))&&!g)return;const x=a(e,y);x<l?(o=[{element:u,datasetIndex:d,index:f}],l=x):x===l&&o.push({element:u,datasetIndex:d,index:f})}return ya(t,n,e,c),o}function td(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?TP(t,e,n,i):RP(t,e,n,r,i,s)}function Fm(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return ya(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var LP={evaluateInteractionItems:ya,modes:{index(t,e,n,r){const i=Jr(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?ed(t,i,s,r,o):td(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=Jr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?ed(t,i,s,r,o):td(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=Jr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return ed(t,i,s,r,o)},nearest(t,e,n,r){const i=Jr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return td(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=Jr(e,t);return Fm(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Jr(e,t);return Fm(t,i,"y",n.intersect,r)}}};const m1=["left","top","right","bottom"];function Ws(t,e){return t.filter(n=>n.pos===e)}function zm(t,e){return t.filter(n=>m1.indexOf(n.pos)===-1&&n.box.axis===e)}function Vs(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function OP(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function DP(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!m1.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function NP(t,e){const n=DP(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function AP(t){const e=OP(t),n=Vs(e.filter(c=>c.box.fullSize),!0),r=Vs(Ws(e,"left"),!0),i=Vs(Ws(e,"right")),s=Vs(Ws(e,"top"),!0),o=Vs(Ws(e,"bottom")),a=zm(e,"x"),l=zm(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Ws(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function $m(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function y1(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function IP(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!fe(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&y1(o,s.getPadding());const a=Math.max(0,e.outerWidth-$m(o,t,"left","right")),l=Math.max(0,e.outerHeight-$m(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function FP(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function zP(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function no(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,zP(a.horizontal,e));const{same:d,other:f}=IP(e,n,a,r);c|=d&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&no(i,e,n,r)||u}function cl(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function Bm(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;vc(c.start)&&(o=c.start),l.fullSize?cl(l,i.left,o,n.outerWidth-i.right-i.left,f):cl(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;vc(c.start)&&(s=c.start),l.fullSize?cl(l,s,i.top,f,n.outerHeight-i.bottom-i.top):cl(l,s,e.top+c.placed,f,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var yr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Wn(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=AP(t.boxes),l=a.vertical,c=a.horizontal;ye(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,x)=>x.box.options&&x.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);y1(f,Wn(r));const g=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),y=NP(l.concat(c),d);no(a.fullSize,g,d,y),no(l,g,d,y),no(c,g,d,y)&&no(l,g,d,y),FP(g),Bm(a.leftAndTop,g,d,y),g.x+=g.w,g.y+=g.h,Bm(a.rightAndBottom,g,d,y),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},ye(a.chartArea,m=>{const x=m.box;Object.assign(x,t.chartArea),x.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class v1{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class $P extends v1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ol="$chartjs",BP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Um=t=>t===null||t==="";function UP(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Ol]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Um(i)){const s=Mm(t,"width");s!==void 0&&(t.width=s)}if(Um(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Mm(t,"height");s!==void 0&&(t.height=s)}return t}const x1=JM?{passive:!0}:!1;function HP(t,e,n){t&&t.addEventListener(e,n,x1)}function WP(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,x1)}function VP(t,e){const n=BP[t.type]||t.type,{x:r,y:i}=Jr(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function wc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function YP(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||wc(a.addedNodes,r),o=o&&!wc(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function KP(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||wc(a.removedNodes,r),o=o&&!wc(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const ea=new Map;let Hm=0;function _1(){const t=window.devicePixelRatio;t!==Hm&&(Hm=t,ea.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function qP(t,e){ea.size||window.addEventListener("resize",_1),ea.set(t,e)}function XP(t){ea.delete(t),ea.size||window.removeEventListener("resize",_1)}function GP(t,e,n){const r=t.canvas,i=r&&qf(r);if(!i)return;const s=r1((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),qP(t,s),o}function nd(t,e,n){n&&n.disconnect(),e==="resize"&&XP(t)}function JP(t,e,n){const r=t.canvas,i=r1(s=>{t.ctx!==null&&n(VP(s,t))},t);return HP(r,e,i),i}class QP extends v1{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(UP(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Ol])return!1;const r=n[Ol].initial;["height","width"].forEach(s=>{const o=r[s];Fe(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Ol],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:YP,detach:KP,resize:GP}[n]||JP;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:nd,detach:nd,resize:nd}[n]||WP)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return GM(e,n,r,i)}isAttached(e){const n=e&&qf(e);return!!(n&&n.isConnected)}}function ZP(t){return!Kf()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?$P:QP}class Vn{constructor(){W(this,"x");W(this,"y");W(this,"active",!1);W(this,"options");W(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Jo(this.x)&&Jo(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}W(Vn,"defaults",{}),W(Vn,"defaultRoutes");function eT(t,e){const n=t.options.ticks,r=tT(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?rT(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return iT(e,c,s,o/i),c;const u=nT(s,e,i);if(o>0){let d,f;const g=o>1?Math.round((l-a)/(o-1)):null;for(ul(e,c,u,Fe(g)?0:a-g,a),d=0,f=o-1;d<f;d++)ul(e,c,u,s[d],s[d+1]);return ul(e,c,u,l,Fe(g)?e.length:l+g),c}return ul(e,c,u),c}function tT(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function nT(t,e,n){const r=sT(t),i=e.length/n;if(!r)return Math.max(i,1);const s=GC(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function rT(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function iT(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function ul(t,e,n,r,i){const s=xe(r,0),o=Math.min(xe(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function sT(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const oT=t=>t==="left"?"right":t==="right"?"left":t,Wm=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Vm=(t,e)=>Math.min(e||t,t);function Ym(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function aT(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function lT(t,e){ye(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Ys(t){return t.drawTicks?t.tickLength:0}function Km(t,e){if(!t.display)return 0;const n=qt(t.font,e),r=Wn(t.padding);return(tt(t.text)?t.text.length:1)*n.lineHeight+r.height}function cT(t,e){return Si(t,{scale:e,type:"scale"})}function uT(t,e,n){return Si(t,{tick:n,index:e,type:"tick"})}function dT(t,e,n){let r=i1(t);return(n&&e!=="right"||!n&&e==="right")&&(r=oT(r)),r}function hT(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,g,y;const m=o-i,x=a-s;if(t.isHorizontal()){if(g=wo(r,s,a),fe(n)){const p=Object.keys(n)[0],v=n[p];y=u[p].getPixelForValue(v)+m-e}else n==="center"?y=(c.bottom+c.top)/2+m-e:y=Wm(t,n,e);f=a-s}else{if(fe(n)){const p=Object.keys(n)[0],v=n[p];g=u[p].getPixelForValue(v)-x+e}else n==="center"?g=(c.left+c.right)/2-x+e:g=Wm(t,n,e);y=wo(r,o,i),d=n==="left"?-Xe:Xe}return{titleX:g,titleY:y,maxWidth:f,rotation:d}}class ji extends Vn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Dt(e,Number.POSITIVE_INFINITY),n=Dt(n,Number.NEGATIVE_INFINITY),r=Dt(r,Number.POSITIVE_INFINITY),i=Dt(i,Number.NEGATIVE_INFINITY),{min:Dt(e,r),max:Dt(n,i),minDefined:ct(e),maxDefined:ct(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Dt(n,Dt(r,n)),max:Dt(r,Dt(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Be(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=MM(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ym(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=eT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Be(this.options.afterUpdate,[this])}beforeSetDimensions(){Be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Be(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Be(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Be(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Vm(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,g=yt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:g/(r-1),d+6>a&&(a=g/(r-(e.offset?.5:1)),l=this.maxHeight-Ys(e.grid)-n.padding-Km(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=QC(Math.min(Math.asin(yt((u.highest.height+6)/a,-1,1)),Math.asin(yt(l/c,-1,1))-Math.asin(yt(f/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Be(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Km(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Ys(s)+l):(e.height=this.maxHeight,e.width=Ys(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),g=r.padding*2,y=In(this.labelRotation),m=Math.cos(y),x=Math.sin(y);if(a){const p=r.mirror?0:x*d.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+p+g)}else{const p=r.mirror?0:m*d.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+p+g)}this._calculatePadding(c,u,x,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?c?(f=i*e.width,g=r*n.height):(f=r*e.height,g=i*n.width):s==="start"?g=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Be(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Fe(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Ym(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/Vm(n,r));let c=0,u=0,d,f,g,y,m,x,p,v,_,w,S;for(d=0;d<n;d+=l){if(y=e[d].label,m=this._resolveTickFontOptions(d),i.font=x=m.string,p=s[x]=s[x]||{data:{},gc:[]},v=m.lineHeight,_=w=0,!Fe(y)&&!tt(y))_=bm(i,p.data,p.gc,_,y),w=v;else if(tt(y))for(f=0,g=y.length;f<g;++f)S=y[f],!Fe(S)&&!tt(S)&&(_=bm(i,p.data,p.gc,_,S),w+=v);o.push(_),a.push(w),c=Math.max(_,c),u=Math.max(w,u)}lT(s,n);const E=o.indexOf(c),M=a.indexOf(u),b=P=>({width:o[P]||0,height:a[P]||0});return{first:b(0),last:b(n-1),widest:b(E),highest:b(M),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return eM(this._alignToPixels?Wr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=uT(this.getContext(),e,r))}return this.$context||(this.$context=cT(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=In(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Ys(s),g=[],y=a.setContext(this.getContext()),m=y.display?y.width:0,x=m/2,p=function(ee){return Wr(r,ee,m)};let v,_,w,S,E,M,b,P,L,N,R,V;if(o==="top")v=p(this.bottom),M=this.bottom-f,P=v-x,N=p(e.top)+x,V=e.bottom;else if(o==="bottom")v=p(this.top),N=e.top,V=p(e.bottom)-x,M=v+x,P=this.top+f;else if(o==="left")v=p(this.right),E=this.right-f,b=v-x,L=p(e.left)+x,R=e.right;else if(o==="right")v=p(this.left),L=e.left,R=p(e.right)-x,E=v+x,b=this.left+f;else if(n==="x"){if(o==="center")v=p((e.top+e.bottom)/2+.5);else if(fe(o)){const ee=Object.keys(o)[0],te=o[ee];v=p(this.chart.scales[ee].getPixelForValue(te))}N=e.top,V=e.bottom,M=v+x,P=M+f}else if(n==="y"){if(o==="center")v=p((e.left+e.right)/2);else if(fe(o)){const ee=Object.keys(o)[0],te=o[ee];v=p(this.chart.scales[ee].getPixelForValue(te))}E=v-x,b=E-f,L=e.left,R=e.right}const q=xe(i.ticks.maxTicksLimit,d),J=Math.max(1,Math.ceil(d/q));for(_=0;_<d;_+=J){const ee=this.getContext(_),te=s.setContext(ee),A=a.setContext(ee),O=te.lineWidth,F=te.color,Q=A.dash||[],X=A.dashOffset,oe=te.tickWidth,ce=te.tickColor,ke=te.tickBorderDash||[],ue=te.tickBorderDashOffset;w=aT(this,_,l),w!==void 0&&(S=Wr(r,w,O),c?E=b=L=R=S:M=P=N=V=S,g.push({tx1:E,ty1:M,tx2:b,ty2:P,x1:L,y1:N,x2:R,y2:V,width:O,color:F,borderDash:Q,borderDashOffset:X,tickWidth:oe,tickColor:ce,tickBorderDash:ke,tickBorderDashOffset:ue}))}return this._ticksLength=d,this._borderValue=v,g}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,f=Ys(r.grid),g=f+u,y=d?-u:g,m=-In(this.labelRotation),x=[];let p,v,_,w,S,E,M,b,P,L,N,R,V="middle";if(i==="top")E=this.bottom-y,M=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+y,M=this._getXAxisLabelAlignment();else if(i==="left"){const J=this._getYAxisLabelAlignment(f);M=J.textAlign,S=J.x}else if(i==="right"){const J=this._getYAxisLabelAlignment(f);M=J.textAlign,S=J.x}else if(n==="x"){if(i==="center")E=(e.top+e.bottom)/2+g;else if(fe(i)){const J=Object.keys(i)[0],ee=i[J];E=this.chart.scales[J].getPixelForValue(ee)+g}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")S=(e.left+e.right)/2-g;else if(fe(i)){const J=Object.keys(i)[0],ee=i[J];S=this.chart.scales[J].getPixelForValue(ee)}M=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?V="top":l==="end"&&(V="bottom"));const q=this._getLabelSizes();for(p=0,v=a.length;p<v;++p){_=a[p],w=_.label;const J=s.setContext(this.getContext(p));b=this.getPixelForTick(p)+s.labelOffset,P=this._resolveTickFontOptions(p),L=P.lineHeight,N=tt(w)?w.length:1;const ee=N/2,te=J.color,A=J.textStrokeColor,O=J.textStrokeWidth;let F=M;o?(S=b,M==="inner"&&(p===v-1?F=this.options.reverse?"left":"right":p===0?F=this.options.reverse?"right":"left":F="center"),i==="top"?c==="near"||m!==0?R=-N*L+L/2:c==="center"?R=-q.highest.height/2-ee*L+L:R=-q.highest.height+L/2:c==="near"||m!==0?R=L/2:c==="center"?R=q.highest.height/2-ee*L:R=q.highest.height-N*L,d&&(R*=-1),m!==0&&!J.showLabelBackdrop&&(S+=L/2*Math.sin(m))):(E=b,R=(1-N)*L/2);let Q;if(J.showLabelBackdrop){const X=Wn(J.backdropPadding),oe=q.heights[p],ce=q.widths[p];let ke=R-X.top,ue=0-X.left;switch(V){case"middle":ke-=oe/2;break;case"bottom":ke-=oe;break}switch(M){case"center":ue-=ce/2;break;case"right":ue-=ce;break;case"inner":p===v-1?ue-=ce:p>0&&(ue-=ce/2);break}Q={left:ue,top:ke,width:ce+X.width,height:oe+X.height,color:J.backdropColor}}x.push({label:w,font:P,textOffset:R,options:{rotation:m,color:te,strokeColor:A,strokeWidth:O,textAlign:F,textBaseline:V,translation:[S,E],backdrop:Q}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-In(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=Wr(e,this.left,o)-o/2,u=Wr(e,this.right,a)+a/2,d=f=l):(d=Wr(e,this.top,o)-o/2,f=Wr(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&o1(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;_h(r,c,0,u,l,a)}i&&a1(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=qt(r.font),o=Wn(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||fe(n)?(l+=o.bottom,tt(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=hT(this,l,n,a);_h(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:f,textAlign:dT(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=xe(e.grid&&e.grid.z,-1),i=xe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ji.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return qt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class dl{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;gT(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,fT(e,o,r),this.override&&Ye.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Ye[i]&&(delete Ye[i][r],this.override&&delete vi[r])}}function fT(t,e,n){const r=Xo(Object.create(null),[n?Ye.get(n):{},Ye.get(e),t.defaults]);Ye.set(e,r),t.defaultRoutes&&pT(e,t.defaultRoutes),t.descriptors&&Ye.describe(e,t.descriptors)}function pT(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ye.route(s,i,l,a)})}function gT(t){return"id"in t&&"defaults"in t}class mT{constructor(){this.controllers=new dl(ls,"datasets",!0),this.elements=new dl(Vn,"elements"),this.plugins=new dl(Object,"plugins"),this.scales=new dl(ji,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):ye(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=zf(e);Be(r["before"+i],[],r),n[e](r),Be(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var yn=new mT;class yT{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Be(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Fe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=xe(r.options&&r.options.plugins,{}),s=vT(r);return i===!1&&!n?[]:_T(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function vT(t){const e={},n=[],r=Object.keys(yn.plugins.items);for(let s=0;s<r.length;s++)n.push(yn.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function xT(t,e){return!e&&t===!1?null:t===!0?{}:t}function _T(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=xT(r[l],i);c!==null&&s.push({plugin:a,options:wT(t.config,{plugin:a,local:n[l]},c,o)})}return s}function wT(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function wh(t,e){const n=Ye.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function bT(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function kT(t,e){return t===e?"_index_":"_value_"}function qm(t){if(t==="x"||t==="y"||t==="r")return t}function ST(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function bh(t,...e){if(qm(t))return t;for(const n of e){const r=n.axis||ST(n.position)||t.length>1&&qm(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Xm(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function jT(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Xm(t,"x",n[0])||Xm(t,"y",n[0])}return{}}function ET(t,e){const n=vi[t.type]||{scales:{}},r=e.scales||{},i=wh(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!fe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=bh(o,a,jT(o,t),Ye.scales[a.type]),c=kT(l,i),u=n.scales||{};s[o]=xo(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||wh(a,e),u=(vi[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=bT(d,l),g=o[f+"AxisID"]||f;s[g]=s[g]||Object.create(null),xo(s[g],[{axis:f},r[g],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];xo(a,[Ye.scales[a.type],Ye.scale])}),s}function w1(t){const e=t.options||(t.options={});e.plugins=xe(e.plugins,{}),e.scales=ET(t,e)}function b1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function CT(t){return t=t||{},t.data=b1(t.data),w1(t),t}const Gm=new Map,k1=new Set;function hl(t,e){let n=Gm.get(t);return n||(n=e(),Gm.set(t,n),k1.add(n)),n}const Ks=(t,e,n)=>{const r=Go(e,n);r!==void 0&&t.add(r)};class MT{constructor(e){this._config=CT(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=b1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),w1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return hl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return hl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return hl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return hl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Ks(l,e,d))),u.forEach(d=>Ks(l,i,d)),u.forEach(d=>Ks(l,vi[s]||{},d)),u.forEach(d=>Ks(l,Ye,d)),u.forEach(d=>Ks(l,vh,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),k1.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,vi[n]||{},Ye.datasets[n]||{},{type:n},Ye,vh]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Jm(this._resolverCache,e,i);let l=o;if(TT(o,n)){s.$shared=!1,r=Rr(r)?r():r;const c=this.createResolver(e,r,a);l=_s(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=Jm(this._resolverCache,e,r);return fe(n)?_s(s,n,void 0,i):s}}function Jm(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Wf(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const PT=t=>fe(t)&&Object.getOwnPropertyNames(t).some(e=>Rr(t[e]));function TT(t,e){const{isScriptable:n,isIndexable:r}=l1(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Rr(a)||PT(a))||o&&tt(a))return!0}return!1}var RT="4.4.6";const LT=["top","bottom","left","right","chartArea"];function Qm(t,e){return t==="top"||t==="bottom"||LT.indexOf(t)===-1&&e==="x"}function Zm(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function e0(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Be(n&&n.onComplete,[t],e)}function OT(t){const e=t.chart,n=e.options.animation;Be(n&&n.onProgress,[t],e)}function S1(t){return Kf()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Dl={},t0=t=>{const e=S1(t);return Object.values(Dl).filter(n=>n.canvas===e).pop()};function DT(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function NT(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function fl(t,e,n){return t.options.clip?t[n]:e[n]}function AT(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:fl(n,e,"left"),right:fl(n,e,"right"),top:fl(r,e,"top"),bottom:fl(r,e,"bottom")}:e}var er;let Cs=(er=class{static register(...e){yn.add(...e),n0()}static unregister(...e){yn.remove(...e),n0()}constructor(e,n){const r=this.config=new MT(n),i=S1(e),s=t0(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||ZP(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=BC(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=sM(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Dl[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Pn.listen(this,"complete",e0),Pn.listen(this,"progress",OT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Fe(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return yn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Cm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return km(this.canvas,this.ctx),this}stop(){return Pn.stop(this),this}resize(e,n){Pn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Cm(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Be(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ye(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=bh(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),ye(s,o=>{const a=o.options,l=a.id,c=bh(l,a),u=xe(a.type,o.dtype);(a.position===void 0||Qm(a.position,c)!==Qm(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const f=yn.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),ye(i,(o,a)=>{o||delete r[a]}),ye(r,o=>{yr.configure(this,o,o.options),yr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(Zm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||wh(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=yn.getController(a),{datasetElementType:c,dataElementType:u}=Ye.datasets[a];Object.assign(l,{dataElementType:yn.getElement(u),datasetElementType:c&&yn.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ye(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||ye(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Zm("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ye(this.scales,e=>{yr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!fm(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;DT(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!fm(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;yr.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],ye(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Rr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Pn.has(this)?this.attached&&!Pn.running(this)&&Pn.start(this):(this.draw(),e0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=AT(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&o1(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&a1(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Zo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=LP.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Si(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);vc(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Pn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),km(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Dl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ye(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ye(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ye(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!mc(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=KC(e),c=NT(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Be(s.onHover,[e,a,this],this),l&&Be(s.onClick,[e,a,this],this));const u=!mc(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},W(er,"defaults",Ye),W(er,"instances",Dl),W(er,"overrides",vi),W(er,"registry",yn),W(er,"version",RT),W(er,"getChart",t0),er);function n0(){return ye(Cs.instances,t=>t._plugins.invalidate())}function IT(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+Xe,r-Xe),t.closePath(),t.clip()}function FT(t){return Hf(t,["outerStart","outerEnd","innerStart","innerEnd"])}function zT(t,e,n,r){const i=FT(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return yt(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:yt(i.innerStart,0,o),innerEnd:yt(i.innerEnd,0,o)}}function Ni(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function bc(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+n-c,0),f=u>0?u+r+n+c:0;let g=0;const y=i-l;if(r){const J=u>0?u-r:0,ee=d>0?d-r:0,te=(J+ee)/2,A=te!==0?y*te/(te+r):y;g=(y-A)/2}const m=Math.max(.001,y*d-n/ze)/d,x=(y-m)/2,p=l+x+g,v=i-x-g,{outerStart:_,outerEnd:w,innerStart:S,innerEnd:E}=zT(e,f,d,v-p),M=d-_,b=d-w,P=p+_/M,L=v-w/b,N=f+S,R=f+E,V=p+S/N,q=v-E/R;if(t.beginPath(),s){const J=(P+L)/2;if(t.arc(o,a,d,P,J),t.arc(o,a,d,J,L),w>0){const O=Ni(b,L,o,a);t.arc(O.x,O.y,w,L,v+Xe)}const ee=Ni(R,v,o,a);if(t.lineTo(ee.x,ee.y),E>0){const O=Ni(R,q,o,a);t.arc(O.x,O.y,E,v+Xe,q+Math.PI)}const te=(v-E/f+(p+S/f))/2;if(t.arc(o,a,f,v-E/f,te,!0),t.arc(o,a,f,te,p+S/f,!0),S>0){const O=Ni(N,V,o,a);t.arc(O.x,O.y,S,V+Math.PI,p-Xe)}const A=Ni(M,p,o,a);if(t.lineTo(A.x,A.y),_>0){const O=Ni(M,P,o,a);t.arc(O.x,O.y,_,p-Xe,P)}}else{t.moveTo(o,a);const J=Math.cos(P)*d+o,ee=Math.sin(P)*d+a;t.lineTo(J,ee);const te=Math.cos(L)*d+o,A=Math.sin(L)*d+a;t.lineTo(te,A)}t.closePath()}function $T(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){bc(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%He||He))}return bc(t,e,n,r,l,i),t.fill(),l}function BT(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f}=l,g=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=f,g?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let y=e.endAngle;if(s){bc(t,e,n,r,y,i);for(let m=0;m<s;++m)t.stroke();isNaN(a)||(y=o+(a%He||He))}g&&IT(t,e,y),s||(bc(t,e,n,r,y,i),t.stroke())}class ro extends Vn{constructor(n){super();W(this,"circumference");W(this,"endAngle");W(this,"fullCircles");W(this,"innerRadius");W(this,"outerRadius");W(this,"pixelMargin");W(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=Zx(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,y=xe(f,c-l),m=Qo(o,l,c)&&l!==c,x=y>=He||m,p=e1(a,u+g,d+g);return x&&p}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(s+o)/2,f=(a+l+u+c)/2;return{x:r+Math.cos(d)*f,y:i+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>He?Math.floor(i/He):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(ze,i||0)),u=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,$T(n,this,u,o,a),BT(n,this,u,o,a),n.restore()}}W(ro,"id","arc"),W(ro,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),W(ro,"defaultRoutes",{backgroundColor:"backgroundColor"}),W(ro,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function j1(t,e,n=e){t.lineCap=xe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(xe(n.borderDash,e.borderDash)),t.lineDashOffset=xe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=xe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=xe(n.borderWidth,e.borderWidth),t.strokeStyle=xe(n.borderColor,e.borderColor)}function UT(t,e,n){t.lineTo(n.x,n.y)}function HT(t){return t.stepped?vM:t.tension||t.cubicInterpolationMode==="monotone"?xM:UT}function E1(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function WT(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=E1(i,n,r),u=HT(s);let{move:d=!0,reverse:f}=r||{},g,y,m;for(g=0;g<=c;++g)y=i[(a+(f?c-g:g))%o],!y.skip&&(d?(t.moveTo(y.x,y.y),d=!1):u(t,m,y,f,s.stepped),m=y);return l&&(y=i[(a+(f?c:0))%o],u(t,m,y,f,s.stepped)),!!l}function VT(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=E1(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,f,g,y,m,x,p;const v=w=>(o+(c?a-w:w))%s,_=()=>{m!==x&&(t.lineTo(u,x),t.lineTo(u,m),t.lineTo(u,p))};for(l&&(g=i[v(0)],t.moveTo(g.x,g.y)),f=0;f<=a;++f){if(g=i[v(f)],g.skip)continue;const w=g.x,S=g.y,E=w|0;E===y?(S<m?m=S:S>x&&(x=S),u=(d*u+w)/++d):(_(),t.lineTo(w,S),y=E,d=0,m=x=S),p=S}_()}function kh(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?VT:WT}function YT(t){return t.stepped?QM:t.tension||t.cubicInterpolationMode==="monotone"?ZM:Qr}function KT(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),j1(t,e.options),t.stroke(i)}function qT(t,e,n,r){const{segments:i,options:s}=e,o=kh(e);for(const a of i)j1(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const XT=typeof Path2D=="function";function GT(t,e,n,r){XT&&!e.options.segment?KT(t,e,n,r):qT(t,e,n,r)}class Qi extends Vn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;WM(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=cP(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=oP(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=YT(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],g=s[d],y=s[f];if(g===y){a.push(g);continue}const m=Math.abs((i-g[n])/(y[n]-g[n])),x=l(g,y,m,r.stepped);x[n]=e[n],a.push(x)}return a.length===1?a[0]:a}pathSegment(e,n,r){return kh(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=kh(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),GT(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}W(Qi,"id","line"),W(Qi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),W(Qi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),W(Qi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function r0(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class So extends Vn{constructor(n){super();W(this,"parsed");W(this,"skip");W(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return r0(this,n,"x",r)}inYRange(n,r){return r0(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Zo(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,xh(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}W(So,"id","point"),W(So,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),W(So,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class C1 extends Vn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=tt(r.text)?r.text.length:1;this._padding=Wn(r.padding);const s=i*qt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=wo(a,r,s),d=n+e,c=s-r):(o.position==="left"?(u=r+e,d=wo(a,i,n),l=ze*-.5):(u=s-e,d=wo(a,n,i),l=ze*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=qt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);_h(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:i1(n.align),textBaseline:"middle",translation:[o,a]})}}function JT(t,e){const n=new C1({ctx:t.ctx,options:e,chart:t});yr.configure(t,n,e),yr.addBox(t,n),t.titleBlock=n}var Gf={id:"title",_element:C1,start(t,e,n){JT(t,n)},stop(t){const e=t.titleBlock;yr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;yr.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const io={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=yh(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function gn(t,e){return e&&(tt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Tn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function QT(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function i0(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=qt(e.bodyFont),c=qt(e.titleFont),u=qt(e.footerFont),d=s.length,f=i.length,g=r.length,y=Wn(e.padding);let m=y.height,x=0,p=r.reduce((w,S)=>w+S.before.length+S.lines.length+S.after.length,0);if(p+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),p){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=g*w+(p-g)*l.lineHeight+(p-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let v=0;const _=function(w){x=Math.max(x,n.measureText(w).width+v)};return n.save(),n.font=c.string,ye(t.title,_),n.font=l.string,ye(t.beforeBody.concat(t.afterBody),_),v=e.displayColors?o+2+e.boxPadding:0,ye(r,w=>{ye(w.before,_),ye(w.lines,_),ye(w.after,_)}),v=0,n.font=u.string,ye(t.footer,_),n.restore(),x+=y.width,{width:x,height:m}}function ZT(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function eR(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function tR(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),eR(c,t,e,n)&&(c="center"),c}function s0(t,e,n){const r=n.yAlign||e.yAlign||ZT(t,n);return{xAlign:n.xAlign||e.xAlign||tR(t,e,n,r),yAlign:r}}function nR(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function rR(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function o0(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=Rl(o);let y=nR(e,a);const m=rR(e,l,c);return l==="center"?a==="left"?y+=c:a==="right"&&(y-=c):a==="left"?y-=Math.max(u,f)+i:a==="right"&&(y+=Math.max(d,g)+i),{x:yt(y,0,r.width-e.width),y:yt(m,0,r.height-e.height)}}function pl(t,e,n){const r=Wn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function a0(t){return gn([],Tn(t))}function iR(t,e,n){return Si(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function l0(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const M1={beforeTitle:Cn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Cn,beforeBody:Cn,beforeLabel:Cn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Fe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Cn,afterBody:Cn,beforeFooter:Cn,footer:Cn,afterFooter:Cn};function bt(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?M1[e].call(n,r):i}class Sh extends Vn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new p1(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=iR(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=bt(r,"beforeTitle",this,e),s=bt(r,"title",this,e),o=bt(r,"afterTitle",this,e);let a=[];return a=gn(a,Tn(i)),a=gn(a,Tn(s)),a=gn(a,Tn(o)),a}getBeforeBody(e,n){return a0(bt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return ye(e,s=>{const o={before:[],lines:[],after:[]},a=l0(r,s);gn(o.before,Tn(bt(a,"beforeLabel",this,s))),gn(o.lines,bt(a,"label",this,s)),gn(o.after,Tn(bt(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return a0(bt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=bt(r,"beforeFooter",this,e),s=bt(r,"footer",this,e),o=bt(r,"afterFooter",this,e);let a=[];return a=gn(a,Tn(i)),a=gn(a,Tn(s)),a=gn(a,Tn(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(QT(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,r))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,r))),ye(a,u=>{const d=l0(e.callbacks,u);i.push(bt(d,"labelColor",this,u)),s.push(bt(d,"labelPointStyle",this,u)),o.push(bt(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=io[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=i0(this,r),c=Object.assign({},a,l),u=s0(this.chart,r,c),d=o0(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Rl(a),{x:f,y:g}=e,{width:y,height:m}=n;let x,p,v,_,w,S;return s==="center"?(w=g+m/2,i==="left"?(x=f,p=x-o,_=w+o,S=w-o):(x=f+y,p=x+o,_=w-o,S=w+o),v=x):(i==="left"?p=f+Math.max(l,u)+o:i==="right"?p=f+y-Math.max(c,d)-o:p=this.caretX,s==="top"?(_=g,w=_-o,x=p-o,v=p+o):(_=g+m,w=_+o,x=p+o,v=p-o),S=_),{x1:x,x2:p,x3:v,y1:_,y2:w,y3:S}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=Gu(r.rtl,this.x,this.width);for(e.x=pl(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=qt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=qt(s.bodyFont),d=pl(this,"left",s),f=i.x(d),g=l<u.lineHeight?(u.lineHeight-l)/2:0,y=n.y+g;if(s.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=i.leftForLtr(f,c)+c/2,p=y+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,xh(e,m,x,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,xh(e,m,x,p)}else{e.lineWidth=fe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(f,c),x=i.leftForLtr(i.xPlus(f,1),c-2),p=Rl(o.borderRadius);Object.values(p).some(v=>v!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Sm(e,{x:m,y,w:c,h:l,radius:p}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Sm(e,{x,y:y+1,w:c-2,h:l-2,radius:p}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,y,c,l),e.strokeRect(m,y,c,l),e.fillStyle=o.backgroundColor,e.fillRect(x,y+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=qt(r.bodyFont);let f=d.lineHeight,g=0;const y=Gu(r.rtl,this.x,this.width),m=function(b){n.fillText(b,y.x(e.x+g),e.y+f/2),e.y+=f+s},x=y.textAlign(o);let p,v,_,w,S,E,M;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=pl(this,x,r),n.fillStyle=r.bodyColor,ye(this.beforeBody,m),g=a&&x!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,E=i.length;w<E;++w){for(p=i[w],v=this.labelTextColors[w],n.fillStyle=v,ye(p.before,m),_=p.lines,a&&_.length&&(this._drawColorBox(n,e,w,y,r),f=Math.max(d.lineHeight,l)),S=0,M=_.length;S<M;++S)m(_[S]),f=d.lineHeight;ye(p.after,m)}g=0,f=d.lineHeight,ye(this.afterBody,m),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Gu(r.rtl,this.x,this.width);for(e.x=pl(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=qt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:y}=Rl(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-y),n.quadraticCurveTo(a+c,l+u,a+c-y,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+g,l+u),n.quadraticCurveTo(a,l+u,a,l+u-g),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=io[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=i0(this,e),l=Object.assign({},o,this._size),c=s0(n,e,l),u=o0(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Wn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),nP(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),rP(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!mc(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!mc(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=io[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}W(Sh,"positioners",io);var Jf={id:"tooltip",_element:Sh,positioners:io,afterInit(t,e,n){n&&(t.tooltip=new Sh({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:M1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const sR=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function oR(t,e,n,r){const i=t.indexOf(e);if(i===-1)return sR(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const aR=(t,e)=>t===null?null:yt(Math.round(t),0,e);function c0(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ta extends ji{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Fe(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:oR(r,e,xe(n,e),this._addedLabels),aR(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return c0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}W(ta,"id","category"),W(ta,"defaults",{ticks:{callback:c0}});function lR(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,g=s||1,y=u-1,{min:m,max:x}=e,p=!Fe(o),v=!Fe(a),_=!Fe(c),w=(x-m)/(d+1);let S=gm((x-m)/y/g)*g,E,M,b,P;if(S<1e-14&&!p&&!v)return[{value:m},{value:x}];P=Math.ceil(x/S)-Math.floor(m/S),P>y&&(S=gm(P*S/y/g)*g),Fe(l)||(E=Math.pow(10,l),S=Math.ceil(S*E)/E),i==="ticks"?(M=Math.floor(m/S)*S,b=Math.ceil(x/S)*S):(M=m,b=x),p&&v&&s&&JC((a-o)/s,S/1e3)?(P=Math.round(Math.min((a-o)/S,u)),S=(a-o)/P,M=o,b=a):_?(M=p?o:M,b=v?a:b,P=c-1,S=(b-M)/P):(P=(b-M)/S,_o(P,Math.round(P),S/1e3)?P=Math.round(P):P=Math.ceil(P));const L=Math.max(mm(S),mm(M));E=Math.pow(10,Fe(l)?L:l),M=Math.round(M*E)/E,b=Math.round(b*E)/E;let N=0;for(p&&(f&&M!==o?(n.push({value:o}),M<o&&N++,_o(Math.round((M+N*S)*E)/E,o,u0(o,w,t))&&N++):M<o&&N++);N<P;++N){const R=Math.round((M+N*S)*E)/E;if(v&&R>a)break;n.push({value:R})}return v&&f&&b!==a?n.length&&_o(n[n.length-1].value,a,u0(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!v||b===a)&&n.push({value:b}),n}function u0(t,e,{horizontal:n,minRotation:r}){const i=In(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class P1 extends ji{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Fe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=xs(i),c=xs(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=lR(i,s);return e.bounds==="ticks"&&Qx(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return tu(e,this.chart.options.locale,this.options.ticks.format)}}class na extends P1{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ct(e)?e:0,this.max=ct(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=In(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}W(na,"id","linear"),W(na,"defaults",{ticks:{callback:Uf.formatters.numeric}});const ra=t=>Math.floor(mr(t)),Yr=(t,e)=>Math.pow(10,ra(t)+e);function d0(t){return t/Math.pow(10,ra(t))===1}function h0(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function cR(t,e){const n=e-t;let r=ra(n);for(;h0(t,e,r)>10;)r++;for(;h0(t,e,r)<10;)r--;return Math.min(r,ra(t))}function uR(t,{min:e,max:n}){e=Dt(t.min,e);const r=[],i=ra(e);let s=cR(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,s)),f=Dt(t.min,Math.round((l+u+d*Math.pow(10,s))*o)/o);for(;f<n;)r.push({value:f,major:d0(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),f=Math.round((l+u+d*Math.pow(10,s))*o)/o;const g=Dt(t.max,f);return r.push({value:g,major:d0(g),significand:d}),r}class kc extends ji{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=P1.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return ct(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ct(e)?Math.max(0,e):null,this.max=ct(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ct(this._userMin)&&(this.min=e===Yr(this.min,0)?Yr(this.min,-1):Yr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Yr(r,-1)),o(Yr(i,1)))),r<=0&&s(Yr(i,-1)),i<=0&&o(Yr(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=uR(n,this);return e.bounds==="ticks"&&Qx(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":tu(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=mr(e),this._valueRange=mr(this.max)-mr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(mr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}W(kc,"id","logarithmic"),W(kc,"defaults",{ticks:{callback:Uf.formatters.logarithmic,major:{enabled:!0}}});const ru={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},jt=Object.keys(ru);function f0(t,e){return t-e}function p0(t,e){if(Fe(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),ct(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Jo(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function g0(t,e,n,r){const i=jt.length;for(let s=jt.indexOf(t);s<i-1;++s){const o=ru[jt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return jt[s]}return jt[i-1]}function dR(t,e,n,r,i){for(let s=jt.length-1;s>=jt.indexOf(n);s--){const o=jt[s];if(ru[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return jt[n?jt.indexOf(n):0]}function hR(t){for(let e=jt.indexOf(t)+1,n=jt.length;e<n;++e)if(ru[jt[e]].common)return jt[e]}function m0(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=$f(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function fR(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function y0(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:fR(t,r,i,n)}class Sc extends ji{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new CP._date(e.adapters.date);i.init(n),xo(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:p0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=ct(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=ct(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=nM(i,s,o);return this._unit=n.unit||(r.autoSkip?g0(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):dR(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:hR(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),y0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=yt(n,0,o),r=yt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||g0(s.minUnit,n,r,this._getLabelCapacity(n)),a=xe(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=Jo(l)||l===!0,u={};let d=n,f,g;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const y=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,g=0;f<r;f=+e.add(f,a,o),g++)m0(u,f,y);return(f===r||i.bounds==="ticks"||g===1)&&m0(u,f,y),Object.keys(u).sort(f0).map(m=>+m)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Be(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=r[n],g=c&&d&&f&&f.major;return this._adapter.format(e,i||(g?d:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=In(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,y0(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(p0(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return iM(e.sort(f0))}}W(Sc,"id","time"),W(Sc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function gl(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=si(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=si(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class v0 extends Sc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=gl(n,this.min),this._tableRange=gl(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(gl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return gl(this._table,r*this._tableRange+this._minPos,!0)}}W(v0,"id","timeseries"),W(v0,"defaults",Sc.defaults);const T1="label";function x0(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function pR(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function R1(t,e){t.labels=e}function L1(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T1;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function gR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T1;const n={labels:[],datasets:[]};return R1(n,t.labels),L1(n,t.datasets,e),n}function mR(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,g=k.useRef(null),y=k.useRef(),m=()=>{g.current&&(y.current=new Cs(g.current,{type:o,data:gR(a,s),options:l&&{...l},plugins:c}),x0(e,y.current))},x=()=>{x0(e,null),y.current&&(y.current.destroy(),y.current=null)};return k.useEffect(()=>{!i&&y.current&&l&&pR(y.current,l)},[i,l]),k.useEffect(()=>{!i&&y.current&&R1(y.current.config.data,a.labels)},[i,a.labels]),k.useEffect(()=>{!i&&y.current&&a.datasets&&L1(y.current.config.data,a.datasets,s)},[i,a.datasets]),k.useEffect(()=>{y.current&&(i?(x(),setTimeout(m)):y.current.update(d))},[i,l,a.labels,a.datasets,d]),k.useEffect(()=>{y.current&&(x(),setTimeout(m))},[o]),k.useEffect(()=>(m(),()=>x()),[]),ge.createElement("canvas",Object.assign({ref:g,role:"img",height:n,width:r},f),u)}const yR=k.forwardRef(mR);function O1(t,e){return Cs.register(e),k.forwardRef((n,r)=>ge.createElement(yR,Object.assign({},n,{ref:r,type:t})))}const D1=O1("line",Ll),vR=O1("doughnut",to),rd=["#FF5733","#3498DB","#2ECC71","#F1C40F","#E67E22","#9B59B6","#FF69B4","#1ABC9C","#F39C12","#5DADE2","#58D68D","#48C9B0","#8E44AD","#7F8C8D","#BFC1C2"];Cs.register(Gf,Jf,ro,ta,na);const xR=qn(),_R=new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}),id=()=>{const t=xR.get(zt),e=new Date;return!(t!=null&&t.month_end_date)||e.getDate()<=t.month_end_date||e.setMonth(e.getMonth()+1),e},wR=()=>{const[t]=re(Rt),[e,n]=k.useState(!1),[r,i]=k.useState([]),[s,o]=k.useState(!1),[a,l]=k.useState(0),[c,u]=k.useState(id),d=k.useMemo(()=>r.reduce((y,m)=>y+(m.amount??0),0),[r]),f=k.useMemo(()=>r.map((y,m)=>rd[m]??rd[rd.length-1]),[r]),g=k.useMemo(()=>({labels:r.map(y=>{var m;return((m=y.category)==null?void 0:m.name)??"unknown"}),datasets:[{data:r.map(y=>y.amount??0),backgroundColor:f,borderWidth:1}]}),[r,f]);return k.useEffect(()=>{t!=null&&t.user.id&&(async()=>{n(!0);const y=await An.getExpenseOverview(t.user.id,c);if(n(!1),y.error){K.error(y.error.message);return}i(y.data??[])})()},[c,t]),k.useEffect(()=>{t!=null&&t.user.id&&(async()=>{o(!0);const y=await An.getIncomeTotal(t.user.id,c);if(o(!1),y.error){K.error(y.error.message);return}l(y.data??0)})()},[c,t]),h.jsxs("div",{className:"flex flex-1 flex-col items-center gap-4 p-2",children:[h.jsxs("div",{className:"flex w-full items-center rounded-xl bg-base-100 p-2",children:[h.jsx("div",{className:"flex-1"}),h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx("button",{disabled:e||!c,onClick:()=>u(y=>y?new Date(y.setMonth(y.getMonth()-1)):void 0),className:"text-xl disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-left"})}),h.jsx("span",{className:"w-[10rem] text-center",children:c?_R.format(c):"All time"}),h.jsx("button",{disabled:e||!c||c.getMonth()===id().getMonth(),onClick:()=>u(y=>y?new Date(y.setMonth(y.getMonth()+1)):void 0),className:"text-xl disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-right"})})]}),h.jsx("div",{className:"flex flex-1 justify-end",children:h.jsx(Xn,{options:[{icon:"lucide:calendar-days",label:c?"All time":"This month",onClick:()=>u(y=>y?void 0:id())}]})})]}),h.jsx("div",{className:"aspect-square w-[60vw] max-w-[20rem]",children:e?h.jsx(ve,{className:"h-full w-full rounded-full",children:h.jsx("div",{})}):r.length===0?h.jsx("div",{className:"h-full w-full rounded-full bg-base-300"}):h.jsx(vR,{data:g,options:{responsive:!0,plugins:{tooltip:{callbacks:{label:function(y){return`${y.label}: ${un(parseFloat(y.raw))}`}}}}}})}),h.jsxs("div",{className:"flex w-full items-center justify-evenly gap-2 rounded-xl px-3 py-2 text-xs font-medium "+(e||s?"dai-skeleton":"bg-base-100"),children:[h.jsx("span",{className:e?"text-transparent":"text-error",children:h.jsx(dn,{count:6,amount:e?-1e6:-1*d})}),h.jsx("div",{className:"h-full w-[1px] bg-base-300"}),h.jsx("span",{className:s?"text-transparent":"text-success",children:h.jsx(dn,{count:6,amount:s?1e6:a})}),h.jsx("div",{className:"h-full w-[1px] bg-base-300"}),h.jsx("span",{className:e||s?"text-transparent":d>a?"text-error":"text-success",children:h.jsx(dn,{count:6,amount:e||s?1e6:a-d})})]}),h.jsx("div",{className:"grid w-full grid-cols-1 gap-1 md:grid-cols-2",children:e?Array.from({length:14}).map((y,m)=>h.jsx(kR,{},m)):r.length===0?null:r.map((y,m)=>h.jsx(bR,{el:y,total:d,color:f[m]??f[f.length-1]},m))})]})},bR=({el:t,total:e,color:n})=>{var r,i;return h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 shadow",children:[h.jsx("img",{className:"size-9 xs:size-12",src:ut.BASE_URL+((r=t.category)==null?void 0:r.logo),alt:""}),h.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm xs:text-base",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("span",{style:{backgroundColor:n},className:"h-2 w-4"}),h.jsx("span",{children:(i=t.category)==null?void 0:i.name})]}),h.jsx("span",{className:"font-medium text-error",children:h.jsx(dn,{amount:-1*(t.amount??0)})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("progress",{className:"dai-progress dai-progress-primary",value:t.amount??0,max:e}),h.jsxs("span",{className:"text-xs sm:text-sm",children:[Math.round(100*(e===0?0:(t.amount??0)/e)),"%"]})]})]})]})},kR=()=>h.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-base-100 px-3 py-2 shadow",children:[h.jsx(ve,{children:h.jsx("div",{className:"size-9 xs:size-12"})}),h.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[h.jsxs("div",{className:"flex justify-between text-sm xs:text-base",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(ve,{children:h.jsx("div",{className:"h-2 w-[1rem]"})}),h.jsx(ve,{children:h.jsx("span",{children:"Transportation"})})]}),h.jsx(ve,{children:h.jsx("span",{className:"font-medium text-error",children:un(-1*1e4)})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("progress",{className:"dai-progress dai-progress-primary dai-skeleton",value:0,max:0}),h.jsx("span",{className:"text-xs sm:text-sm",children:h.jsx(ve,{children:"28%"})})]})]})]});function N1(t,{minimumFractionDigits:e=0,maximumFractionDigits:n=2}={}){return t.toLocaleString("en-US",{minimumFractionDigits:e,maximumFractionDigits:n})}Cs.register(ta,na,So,Qi,Gf,Jf,kc);const SR=qn(),jR=new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}),ER=new Intl.DateTimeFormat("en-US",{year:"numeric"}),Mn=()=>{const t=SR.get(zt),e=new Date;return!(t!=null&&t.month_end_date)||e.getDate()<=t.month_end_date||e.setMonth(e.getMonth()+1),e},CR=()=>{const[t]=re(Rt),[e]=re(Vx),{data:n,fetched:r,refresh:i}=Df(),[s,o]=k.useState(""),[a,l]=k.useState(""),[c,u]=k.useState(Mn()),[d,f]=k.useState("everyday"),[g,y]=k.useState(!0),[m,x]=k.useState(!1),[p,v]=k.useState(!1),[_,w]=k.useState(!1),[S,E]=k.useState([]),[M,b]=k.useState([]),P=k.useMemo(()=>p||_,[p,_]),L=k.useMemo(()=>[...new Set([...S.map(R=>parseInt(R.occurred_at.split("-").join(""))),...M.map(R=>parseInt(R.occurred_at.split("-").join("")))])],[M,S]),N=k.useMemo(()=>({labels:L,datasets:[{label:"Expense Flow",fill:!1,tension:.2,borderColor:e.error,data:S.map(R=>({y:R.amount,x:parseInt(R.occurred_at.split("-").join(""))})),pointHitRadius:10},{label:"Income Flow",fill:!1,tension:.2,borderColor:e.success,data:M.map(R=>({y:R.amount,x:parseInt(R.occurred_at.split("-").join(""))}))}]}),[S,M,e,L]);return k.useEffect(()=>{r||(async()=>{const R=await i();R&&K.error(R)})()},[]),k.useEffect(()=>{if(!g){E([]);return}(async()=>{var V;v(!0);let R;if(d==="everyday"?R=await An.getCashFlowEveryDay({trx_type:["expense"],userId:(t==null?void 0:t.user.id)??"",month:c??Mn(),categories:s?[s]:[]}):R=await An.getCashFlowEveryMonth({trx_type:["expense"],userId:(t==null?void 0:t.user.id)??"",year:(c==null?void 0:c.getFullYear())??Mn().getFullYear(),categories:s?[s]:[]}),v(!1),R.error){K.error(R.error.message);return}(V=R.data)==null||V.forEach(q=>q.amount=Math.abs(q.amount)),E(R.data??[])})()},[t,c,g,s]),k.useEffect(()=>{if(!m){b([]);return}(async()=>{var V;w(!0);let R;if(d==="everyday"?R=await An.getCashFlowEveryDay({trx_type:["income"],userId:(t==null?void 0:t.user.id)??"",month:c??Mn(),categories:a?[a]:[]}):R=await An.getCashFlowEveryMonth({trx_type:["income"],userId:(t==null?void 0:t.user.id)??"",year:(c==null?void 0:c.getFullYear())??Mn().getFullYear(),categories:a?[a]:[]}),w(!1),R.error){K.error(R.error.message);return}(V=R.data)==null||V.forEach(q=>q.amount=Math.abs(q.amount)),b(R.data??[])})()},[t,c,m,a]),h.jsxs("div",{className:"flex flex-1 flex-col items-center gap-2 overflow-x-auto p-2",children:[h.jsxs("div",{className:"flex w-full flex-col items-center gap-2 rounded-xl bg-base-100 p-2",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("select",{disabled:P,value:d,onChange:R=>{u(Mn()),f(R.target.value)},className:"dai-select dai-select-bordered dai-select-xs xs:dai-select-sm",children:[h.jsx("option",{value:"everyday",children:"Every Day"}),h.jsx("option",{value:"everymonth",children:"Every Month"})]}),h.jsx("div",{className:"dai-form-control",children:h.jsxs("label",{className:"dai-cursor-pointer dai-label justify-start gap-2",children:[h.jsx("input",{disabled:P,type:"checkbox",checked:g,onChange:R=>y(R.target.checked),className:"dai-checkbox-error dai-checkbox dai-checkbox-sm"}),h.jsx("span",{className:"dai-label-text",children:"Expense"})]})}),h.jsx("div",{className:"dai-form-control",children:h.jsxs("label",{className:"dai-cursor-pointer dai-label justify-start gap-2",children:[h.jsx("input",{disabled:P,type:"checkbox",checked:m,onChange:R=>x(R.target.checked),className:"dai-checkbox-success dai-checkbox dai-checkbox-sm"}),h.jsx("span",{className:"dai-label-text",children:"Income"})]})})]}),h.jsxs("div",{className:"flex w-full items-center",children:[h.jsx("div",{className:"flex flex-1 items-center pl-2",children:P&&h.jsx("span",{className:"dai-loading dai-loading-sm bg-primary"})}),h.jsxs("div",{className:"flex items-center justify-center gap-4",children:[h.jsx("button",{disabled:P||!c,onClick:()=>u(R=>R?new Date(d==="everymonth"?R.setFullYear(R.getFullYear()-1):R.setMonth(R.getMonth()-1)):void 0),className:"text-lg disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-left"})}),h.jsx("span",{className:"w-[8rem] text-center",children:c?d==="everymonth"?ER.format(c):jR.format(c):"All time"}),h.jsx("button",{disabled:P||!c||d==="everymonth"&&c.getFullYear()===Mn().getFullYear()||d==="everyday"&&c.getMonth()===Mn().getMonth(),onClick:()=>u(R=>R?new Date(d==="everymonth"?R.setFullYear(R.getFullYear()+1):R.setMonth(R.getMonth()+1)):void 0),className:"text-lg disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-right"})})]}),h.jsx("div",{className:"flex flex-1 justify-end",children:h.jsx(Xn,{disabled:P,options:[{icon:"lucide:calendar-days",label:c?"All time":d==="everymonth"?"This year":"This month",onClick:()=>u(R=>R?void 0:Mn())}]})})]})]}),h.jsx("div",{className:"w-full rounded-xl bg-base-100 p-4",children:h.jsx(D1,{data:N,className:"h-56",options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{type:"logarithmic",ticks:{color:e["base-content"],callback:R=>typeof R=="string"?R:N1(R/(R>=1e3?1e3:1))+(R>=1e3?"K":"")}},x:{ticks:{color:e["base-content"],callback:(R,V)=>typeof R=="string"?R:L[V]%100}}}}})}),(g||m)&&h.jsxs("div",{className:"grid w-full gap-2 rounded-xl bg-base-100 p-4",children:[h.jsx("span",{className:"font-semibold",children:"Filter category"}),h.jsxs("div",{className:"grid w-full gap-2 text-xs xs:text-sm",children:[h.jsxs("select",{disabled:!g||P,value:s,onChange:R=>o(R.target.value),className:"dai-select dai-select-bordered w-full",children:[h.jsx("option",{value:"",children:"Select expense"}),n.filter(R=>R.type==="expense").map((R,V)=>h.jsx("option",{value:R.id,children:R.name},V))]}),h.jsxs("select",{disabled:!m||P,value:a,onChange:R=>l(R.target.value),className:"dai-select dai-select-bordered w-full",children:[h.jsx("option",{value:"",children:"Select income"}),n.filter(R=>R.type==="income").map((R,V)=>h.jsx("option",{value:R.id,children:R.name},V))]})]})]})]})},MR=({onClose:t,reports:e})=>{const n=k.useRef();k.useEffect(()=>()=>t(n.current),[]);const r=i=>{n.current=i,Tr()};return h.jsx(Kc,{title:"Select Report",children:h.jsx("div",{className:"mt-4 flex flex-col items-center gap-2",children:e.map(i=>h.jsx("button",{onClick:()=>r(i.value),className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide",children:i.label},i.value))})})};Cs.register(ta,na,So,Qi,Gf,Jf,kc);const PR=qn(),TR=new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}),RR=new Intl.DateTimeFormat("en-US",{year:"numeric"}),ml=()=>{const t=PR.get(zt),e=new Date;return!(t!=null&&t.month_end_date)||e.getDate()<=t.month_end_date||e.setMonth(e.getMonth()+1),e},LR=()=>{const[t]=re(Rt),[e]=re(Vx),[n]=re(zt),[r,i]=k.useState(ml()),[s,o]=k.useState(!0),[a,l]=k.useState(!1),[c,u]=k.useState([]),[d,f]=k.useState(!1),[g,y]=k.useState(null),m=k.useMemo(()=>a||d,[a,d]),x=k.useMemo(()=>{if(!g)return[];let S=g;return c.map(E=>(S+=E.amount,{...E,amount:S}))},[c,g]),p=k.useMemo(()=>{if(!a&&g!=null)return x.length===0?g:x[0].amount},[x,g,a]),v=k.useMemo(()=>{if(!a&&g!=null)return x.length===0?g:x[x.length-1].amount},[x,g,a]),_=k.useMemo(()=>[...new Set([...x.map(S=>parseInt(S.occurred_at.split("-").join("")))])],[x]),w=k.useMemo(()=>({labels:_,datasets:[{label:"Expense Flow",fill:!1,tension:.2,borderColor:e.error,data:x.map(S=>({y:S.amount,x:parseInt(S.occurred_at.split("-").join(""))})),pointHitRadius:10}]}),[x,e,_]);return k.useEffect(()=>{(async()=>{const S=r?s?new Date(r.getFullYear(),n!=null&&n.month_end_date?r.getMonth()-1:r.getMonth(),n!=null&&n.month_end_date?n.month_end_date:0):new Date(r.getFullYear(),0,0):new Date(1970,0,2);f(!0);const E=await An.getCurrentBalanceAt({userId:(t==null?void 0:t.user.id)??"",lastDate:S});if(f(!1),E.error){K.error(E.error.message);return}y(E.data??null)})()},[r]),k.useEffect(()=>{(async()=>{l(!0);let S;if(s?S=await An.getCashFlowEveryDay({trx_type:["expense","income"],userId:(t==null?void 0:t.user.id)??"",month:r??new Date,categories:[]}):S=await An.getCashFlowEveryMonth({trx_type:["expense","income"],userId:(t==null?void 0:t.user.id)??"",year:(r==null?void 0:r.getFullYear())??new Date().getFullYear(),categories:[]}),l(!1),S.error){K.error(S.error.message);return}u(S.data??[])})()},[t,r]),h.jsxs("div",{className:"flex flex-1 flex-col items-center gap-2 overflow-x-auto p-2",children:[h.jsx("div",{className:"flex w-full flex-col items-center gap-2 rounded-xl bg-base-100 p-2",children:h.jsxs("div",{className:"flex w-full items-center",children:[h.jsx("div",{className:"flex flex-1 items-center pl-2",children:m&&h.jsx("span",{className:"dai-loading dai-loading-sm bg-primary"})}),h.jsxs("div",{className:"flex items-center justify-center gap-4",children:[h.jsx("button",{disabled:m||!r,onClick:()=>i(S=>S?new Date(s?S.setMonth(S.getMonth()-1):S.setFullYear(S.getFullYear()-1)):void 0),className:"text-lg disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-left"})}),h.jsx("span",{className:"w-[8rem] text-center",children:r?s?TR.format(r):RR.format(r):"All time"}),h.jsx("button",{disabled:m||!r||!s&&r.getFullYear()===new Date().getFullYear()||s&&r.getMonth()===ml().getMonth(),onClick:()=>i(S=>S?new Date(s?S.setMonth(S.getMonth()+1):S.setFullYear(S.getFullYear()+1)):void 0),className:"text-lg disabled:opacity-20",children:h.jsx(we,{icon:"lucide:chevron-right"})})]}),h.jsx("div",{className:"flex flex-1 justify-end",children:h.jsx(Xn,{disabled:m,options:[{icon:"lucide:calendar-days",label:s?"Every Month":"Every Day",onClick:()=>{i(ml()),o(S=>!S)}},{icon:"lucide:infinity",label:r?"All time":s?"This month":"This year",onClick:()=>i(S=>S?void 0:ml())}]})})]})}),h.jsxs("div",{className:"w-full space-y-1 rounded-xl bg-base-100 p-4 text-sm",children:[h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("span",{children:d?h.jsx(ve,{children:"Previous:"}):"Previous:"}),h.jsx("span",{className:"font-semibold "+(g?g<0?"text-error":"text-success":""),children:d?h.jsx(ve,{children:un(1e7)}):h.jsx(dn,{amount:g??0})})]}),h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("span",{children:p==null?h.jsx(ve,{children:"Start:"}):"Start:"}),h.jsx("span",{className:"font-semibold "+(p?p<0?"text-error":"text-success":""),children:p==null?h.jsx(ve,{children:un(1e7)}):h.jsx(dn,{amount:p})})]}),h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("span",{children:v==null?h.jsx(ve,{children:"Last:"}):"Last:"}),h.jsx("span",{className:"font-semibold "+(v?v<0?"text-error":"text-success":""),children:v==null?h.jsx(ve,{children:un(1e7)}):h.jsx(dn,{amount:v})})]})]}),h.jsx("div",{className:"w-full rounded-xl bg-base-100 p-4",children:h.jsx(D1,{data:w,className:"h-56",options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{type:"linear",ticks:{color:e["base-content"],callback:S=>{if(typeof S=="string")return S;const E=Math.abs(S);return N1(S/(E>=1e3?1e3:1))+(E>=1e3?"K":"")}}},x:{ticks:{color:e["base-content"],callback:(S,E)=>typeof S=="string"?S:_[E]%100}}}}})})]})},OR=()=>{const[,t]=re(Ir),e=wn(),{pathname:n}=Ar(),r=k.useMemo(()=>[{value:"/report",label:"Expense Overview"},{value:"/report/cash-flow",label:"Cash Flow"},{value:"/report/assets-flow",label:"Assets Flow"}],[]),i=k.useMemo(()=>r.find(s=>n===s.value),[r,n]);return k.useEffect(()=>{t({title:(i==null?void 0:i.label)??"Report",revealer:!0,actions:[h.jsx("button",{onClick:()=>Fr(MR,{reports:r,onClose:s=>s&&e(s)}),className:"ml-2 text-2xl",children:h.jsx(we,{icon:"lucide:menu"})})]})},[i]),h.jsxs(da,{children:[h.jsx(Tt,{path:"/",element:h.jsx(wR,{})}),h.jsx(Tt,{path:"/cash-flow",element:h.jsx(CR,{})}),h.jsx(Tt,{path:"/assets-flow",element:h.jsx(LR,{})})]})},A1=[{icon:"lucide:house",link:"/transaction",title:"Home",el:cC,layout:!0},{icon:"lucide:chart-pie",link:"/report",title:"Report",el:OR,layout:!0},{icon:"lucide:wallet",link:"/accounts",title:"Account",el:vC,layout:!0},{icon:"lucide:group",link:"/category",title:"Categories",el:ZE},{icon:"lucide:settings",link:"/settings",title:"Settings",el:pC}],DR=()=>{const t=wn(),[e,n]=re(Rt),[r,i]=k.useState(!1),[s,o]=k.useState(""),[a,l]=k.useState(""),c=k.useDeferredValue(!s||!a);k.useEffect(()=>{if(!e)return;let f=new URLSearchParams(window.location.search).get("to");f&&(f=dx(f,ut.BASE_URL));const g=f??A1[0].link;t(g)},[e]);const u=async()=>{const f=await Er.auth.signInWithOAuth({provider:"google"});if(f.error){K.error(f.error.message);return}},d=async()=>{i(!0);const{error:f,data:g}=await Er.auth.signInWithPassword({email:s,password:a});if(i(!1),f){K.error(f.message);return}n(g.session)};return h.jsx("div",{className:"flex min-h-dvh items-center justify-center",children:h.jsxs("div",{className:"flex w-80 flex-col items-center gap-4 rounded-xl border border-base-300 bg-base-100 p-6 shadow-md",children:[h.jsxs("form",{onSubmit:f=>{f.preventDefault(),d()},className:"flex w-full flex-col items-center gap-4",children:[h.jsx("h2",{className:"text-center text-2xl font-medium",children:"Login"}),h.jsx("input",{type:"email",value:s,onChange:f=>o(f.target.value),placeholder:"Email",className:"dai-input dai-input-sm dai-input-bordered w-full xs:dai-input-md",required:!0}),h.jsx("input",{type:"password",value:a,onChange:f=>l(f.target.value),placeholder:"Password",className:"dai-input dai-input-sm dai-input-bordered w-full xs:dai-input-md",required:!0}),h.jsx(Yc,{size:"sm",disabled:c,loading:r,className:"dai-btn-primary",children:"Submit"})]}),h.jsxs("span",{className:"flex w-full items-center gap-2 text-sm",children:[h.jsx("hr",{className:"flex-1 border-base-300"}),h.jsx("span",{children:"OR"}),h.jsx("hr",{className:"flex-1 border-base-300"})]}),h.jsx("div",{children:h.jsx("button",{disabled:!0,onClick:u,className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide",children:"Login with Google"})})]})})},NR=()=>{const[t]=re(Rt),e=wn();return k.useEffect(()=>{if(!t)return;const r=new URLSearchParams(window.location.search).get("to")??"/";e(r)},[t]),h.jsx("h1",{children:"Register"})},AR=({home:t})=>{const[,e]=re(Ir);return k.useEffect(()=>{e({title:"Not found"})},[]),h.jsx("div",{className:"grid flex-1 place-items-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-10",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-3xl font-bold",children:"404 | Not Found"}),h.jsx("p",{children:"Sorry, the page you are looking for does not exist."})]}),h.jsx(Mf,{replace:!0,to:t,className:"dai-btn dai-btn-primary dai-btn-sm dai-btn-wide",children:"Back to home"})]})})},_0=8,IR=()=>{var l,c;const[t]=re(Ir),[e,n]=k.useState(!1),[r,i]=k.useState(0),[s]=re(zt),[o,a]=re(Fx);return k.useEffect(()=>{const u=()=>i(window.scrollY);return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]),k.useEffect(()=>{if(r<=_0&&e)return n(!1);if(r>_0&&!e)return n(!0)},[r]),h.jsxs("div",{children:[h.jsx("div",{className:"fixed left-0 top-0 z-20 grid h-14 w-full place-items-center bg-secondary text-secondary-content shadow-md xs:h-16 "+(e?"opacity-90":""),children:h.jsxs("div",{className:"flex w-full items-center justify-between px-6 md:w-[47rem]",children:[h.jsxs("div",{className:"flex items-center gap-4 text-3xl",children:[t.back&&h.jsx("button",{onClick:()=>history.back(),className:"flex items-center gap-4 text-xl xs:text-2xl",children:h.jsx(we,{icon:"mdi:arrow-left"})}),t.title?typeof t.title!="string"?t.title:h.jsx("span",{className:"text-lg font-semibold xs:text-xl",children:t.title}):null,(l=t.leftActions)==null?void 0:l.map((u,d)=>h.jsx(k.Fragment,{children:u},d))]}),h.jsxs("div",{className:"flex items-center gap-4 text-3xl",children:[(s==null?void 0:s.hide_amount)&&t.revealer&&h.jsx("button",{onClick:()=>a(u=>!u),className:"text-lg text-secondary-content xs:text-xl",children:o?h.jsx(we,{icon:"lucide:eye"}):h.jsx(we,{icon:"lucide:eye-off"})}),(c=t.actions)==null?void 0:c.map((u,d)=>h.jsx(k.Fragment,{children:u},d))]})]})}),h.jsx("div",{className:"h-14 xs:h-16"})]})},FR=({icon:t,title:e,href:n})=>h.jsxs(d2,{to:n,className:({isActive:r})=>["group flex w-[4rem] flex-col items-center rounded-2xl px-3 py-1 transition-all duration-300 xs:w-[5rem]",r?"is-active bg-secondary/10 font-semibold text-secondary":""].join(" "),children:[h.jsx(we,{icon:t,className:"text-xl xs:text-2xl"}),h.jsx("span",{className:"hidden text-center text-xxs group-[.is-active]:block xs:text-xs",children:e})]}),zR=({routes:t})=>{const[e,n,r]=ph(!0),i=k.useRef(0);return k.useEffect(()=>{const s=()=>{const o=window.scrollY;if(o<=0){n(!0);return}o>i.current&&r.current?n(!1):o<i.current&&!r.current&&n(!0),i.current=o};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),h.jsx("div",{children:h.jsx("div",{className:`${e?"transform-none":"translate-y-full"} fixed bottom-0 left-0 z-20 grid h-16 w-full place-items-center bg-base-100 shadow-t-md transition-transform`,children:h.jsx("div",{className:"flex w-full items-center justify-evenly py-1 md:w-[47rem]",children:t.map((s,o)=>h.jsx(FR,{href:s.link,title:s.title,icon:s.icon},o))})})})},$R=()=>{const{pathname:t}=Ar();return k.useEffect(()=>{window.scrollTo(0,0)},[t]),null},Qf=()=>h.jsxs("div",{className:"relative grid place-items-center",children:[h.jsx("span",{className:"fixed size-20 animate-spin rounded-full border-4 border-b-transparent border-l-transparent border-r-primary border-t-primary"}),h.jsx("span",{className:"fixed size-16 animate-reverse-spin rounded-full border-4 border-b-transparent border-l-warning border-r-transparent border-t-warning"}),h.jsx("span",{className:"fixed size-12 animate-spin rounded-full border-4 border-b-primary border-l-primary border-r-transparent border-t-transparent"})]}),I1="/duitify/error.svg",BR=()=>{const[t]=re(zt),[,e]=re(Nf);k.useEffect(()=>{n()},[]);const n=()=>{Fr(Bx,{onClose:r,dismissible:!1})},r=async i=>{if(!(t!=null&&t.pin))return;Ae(!0);const[s,o]=t.pin.split(":"),a=o+t.user_id,l=await Ux(i,a);if(Ae(!1),!l||s!==l){K.error(l?"Invalid PIN":"Failed to generate hash"),n();return}e(!0)};return h.jsx("div",{className:"grid min-h-dvh place-items-center bg-base-200"})};function UR(){return/Mobi|Android|iPhone|iPad|iPod|Windows Phone/i.test(navigator.userAgent)}const HR=()=>{const t=wn(),[e]=re(Rt),[n]=k.useState(A1),[r,i]=k.useState(!0),[s,o]=re(zt),[a]=re(Nf),[l,c]=k.useState(""),[u,d]=k.useState(0),f=k.useMemo(()=>n[0].link,[n]),g=Gv(({historyAction:y,currentLocation:m,nextLocation:x})=>y==="POP"&&m.pathname===f&&x.pathname!==f);return k.useEffect(()=>{g.state==="blocked"&&gh()},[g]),k.useEffect(()=>{let y=window.location.pathname;if(!e){const x=y!=="/"?`/login?${new URLSearchParams({to:y}).toString()}`:"/login";t(x,{replace:!0});return}if(f==="/")return;hx(y,"/")===ut.BASE_URL&&t(f,{replace:!0})},[e]),k.useEffect(()=>{e&&(async()=>{i(!0);const{data:y,error:m}=await Gr.getSetting(e.user.id);if(i(!1),m){c(m.message);return}if(!y){c("Something went wrong, please try again");return}o(y)})()},[e,u]),e?s&&s.pin&&!a&&(!s.pin_desktop_only||!UR())?h.jsx(BR,{}):r||l?h.jsx("div",{className:"grid min-h-dvh place-items-center",children:r?h.jsx(Qf,{}):h.jsxs("div",{className:"flex flex-col items-center gap-6",children:[h.jsx("img",{className:"h-64",src:I1,alt:""}),h.jsx("span",{className:"text-xl font-semibold",children:l}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("button",{onClick:()=>d(y=>y+1),className:"dai-btn dai-btn-primary",children:"Try again"}),h.jsx("button",{onClick:gh,className:"dai-btn dai-btn-ghost underline",children:"Relogin"})]})]})}):h.jsxs("div",{className:"flex min-h-dvh flex-col items-center bg-base-200 text-base-content",children:[h.jsx($R,{}),h.jsx(IR,{}),h.jsx("main",{className:"grid w-full flex-1 md:w-[47rem]",children:h.jsxs(da,{children:[n.map(y=>h.jsx(Tt,{path:y.link+(y.layout?"/*":""),element:h.jsx(y.el,{})},y.link)),h.jsx(Tt,{path:"*",element:h.jsx(AR,{home:f})})]})}),h.jsx(zR,{routes:n})]}):null},WR=()=>h.jsxs(da,{children:[h.jsx(Tt,{path:"/login",element:h.jsx(DR,{})}),h.jsx(Tt,{path:"/register",element:h.jsx(NR,{})}),h.jsx(Tt,{path:"*",element:h.jsx(HR,{})})]}),VR=()=>{const[t,e]=re(ix);return t?h.jsx("div",{className:"fixed left-0 top-0 z-50 grid h-dvh w-full place-items-center bg-black bg-opacity-40",children:h.jsx(Qf,{})}):null},YR=({})=>{const[t]=re(sx),e=Gv(t.length>0),n=()=>{t.length!==0&&t[t.length-1].dismissible&&Tr()};k.useEffect(()=>(window.addEventListener("keyup",r),()=>window.removeEventListener("keyup",r)),[]);const r=i=>{i.key==="Escape"&&n()};return k.useEffect(()=>{const i=()=>{e.state==="blocked"&&n()};return window.addEventListener("popstate",i),()=>window.removeEventListener("popstate",i)},[e]),h.jsxs("div",{onClick:n,className:"fixed left-0 top-0 z-30 flex min-h-dvh w-full items-center justify-center bg-black bg-opacity-60 sm:items-center",children:[...t.map((i,s)=>h.jsx("div",{onClick:o=>o.stopPropagation(),hidden:s!==t.length-1,className:"absolute w-full px-3 sm:w-fit sm:px-0",children:h.jsx(i.Element,{...i.props,isOpen:s===t.length-1})},s))]})},KR=()=>{const[t]=re(sx);return k.useEffect(()=>{if(t.length===0){document.body.style.overflowY="auto";return}document.body.style.overflowY="hidden"},[t]),t.length===0?null:h.jsx(YR,{})};function qR(){const[t]=re(Wx),[e,n]=k.useState(!0),[r,i]=k.useState(!1),[,s]=re(Rt);k.useEffect(()=>{document.documentElement.setAttribute("data-theme",t)},[t]),k.useEffect(()=>{o()},[]);const o=async()=>{n(!0),i(!1);const{error:a,data:l}=await Er.auth.getSession();if(a){n(!1),i(!0);return}s(l.session),n(!1)};return h.jsxs(h.Fragment,{children:[!e&&!r?h.jsx(WR,{}):e?h.jsx("div",{className:"grid min-h-dvh w-full place-items-center",children:h.jsx(Qf,{})}):r?h.jsx("div",{className:"grid min-h-dvh w-full place-items-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-6",children:[h.jsx("img",{className:"h-64",src:I1,alt:""}),h.jsx("span",{className:"text-xl font-semibold",children:"It's looks like something went wrong"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("button",{onClick:()=>o(),className:"dai-btn dai-btn-primary",children:"Try again"}),h.jsx("button",{onClick:()=>{i(!1)},className:"dai-btn dai-btn-ghost underline",children:"Relogin"})]})]})}):null,h.jsx(H2,{position:"top-center",theme:t}),h.jsx(KR,{}),h.jsx(VR,{})]})}function XR(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let a,l,c;const u=async(f=!0)=>{await l,await(c==null?void 0:c())};async function d(){if("serviceWorker"in navigator){if(a=await yi(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/duitify/sw.js",{scope:"/duitify/",type:"classic"})).catch(f=>{o==null||o(f)}),!a)return;c=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let f=!1;const g=()=>{f=!0,a==null||a.addEventListener("controlling",y=>{y.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",y=>{typeof y.isUpdate>"u"?typeof y.isExternal<"u"?y.isExternal?g():!f&&(r==null||r()):y.isExternal?window.location.reload():!f&&(r==null||r()):y.isUpdate||r==null||r()}),a.addEventListener("waiting",g),a.addEventListener("externalwaiting",g)}a.register({immediate:e}).then(f=>{s?s("/duitify/sw.js",f):i==null||i(f)}).catch(f=>{o==null||o(f)})}}return l=d(),u}const GR=XR({onNeedRefresh(){console.log("Content is ready to be updated."),alert("New content is available, please refresh."),GR(!0)},onOfflineReady(){console.log("Content is now offline ready.")},onRegisteredSW(){console.log("Service worker has been registered.")}}),JR=Qk(ac(h.jsx(Tt,{path:"*",element:h.jsx(qR,{})})),{basename:"/duitify"});sd.createRoot(document.getElementById("root")).render(h.jsx(o2,{router:JR}));export{b0 as g};
